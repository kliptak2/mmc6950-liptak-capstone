function IT(n,e){for(var t=0;t<e.length;t++){const i=e[t];if(typeof i!="string"&&!Array.isArray(i)){for(const s in i)if(s!=="default"&&!(s in n)){const a=Object.getOwnPropertyDescriptor(i,s);a&&Object.defineProperty(n,s,a.get?a:{enumerable:!0,get:()=>i[s]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function t(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(s){if(s.ep)return;s.ep=!0;const a=t(s);fetch(s.href,a)}})();function TT(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var zh={exports:{}},$a={},$h={exports:{}},Le={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ry;function ST(){if(ry)return Le;ry=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),E=Symbol.iterator;function S(F){return F===null||typeof F!="object"?null:(F=E&&F[E]||F["@@iterator"],typeof F=="function"?F:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,O={};function b(F,K,ue){this.props=F,this.context=K,this.refs=O,this.updater=ue||k}b.prototype.isReactComponent={},b.prototype.setState=function(F,K){if(typeof F!="object"&&typeof F!="function"&&F!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,F,K,"setState")},b.prototype.forceUpdate=function(F){this.updater.enqueueForceUpdate(this,F,"forceUpdate")};function B(){}B.prototype=b.prototype;function H(F,K,ue){this.props=F,this.context=K,this.refs=O,this.updater=ue||k}var W=H.prototype=new B;W.constructor=H,N(W,b.prototype),W.isPureReactComponent=!0;var Q=Array.isArray,$=Object.prototype.hasOwnProperty,te={current:null},C={key:!0,ref:!0,__self:!0,__source:!0};function T(F,K,ue){var Te,Ce={},Pe=null,xe=null;if(K!=null)for(Te in K.ref!==void 0&&(xe=K.ref),K.key!==void 0&&(Pe=""+K.key),K)$.call(K,Te)&&!C.hasOwnProperty(Te)&&(Ce[Te]=K[Te]);var Oe=arguments.length-2;if(Oe===1)Ce.children=ue;else if(1<Oe){for(var We=Array(Oe),pt=0;pt<Oe;pt++)We[pt]=arguments[pt+2];Ce.children=We}if(F&&F.defaultProps)for(Te in Oe=F.defaultProps,Oe)Ce[Te]===void 0&&(Ce[Te]=Oe[Te]);return{$$typeof:n,type:F,key:Pe,ref:xe,props:Ce,_owner:te.current}}function A(F,K){return{$$typeof:n,type:F.type,key:K,ref:F.ref,props:F.props,_owner:F._owner}}function x(F){return typeof F=="object"&&F!==null&&F.$$typeof===n}function V(F){var K={"=":"=0",":":"=2"};return"$"+F.replace(/[=:]/g,function(ue){return K[ue]})}var M=/\/+/g;function P(F,K){return typeof F=="object"&&F!==null&&F.key!=null?V(""+F.key):K.toString(36)}function ze(F,K,ue,Te,Ce){var Pe=typeof F;(Pe==="undefined"||Pe==="boolean")&&(F=null);var xe=!1;if(F===null)xe=!0;else switch(Pe){case"string":case"number":xe=!0;break;case"object":switch(F.$$typeof){case n:case e:xe=!0}}if(xe)return xe=F,Ce=Ce(xe),F=Te===""?"."+P(xe,0):Te,Q(Ce)?(ue="",F!=null&&(ue=F.replace(M,"$&/")+"/"),ze(Ce,K,ue,"",function(pt){return pt})):Ce!=null&&(x(Ce)&&(Ce=A(Ce,ue+(!Ce.key||xe&&xe.key===Ce.key?"":(""+Ce.key).replace(M,"$&/")+"/")+F)),K.push(Ce)),1;if(xe=0,Te=Te===""?".":Te+":",Q(F))for(var Oe=0;Oe<F.length;Oe++){Pe=F[Oe];var We=Te+P(Pe,Oe);xe+=ze(Pe,K,ue,We,Ce)}else if(We=S(F),typeof We=="function")for(F=We.call(F),Oe=0;!(Pe=F.next()).done;)Pe=Pe.value,We=Te+P(Pe,Oe++),xe+=ze(Pe,K,ue,We,Ce);else if(Pe==="object")throw K=String(F),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(F).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.");return xe}function De(F,K,ue){if(F==null)return F;var Te=[],Ce=0;return ze(F,Te,"","",function(Pe){return K.call(ue,Pe,Ce++)}),Te}function Ne(F){if(F._status===-1){var K=F._result;K=K(),K.then(function(ue){(F._status===0||F._status===-1)&&(F._status=1,F._result=ue)},function(ue){(F._status===0||F._status===-1)&&(F._status=2,F._result=ue)}),F._status===-1&&(F._status=0,F._result=K)}if(F._status===1)return F._result.default;throw F._result}var Ve={current:null},ie={transition:null},pe={ReactCurrentDispatcher:Ve,ReactCurrentBatchConfig:ie,ReactCurrentOwner:te};function ae(){throw Error("act(...) is not supported in production builds of React.")}return Le.Children={map:De,forEach:function(F,K,ue){De(F,function(){K.apply(this,arguments)},ue)},count:function(F){var K=0;return De(F,function(){K++}),K},toArray:function(F){return De(F,function(K){return K})||[]},only:function(F){if(!x(F))throw Error("React.Children.only expected to receive a single React element child.");return F}},Le.Component=b,Le.Fragment=t,Le.Profiler=s,Le.PureComponent=H,Le.StrictMode=i,Le.Suspense=h,Le.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pe,Le.act=ae,Le.cloneElement=function(F,K,ue){if(F==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+F+".");var Te=N({},F.props),Ce=F.key,Pe=F.ref,xe=F._owner;if(K!=null){if(K.ref!==void 0&&(Pe=K.ref,xe=te.current),K.key!==void 0&&(Ce=""+K.key),F.type&&F.type.defaultProps)var Oe=F.type.defaultProps;for(We in K)$.call(K,We)&&!C.hasOwnProperty(We)&&(Te[We]=K[We]===void 0&&Oe!==void 0?Oe[We]:K[We])}var We=arguments.length-2;if(We===1)Te.children=ue;else if(1<We){Oe=Array(We);for(var pt=0;pt<We;pt++)Oe[pt]=arguments[pt+2];Te.children=Oe}return{$$typeof:n,type:F.type,key:Ce,ref:Pe,props:Te,_owner:xe}},Le.createContext=function(F){return F={$$typeof:c,_currentValue:F,_currentValue2:F,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},F.Provider={$$typeof:a,_context:F},F.Consumer=F},Le.createElement=T,Le.createFactory=function(F){var K=T.bind(null,F);return K.type=F,K},Le.createRef=function(){return{current:null}},Le.forwardRef=function(F){return{$$typeof:f,render:F}},Le.isValidElement=x,Le.lazy=function(F){return{$$typeof:_,_payload:{_status:-1,_result:F},_init:Ne}},Le.memo=function(F,K){return{$$typeof:y,type:F,compare:K===void 0?null:K}},Le.startTransition=function(F){var K=ie.transition;ie.transition={};try{F()}finally{ie.transition=K}},Le.unstable_act=ae,Le.useCallback=function(F,K){return Ve.current.useCallback(F,K)},Le.useContext=function(F){return Ve.current.useContext(F)},Le.useDebugValue=function(){},Le.useDeferredValue=function(F){return Ve.current.useDeferredValue(F)},Le.useEffect=function(F,K){return Ve.current.useEffect(F,K)},Le.useId=function(){return Ve.current.useId()},Le.useImperativeHandle=function(F,K,ue){return Ve.current.useImperativeHandle(F,K,ue)},Le.useInsertionEffect=function(F,K){return Ve.current.useInsertionEffect(F,K)},Le.useLayoutEffect=function(F,K){return Ve.current.useLayoutEffect(F,K)},Le.useMemo=function(F,K){return Ve.current.useMemo(F,K)},Le.useReducer=function(F,K,ue){return Ve.current.useReducer(F,K,ue)},Le.useRef=function(F){return Ve.current.useRef(F)},Le.useState=function(F){return Ve.current.useState(F)},Le.useSyncExternalStore=function(F,K,ue){return Ve.current.useSyncExternalStore(F,K,ue)},Le.useTransition=function(){return Ve.current.useTransition()},Le.version="18.3.1",Le}var iy;function Kf(){return iy||(iy=1,$h.exports=ST()),$h.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sy;function CT(){if(sy)return $a;sy=1;var n=Kf(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,s=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function c(f,h,y){var _,E={},S=null,k=null;y!==void 0&&(S=""+y),h.key!==void 0&&(S=""+h.key),h.ref!==void 0&&(k=h.ref);for(_ in h)i.call(h,_)&&!a.hasOwnProperty(_)&&(E[_]=h[_]);if(f&&f.defaultProps)for(_ in h=f.defaultProps,h)E[_]===void 0&&(E[_]=h[_]);return{$$typeof:e,type:f,key:S,ref:k,props:E,_owner:s.current}}return $a.Fragment=t,$a.jsx=c,$a.jsxs=c,$a}var oy;function AT(){return oy||(oy=1,zh.exports=CT()),zh.exports}var re=AT(),Y=Kf();const RT=TT(Y),ay=IT({__proto__:null,default:RT},[Y]);var ql={},Bh={exports:{}},ln={},Hh={exports:{}},qh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uy;function PT(){return uy||(uy=1,function(n){function e(ie,pe){var ae=ie.length;ie.push(pe);e:for(;0<ae;){var F=ae-1>>>1,K=ie[F];if(0<s(K,pe))ie[F]=pe,ie[ae]=K,ae=F;else break e}}function t(ie){return ie.length===0?null:ie[0]}function i(ie){if(ie.length===0)return null;var pe=ie[0],ae=ie.pop();if(ae!==pe){ie[0]=ae;e:for(var F=0,K=ie.length,ue=K>>>1;F<ue;){var Te=2*(F+1)-1,Ce=ie[Te],Pe=Te+1,xe=ie[Pe];if(0>s(Ce,ae))Pe<K&&0>s(xe,Ce)?(ie[F]=xe,ie[Pe]=ae,F=Pe):(ie[F]=Ce,ie[Te]=ae,F=Te);else if(Pe<K&&0>s(xe,ae))ie[F]=xe,ie[Pe]=ae,F=Pe;else break e}}return pe}function s(ie,pe){var ae=ie.sortIndex-pe.sortIndex;return ae!==0?ae:ie.id-pe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var c=Date,f=c.now();n.unstable_now=function(){return c.now()-f}}var h=[],y=[],_=1,E=null,S=3,k=!1,N=!1,O=!1,b=typeof setTimeout=="function"?setTimeout:null,B=typeof clearTimeout=="function"?clearTimeout:null,H=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function W(ie){for(var pe=t(y);pe!==null;){if(pe.callback===null)i(y);else if(pe.startTime<=ie)i(y),pe.sortIndex=pe.expirationTime,e(h,pe);else break;pe=t(y)}}function Q(ie){if(O=!1,W(ie),!N)if(t(h)!==null)N=!0,Ne($);else{var pe=t(y);pe!==null&&Ve(Q,pe.startTime-ie)}}function $(ie,pe){N=!1,O&&(O=!1,B(T),T=-1),k=!0;var ae=S;try{for(W(pe),E=t(h);E!==null&&(!(E.expirationTime>pe)||ie&&!V());){var F=E.callback;if(typeof F=="function"){E.callback=null,S=E.priorityLevel;var K=F(E.expirationTime<=pe);pe=n.unstable_now(),typeof K=="function"?E.callback=K:E===t(h)&&i(h),W(pe)}else i(h);E=t(h)}if(E!==null)var ue=!0;else{var Te=t(y);Te!==null&&Ve(Q,Te.startTime-pe),ue=!1}return ue}finally{E=null,S=ae,k=!1}}var te=!1,C=null,T=-1,A=5,x=-1;function V(){return!(n.unstable_now()-x<A)}function M(){if(C!==null){var ie=n.unstable_now();x=ie;var pe=!0;try{pe=C(!0,ie)}finally{pe?P():(te=!1,C=null)}}else te=!1}var P;if(typeof H=="function")P=function(){H(M)};else if(typeof MessageChannel<"u"){var ze=new MessageChannel,De=ze.port2;ze.port1.onmessage=M,P=function(){De.postMessage(null)}}else P=function(){b(M,0)};function Ne(ie){C=ie,te||(te=!0,P())}function Ve(ie,pe){T=b(function(){ie(n.unstable_now())},pe)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(ie){ie.callback=null},n.unstable_continueExecution=function(){N||k||(N=!0,Ne($))},n.unstable_forceFrameRate=function(ie){0>ie||125<ie?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<ie?Math.floor(1e3/ie):5},n.unstable_getCurrentPriorityLevel=function(){return S},n.unstable_getFirstCallbackNode=function(){return t(h)},n.unstable_next=function(ie){switch(S){case 1:case 2:case 3:var pe=3;break;default:pe=S}var ae=S;S=pe;try{return ie()}finally{S=ae}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(ie,pe){switch(ie){case 1:case 2:case 3:case 4:case 5:break;default:ie=3}var ae=S;S=ie;try{return pe()}finally{S=ae}},n.unstable_scheduleCallback=function(ie,pe,ae){var F=n.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?F+ae:F):ae=F,ie){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=ae+K,ie={id:_++,callback:pe,priorityLevel:ie,startTime:ae,expirationTime:K,sortIndex:-1},ae>F?(ie.sortIndex=ae,e(y,ie),t(h)===null&&ie===t(y)&&(O?(B(T),T=-1):O=!0,Ve(Q,ae-F))):(ie.sortIndex=K,e(h,ie),N||k||(N=!0,Ne($))),ie},n.unstable_shouldYield=V,n.unstable_wrapCallback=function(ie){var pe=S;return function(){var ae=S;S=pe;try{return ie.apply(this,arguments)}finally{S=ae}}}}(qh)),qh}var ly;function kT(){return ly||(ly=1,Hh.exports=PT()),Hh.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cy;function bT(){if(cy)return ln;cy=1;var n=Kf(),e=kT();function t(r){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+r,u=1;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+r+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,s={};function a(r,o){c(r,o),c(r+"Capture",o)}function c(r,o){for(s[r]=o,r=0;r<o.length;r++)i.add(o[r])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,y=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_={},E={};function S(r){return h.call(E,r)?!0:h.call(_,r)?!1:y.test(r)?E[r]=!0:(_[r]=!0,!1)}function k(r,o,u,d){if(u!==null&&u.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return d?!1:u!==null?!u.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function N(r,o,u,d){if(o===null||typeof o>"u"||k(r,o,u,d))return!0;if(d)return!1;if(u!==null)switch(u.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function O(r,o,u,d,p,g,w){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=d,this.attributeNamespace=p,this.mustUseProperty=u,this.propertyName=r,this.type=o,this.sanitizeURL=g,this.removeEmptyString=w}var b={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){b[r]=new O(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var o=r[0];b[o]=new O(o,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){b[r]=new O(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){b[r]=new O(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){b[r]=new O(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){b[r]=new O(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){b[r]=new O(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){b[r]=new O(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){b[r]=new O(r,5,!1,r.toLowerCase(),null,!1,!1)});var B=/[\-:]([a-z])/g;function H(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var o=r.replace(B,H);b[o]=new O(o,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var o=r.replace(B,H);b[o]=new O(o,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var o=r.replace(B,H);b[o]=new O(o,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){b[r]=new O(r,1,!1,r.toLowerCase(),null,!1,!1)}),b.xlinkHref=new O("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){b[r]=new O(r,1,!1,r.toLowerCase(),null,!0,!0)});function W(r,o,u,d){var p=b.hasOwnProperty(o)?b[o]:null;(p!==null?p.type!==0:d||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(N(o,u,p,d)&&(u=null),d||p===null?S(o)&&(u===null?r.removeAttribute(o):r.setAttribute(o,""+u)):p.mustUseProperty?r[p.propertyName]=u===null?p.type===3?!1:"":u:(o=p.attributeName,d=p.attributeNamespace,u===null?r.removeAttribute(o):(p=p.type,u=p===3||p===4&&u===!0?"":""+u,d?r.setAttributeNS(d,o,u):r.setAttribute(o,u))))}var Q=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,$=Symbol.for("react.element"),te=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),x=Symbol.for("react.provider"),V=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),ze=Symbol.for("react.suspense_list"),De=Symbol.for("react.memo"),Ne=Symbol.for("react.lazy"),Ve=Symbol.for("react.offscreen"),ie=Symbol.iterator;function pe(r){return r===null||typeof r!="object"?null:(r=ie&&r[ie]||r["@@iterator"],typeof r=="function"?r:null)}var ae=Object.assign,F;function K(r){if(F===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);F=o&&o[1]||""}return`
`+F+r}var ue=!1;function Te(r,o){if(!r||ue)return"";ue=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(q){var d=q}Reflect.construct(r,[],o)}else{try{o.call()}catch(q){d=q}r.call(o.prototype)}else{try{throw Error()}catch(q){d=q}r()}}catch(q){if(q&&d&&typeof q.stack=="string"){for(var p=q.stack.split(`
`),g=d.stack.split(`
`),w=p.length-1,R=g.length-1;1<=w&&0<=R&&p[w]!==g[R];)R--;for(;1<=w&&0<=R;w--,R--)if(p[w]!==g[R]){if(w!==1||R!==1)do if(w--,R--,0>R||p[w]!==g[R]){var D=`
`+p[w].replace(" at new "," at ");return r.displayName&&D.includes("<anonymous>")&&(D=D.replace("<anonymous>",r.displayName)),D}while(1<=w&&0<=R);break}}}finally{ue=!1,Error.prepareStackTrace=u}return(r=r?r.displayName||r.name:"")?K(r):""}function Ce(r){switch(r.tag){case 5:return K(r.type);case 16:return K("Lazy");case 13:return K("Suspense");case 19:return K("SuspenseList");case 0:case 2:case 15:return r=Te(r.type,!1),r;case 11:return r=Te(r.type.render,!1),r;case 1:return r=Te(r.type,!0),r;default:return""}}function Pe(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case C:return"Fragment";case te:return"Portal";case A:return"Profiler";case T:return"StrictMode";case P:return"Suspense";case ze:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case V:return(r.displayName||"Context")+".Consumer";case x:return(r._context.displayName||"Context")+".Provider";case M:var o=r.render;return r=r.displayName,r||(r=o.displayName||o.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case De:return o=r.displayName||null,o!==null?o:Pe(r.type)||"Memo";case Ne:o=r._payload,r=r._init;try{return Pe(r(o))}catch{}}return null}function xe(r){var o=r.type;switch(r.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=o.render,r=r.displayName||r.name||"",o.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Pe(o);case 8:return o===T?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function Oe(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function We(r){var o=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function pt(r){var o=We(r)?"checked":"value",u=Object.getOwnPropertyDescriptor(r.constructor.prototype,o),d=""+r[o];if(!r.hasOwnProperty(o)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var p=u.get,g=u.set;return Object.defineProperty(r,o,{configurable:!0,get:function(){return p.call(this)},set:function(w){d=""+w,g.call(this,w)}}),Object.defineProperty(r,o,{enumerable:u.enumerable}),{getValue:function(){return d},setValue:function(w){d=""+w},stopTracking:function(){r._valueTracker=null,delete r[o]}}}}function In(r){r._valueTracker||(r._valueTracker=pt(r))}function Ir(r){if(!r)return!1;var o=r._valueTracker;if(!o)return!0;var u=o.getValue(),d="";return r&&(d=We(r)?r.checked?"true":"false":r.value),r=d,r!==u?(o.setValue(r),!0):!1}function Jn(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function Zn(r,o){var u=o.checked;return ae({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u??r._wrapperState.initialChecked})}function Xr(r,o){var u=o.defaultValue==null?"":o.defaultValue,d=o.checked!=null?o.checked:o.defaultChecked;u=Oe(o.value!=null?o.value:u),r._wrapperState={initialChecked:d,initialValue:u,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function Ko(r,o){o=o.checked,o!=null&&W(r,"checked",o,!1)}function Qo(r,o){Ko(r,o);var u=Oe(o.value),d=o.type;if(u!=null)d==="number"?(u===0&&r.value===""||r.value!=u)&&(r.value=""+u):r.value!==""+u&&(r.value=""+u);else if(d==="submit"||d==="reset"){r.removeAttribute("value");return}o.hasOwnProperty("value")?Ps(r,o.type,u):o.hasOwnProperty("defaultValue")&&Ps(r,o.type,Oe(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(r.defaultChecked=!!o.defaultChecked)}function bu(r,o,u){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var d=o.type;if(!(d!=="submit"&&d!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+r._wrapperState.initialValue,u||o===r.value||(r.value=o),r.defaultValue=o}u=r.name,u!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,u!==""&&(r.name=u)}function Ps(r,o,u){(o!=="number"||Jn(r.ownerDocument)!==r)&&(u==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+u&&(r.defaultValue=""+u))}var Tr=Array.isArray;function Sr(r,o,u,d){if(r=r.options,o){o={};for(var p=0;p<u.length;p++)o["$"+u[p]]=!0;for(u=0;u<r.length;u++)p=o.hasOwnProperty("$"+r[u].value),r[u].selected!==p&&(r[u].selected=p),p&&d&&(r[u].defaultSelected=!0)}else{for(u=""+Oe(u),o=null,p=0;p<r.length;p++){if(r[p].value===u){r[p].selected=!0,d&&(r[p].defaultSelected=!0);return}o!==null||r[p].disabled||(o=r[p])}o!==null&&(o.selected=!0)}}function Yo(r,o){if(o.dangerouslySetInnerHTML!=null)throw Error(t(91));return ae({},o,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function ks(r,o){var u=o.value;if(u==null){if(u=o.children,o=o.defaultValue,u!=null){if(o!=null)throw Error(t(92));if(Tr(u)){if(1<u.length)throw Error(t(93));u=u[0]}o=u}o==null&&(o=""),u=o}r._wrapperState={initialValue:Oe(u)}}function bs(r,o){var u=Oe(o.value),d=Oe(o.defaultValue);u!=null&&(u=""+u,u!==r.value&&(r.value=u),o.defaultValue==null&&r.defaultValue!==u&&(r.defaultValue=u)),d!=null&&(r.defaultValue=""+d)}function Xo(r){var o=r.textContent;o===r._wrapperState.initialValue&&o!==""&&o!==null&&(r.value=o)}function wt(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Et(r,o){return r==null||r==="http://www.w3.org/1999/xhtml"?wt(o):r==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var Cr,Jo=function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,u,d,p){MSApp.execUnsafeLocalFunction(function(){return r(o,u,d,p)})}:r}(function(r,o){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=o;else{for(Cr=Cr||document.createElement("div"),Cr.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=Cr.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;o.firstChild;)r.appendChild(o.firstChild)}});function Jr(r,o){if(o){var u=r.firstChild;if(u&&u===r.lastChild&&u.nodeType===3){u.nodeValue=o;return}}r.textContent=o}var Hi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qi=["Webkit","ms","Moz","O"];Object.keys(Hi).forEach(function(r){qi.forEach(function(o){o=o+r.charAt(0).toUpperCase()+r.substring(1),Hi[o]=Hi[r]})});function Zo(r,o,u){return o==null||typeof o=="boolean"||o===""?"":u||typeof o!="number"||o===0||Hi.hasOwnProperty(r)&&Hi[r]?(""+o).trim():o+"px"}function ea(r,o){r=r.style;for(var u in o)if(o.hasOwnProperty(u)){var d=u.indexOf("--")===0,p=Zo(u,o[u],d);u==="float"&&(u="cssFloat"),d?r.setProperty(u,p):r[u]=p}}var ta=ae({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function na(r,o){if(o){if(ta[r]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(t(137,r));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(t(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(t(61))}if(o.style!=null&&typeof o.style!="object")throw Error(t(62))}}function ra(r,o){if(r.indexOf("-")===-1)return typeof o.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Wi=null;function Os(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var xs=null,Tn=null,er=null;function Ds(r){if(r=Ra(r)){if(typeof xs!="function")throw Error(t(280));var o=r.stateNode;o&&(o=ol(o),xs(r.stateNode,r.type,o))}}function tr(r){Tn?er?er.push(r):er=[r]:Tn=r}function ia(){if(Tn){var r=Tn,o=er;if(er=Tn=null,Ds(r),o)for(r=0;r<o.length;r++)Ds(o[r])}}function Gi(r,o){return r(o)}function sa(){}var Ar=!1;function oa(r,o,u){if(Ar)return r(o,u);Ar=!0;try{return Gi(r,o,u)}finally{Ar=!1,(Tn!==null||er!==null)&&(sa(),ia())}}function dt(r,o){var u=r.stateNode;if(u===null)return null;var d=ol(u);if(d===null)return null;u=d[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(r=r.type,d=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!d;break e;default:r=!1}if(r)return null;if(u&&typeof u!="function")throw Error(t(231,o,typeof u));return u}var Vs=!1;if(f)try{var Nn={};Object.defineProperty(Nn,"passive",{get:function(){Vs=!0}}),window.addEventListener("test",Nn,Nn),window.removeEventListener("test",Nn,Nn)}catch{Vs=!1}function Ki(r,o,u,d,p,g,w,R,D){var q=Array.prototype.slice.call(arguments,3);try{o.apply(u,q)}catch(ee){this.onError(ee)}}var Qi=!1,Ns=null,Ln=!1,aa=null,md={onError:function(r){Qi=!0,Ns=r}};function Ls(r,o,u,d,p,g,w,R,D){Qi=!1,Ns=null,Ki.apply(md,arguments)}function Ou(r,o,u,d,p,g,w,R,D){if(Ls.apply(this,arguments),Qi){if(Qi){var q=Ns;Qi=!1,Ns=null}else throw Error(t(198));Ln||(Ln=!0,aa=q)}}function Mn(r){var o=r,u=r;if(r.alternate)for(;o.return;)o=o.return;else{r=o;do o=r,o.flags&4098&&(u=o.return),r=o.return;while(r)}return o.tag===3?u:null}function Yi(r){if(r.tag===13){var o=r.memoizedState;if(o===null&&(r=r.alternate,r!==null&&(o=r.memoizedState)),o!==null)return o.dehydrated}return null}function Fn(r){if(Mn(r)!==r)throw Error(t(188))}function xu(r){var o=r.alternate;if(!o){if(o=Mn(r),o===null)throw Error(t(188));return o!==r?null:r}for(var u=r,d=o;;){var p=u.return;if(p===null)break;var g=p.alternate;if(g===null){if(d=p.return,d!==null){u=d;continue}break}if(p.child===g.child){for(g=p.child;g;){if(g===u)return Fn(p),r;if(g===d)return Fn(p),o;g=g.sibling}throw Error(t(188))}if(u.return!==d.return)u=p,d=g;else{for(var w=!1,R=p.child;R;){if(R===u){w=!0,u=p,d=g;break}if(R===d){w=!0,d=p,u=g;break}R=R.sibling}if(!w){for(R=g.child;R;){if(R===u){w=!0,u=g,d=p;break}if(R===d){w=!0,d=g,u=p;break}R=R.sibling}if(!w)throw Error(t(189))}}if(u.alternate!==d)throw Error(t(190))}if(u.tag!==3)throw Error(t(188));return u.stateNode.current===u?r:o}function ua(r){return r=xu(r),r!==null?Ms(r):null}function Ms(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var o=Ms(r);if(o!==null)return o;r=r.sibling}return null}var Fs=e.unstable_scheduleCallback,la=e.unstable_cancelCallback,Du=e.unstable_shouldYield,gd=e.unstable_requestPaint,Ze=e.unstable_now,Vu=e.unstable_getCurrentPriorityLevel,Xi=e.unstable_ImmediatePriority,Zr=e.unstable_UserBlockingPriority,Sn=e.unstable_NormalPriority,ca=e.unstable_LowPriority,Nu=e.unstable_IdlePriority,Ji=null,fn=null;function Lu(r){if(fn&&typeof fn.onCommitFiberRoot=="function")try{fn.onCommitFiberRoot(Ji,r,void 0,(r.current.flags&128)===128)}catch{}}var Xt=Math.clz32?Math.clz32:Fu,da=Math.log,Mu=Math.LN2;function Fu(r){return r>>>=0,r===0?32:31-(da(r)/Mu|0)|0}var Us=64,js=4194304;function ei(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function Zi(r,o){var u=r.pendingLanes;if(u===0)return 0;var d=0,p=r.suspendedLanes,g=r.pingedLanes,w=u&268435455;if(w!==0){var R=w&~p;R!==0?d=ei(R):(g&=w,g!==0&&(d=ei(g)))}else w=u&~p,w!==0?d=ei(w):g!==0&&(d=ei(g));if(d===0)return 0;if(o!==0&&o!==d&&!(o&p)&&(p=d&-d,g=o&-o,p>=g||p===16&&(g&4194240)!==0))return o;if(d&4&&(d|=u&16),o=r.entangledLanes,o!==0)for(r=r.entanglements,o&=d;0<o;)u=31-Xt(o),p=1<<u,d|=r[u],o&=~p;return d}function yd(r,o){switch(r){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Rr(r,o){for(var u=r.suspendedLanes,d=r.pingedLanes,p=r.expirationTimes,g=r.pendingLanes;0<g;){var w=31-Xt(g),R=1<<w,D=p[w];D===-1?(!(R&u)||R&d)&&(p[w]=yd(R,o)):D<=o&&(r.expiredLanes|=R),g&=~R}}function pn(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function es(){var r=Us;return Us<<=1,!(Us&4194240)&&(Us=64),r}function ti(r){for(var o=[],u=0;31>u;u++)o.push(r);return o}function ni(r,o,u){r.pendingLanes|=o,o!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,o=31-Xt(o),r[o]=u}function Je(r,o){var u=r.pendingLanes&~o;r.pendingLanes=o,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=o,r.mutableReadLanes&=o,r.entangledLanes&=o,o=r.entanglements;var d=r.eventTimes;for(r=r.expirationTimes;0<u;){var p=31-Xt(u),g=1<<p;o[p]=0,d[p]=-1,r[p]=-1,u&=~g}}function ri(r,o){var u=r.entangledLanes|=o;for(r=r.entanglements;u;){var d=31-Xt(u),p=1<<d;p&o|r[d]&o&&(r[d]|=o),u&=~p}}var Ue=0;function ii(r){return r&=-r,1<r?4<r?r&268435455?16:536870912:4:1}var Uu,zs,ju,zu,$u,ha=!1,nr=[],Dt=null,Un=null,jn=null,si=new Map,Cn=new Map,rr=[],vd="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Bu(r,o){switch(r){case"focusin":case"focusout":Dt=null;break;case"dragenter":case"dragleave":Un=null;break;case"mouseover":case"mouseout":jn=null;break;case"pointerover":case"pointerout":si.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Cn.delete(o.pointerId)}}function tn(r,o,u,d,p,g){return r===null||r.nativeEvent!==g?(r={blockedOn:o,domEventName:u,eventSystemFlags:d,nativeEvent:g,targetContainers:[p]},o!==null&&(o=Ra(o),o!==null&&zs(o)),r):(r.eventSystemFlags|=d,o=r.targetContainers,p!==null&&o.indexOf(p)===-1&&o.push(p),r)}function _d(r,o,u,d,p){switch(o){case"focusin":return Dt=tn(Dt,r,o,u,d,p),!0;case"dragenter":return Un=tn(Un,r,o,u,d,p),!0;case"mouseover":return jn=tn(jn,r,o,u,d,p),!0;case"pointerover":var g=p.pointerId;return si.set(g,tn(si.get(g)||null,r,o,u,d,p)),!0;case"gotpointercapture":return g=p.pointerId,Cn.set(g,tn(Cn.get(g)||null,r,o,u,d,p)),!0}return!1}function Hu(r){var o=ss(r.target);if(o!==null){var u=Mn(o);if(u!==null){if(o=u.tag,o===13){if(o=Yi(u),o!==null){r.blockedOn=o,$u(r.priority,function(){ju(u)});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){r.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Pr(r){if(r.blockedOn!==null)return!1;for(var o=r.targetContainers;0<o.length;){var u=$s(r.domEventName,r.eventSystemFlags,o[0],r.nativeEvent);if(u===null){u=r.nativeEvent;var d=new u.constructor(u.type,u);Wi=d,u.target.dispatchEvent(d),Wi=null}else return o=Ra(u),o!==null&&zs(o),r.blockedOn=u,!1;o.shift()}return!0}function ts(r,o,u){Pr(r)&&u.delete(o)}function qu(){ha=!1,Dt!==null&&Pr(Dt)&&(Dt=null),Un!==null&&Pr(Un)&&(Un=null),jn!==null&&Pr(jn)&&(jn=null),si.forEach(ts),Cn.forEach(ts)}function zn(r,o){r.blockedOn===o&&(r.blockedOn=null,ha||(ha=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,qu)))}function $n(r){function o(p){return zn(p,r)}if(0<nr.length){zn(nr[0],r);for(var u=1;u<nr.length;u++){var d=nr[u];d.blockedOn===r&&(d.blockedOn=null)}}for(Dt!==null&&zn(Dt,r),Un!==null&&zn(Un,r),jn!==null&&zn(jn,r),si.forEach(o),Cn.forEach(o),u=0;u<rr.length;u++)d=rr[u],d.blockedOn===r&&(d.blockedOn=null);for(;0<rr.length&&(u=rr[0],u.blockedOn===null);)Hu(u),u.blockedOn===null&&rr.shift()}var kr=Q.ReactCurrentBatchConfig,oi=!0;function it(r,o,u,d){var p=Ue,g=kr.transition;kr.transition=null;try{Ue=1,fa(r,o,u,d)}finally{Ue=p,kr.transition=g}}function wd(r,o,u,d){var p=Ue,g=kr.transition;kr.transition=null;try{Ue=4,fa(r,o,u,d)}finally{Ue=p,kr.transition=g}}function fa(r,o,u,d){if(oi){var p=$s(r,o,u,d);if(p===null)Od(r,o,d,ns,u),Bu(r,d);else if(_d(p,r,o,u,d))d.stopPropagation();else if(Bu(r,d),o&4&&-1<vd.indexOf(r)){for(;p!==null;){var g=Ra(p);if(g!==null&&Uu(g),g=$s(r,o,u,d),g===null&&Od(r,o,d,ns,u),g===p)break;p=g}p!==null&&d.stopPropagation()}else Od(r,o,d,null,u)}}var ns=null;function $s(r,o,u,d){if(ns=null,r=Os(d),r=ss(r),r!==null)if(o=Mn(r),o===null)r=null;else if(u=o.tag,u===13){if(r=Yi(o),r!==null)return r;r=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;r=null}else o!==r&&(r=null);return ns=r,null}function pa(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Vu()){case Xi:return 1;case Zr:return 4;case Sn:case ca:return 16;case Nu:return 536870912;default:return 16}default:return 16}}var mn=null,Bs=null,nn=null;function ma(){if(nn)return nn;var r,o=Bs,u=o.length,d,p="value"in mn?mn.value:mn.textContent,g=p.length;for(r=0;r<u&&o[r]===p[r];r++);var w=u-r;for(d=1;d<=w&&o[u-d]===p[g-d];d++);return nn=p.slice(r,1<d?1-d:void 0)}function Hs(r){var o=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&o===13&&(r=13)):r=o,r===10&&(r=13),32<=r||r===13?r:0}function ir(){return!0}function ga(){return!1}function Vt(r){function o(u,d,p,g,w){this._reactName=u,this._targetInst=p,this.type=d,this.nativeEvent=g,this.target=w,this.currentTarget=null;for(var R in r)r.hasOwnProperty(R)&&(u=r[R],this[R]=u?u(g):g[R]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?ir:ga,this.isPropagationStopped=ga,this}return ae(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=ir)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=ir)},persist:function(){},isPersistent:ir}),o}var Bn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},qs=Vt(Bn),sr=ae({},Bn,{view:0,detail:0}),Ed=Vt(sr),Ws,br,ai,rs=ae({},sr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:or,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==ai&&(ai&&r.type==="mousemove"?(Ws=r.screenX-ai.screenX,br=r.screenY-ai.screenY):br=Ws=0,ai=r),Ws)},movementY:function(r){return"movementY"in r?r.movementY:br}}),Gs=Vt(rs),ya=ae({},rs,{dataTransfer:0}),Wu=Vt(ya),Ks=ae({},sr,{relatedTarget:0}),Qs=Vt(Ks),Gu=ae({},Bn,{animationName:0,elapsedTime:0,pseudoElement:0}),Or=Vt(Gu),Ku=ae({},Bn,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Qu=Vt(Ku),Yu=ae({},Bn,{data:0}),va=Vt(Yu),Ys={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Jt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Xu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ju(r){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(r):(r=Xu[r])?!!o[r]:!1}function or(){return Ju}var l=ae({},sr,{key:function(r){if(r.key){var o=Ys[r.key]||r.key;if(o!=="Unidentified")return o}return r.type==="keypress"?(r=Hs(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Jt[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:or,charCode:function(r){return r.type==="keypress"?Hs(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Hs(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),m=Vt(l),v=ae({},rs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),I=Vt(v),U=ae({},sr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:or}),G=Vt(U),oe=ae({},Bn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xe=Vt(oe),It=ae({},rs,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),$e=Vt(It),Pt=[9,13,27,32],mt=f&&"CompositionEvent"in window,An=null;f&&"documentMode"in document&&(An=document.documentMode);var gn=f&&"TextEvent"in window&&!An,is=f&&(!mt||An&&8<An&&11>=An),Xs=" ",Xp=!1;function Jp(r,o){switch(r){case"keyup":return Pt.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Zp(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Js=!1;function wI(r,o){switch(r){case"compositionend":return Zp(o);case"keypress":return o.which!==32?null:(Xp=!0,Xs);case"textInput":return r=o.data,r===Xs&&Xp?null:r;default:return null}}function EI(r,o){if(Js)return r==="compositionend"||!mt&&Jp(r,o)?(r=ma(),nn=Bs=mn=null,Js=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return is&&o.locale!=="ko"?null:o.data;default:return null}}var II={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function em(r){var o=r&&r.nodeName&&r.nodeName.toLowerCase();return o==="input"?!!II[r.type]:o==="textarea"}function tm(r,o,u,d){tr(d),o=rl(o,"onChange"),0<o.length&&(u=new qs("onChange","change",null,u,d),r.push({event:u,listeners:o}))}var _a=null,wa=null;function TI(r){_m(r,0)}function Zu(r){var o=ro(r);if(Ir(o))return r}function SI(r,o){if(r==="change")return o}var nm=!1;if(f){var Id;if(f){var Td="oninput"in document;if(!Td){var rm=document.createElement("div");rm.setAttribute("oninput","return;"),Td=typeof rm.oninput=="function"}Id=Td}else Id=!1;nm=Id&&(!document.documentMode||9<document.documentMode)}function im(){_a&&(_a.detachEvent("onpropertychange",sm),wa=_a=null)}function sm(r){if(r.propertyName==="value"&&Zu(wa)){var o=[];tm(o,wa,r,Os(r)),oa(TI,o)}}function CI(r,o,u){r==="focusin"?(im(),_a=o,wa=u,_a.attachEvent("onpropertychange",sm)):r==="focusout"&&im()}function AI(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Zu(wa)}function RI(r,o){if(r==="click")return Zu(o)}function PI(r,o){if(r==="input"||r==="change")return Zu(o)}function kI(r,o){return r===o&&(r!==0||1/r===1/o)||r!==r&&o!==o}var Hn=typeof Object.is=="function"?Object.is:kI;function Ea(r,o){if(Hn(r,o))return!0;if(typeof r!="object"||r===null||typeof o!="object"||o===null)return!1;var u=Object.keys(r),d=Object.keys(o);if(u.length!==d.length)return!1;for(d=0;d<u.length;d++){var p=u[d];if(!h.call(o,p)||!Hn(r[p],o[p]))return!1}return!0}function om(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function am(r,o){var u=om(r);r=0;for(var d;u;){if(u.nodeType===3){if(d=r+u.textContent.length,r<=o&&d>=o)return{node:u,offset:o-r};r=d}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=om(u)}}function um(r,o){return r&&o?r===o?!0:r&&r.nodeType===3?!1:o&&o.nodeType===3?um(r,o.parentNode):"contains"in r?r.contains(o):r.compareDocumentPosition?!!(r.compareDocumentPosition(o)&16):!1:!1}function lm(){for(var r=window,o=Jn();o instanceof r.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)r=o.contentWindow;else break;o=Jn(r.document)}return o}function Sd(r){var o=r&&r.nodeName&&r.nodeName.toLowerCase();return o&&(o==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||o==="textarea"||r.contentEditable==="true")}function bI(r){var o=lm(),u=r.focusedElem,d=r.selectionRange;if(o!==u&&u&&u.ownerDocument&&um(u.ownerDocument.documentElement,u)){if(d!==null&&Sd(u)){if(o=d.start,r=d.end,r===void 0&&(r=o),"selectionStart"in u)u.selectionStart=o,u.selectionEnd=Math.min(r,u.value.length);else if(r=(o=u.ownerDocument||document)&&o.defaultView||window,r.getSelection){r=r.getSelection();var p=u.textContent.length,g=Math.min(d.start,p);d=d.end===void 0?g:Math.min(d.end,p),!r.extend&&g>d&&(p=d,d=g,g=p),p=am(u,g);var w=am(u,d);p&&w&&(r.rangeCount!==1||r.anchorNode!==p.node||r.anchorOffset!==p.offset||r.focusNode!==w.node||r.focusOffset!==w.offset)&&(o=o.createRange(),o.setStart(p.node,p.offset),r.removeAllRanges(),g>d?(r.addRange(o),r.extend(w.node,w.offset)):(o.setEnd(w.node,w.offset),r.addRange(o)))}}for(o=[],r=u;r=r.parentNode;)r.nodeType===1&&o.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<o.length;u++)r=o[u],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var OI=f&&"documentMode"in document&&11>=document.documentMode,Zs=null,Cd=null,Ia=null,Ad=!1;function cm(r,o,u){var d=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;Ad||Zs==null||Zs!==Jn(d)||(d=Zs,"selectionStart"in d&&Sd(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),Ia&&Ea(Ia,d)||(Ia=d,d=rl(Cd,"onSelect"),0<d.length&&(o=new qs("onSelect","select",null,o,u),r.push({event:o,listeners:d}),o.target=Zs)))}function el(r,o){var u={};return u[r.toLowerCase()]=o.toLowerCase(),u["Webkit"+r]="webkit"+o,u["Moz"+r]="moz"+o,u}var eo={animationend:el("Animation","AnimationEnd"),animationiteration:el("Animation","AnimationIteration"),animationstart:el("Animation","AnimationStart"),transitionend:el("Transition","TransitionEnd")},Rd={},dm={};f&&(dm=document.createElement("div").style,"AnimationEvent"in window||(delete eo.animationend.animation,delete eo.animationiteration.animation,delete eo.animationstart.animation),"TransitionEvent"in window||delete eo.transitionend.transition);function tl(r){if(Rd[r])return Rd[r];if(!eo[r])return r;var o=eo[r],u;for(u in o)if(o.hasOwnProperty(u)&&u in dm)return Rd[r]=o[u];return r}var hm=tl("animationend"),fm=tl("animationiteration"),pm=tl("animationstart"),mm=tl("transitionend"),gm=new Map,ym="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ui(r,o){gm.set(r,o),a(o,[r])}for(var Pd=0;Pd<ym.length;Pd++){var kd=ym[Pd],xI=kd.toLowerCase(),DI=kd[0].toUpperCase()+kd.slice(1);ui(xI,"on"+DI)}ui(hm,"onAnimationEnd"),ui(fm,"onAnimationIteration"),ui(pm,"onAnimationStart"),ui("dblclick","onDoubleClick"),ui("focusin","onFocus"),ui("focusout","onBlur"),ui(mm,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ta="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),VI=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ta));function vm(r,o,u){var d=r.type||"unknown-event";r.currentTarget=u,Ou(d,o,void 0,r),r.currentTarget=null}function _m(r,o){o=(o&4)!==0;for(var u=0;u<r.length;u++){var d=r[u],p=d.event;d=d.listeners;e:{var g=void 0;if(o)for(var w=d.length-1;0<=w;w--){var R=d[w],D=R.instance,q=R.currentTarget;if(R=R.listener,D!==g&&p.isPropagationStopped())break e;vm(p,R,q),g=D}else for(w=0;w<d.length;w++){if(R=d[w],D=R.instance,q=R.currentTarget,R=R.listener,D!==g&&p.isPropagationStopped())break e;vm(p,R,q),g=D}}}if(Ln)throw r=aa,Ln=!1,aa=null,r}function tt(r,o){var u=o[Md];u===void 0&&(u=o[Md]=new Set);var d=r+"__bubble";u.has(d)||(wm(o,r,2,!1),u.add(d))}function bd(r,o,u){var d=0;o&&(d|=4),wm(u,r,d,o)}var nl="_reactListening"+Math.random().toString(36).slice(2);function Sa(r){if(!r[nl]){r[nl]=!0,i.forEach(function(u){u!=="selectionchange"&&(VI.has(u)||bd(u,!1,r),bd(u,!0,r))});var o=r.nodeType===9?r:r.ownerDocument;o===null||o[nl]||(o[nl]=!0,bd("selectionchange",!1,o))}}function wm(r,o,u,d){switch(pa(o)){case 1:var p=it;break;case 4:p=wd;break;default:p=fa}u=p.bind(null,o,u,r),p=void 0,!Vs||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(p=!0),d?p!==void 0?r.addEventListener(o,u,{capture:!0,passive:p}):r.addEventListener(o,u,!0):p!==void 0?r.addEventListener(o,u,{passive:p}):r.addEventListener(o,u,!1)}function Od(r,o,u,d,p){var g=d;if(!(o&1)&&!(o&2)&&d!==null)e:for(;;){if(d===null)return;var w=d.tag;if(w===3||w===4){var R=d.stateNode.containerInfo;if(R===p||R.nodeType===8&&R.parentNode===p)break;if(w===4)for(w=d.return;w!==null;){var D=w.tag;if((D===3||D===4)&&(D=w.stateNode.containerInfo,D===p||D.nodeType===8&&D.parentNode===p))return;w=w.return}for(;R!==null;){if(w=ss(R),w===null)return;if(D=w.tag,D===5||D===6){d=g=w;continue e}R=R.parentNode}}d=d.return}oa(function(){var q=g,ee=Os(u),ne=[];e:{var Z=gm.get(r);if(Z!==void 0){var le=qs,fe=r;switch(r){case"keypress":if(Hs(u)===0)break e;case"keydown":case"keyup":le=m;break;case"focusin":fe="focus",le=Qs;break;case"focusout":fe="blur",le=Qs;break;case"beforeblur":case"afterblur":le=Qs;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":le=Gs;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":le=Wu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":le=G;break;case hm:case fm:case pm:le=Or;break;case mm:le=Xe;break;case"scroll":le=Ed;break;case"wheel":le=$e;break;case"copy":case"cut":case"paste":le=Qu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":le=I}var me=(o&4)!==0,ht=!me&&r==="scroll",j=me?Z!==null?Z+"Capture":null:Z;me=[];for(var L=q,z;L!==null;){z=L;var se=z.stateNode;if(z.tag===5&&se!==null&&(z=se,j!==null&&(se=dt(L,j),se!=null&&me.push(Ca(L,se,z)))),ht)break;L=L.return}0<me.length&&(Z=new le(Z,fe,null,u,ee),ne.push({event:Z,listeners:me}))}}if(!(o&7)){e:{if(Z=r==="mouseover"||r==="pointerover",le=r==="mouseout"||r==="pointerout",Z&&u!==Wi&&(fe=u.relatedTarget||u.fromElement)&&(ss(fe)||fe[xr]))break e;if((le||Z)&&(Z=ee.window===ee?ee:(Z=ee.ownerDocument)?Z.defaultView||Z.parentWindow:window,le?(fe=u.relatedTarget||u.toElement,le=q,fe=fe?ss(fe):null,fe!==null&&(ht=Mn(fe),fe!==ht||fe.tag!==5&&fe.tag!==6)&&(fe=null)):(le=null,fe=q),le!==fe)){if(me=Gs,se="onMouseLeave",j="onMouseEnter",L="mouse",(r==="pointerout"||r==="pointerover")&&(me=I,se="onPointerLeave",j="onPointerEnter",L="pointer"),ht=le==null?Z:ro(le),z=fe==null?Z:ro(fe),Z=new me(se,L+"leave",le,u,ee),Z.target=ht,Z.relatedTarget=z,se=null,ss(ee)===q&&(me=new me(j,L+"enter",fe,u,ee),me.target=z,me.relatedTarget=ht,se=me),ht=se,le&&fe)t:{for(me=le,j=fe,L=0,z=me;z;z=to(z))L++;for(z=0,se=j;se;se=to(se))z++;for(;0<L-z;)me=to(me),L--;for(;0<z-L;)j=to(j),z--;for(;L--;){if(me===j||j!==null&&me===j.alternate)break t;me=to(me),j=to(j)}me=null}else me=null;le!==null&&Em(ne,Z,le,me,!1),fe!==null&&ht!==null&&Em(ne,ht,fe,me,!0)}}e:{if(Z=q?ro(q):window,le=Z.nodeName&&Z.nodeName.toLowerCase(),le==="select"||le==="input"&&Z.type==="file")var ge=SI;else if(em(Z))if(nm)ge=PI;else{ge=AI;var we=CI}else(le=Z.nodeName)&&le.toLowerCase()==="input"&&(Z.type==="checkbox"||Z.type==="radio")&&(ge=RI);if(ge&&(ge=ge(r,q))){tm(ne,ge,u,ee);break e}we&&we(r,Z,q),r==="focusout"&&(we=Z._wrapperState)&&we.controlled&&Z.type==="number"&&Ps(Z,"number",Z.value)}switch(we=q?ro(q):window,r){case"focusin":(em(we)||we.contentEditable==="true")&&(Zs=we,Cd=q,Ia=null);break;case"focusout":Ia=Cd=Zs=null;break;case"mousedown":Ad=!0;break;case"contextmenu":case"mouseup":case"dragend":Ad=!1,cm(ne,u,ee);break;case"selectionchange":if(OI)break;case"keydown":case"keyup":cm(ne,u,ee)}var Ee;if(mt)e:{switch(r){case"compositionstart":var Ae="onCompositionStart";break e;case"compositionend":Ae="onCompositionEnd";break e;case"compositionupdate":Ae="onCompositionUpdate";break e}Ae=void 0}else Js?Jp(r,u)&&(Ae="onCompositionEnd"):r==="keydown"&&u.keyCode===229&&(Ae="onCompositionStart");Ae&&(is&&u.locale!=="ko"&&(Js||Ae!=="onCompositionStart"?Ae==="onCompositionEnd"&&Js&&(Ee=ma()):(mn=ee,Bs="value"in mn?mn.value:mn.textContent,Js=!0)),we=rl(q,Ae),0<we.length&&(Ae=new va(Ae,r,null,u,ee),ne.push({event:Ae,listeners:we}),Ee?Ae.data=Ee:(Ee=Zp(u),Ee!==null&&(Ae.data=Ee)))),(Ee=gn?wI(r,u):EI(r,u))&&(q=rl(q,"onBeforeInput"),0<q.length&&(ee=new va("onBeforeInput","beforeinput",null,u,ee),ne.push({event:ee,listeners:q}),ee.data=Ee))}_m(ne,o)})}function Ca(r,o,u){return{instance:r,listener:o,currentTarget:u}}function rl(r,o){for(var u=o+"Capture",d=[];r!==null;){var p=r,g=p.stateNode;p.tag===5&&g!==null&&(p=g,g=dt(r,u),g!=null&&d.unshift(Ca(r,g,p)),g=dt(r,o),g!=null&&d.push(Ca(r,g,p))),r=r.return}return d}function to(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function Em(r,o,u,d,p){for(var g=o._reactName,w=[];u!==null&&u!==d;){var R=u,D=R.alternate,q=R.stateNode;if(D!==null&&D===d)break;R.tag===5&&q!==null&&(R=q,p?(D=dt(u,g),D!=null&&w.unshift(Ca(u,D,R))):p||(D=dt(u,g),D!=null&&w.push(Ca(u,D,R)))),u=u.return}w.length!==0&&r.push({event:o,listeners:w})}var NI=/\r\n?/g,LI=/\u0000|\uFFFD/g;function Im(r){return(typeof r=="string"?r:""+r).replace(NI,`
`).replace(LI,"")}function il(r,o,u){if(o=Im(o),Im(r)!==o&&u)throw Error(t(425))}function sl(){}var xd=null,Dd=null;function Vd(r,o){return r==="textarea"||r==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Nd=typeof setTimeout=="function"?setTimeout:void 0,MI=typeof clearTimeout=="function"?clearTimeout:void 0,Tm=typeof Promise=="function"?Promise:void 0,FI=typeof queueMicrotask=="function"?queueMicrotask:typeof Tm<"u"?function(r){return Tm.resolve(null).then(r).catch(UI)}:Nd;function UI(r){setTimeout(function(){throw r})}function Ld(r,o){var u=o,d=0;do{var p=u.nextSibling;if(r.removeChild(u),p&&p.nodeType===8)if(u=p.data,u==="/$"){if(d===0){r.removeChild(p),$n(o);return}d--}else u!=="$"&&u!=="$?"&&u!=="$!"||d++;u=p}while(u);$n(o)}function li(r){for(;r!=null;r=r.nextSibling){var o=r.nodeType;if(o===1||o===3)break;if(o===8){if(o=r.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return r}function Sm(r){r=r.previousSibling;for(var o=0;r;){if(r.nodeType===8){var u=r.data;if(u==="$"||u==="$!"||u==="$?"){if(o===0)return r;o--}else u==="/$"&&o++}r=r.previousSibling}return null}var no=Math.random().toString(36).slice(2),ar="__reactFiber$"+no,Aa="__reactProps$"+no,xr="__reactContainer$"+no,Md="__reactEvents$"+no,jI="__reactListeners$"+no,zI="__reactHandles$"+no;function ss(r){var o=r[ar];if(o)return o;for(var u=r.parentNode;u;){if(o=u[xr]||u[ar]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(r=Sm(r);r!==null;){if(u=r[ar])return u;r=Sm(r)}return o}r=u,u=r.parentNode}return null}function Ra(r){return r=r[ar]||r[xr],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function ro(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(t(33))}function ol(r){return r[Aa]||null}var Fd=[],io=-1;function ci(r){return{current:r}}function nt(r){0>io||(r.current=Fd[io],Fd[io]=null,io--)}function et(r,o){io++,Fd[io]=r.current,r.current=o}var di={},zt=ci(di),rn=ci(!1),os=di;function so(r,o){var u=r.type.contextTypes;if(!u)return di;var d=r.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===o)return d.__reactInternalMemoizedMaskedChildContext;var p={},g;for(g in u)p[g]=o[g];return d&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=o,r.__reactInternalMemoizedMaskedChildContext=p),p}function sn(r){return r=r.childContextTypes,r!=null}function al(){nt(rn),nt(zt)}function Cm(r,o,u){if(zt.current!==di)throw Error(t(168));et(zt,o),et(rn,u)}function Am(r,o,u){var d=r.stateNode;if(o=o.childContextTypes,typeof d.getChildContext!="function")return u;d=d.getChildContext();for(var p in d)if(!(p in o))throw Error(t(108,xe(r)||"Unknown",p));return ae({},u,d)}function ul(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||di,os=zt.current,et(zt,r),et(rn,rn.current),!0}function Rm(r,o,u){var d=r.stateNode;if(!d)throw Error(t(169));u?(r=Am(r,o,os),d.__reactInternalMemoizedMergedChildContext=r,nt(rn),nt(zt),et(zt,r)):nt(rn),et(rn,u)}var Dr=null,ll=!1,Ud=!1;function Pm(r){Dr===null?Dr=[r]:Dr.push(r)}function $I(r){ll=!0,Pm(r)}function hi(){if(!Ud&&Dr!==null){Ud=!0;var r=0,o=Ue;try{var u=Dr;for(Ue=1;r<u.length;r++){var d=u[r];do d=d(!0);while(d!==null)}Dr=null,ll=!1}catch(p){throw Dr!==null&&(Dr=Dr.slice(r+1)),Fs(Xi,hi),p}finally{Ue=o,Ud=!1}}return null}var oo=[],ao=0,cl=null,dl=0,Rn=[],Pn=0,as=null,Vr=1,Nr="";function us(r,o){oo[ao++]=dl,oo[ao++]=cl,cl=r,dl=o}function km(r,o,u){Rn[Pn++]=Vr,Rn[Pn++]=Nr,Rn[Pn++]=as,as=r;var d=Vr;r=Nr;var p=32-Xt(d)-1;d&=~(1<<p),u+=1;var g=32-Xt(o)+p;if(30<g){var w=p-p%5;g=(d&(1<<w)-1).toString(32),d>>=w,p-=w,Vr=1<<32-Xt(o)+p|u<<p|d,Nr=g+r}else Vr=1<<g|u<<p|d,Nr=r}function jd(r){r.return!==null&&(us(r,1),km(r,1,0))}function zd(r){for(;r===cl;)cl=oo[--ao],oo[ao]=null,dl=oo[--ao],oo[ao]=null;for(;r===as;)as=Rn[--Pn],Rn[Pn]=null,Nr=Rn[--Pn],Rn[Pn]=null,Vr=Rn[--Pn],Rn[Pn]=null}var yn=null,vn=null,st=!1,qn=null;function bm(r,o){var u=xn(5,null,null,0);u.elementType="DELETED",u.stateNode=o,u.return=r,o=r.deletions,o===null?(r.deletions=[u],r.flags|=16):o.push(u)}function Om(r,o){switch(r.tag){case 5:var u=r.type;return o=o.nodeType!==1||u.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(r.stateNode=o,yn=r,vn=li(o.firstChild),!0):!1;case 6:return o=r.pendingProps===""||o.nodeType!==3?null:o,o!==null?(r.stateNode=o,yn=r,vn=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(u=as!==null?{id:Vr,overflow:Nr}:null,r.memoizedState={dehydrated:o,treeContext:u,retryLane:1073741824},u=xn(18,null,null,0),u.stateNode=o,u.return=r,r.child=u,yn=r,vn=null,!0):!1;default:return!1}}function $d(r){return(r.mode&1)!==0&&(r.flags&128)===0}function Bd(r){if(st){var o=vn;if(o){var u=o;if(!Om(r,o)){if($d(r))throw Error(t(418));o=li(u.nextSibling);var d=yn;o&&Om(r,o)?bm(d,u):(r.flags=r.flags&-4097|2,st=!1,yn=r)}}else{if($d(r))throw Error(t(418));r.flags=r.flags&-4097|2,st=!1,yn=r}}}function xm(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;yn=r}function hl(r){if(r!==yn)return!1;if(!st)return xm(r),st=!0,!1;var o;if((o=r.tag!==3)&&!(o=r.tag!==5)&&(o=r.type,o=o!=="head"&&o!=="body"&&!Vd(r.type,r.memoizedProps)),o&&(o=vn)){if($d(r))throw Dm(),Error(t(418));for(;o;)bm(r,o),o=li(o.nextSibling)}if(xm(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(t(317));e:{for(r=r.nextSibling,o=0;r;){if(r.nodeType===8){var u=r.data;if(u==="/$"){if(o===0){vn=li(r.nextSibling);break e}o--}else u!=="$"&&u!=="$!"&&u!=="$?"||o++}r=r.nextSibling}vn=null}}else vn=yn?li(r.stateNode.nextSibling):null;return!0}function Dm(){for(var r=vn;r;)r=li(r.nextSibling)}function uo(){vn=yn=null,st=!1}function Hd(r){qn===null?qn=[r]:qn.push(r)}var BI=Q.ReactCurrentBatchConfig;function Pa(r,o,u){if(r=u.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(t(309));var d=u.stateNode}if(!d)throw Error(t(147,r));var p=d,g=""+r;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===g?o.ref:(o=function(w){var R=p.refs;w===null?delete R[g]:R[g]=w},o._stringRef=g,o)}if(typeof r!="string")throw Error(t(284));if(!u._owner)throw Error(t(290,r))}return r}function fl(r,o){throw r=Object.prototype.toString.call(o),Error(t(31,r==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":r))}function Vm(r){var o=r._init;return o(r._payload)}function Nm(r){function o(j,L){if(r){var z=j.deletions;z===null?(j.deletions=[L],j.flags|=16):z.push(L)}}function u(j,L){if(!r)return null;for(;L!==null;)o(j,L),L=L.sibling;return null}function d(j,L){for(j=new Map;L!==null;)L.key!==null?j.set(L.key,L):j.set(L.index,L),L=L.sibling;return j}function p(j,L){return j=wi(j,L),j.index=0,j.sibling=null,j}function g(j,L,z){return j.index=z,r?(z=j.alternate,z!==null?(z=z.index,z<L?(j.flags|=2,L):z):(j.flags|=2,L)):(j.flags|=1048576,L)}function w(j){return r&&j.alternate===null&&(j.flags|=2),j}function R(j,L,z,se){return L===null||L.tag!==6?(L=Nh(z,j.mode,se),L.return=j,L):(L=p(L,z),L.return=j,L)}function D(j,L,z,se){var ge=z.type;return ge===C?ee(j,L,z.props.children,se,z.key):L!==null&&(L.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===Ne&&Vm(ge)===L.type)?(se=p(L,z.props),se.ref=Pa(j,L,z),se.return=j,se):(se=Ml(z.type,z.key,z.props,null,j.mode,se),se.ref=Pa(j,L,z),se.return=j,se)}function q(j,L,z,se){return L===null||L.tag!==4||L.stateNode.containerInfo!==z.containerInfo||L.stateNode.implementation!==z.implementation?(L=Lh(z,j.mode,se),L.return=j,L):(L=p(L,z.children||[]),L.return=j,L)}function ee(j,L,z,se,ge){return L===null||L.tag!==7?(L=gs(z,j.mode,se,ge),L.return=j,L):(L=p(L,z),L.return=j,L)}function ne(j,L,z){if(typeof L=="string"&&L!==""||typeof L=="number")return L=Nh(""+L,j.mode,z),L.return=j,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case $:return z=Ml(L.type,L.key,L.props,null,j.mode,z),z.ref=Pa(j,null,L),z.return=j,z;case te:return L=Lh(L,j.mode,z),L.return=j,L;case Ne:var se=L._init;return ne(j,se(L._payload),z)}if(Tr(L)||pe(L))return L=gs(L,j.mode,z,null),L.return=j,L;fl(j,L)}return null}function Z(j,L,z,se){var ge=L!==null?L.key:null;if(typeof z=="string"&&z!==""||typeof z=="number")return ge!==null?null:R(j,L,""+z,se);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case $:return z.key===ge?D(j,L,z,se):null;case te:return z.key===ge?q(j,L,z,se):null;case Ne:return ge=z._init,Z(j,L,ge(z._payload),se)}if(Tr(z)||pe(z))return ge!==null?null:ee(j,L,z,se,null);fl(j,z)}return null}function le(j,L,z,se,ge){if(typeof se=="string"&&se!==""||typeof se=="number")return j=j.get(z)||null,R(L,j,""+se,ge);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case $:return j=j.get(se.key===null?z:se.key)||null,D(L,j,se,ge);case te:return j=j.get(se.key===null?z:se.key)||null,q(L,j,se,ge);case Ne:var we=se._init;return le(j,L,z,we(se._payload),ge)}if(Tr(se)||pe(se))return j=j.get(z)||null,ee(L,j,se,ge,null);fl(L,se)}return null}function fe(j,L,z,se){for(var ge=null,we=null,Ee=L,Ae=L=0,Ot=null;Ee!==null&&Ae<z.length;Ae++){Ee.index>Ae?(Ot=Ee,Ee=null):Ot=Ee.sibling;var qe=Z(j,Ee,z[Ae],se);if(qe===null){Ee===null&&(Ee=Ot);break}r&&Ee&&qe.alternate===null&&o(j,Ee),L=g(qe,L,Ae),we===null?ge=qe:we.sibling=qe,we=qe,Ee=Ot}if(Ae===z.length)return u(j,Ee),st&&us(j,Ae),ge;if(Ee===null){for(;Ae<z.length;Ae++)Ee=ne(j,z[Ae],se),Ee!==null&&(L=g(Ee,L,Ae),we===null?ge=Ee:we.sibling=Ee,we=Ee);return st&&us(j,Ae),ge}for(Ee=d(j,Ee);Ae<z.length;Ae++)Ot=le(Ee,j,Ae,z[Ae],se),Ot!==null&&(r&&Ot.alternate!==null&&Ee.delete(Ot.key===null?Ae:Ot.key),L=g(Ot,L,Ae),we===null?ge=Ot:we.sibling=Ot,we=Ot);return r&&Ee.forEach(function(Ei){return o(j,Ei)}),st&&us(j,Ae),ge}function me(j,L,z,se){var ge=pe(z);if(typeof ge!="function")throw Error(t(150));if(z=ge.call(z),z==null)throw Error(t(151));for(var we=ge=null,Ee=L,Ae=L=0,Ot=null,qe=z.next();Ee!==null&&!qe.done;Ae++,qe=z.next()){Ee.index>Ae?(Ot=Ee,Ee=null):Ot=Ee.sibling;var Ei=Z(j,Ee,qe.value,se);if(Ei===null){Ee===null&&(Ee=Ot);break}r&&Ee&&Ei.alternate===null&&o(j,Ee),L=g(Ei,L,Ae),we===null?ge=Ei:we.sibling=Ei,we=Ei,Ee=Ot}if(qe.done)return u(j,Ee),st&&us(j,Ae),ge;if(Ee===null){for(;!qe.done;Ae++,qe=z.next())qe=ne(j,qe.value,se),qe!==null&&(L=g(qe,L,Ae),we===null?ge=qe:we.sibling=qe,we=qe);return st&&us(j,Ae),ge}for(Ee=d(j,Ee);!qe.done;Ae++,qe=z.next())qe=le(Ee,j,Ae,qe.value,se),qe!==null&&(r&&qe.alternate!==null&&Ee.delete(qe.key===null?Ae:qe.key),L=g(qe,L,Ae),we===null?ge=qe:we.sibling=qe,we=qe);return r&&Ee.forEach(function(ET){return o(j,ET)}),st&&us(j,Ae),ge}function ht(j,L,z,se){if(typeof z=="object"&&z!==null&&z.type===C&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case $:e:{for(var ge=z.key,we=L;we!==null;){if(we.key===ge){if(ge=z.type,ge===C){if(we.tag===7){u(j,we.sibling),L=p(we,z.props.children),L.return=j,j=L;break e}}else if(we.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===Ne&&Vm(ge)===we.type){u(j,we.sibling),L=p(we,z.props),L.ref=Pa(j,we,z),L.return=j,j=L;break e}u(j,we);break}else o(j,we);we=we.sibling}z.type===C?(L=gs(z.props.children,j.mode,se,z.key),L.return=j,j=L):(se=Ml(z.type,z.key,z.props,null,j.mode,se),se.ref=Pa(j,L,z),se.return=j,j=se)}return w(j);case te:e:{for(we=z.key;L!==null;){if(L.key===we)if(L.tag===4&&L.stateNode.containerInfo===z.containerInfo&&L.stateNode.implementation===z.implementation){u(j,L.sibling),L=p(L,z.children||[]),L.return=j,j=L;break e}else{u(j,L);break}else o(j,L);L=L.sibling}L=Lh(z,j.mode,se),L.return=j,j=L}return w(j);case Ne:return we=z._init,ht(j,L,we(z._payload),se)}if(Tr(z))return fe(j,L,z,se);if(pe(z))return me(j,L,z,se);fl(j,z)}return typeof z=="string"&&z!==""||typeof z=="number"?(z=""+z,L!==null&&L.tag===6?(u(j,L.sibling),L=p(L,z),L.return=j,j=L):(u(j,L),L=Nh(z,j.mode,se),L.return=j,j=L),w(j)):u(j,L)}return ht}var lo=Nm(!0),Lm=Nm(!1),pl=ci(null),ml=null,co=null,qd=null;function Wd(){qd=co=ml=null}function Gd(r){var o=pl.current;nt(pl),r._currentValue=o}function Kd(r,o,u){for(;r!==null;){var d=r.alternate;if((r.childLanes&o)!==o?(r.childLanes|=o,d!==null&&(d.childLanes|=o)):d!==null&&(d.childLanes&o)!==o&&(d.childLanes|=o),r===u)break;r=r.return}}function ho(r,o){ml=r,qd=co=null,r=r.dependencies,r!==null&&r.firstContext!==null&&(r.lanes&o&&(on=!0),r.firstContext=null)}function kn(r){var o=r._currentValue;if(qd!==r)if(r={context:r,memoizedValue:o,next:null},co===null){if(ml===null)throw Error(t(308));co=r,ml.dependencies={lanes:0,firstContext:r}}else co=co.next=r;return o}var ls=null;function Qd(r){ls===null?ls=[r]:ls.push(r)}function Mm(r,o,u,d){var p=o.interleaved;return p===null?(u.next=u,Qd(o)):(u.next=p.next,p.next=u),o.interleaved=u,Lr(r,d)}function Lr(r,o){r.lanes|=o;var u=r.alternate;for(u!==null&&(u.lanes|=o),u=r,r=r.return;r!==null;)r.childLanes|=o,u=r.alternate,u!==null&&(u.childLanes|=o),u=r,r=r.return;return u.tag===3?u.stateNode:null}var fi=!1;function Yd(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Fm(r,o){r=r.updateQueue,o.updateQueue===r&&(o.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function Mr(r,o){return{eventTime:r,lane:o,tag:0,payload:null,callback:null,next:null}}function pi(r,o,u){var d=r.updateQueue;if(d===null)return null;if(d=d.shared,He&2){var p=d.pending;return p===null?o.next=o:(o.next=p.next,p.next=o),d.pending=o,Lr(r,u)}return p=d.interleaved,p===null?(o.next=o,Qd(d)):(o.next=p.next,p.next=o),d.interleaved=o,Lr(r,u)}function gl(r,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194240)!==0)){var d=o.lanes;d&=r.pendingLanes,u|=d,o.lanes=u,ri(r,u)}}function Um(r,o){var u=r.updateQueue,d=r.alternate;if(d!==null&&(d=d.updateQueue,u===d)){var p=null,g=null;if(u=u.firstBaseUpdate,u!==null){do{var w={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};g===null?p=g=w:g=g.next=w,u=u.next}while(u!==null);g===null?p=g=o:g=g.next=o}else p=g=o;u={baseState:d.baseState,firstBaseUpdate:p,lastBaseUpdate:g,shared:d.shared,effects:d.effects},r.updateQueue=u;return}r=u.lastBaseUpdate,r===null?u.firstBaseUpdate=o:r.next=o,u.lastBaseUpdate=o}function yl(r,o,u,d){var p=r.updateQueue;fi=!1;var g=p.firstBaseUpdate,w=p.lastBaseUpdate,R=p.shared.pending;if(R!==null){p.shared.pending=null;var D=R,q=D.next;D.next=null,w===null?g=q:w.next=q,w=D;var ee=r.alternate;ee!==null&&(ee=ee.updateQueue,R=ee.lastBaseUpdate,R!==w&&(R===null?ee.firstBaseUpdate=q:R.next=q,ee.lastBaseUpdate=D))}if(g!==null){var ne=p.baseState;w=0,ee=q=D=null,R=g;do{var Z=R.lane,le=R.eventTime;if((d&Z)===Z){ee!==null&&(ee=ee.next={eventTime:le,lane:0,tag:R.tag,payload:R.payload,callback:R.callback,next:null});e:{var fe=r,me=R;switch(Z=o,le=u,me.tag){case 1:if(fe=me.payload,typeof fe=="function"){ne=fe.call(le,ne,Z);break e}ne=fe;break e;case 3:fe.flags=fe.flags&-65537|128;case 0:if(fe=me.payload,Z=typeof fe=="function"?fe.call(le,ne,Z):fe,Z==null)break e;ne=ae({},ne,Z);break e;case 2:fi=!0}}R.callback!==null&&R.lane!==0&&(r.flags|=64,Z=p.effects,Z===null?p.effects=[R]:Z.push(R))}else le={eventTime:le,lane:Z,tag:R.tag,payload:R.payload,callback:R.callback,next:null},ee===null?(q=ee=le,D=ne):ee=ee.next=le,w|=Z;if(R=R.next,R===null){if(R=p.shared.pending,R===null)break;Z=R,R=Z.next,Z.next=null,p.lastBaseUpdate=Z,p.shared.pending=null}}while(!0);if(ee===null&&(D=ne),p.baseState=D,p.firstBaseUpdate=q,p.lastBaseUpdate=ee,o=p.shared.interleaved,o!==null){p=o;do w|=p.lane,p=p.next;while(p!==o)}else g===null&&(p.shared.lanes=0);hs|=w,r.lanes=w,r.memoizedState=ne}}function jm(r,o,u){if(r=o.effects,o.effects=null,r!==null)for(o=0;o<r.length;o++){var d=r[o],p=d.callback;if(p!==null){if(d.callback=null,d=u,typeof p!="function")throw Error(t(191,p));p.call(d)}}}var ka={},ur=ci(ka),ba=ci(ka),Oa=ci(ka);function cs(r){if(r===ka)throw Error(t(174));return r}function Xd(r,o){switch(et(Oa,o),et(ba,r),et(ur,ka),r=o.nodeType,r){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:Et(null,"");break;default:r=r===8?o.parentNode:o,o=r.namespaceURI||null,r=r.tagName,o=Et(o,r)}nt(ur),et(ur,o)}function fo(){nt(ur),nt(ba),nt(Oa)}function zm(r){cs(Oa.current);var o=cs(ur.current),u=Et(o,r.type);o!==u&&(et(ba,r),et(ur,u))}function Jd(r){ba.current===r&&(nt(ur),nt(ba))}var ot=ci(0);function vl(r){for(var o=r;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if(o.flags&128)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Zd=[];function eh(){for(var r=0;r<Zd.length;r++)Zd[r]._workInProgressVersionPrimary=null;Zd.length=0}var _l=Q.ReactCurrentDispatcher,th=Q.ReactCurrentBatchConfig,ds=0,at=null,Tt=null,kt=null,wl=!1,xa=!1,Da=0,HI=0;function $t(){throw Error(t(321))}function nh(r,o){if(o===null)return!1;for(var u=0;u<o.length&&u<r.length;u++)if(!Hn(r[u],o[u]))return!1;return!0}function rh(r,o,u,d,p,g){if(ds=g,at=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,_l.current=r===null||r.memoizedState===null?KI:QI,r=u(d,p),xa){g=0;do{if(xa=!1,Da=0,25<=g)throw Error(t(301));g+=1,kt=Tt=null,o.updateQueue=null,_l.current=YI,r=u(d,p)}while(xa)}if(_l.current=Tl,o=Tt!==null&&Tt.next!==null,ds=0,kt=Tt=at=null,wl=!1,o)throw Error(t(300));return r}function ih(){var r=Da!==0;return Da=0,r}function lr(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return kt===null?at.memoizedState=kt=r:kt=kt.next=r,kt}function bn(){if(Tt===null){var r=at.alternate;r=r!==null?r.memoizedState:null}else r=Tt.next;var o=kt===null?at.memoizedState:kt.next;if(o!==null)kt=o,Tt=r;else{if(r===null)throw Error(t(310));Tt=r,r={memoizedState:Tt.memoizedState,baseState:Tt.baseState,baseQueue:Tt.baseQueue,queue:Tt.queue,next:null},kt===null?at.memoizedState=kt=r:kt=kt.next=r}return kt}function Va(r,o){return typeof o=="function"?o(r):o}function sh(r){var o=bn(),u=o.queue;if(u===null)throw Error(t(311));u.lastRenderedReducer=r;var d=Tt,p=d.baseQueue,g=u.pending;if(g!==null){if(p!==null){var w=p.next;p.next=g.next,g.next=w}d.baseQueue=p=g,u.pending=null}if(p!==null){g=p.next,d=d.baseState;var R=w=null,D=null,q=g;do{var ee=q.lane;if((ds&ee)===ee)D!==null&&(D=D.next={lane:0,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),d=q.hasEagerState?q.eagerState:r(d,q.action);else{var ne={lane:ee,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null};D===null?(R=D=ne,w=d):D=D.next=ne,at.lanes|=ee,hs|=ee}q=q.next}while(q!==null&&q!==g);D===null?w=d:D.next=R,Hn(d,o.memoizedState)||(on=!0),o.memoizedState=d,o.baseState=w,o.baseQueue=D,u.lastRenderedState=d}if(r=u.interleaved,r!==null){p=r;do g=p.lane,at.lanes|=g,hs|=g,p=p.next;while(p!==r)}else p===null&&(u.lanes=0);return[o.memoizedState,u.dispatch]}function oh(r){var o=bn(),u=o.queue;if(u===null)throw Error(t(311));u.lastRenderedReducer=r;var d=u.dispatch,p=u.pending,g=o.memoizedState;if(p!==null){u.pending=null;var w=p=p.next;do g=r(g,w.action),w=w.next;while(w!==p);Hn(g,o.memoizedState)||(on=!0),o.memoizedState=g,o.baseQueue===null&&(o.baseState=g),u.lastRenderedState=g}return[g,d]}function $m(){}function Bm(r,o){var u=at,d=bn(),p=o(),g=!Hn(d.memoizedState,p);if(g&&(d.memoizedState=p,on=!0),d=d.queue,ah(Wm.bind(null,u,d,r),[r]),d.getSnapshot!==o||g||kt!==null&&kt.memoizedState.tag&1){if(u.flags|=2048,Na(9,qm.bind(null,u,d,p,o),void 0,null),bt===null)throw Error(t(349));ds&30||Hm(u,o,p)}return p}function Hm(r,o,u){r.flags|=16384,r={getSnapshot:o,value:u},o=at.updateQueue,o===null?(o={lastEffect:null,stores:null},at.updateQueue=o,o.stores=[r]):(u=o.stores,u===null?o.stores=[r]:u.push(r))}function qm(r,o,u,d){o.value=u,o.getSnapshot=d,Gm(o)&&Km(r)}function Wm(r,o,u){return u(function(){Gm(o)&&Km(r)})}function Gm(r){var o=r.getSnapshot;r=r.value;try{var u=o();return!Hn(r,u)}catch{return!0}}function Km(r){var o=Lr(r,1);o!==null&&Qn(o,r,1,-1)}function Qm(r){var o=lr();return typeof r=="function"&&(r=r()),o.memoizedState=o.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Va,lastRenderedState:r},o.queue=r,r=r.dispatch=GI.bind(null,at,r),[o.memoizedState,r]}function Na(r,o,u,d){return r={tag:r,create:o,destroy:u,deps:d,next:null},o=at.updateQueue,o===null?(o={lastEffect:null,stores:null},at.updateQueue=o,o.lastEffect=r.next=r):(u=o.lastEffect,u===null?o.lastEffect=r.next=r:(d=u.next,u.next=r,r.next=d,o.lastEffect=r)),r}function Ym(){return bn().memoizedState}function El(r,o,u,d){var p=lr();at.flags|=r,p.memoizedState=Na(1|o,u,void 0,d===void 0?null:d)}function Il(r,o,u,d){var p=bn();d=d===void 0?null:d;var g=void 0;if(Tt!==null){var w=Tt.memoizedState;if(g=w.destroy,d!==null&&nh(d,w.deps)){p.memoizedState=Na(o,u,g,d);return}}at.flags|=r,p.memoizedState=Na(1|o,u,g,d)}function Xm(r,o){return El(8390656,8,r,o)}function ah(r,o){return Il(2048,8,r,o)}function Jm(r,o){return Il(4,2,r,o)}function Zm(r,o){return Il(4,4,r,o)}function eg(r,o){if(typeof o=="function")return r=r(),o(r),function(){o(null)};if(o!=null)return r=r(),o.current=r,function(){o.current=null}}function tg(r,o,u){return u=u!=null?u.concat([r]):null,Il(4,4,eg.bind(null,o,r),u)}function uh(){}function ng(r,o){var u=bn();o=o===void 0?null:o;var d=u.memoizedState;return d!==null&&o!==null&&nh(o,d[1])?d[0]:(u.memoizedState=[r,o],r)}function rg(r,o){var u=bn();o=o===void 0?null:o;var d=u.memoizedState;return d!==null&&o!==null&&nh(o,d[1])?d[0]:(r=r(),u.memoizedState=[r,o],r)}function ig(r,o,u){return ds&21?(Hn(u,o)||(u=es(),at.lanes|=u,hs|=u,r.baseState=!0),o):(r.baseState&&(r.baseState=!1,on=!0),r.memoizedState=u)}function qI(r,o){var u=Ue;Ue=u!==0&&4>u?u:4,r(!0);var d=th.transition;th.transition={};try{r(!1),o()}finally{Ue=u,th.transition=d}}function sg(){return bn().memoizedState}function WI(r,o,u){var d=vi(r);if(u={lane:d,action:u,hasEagerState:!1,eagerState:null,next:null},og(r))ag(o,u);else if(u=Mm(r,o,u,d),u!==null){var p=en();Qn(u,r,d,p),ug(u,o,d)}}function GI(r,o,u){var d=vi(r),p={lane:d,action:u,hasEagerState:!1,eagerState:null,next:null};if(og(r))ag(o,p);else{var g=r.alternate;if(r.lanes===0&&(g===null||g.lanes===0)&&(g=o.lastRenderedReducer,g!==null))try{var w=o.lastRenderedState,R=g(w,u);if(p.hasEagerState=!0,p.eagerState=R,Hn(R,w)){var D=o.interleaved;D===null?(p.next=p,Qd(o)):(p.next=D.next,D.next=p),o.interleaved=p;return}}catch{}finally{}u=Mm(r,o,p,d),u!==null&&(p=en(),Qn(u,r,d,p),ug(u,o,d))}}function og(r){var o=r.alternate;return r===at||o!==null&&o===at}function ag(r,o){xa=wl=!0;var u=r.pending;u===null?o.next=o:(o.next=u.next,u.next=o),r.pending=o}function ug(r,o,u){if(u&4194240){var d=o.lanes;d&=r.pendingLanes,u|=d,o.lanes=u,ri(r,u)}}var Tl={readContext:kn,useCallback:$t,useContext:$t,useEffect:$t,useImperativeHandle:$t,useInsertionEffect:$t,useLayoutEffect:$t,useMemo:$t,useReducer:$t,useRef:$t,useState:$t,useDebugValue:$t,useDeferredValue:$t,useTransition:$t,useMutableSource:$t,useSyncExternalStore:$t,useId:$t,unstable_isNewReconciler:!1},KI={readContext:kn,useCallback:function(r,o){return lr().memoizedState=[r,o===void 0?null:o],r},useContext:kn,useEffect:Xm,useImperativeHandle:function(r,o,u){return u=u!=null?u.concat([r]):null,El(4194308,4,eg.bind(null,o,r),u)},useLayoutEffect:function(r,o){return El(4194308,4,r,o)},useInsertionEffect:function(r,o){return El(4,2,r,o)},useMemo:function(r,o){var u=lr();return o=o===void 0?null:o,r=r(),u.memoizedState=[r,o],r},useReducer:function(r,o,u){var d=lr();return o=u!==void 0?u(o):o,d.memoizedState=d.baseState=o,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:o},d.queue=r,r=r.dispatch=WI.bind(null,at,r),[d.memoizedState,r]},useRef:function(r){var o=lr();return r={current:r},o.memoizedState=r},useState:Qm,useDebugValue:uh,useDeferredValue:function(r){return lr().memoizedState=r},useTransition:function(){var r=Qm(!1),o=r[0];return r=qI.bind(null,r[1]),lr().memoizedState=r,[o,r]},useMutableSource:function(){},useSyncExternalStore:function(r,o,u){var d=at,p=lr();if(st){if(u===void 0)throw Error(t(407));u=u()}else{if(u=o(),bt===null)throw Error(t(349));ds&30||Hm(d,o,u)}p.memoizedState=u;var g={value:u,getSnapshot:o};return p.queue=g,Xm(Wm.bind(null,d,g,r),[r]),d.flags|=2048,Na(9,qm.bind(null,d,g,u,o),void 0,null),u},useId:function(){var r=lr(),o=bt.identifierPrefix;if(st){var u=Nr,d=Vr;u=(d&~(1<<32-Xt(d)-1)).toString(32)+u,o=":"+o+"R"+u,u=Da++,0<u&&(o+="H"+u.toString(32)),o+=":"}else u=HI++,o=":"+o+"r"+u.toString(32)+":";return r.memoizedState=o},unstable_isNewReconciler:!1},QI={readContext:kn,useCallback:ng,useContext:kn,useEffect:ah,useImperativeHandle:tg,useInsertionEffect:Jm,useLayoutEffect:Zm,useMemo:rg,useReducer:sh,useRef:Ym,useState:function(){return sh(Va)},useDebugValue:uh,useDeferredValue:function(r){var o=bn();return ig(o,Tt.memoizedState,r)},useTransition:function(){var r=sh(Va)[0],o=bn().memoizedState;return[r,o]},useMutableSource:$m,useSyncExternalStore:Bm,useId:sg,unstable_isNewReconciler:!1},YI={readContext:kn,useCallback:ng,useContext:kn,useEffect:ah,useImperativeHandle:tg,useInsertionEffect:Jm,useLayoutEffect:Zm,useMemo:rg,useReducer:oh,useRef:Ym,useState:function(){return oh(Va)},useDebugValue:uh,useDeferredValue:function(r){var o=bn();return Tt===null?o.memoizedState=r:ig(o,Tt.memoizedState,r)},useTransition:function(){var r=oh(Va)[0],o=bn().memoizedState;return[r,o]},useMutableSource:$m,useSyncExternalStore:Bm,useId:sg,unstable_isNewReconciler:!1};function Wn(r,o){if(r&&r.defaultProps){o=ae({},o),r=r.defaultProps;for(var u in r)o[u]===void 0&&(o[u]=r[u]);return o}return o}function lh(r,o,u,d){o=r.memoizedState,u=u(d,o),u=u==null?o:ae({},o,u),r.memoizedState=u,r.lanes===0&&(r.updateQueue.baseState=u)}var Sl={isMounted:function(r){return(r=r._reactInternals)?Mn(r)===r:!1},enqueueSetState:function(r,o,u){r=r._reactInternals;var d=en(),p=vi(r),g=Mr(d,p);g.payload=o,u!=null&&(g.callback=u),o=pi(r,g,p),o!==null&&(Qn(o,r,p,d),gl(o,r,p))},enqueueReplaceState:function(r,o,u){r=r._reactInternals;var d=en(),p=vi(r),g=Mr(d,p);g.tag=1,g.payload=o,u!=null&&(g.callback=u),o=pi(r,g,p),o!==null&&(Qn(o,r,p,d),gl(o,r,p))},enqueueForceUpdate:function(r,o){r=r._reactInternals;var u=en(),d=vi(r),p=Mr(u,d);p.tag=2,o!=null&&(p.callback=o),o=pi(r,p,d),o!==null&&(Qn(o,r,d,u),gl(o,r,d))}};function lg(r,o,u,d,p,g,w){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(d,g,w):o.prototype&&o.prototype.isPureReactComponent?!Ea(u,d)||!Ea(p,g):!0}function cg(r,o,u){var d=!1,p=di,g=o.contextType;return typeof g=="object"&&g!==null?g=kn(g):(p=sn(o)?os:zt.current,d=o.contextTypes,g=(d=d!=null)?so(r,p):di),o=new o(u,g),r.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=Sl,r.stateNode=o,o._reactInternals=r,d&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=p,r.__reactInternalMemoizedMaskedChildContext=g),o}function dg(r,o,u,d){r=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,d),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,d),o.state!==r&&Sl.enqueueReplaceState(o,o.state,null)}function ch(r,o,u,d){var p=r.stateNode;p.props=u,p.state=r.memoizedState,p.refs={},Yd(r);var g=o.contextType;typeof g=="object"&&g!==null?p.context=kn(g):(g=sn(o)?os:zt.current,p.context=so(r,g)),p.state=r.memoizedState,g=o.getDerivedStateFromProps,typeof g=="function"&&(lh(r,o,g,u),p.state=r.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(o=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),o!==p.state&&Sl.enqueueReplaceState(p,p.state,null),yl(r,u,p,d),p.state=r.memoizedState),typeof p.componentDidMount=="function"&&(r.flags|=4194308)}function po(r,o){try{var u="",d=o;do u+=Ce(d),d=d.return;while(d);var p=u}catch(g){p=`
Error generating stack: `+g.message+`
`+g.stack}return{value:r,source:o,stack:p,digest:null}}function dh(r,o,u){return{value:r,source:null,stack:u??null,digest:o??null}}function hh(r,o){try{console.error(o.value)}catch(u){setTimeout(function(){throw u})}}var XI=typeof WeakMap=="function"?WeakMap:Map;function hg(r,o,u){u=Mr(-1,u),u.tag=3,u.payload={element:null};var d=o.value;return u.callback=function(){Ol||(Ol=!0,Rh=d),hh(r,o)},u}function fg(r,o,u){u=Mr(-1,u),u.tag=3;var d=r.type.getDerivedStateFromError;if(typeof d=="function"){var p=o.value;u.payload=function(){return d(p)},u.callback=function(){hh(r,o)}}var g=r.stateNode;return g!==null&&typeof g.componentDidCatch=="function"&&(u.callback=function(){hh(r,o),typeof d!="function"&&(gi===null?gi=new Set([this]):gi.add(this));var w=o.stack;this.componentDidCatch(o.value,{componentStack:w!==null?w:""})}),u}function pg(r,o,u){var d=r.pingCache;if(d===null){d=r.pingCache=new XI;var p=new Set;d.set(o,p)}else p=d.get(o),p===void 0&&(p=new Set,d.set(o,p));p.has(u)||(p.add(u),r=dT.bind(null,r,o,u),o.then(r,r))}function mg(r){do{var o;if((o=r.tag===13)&&(o=r.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return r;r=r.return}while(r!==null);return null}function gg(r,o,u,d,p){return r.mode&1?(r.flags|=65536,r.lanes=p,r):(r===o?r.flags|=65536:(r.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(o=Mr(-1,1),o.tag=2,pi(u,o,1))),u.lanes|=1),r)}var JI=Q.ReactCurrentOwner,on=!1;function Zt(r,o,u,d){o.child=r===null?Lm(o,null,u,d):lo(o,r.child,u,d)}function yg(r,o,u,d,p){u=u.render;var g=o.ref;return ho(o,p),d=rh(r,o,u,d,g,p),u=ih(),r!==null&&!on?(o.updateQueue=r.updateQueue,o.flags&=-2053,r.lanes&=~p,Fr(r,o,p)):(st&&u&&jd(o),o.flags|=1,Zt(r,o,d,p),o.child)}function vg(r,o,u,d,p){if(r===null){var g=u.type;return typeof g=="function"&&!Vh(g)&&g.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(o.tag=15,o.type=g,_g(r,o,g,d,p)):(r=Ml(u.type,null,d,o,o.mode,p),r.ref=o.ref,r.return=o,o.child=r)}if(g=r.child,!(r.lanes&p)){var w=g.memoizedProps;if(u=u.compare,u=u!==null?u:Ea,u(w,d)&&r.ref===o.ref)return Fr(r,o,p)}return o.flags|=1,r=wi(g,d),r.ref=o.ref,r.return=o,o.child=r}function _g(r,o,u,d,p){if(r!==null){var g=r.memoizedProps;if(Ea(g,d)&&r.ref===o.ref)if(on=!1,o.pendingProps=d=g,(r.lanes&p)!==0)r.flags&131072&&(on=!0);else return o.lanes=r.lanes,Fr(r,o,p)}return fh(r,o,u,d,p)}function wg(r,o,u){var d=o.pendingProps,p=d.children,g=r!==null?r.memoizedState:null;if(d.mode==="hidden")if(!(o.mode&1))o.memoizedState={baseLanes:0,cachePool:null,transitions:null},et(go,_n),_n|=u;else{if(!(u&1073741824))return r=g!==null?g.baseLanes|u:u,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:r,cachePool:null,transitions:null},o.updateQueue=null,et(go,_n),_n|=r,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},d=g!==null?g.baseLanes:u,et(go,_n),_n|=d}else g!==null?(d=g.baseLanes|u,o.memoizedState=null):d=u,et(go,_n),_n|=d;return Zt(r,o,p,u),o.child}function Eg(r,o){var u=o.ref;(r===null&&u!==null||r!==null&&r.ref!==u)&&(o.flags|=512,o.flags|=2097152)}function fh(r,o,u,d,p){var g=sn(u)?os:zt.current;return g=so(o,g),ho(o,p),u=rh(r,o,u,d,g,p),d=ih(),r!==null&&!on?(o.updateQueue=r.updateQueue,o.flags&=-2053,r.lanes&=~p,Fr(r,o,p)):(st&&d&&jd(o),o.flags|=1,Zt(r,o,u,p),o.child)}function Ig(r,o,u,d,p){if(sn(u)){var g=!0;ul(o)}else g=!1;if(ho(o,p),o.stateNode===null)Al(r,o),cg(o,u,d),ch(o,u,d,p),d=!0;else if(r===null){var w=o.stateNode,R=o.memoizedProps;w.props=R;var D=w.context,q=u.contextType;typeof q=="object"&&q!==null?q=kn(q):(q=sn(u)?os:zt.current,q=so(o,q));var ee=u.getDerivedStateFromProps,ne=typeof ee=="function"||typeof w.getSnapshotBeforeUpdate=="function";ne||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(R!==d||D!==q)&&dg(o,w,d,q),fi=!1;var Z=o.memoizedState;w.state=Z,yl(o,d,w,p),D=o.memoizedState,R!==d||Z!==D||rn.current||fi?(typeof ee=="function"&&(lh(o,u,ee,d),D=o.memoizedState),(R=fi||lg(o,u,R,d,Z,D,q))?(ne||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(o.flags|=4194308)):(typeof w.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=d,o.memoizedState=D),w.props=d,w.state=D,w.context=q,d=R):(typeof w.componentDidMount=="function"&&(o.flags|=4194308),d=!1)}else{w=o.stateNode,Fm(r,o),R=o.memoizedProps,q=o.type===o.elementType?R:Wn(o.type,R),w.props=q,ne=o.pendingProps,Z=w.context,D=u.contextType,typeof D=="object"&&D!==null?D=kn(D):(D=sn(u)?os:zt.current,D=so(o,D));var le=u.getDerivedStateFromProps;(ee=typeof le=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(R!==ne||Z!==D)&&dg(o,w,d,D),fi=!1,Z=o.memoizedState,w.state=Z,yl(o,d,w,p);var fe=o.memoizedState;R!==ne||Z!==fe||rn.current||fi?(typeof le=="function"&&(lh(o,u,le,d),fe=o.memoizedState),(q=fi||lg(o,u,q,d,Z,fe,D)||!1)?(ee||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(d,fe,D),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(d,fe,D)),typeof w.componentDidUpdate=="function"&&(o.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof w.componentDidUpdate!="function"||R===r.memoizedProps&&Z===r.memoizedState||(o.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||R===r.memoizedProps&&Z===r.memoizedState||(o.flags|=1024),o.memoizedProps=d,o.memoizedState=fe),w.props=d,w.state=fe,w.context=D,d=q):(typeof w.componentDidUpdate!="function"||R===r.memoizedProps&&Z===r.memoizedState||(o.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||R===r.memoizedProps&&Z===r.memoizedState||(o.flags|=1024),d=!1)}return ph(r,o,u,d,g,p)}function ph(r,o,u,d,p,g){Eg(r,o);var w=(o.flags&128)!==0;if(!d&&!w)return p&&Rm(o,u,!1),Fr(r,o,g);d=o.stateNode,JI.current=o;var R=w&&typeof u.getDerivedStateFromError!="function"?null:d.render();return o.flags|=1,r!==null&&w?(o.child=lo(o,r.child,null,g),o.child=lo(o,null,R,g)):Zt(r,o,R,g),o.memoizedState=d.state,p&&Rm(o,u,!0),o.child}function Tg(r){var o=r.stateNode;o.pendingContext?Cm(r,o.pendingContext,o.pendingContext!==o.context):o.context&&Cm(r,o.context,!1),Xd(r,o.containerInfo)}function Sg(r,o,u,d,p){return uo(),Hd(p),o.flags|=256,Zt(r,o,u,d),o.child}var mh={dehydrated:null,treeContext:null,retryLane:0};function gh(r){return{baseLanes:r,cachePool:null,transitions:null}}function Cg(r,o,u){var d=o.pendingProps,p=ot.current,g=!1,w=(o.flags&128)!==0,R;if((R=w)||(R=r!==null&&r.memoizedState===null?!1:(p&2)!==0),R?(g=!0,o.flags&=-129):(r===null||r.memoizedState!==null)&&(p|=1),et(ot,p&1),r===null)return Bd(o),r=o.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?(o.mode&1?r.data==="$!"?o.lanes=8:o.lanes=1073741824:o.lanes=1,null):(w=d.children,r=d.fallback,g?(d=o.mode,g=o.child,w={mode:"hidden",children:w},!(d&1)&&g!==null?(g.childLanes=0,g.pendingProps=w):g=Fl(w,d,0,null),r=gs(r,d,u,null),g.return=o,r.return=o,g.sibling=r,o.child=g,o.child.memoizedState=gh(u),o.memoizedState=mh,r):yh(o,w));if(p=r.memoizedState,p!==null&&(R=p.dehydrated,R!==null))return ZI(r,o,w,d,R,p,u);if(g){g=d.fallback,w=o.mode,p=r.child,R=p.sibling;var D={mode:"hidden",children:d.children};return!(w&1)&&o.child!==p?(d=o.child,d.childLanes=0,d.pendingProps=D,o.deletions=null):(d=wi(p,D),d.subtreeFlags=p.subtreeFlags&14680064),R!==null?g=wi(R,g):(g=gs(g,w,u,null),g.flags|=2),g.return=o,d.return=o,d.sibling=g,o.child=d,d=g,g=o.child,w=r.child.memoizedState,w=w===null?gh(u):{baseLanes:w.baseLanes|u,cachePool:null,transitions:w.transitions},g.memoizedState=w,g.childLanes=r.childLanes&~u,o.memoizedState=mh,d}return g=r.child,r=g.sibling,d=wi(g,{mode:"visible",children:d.children}),!(o.mode&1)&&(d.lanes=u),d.return=o,d.sibling=null,r!==null&&(u=o.deletions,u===null?(o.deletions=[r],o.flags|=16):u.push(r)),o.child=d,o.memoizedState=null,d}function yh(r,o){return o=Fl({mode:"visible",children:o},r.mode,0,null),o.return=r,r.child=o}function Cl(r,o,u,d){return d!==null&&Hd(d),lo(o,r.child,null,u),r=yh(o,o.pendingProps.children),r.flags|=2,o.memoizedState=null,r}function ZI(r,o,u,d,p,g,w){if(u)return o.flags&256?(o.flags&=-257,d=dh(Error(t(422))),Cl(r,o,w,d)):o.memoizedState!==null?(o.child=r.child,o.flags|=128,null):(g=d.fallback,p=o.mode,d=Fl({mode:"visible",children:d.children},p,0,null),g=gs(g,p,w,null),g.flags|=2,d.return=o,g.return=o,d.sibling=g,o.child=d,o.mode&1&&lo(o,r.child,null,w),o.child.memoizedState=gh(w),o.memoizedState=mh,g);if(!(o.mode&1))return Cl(r,o,w,null);if(p.data==="$!"){if(d=p.nextSibling&&p.nextSibling.dataset,d)var R=d.dgst;return d=R,g=Error(t(419)),d=dh(g,d,void 0),Cl(r,o,w,d)}if(R=(w&r.childLanes)!==0,on||R){if(d=bt,d!==null){switch(w&-w){case 4:p=2;break;case 16:p=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:p=32;break;case 536870912:p=268435456;break;default:p=0}p=p&(d.suspendedLanes|w)?0:p,p!==0&&p!==g.retryLane&&(g.retryLane=p,Lr(r,p),Qn(d,r,p,-1))}return Dh(),d=dh(Error(t(421))),Cl(r,o,w,d)}return p.data==="$?"?(o.flags|=128,o.child=r.child,o=hT.bind(null,r),p._reactRetry=o,null):(r=g.treeContext,vn=li(p.nextSibling),yn=o,st=!0,qn=null,r!==null&&(Rn[Pn++]=Vr,Rn[Pn++]=Nr,Rn[Pn++]=as,Vr=r.id,Nr=r.overflow,as=o),o=yh(o,d.children),o.flags|=4096,o)}function Ag(r,o,u){r.lanes|=o;var d=r.alternate;d!==null&&(d.lanes|=o),Kd(r.return,o,u)}function vh(r,o,u,d,p){var g=r.memoizedState;g===null?r.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:d,tail:u,tailMode:p}:(g.isBackwards=o,g.rendering=null,g.renderingStartTime=0,g.last=d,g.tail=u,g.tailMode=p)}function Rg(r,o,u){var d=o.pendingProps,p=d.revealOrder,g=d.tail;if(Zt(r,o,d.children,u),d=ot.current,d&2)d=d&1|2,o.flags|=128;else{if(r!==null&&r.flags&128)e:for(r=o.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Ag(r,u,o);else if(r.tag===19)Ag(r,u,o);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===o)break e;for(;r.sibling===null;){if(r.return===null||r.return===o)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}d&=1}if(et(ot,d),!(o.mode&1))o.memoizedState=null;else switch(p){case"forwards":for(u=o.child,p=null;u!==null;)r=u.alternate,r!==null&&vl(r)===null&&(p=u),u=u.sibling;u=p,u===null?(p=o.child,o.child=null):(p=u.sibling,u.sibling=null),vh(o,!1,p,u,g);break;case"backwards":for(u=null,p=o.child,o.child=null;p!==null;){if(r=p.alternate,r!==null&&vl(r)===null){o.child=p;break}r=p.sibling,p.sibling=u,u=p,p=r}vh(o,!0,u,null,g);break;case"together":vh(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function Al(r,o){!(o.mode&1)&&r!==null&&(r.alternate=null,o.alternate=null,o.flags|=2)}function Fr(r,o,u){if(r!==null&&(o.dependencies=r.dependencies),hs|=o.lanes,!(u&o.childLanes))return null;if(r!==null&&o.child!==r.child)throw Error(t(153));if(o.child!==null){for(r=o.child,u=wi(r,r.pendingProps),o.child=u,u.return=o;r.sibling!==null;)r=r.sibling,u=u.sibling=wi(r,r.pendingProps),u.return=o;u.sibling=null}return o.child}function eT(r,o,u){switch(o.tag){case 3:Tg(o),uo();break;case 5:zm(o);break;case 1:sn(o.type)&&ul(o);break;case 4:Xd(o,o.stateNode.containerInfo);break;case 10:var d=o.type._context,p=o.memoizedProps.value;et(pl,d._currentValue),d._currentValue=p;break;case 13:if(d=o.memoizedState,d!==null)return d.dehydrated!==null?(et(ot,ot.current&1),o.flags|=128,null):u&o.child.childLanes?Cg(r,o,u):(et(ot,ot.current&1),r=Fr(r,o,u),r!==null?r.sibling:null);et(ot,ot.current&1);break;case 19:if(d=(u&o.childLanes)!==0,r.flags&128){if(d)return Rg(r,o,u);o.flags|=128}if(p=o.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),et(ot,ot.current),d)break;return null;case 22:case 23:return o.lanes=0,wg(r,o,u)}return Fr(r,o,u)}var Pg,_h,kg,bg;Pg=function(r,o){for(var u=o.child;u!==null;){if(u.tag===5||u.tag===6)r.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===o)break;for(;u.sibling===null;){if(u.return===null||u.return===o)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},_h=function(){},kg=function(r,o,u,d){var p=r.memoizedProps;if(p!==d){r=o.stateNode,cs(ur.current);var g=null;switch(u){case"input":p=Zn(r,p),d=Zn(r,d),g=[];break;case"select":p=ae({},p,{value:void 0}),d=ae({},d,{value:void 0}),g=[];break;case"textarea":p=Yo(r,p),d=Yo(r,d),g=[];break;default:typeof p.onClick!="function"&&typeof d.onClick=="function"&&(r.onclick=sl)}na(u,d);var w;u=null;for(q in p)if(!d.hasOwnProperty(q)&&p.hasOwnProperty(q)&&p[q]!=null)if(q==="style"){var R=p[q];for(w in R)R.hasOwnProperty(w)&&(u||(u={}),u[w]="")}else q!=="dangerouslySetInnerHTML"&&q!=="children"&&q!=="suppressContentEditableWarning"&&q!=="suppressHydrationWarning"&&q!=="autoFocus"&&(s.hasOwnProperty(q)?g||(g=[]):(g=g||[]).push(q,null));for(q in d){var D=d[q];if(R=p!=null?p[q]:void 0,d.hasOwnProperty(q)&&D!==R&&(D!=null||R!=null))if(q==="style")if(R){for(w in R)!R.hasOwnProperty(w)||D&&D.hasOwnProperty(w)||(u||(u={}),u[w]="");for(w in D)D.hasOwnProperty(w)&&R[w]!==D[w]&&(u||(u={}),u[w]=D[w])}else u||(g||(g=[]),g.push(q,u)),u=D;else q==="dangerouslySetInnerHTML"?(D=D?D.__html:void 0,R=R?R.__html:void 0,D!=null&&R!==D&&(g=g||[]).push(q,D)):q==="children"?typeof D!="string"&&typeof D!="number"||(g=g||[]).push(q,""+D):q!=="suppressContentEditableWarning"&&q!=="suppressHydrationWarning"&&(s.hasOwnProperty(q)?(D!=null&&q==="onScroll"&&tt("scroll",r),g||R===D||(g=[])):(g=g||[]).push(q,D))}u&&(g=g||[]).push("style",u);var q=g;(o.updateQueue=q)&&(o.flags|=4)}},bg=function(r,o,u,d){u!==d&&(o.flags|=4)};function La(r,o){if(!st)switch(r.tailMode){case"hidden":o=r.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?r.tail=null:u.sibling=null;break;case"collapsed":u=r.tail;for(var d=null;u!==null;)u.alternate!==null&&(d=u),u=u.sibling;d===null?o||r.tail===null?r.tail=null:r.tail.sibling=null:d.sibling=null}}function Bt(r){var o=r.alternate!==null&&r.alternate.child===r.child,u=0,d=0;if(o)for(var p=r.child;p!==null;)u|=p.lanes|p.childLanes,d|=p.subtreeFlags&14680064,d|=p.flags&14680064,p.return=r,p=p.sibling;else for(p=r.child;p!==null;)u|=p.lanes|p.childLanes,d|=p.subtreeFlags,d|=p.flags,p.return=r,p=p.sibling;return r.subtreeFlags|=d,r.childLanes=u,o}function tT(r,o,u){var d=o.pendingProps;switch(zd(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Bt(o),null;case 1:return sn(o.type)&&al(),Bt(o),null;case 3:return d=o.stateNode,fo(),nt(rn),nt(zt),eh(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(r===null||r.child===null)&&(hl(o)?o.flags|=4:r===null||r.memoizedState.isDehydrated&&!(o.flags&256)||(o.flags|=1024,qn!==null&&(bh(qn),qn=null))),_h(r,o),Bt(o),null;case 5:Jd(o);var p=cs(Oa.current);if(u=o.type,r!==null&&o.stateNode!=null)kg(r,o,u,d,p),r.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!d){if(o.stateNode===null)throw Error(t(166));return Bt(o),null}if(r=cs(ur.current),hl(o)){d=o.stateNode,u=o.type;var g=o.memoizedProps;switch(d[ar]=o,d[Aa]=g,r=(o.mode&1)!==0,u){case"dialog":tt("cancel",d),tt("close",d);break;case"iframe":case"object":case"embed":tt("load",d);break;case"video":case"audio":for(p=0;p<Ta.length;p++)tt(Ta[p],d);break;case"source":tt("error",d);break;case"img":case"image":case"link":tt("error",d),tt("load",d);break;case"details":tt("toggle",d);break;case"input":Xr(d,g),tt("invalid",d);break;case"select":d._wrapperState={wasMultiple:!!g.multiple},tt("invalid",d);break;case"textarea":ks(d,g),tt("invalid",d)}na(u,g),p=null;for(var w in g)if(g.hasOwnProperty(w)){var R=g[w];w==="children"?typeof R=="string"?d.textContent!==R&&(g.suppressHydrationWarning!==!0&&il(d.textContent,R,r),p=["children",R]):typeof R=="number"&&d.textContent!==""+R&&(g.suppressHydrationWarning!==!0&&il(d.textContent,R,r),p=["children",""+R]):s.hasOwnProperty(w)&&R!=null&&w==="onScroll"&&tt("scroll",d)}switch(u){case"input":In(d),bu(d,g,!0);break;case"textarea":In(d),Xo(d);break;case"select":case"option":break;default:typeof g.onClick=="function"&&(d.onclick=sl)}d=p,o.updateQueue=d,d!==null&&(o.flags|=4)}else{w=p.nodeType===9?p:p.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=wt(u)),r==="http://www.w3.org/1999/xhtml"?u==="script"?(r=w.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof d.is=="string"?r=w.createElement(u,{is:d.is}):(r=w.createElement(u),u==="select"&&(w=r,d.multiple?w.multiple=!0:d.size&&(w.size=d.size))):r=w.createElementNS(r,u),r[ar]=o,r[Aa]=d,Pg(r,o,!1,!1),o.stateNode=r;e:{switch(w=ra(u,d),u){case"dialog":tt("cancel",r),tt("close",r),p=d;break;case"iframe":case"object":case"embed":tt("load",r),p=d;break;case"video":case"audio":for(p=0;p<Ta.length;p++)tt(Ta[p],r);p=d;break;case"source":tt("error",r),p=d;break;case"img":case"image":case"link":tt("error",r),tt("load",r),p=d;break;case"details":tt("toggle",r),p=d;break;case"input":Xr(r,d),p=Zn(r,d),tt("invalid",r);break;case"option":p=d;break;case"select":r._wrapperState={wasMultiple:!!d.multiple},p=ae({},d,{value:void 0}),tt("invalid",r);break;case"textarea":ks(r,d),p=Yo(r,d),tt("invalid",r);break;default:p=d}na(u,p),R=p;for(g in R)if(R.hasOwnProperty(g)){var D=R[g];g==="style"?ea(r,D):g==="dangerouslySetInnerHTML"?(D=D?D.__html:void 0,D!=null&&Jo(r,D)):g==="children"?typeof D=="string"?(u!=="textarea"||D!=="")&&Jr(r,D):typeof D=="number"&&Jr(r,""+D):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(s.hasOwnProperty(g)?D!=null&&g==="onScroll"&&tt("scroll",r):D!=null&&W(r,g,D,w))}switch(u){case"input":In(r),bu(r,d,!1);break;case"textarea":In(r),Xo(r);break;case"option":d.value!=null&&r.setAttribute("value",""+Oe(d.value));break;case"select":r.multiple=!!d.multiple,g=d.value,g!=null?Sr(r,!!d.multiple,g,!1):d.defaultValue!=null&&Sr(r,!!d.multiple,d.defaultValue,!0);break;default:typeof p.onClick=="function"&&(r.onclick=sl)}switch(u){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}}d&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return Bt(o),null;case 6:if(r&&o.stateNode!=null)bg(r,o,r.memoizedProps,d);else{if(typeof d!="string"&&o.stateNode===null)throw Error(t(166));if(u=cs(Oa.current),cs(ur.current),hl(o)){if(d=o.stateNode,u=o.memoizedProps,d[ar]=o,(g=d.nodeValue!==u)&&(r=yn,r!==null))switch(r.tag){case 3:il(d.nodeValue,u,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&il(d.nodeValue,u,(r.mode&1)!==0)}g&&(o.flags|=4)}else d=(u.nodeType===9?u:u.ownerDocument).createTextNode(d),d[ar]=o,o.stateNode=d}return Bt(o),null;case 13:if(nt(ot),d=o.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(st&&vn!==null&&o.mode&1&&!(o.flags&128))Dm(),uo(),o.flags|=98560,g=!1;else if(g=hl(o),d!==null&&d.dehydrated!==null){if(r===null){if(!g)throw Error(t(318));if(g=o.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(t(317));g[ar]=o}else uo(),!(o.flags&128)&&(o.memoizedState=null),o.flags|=4;Bt(o),g=!1}else qn!==null&&(bh(qn),qn=null),g=!0;if(!g)return o.flags&65536?o:null}return o.flags&128?(o.lanes=u,o):(d=d!==null,d!==(r!==null&&r.memoizedState!==null)&&d&&(o.child.flags|=8192,o.mode&1&&(r===null||ot.current&1?St===0&&(St=3):Dh())),o.updateQueue!==null&&(o.flags|=4),Bt(o),null);case 4:return fo(),_h(r,o),r===null&&Sa(o.stateNode.containerInfo),Bt(o),null;case 10:return Gd(o.type._context),Bt(o),null;case 17:return sn(o.type)&&al(),Bt(o),null;case 19:if(nt(ot),g=o.memoizedState,g===null)return Bt(o),null;if(d=(o.flags&128)!==0,w=g.rendering,w===null)if(d)La(g,!1);else{if(St!==0||r!==null&&r.flags&128)for(r=o.child;r!==null;){if(w=vl(r),w!==null){for(o.flags|=128,La(g,!1),d=w.updateQueue,d!==null&&(o.updateQueue=d,o.flags|=4),o.subtreeFlags=0,d=u,u=o.child;u!==null;)g=u,r=d,g.flags&=14680066,w=g.alternate,w===null?(g.childLanes=0,g.lanes=r,g.child=null,g.subtreeFlags=0,g.memoizedProps=null,g.memoizedState=null,g.updateQueue=null,g.dependencies=null,g.stateNode=null):(g.childLanes=w.childLanes,g.lanes=w.lanes,g.child=w.child,g.subtreeFlags=0,g.deletions=null,g.memoizedProps=w.memoizedProps,g.memoizedState=w.memoizedState,g.updateQueue=w.updateQueue,g.type=w.type,r=w.dependencies,g.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),u=u.sibling;return et(ot,ot.current&1|2),o.child}r=r.sibling}g.tail!==null&&Ze()>yo&&(o.flags|=128,d=!0,La(g,!1),o.lanes=4194304)}else{if(!d)if(r=vl(w),r!==null){if(o.flags|=128,d=!0,u=r.updateQueue,u!==null&&(o.updateQueue=u,o.flags|=4),La(g,!0),g.tail===null&&g.tailMode==="hidden"&&!w.alternate&&!st)return Bt(o),null}else 2*Ze()-g.renderingStartTime>yo&&u!==1073741824&&(o.flags|=128,d=!0,La(g,!1),o.lanes=4194304);g.isBackwards?(w.sibling=o.child,o.child=w):(u=g.last,u!==null?u.sibling=w:o.child=w,g.last=w)}return g.tail!==null?(o=g.tail,g.rendering=o,g.tail=o.sibling,g.renderingStartTime=Ze(),o.sibling=null,u=ot.current,et(ot,d?u&1|2:u&1),o):(Bt(o),null);case 22:case 23:return xh(),d=o.memoizedState!==null,r!==null&&r.memoizedState!==null!==d&&(o.flags|=8192),d&&o.mode&1?_n&1073741824&&(Bt(o),o.subtreeFlags&6&&(o.flags|=8192)):Bt(o),null;case 24:return null;case 25:return null}throw Error(t(156,o.tag))}function nT(r,o){switch(zd(o),o.tag){case 1:return sn(o.type)&&al(),r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 3:return fo(),nt(rn),nt(zt),eh(),r=o.flags,r&65536&&!(r&128)?(o.flags=r&-65537|128,o):null;case 5:return Jd(o),null;case 13:if(nt(ot),r=o.memoizedState,r!==null&&r.dehydrated!==null){if(o.alternate===null)throw Error(t(340));uo()}return r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 19:return nt(ot),null;case 4:return fo(),null;case 10:return Gd(o.type._context),null;case 22:case 23:return xh(),null;case 24:return null;default:return null}}var Rl=!1,Ht=!1,rT=typeof WeakSet=="function"?WeakSet:Set,he=null;function mo(r,o){var u=r.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(d){lt(r,o,d)}else u.current=null}function wh(r,o,u){try{u()}catch(d){lt(r,o,d)}}var Og=!1;function iT(r,o){if(xd=oi,r=lm(),Sd(r)){if("selectionStart"in r)var u={start:r.selectionStart,end:r.selectionEnd};else e:{u=(u=r.ownerDocument)&&u.defaultView||window;var d=u.getSelection&&u.getSelection();if(d&&d.rangeCount!==0){u=d.anchorNode;var p=d.anchorOffset,g=d.focusNode;d=d.focusOffset;try{u.nodeType,g.nodeType}catch{u=null;break e}var w=0,R=-1,D=-1,q=0,ee=0,ne=r,Z=null;t:for(;;){for(var le;ne!==u||p!==0&&ne.nodeType!==3||(R=w+p),ne!==g||d!==0&&ne.nodeType!==3||(D=w+d),ne.nodeType===3&&(w+=ne.nodeValue.length),(le=ne.firstChild)!==null;)Z=ne,ne=le;for(;;){if(ne===r)break t;if(Z===u&&++q===p&&(R=w),Z===g&&++ee===d&&(D=w),(le=ne.nextSibling)!==null)break;ne=Z,Z=ne.parentNode}ne=le}u=R===-1||D===-1?null:{start:R,end:D}}else u=null}u=u||{start:0,end:0}}else u=null;for(Dd={focusedElem:r,selectionRange:u},oi=!1,he=o;he!==null;)if(o=he,r=o.child,(o.subtreeFlags&1028)!==0&&r!==null)r.return=o,he=r;else for(;he!==null;){o=he;try{var fe=o.alternate;if(o.flags&1024)switch(o.tag){case 0:case 11:case 15:break;case 1:if(fe!==null){var me=fe.memoizedProps,ht=fe.memoizedState,j=o.stateNode,L=j.getSnapshotBeforeUpdate(o.elementType===o.type?me:Wn(o.type,me),ht);j.__reactInternalSnapshotBeforeUpdate=L}break;case 3:var z=o.stateNode.containerInfo;z.nodeType===1?z.textContent="":z.nodeType===9&&z.documentElement&&z.removeChild(z.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(se){lt(o,o.return,se)}if(r=o.sibling,r!==null){r.return=o.return,he=r;break}he=o.return}return fe=Og,Og=!1,fe}function Ma(r,o,u){var d=o.updateQueue;if(d=d!==null?d.lastEffect:null,d!==null){var p=d=d.next;do{if((p.tag&r)===r){var g=p.destroy;p.destroy=void 0,g!==void 0&&wh(o,u,g)}p=p.next}while(p!==d)}}function Pl(r,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var u=o=o.next;do{if((u.tag&r)===r){var d=u.create;u.destroy=d()}u=u.next}while(u!==o)}}function Eh(r){var o=r.ref;if(o!==null){var u=r.stateNode;switch(r.tag){case 5:r=u;break;default:r=u}typeof o=="function"?o(r):o.current=r}}function xg(r){var o=r.alternate;o!==null&&(r.alternate=null,xg(o)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(o=r.stateNode,o!==null&&(delete o[ar],delete o[Aa],delete o[Md],delete o[jI],delete o[zI])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function Dg(r){return r.tag===5||r.tag===3||r.tag===4}function Vg(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||Dg(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Ih(r,o,u){var d=r.tag;if(d===5||d===6)r=r.stateNode,o?u.nodeType===8?u.parentNode.insertBefore(r,o):u.insertBefore(r,o):(u.nodeType===8?(o=u.parentNode,o.insertBefore(r,u)):(o=u,o.appendChild(r)),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=sl));else if(d!==4&&(r=r.child,r!==null))for(Ih(r,o,u),r=r.sibling;r!==null;)Ih(r,o,u),r=r.sibling}function Th(r,o,u){var d=r.tag;if(d===5||d===6)r=r.stateNode,o?u.insertBefore(r,o):u.appendChild(r);else if(d!==4&&(r=r.child,r!==null))for(Th(r,o,u),r=r.sibling;r!==null;)Th(r,o,u),r=r.sibling}var Nt=null,Gn=!1;function mi(r,o,u){for(u=u.child;u!==null;)Ng(r,o,u),u=u.sibling}function Ng(r,o,u){if(fn&&typeof fn.onCommitFiberUnmount=="function")try{fn.onCommitFiberUnmount(Ji,u)}catch{}switch(u.tag){case 5:Ht||mo(u,o);case 6:var d=Nt,p=Gn;Nt=null,mi(r,o,u),Nt=d,Gn=p,Nt!==null&&(Gn?(r=Nt,u=u.stateNode,r.nodeType===8?r.parentNode.removeChild(u):r.removeChild(u)):Nt.removeChild(u.stateNode));break;case 18:Nt!==null&&(Gn?(r=Nt,u=u.stateNode,r.nodeType===8?Ld(r.parentNode,u):r.nodeType===1&&Ld(r,u),$n(r)):Ld(Nt,u.stateNode));break;case 4:d=Nt,p=Gn,Nt=u.stateNode.containerInfo,Gn=!0,mi(r,o,u),Nt=d,Gn=p;break;case 0:case 11:case 14:case 15:if(!Ht&&(d=u.updateQueue,d!==null&&(d=d.lastEffect,d!==null))){p=d=d.next;do{var g=p,w=g.destroy;g=g.tag,w!==void 0&&(g&2||g&4)&&wh(u,o,w),p=p.next}while(p!==d)}mi(r,o,u);break;case 1:if(!Ht&&(mo(u,o),d=u.stateNode,typeof d.componentWillUnmount=="function"))try{d.props=u.memoizedProps,d.state=u.memoizedState,d.componentWillUnmount()}catch(R){lt(u,o,R)}mi(r,o,u);break;case 21:mi(r,o,u);break;case 22:u.mode&1?(Ht=(d=Ht)||u.memoizedState!==null,mi(r,o,u),Ht=d):mi(r,o,u);break;default:mi(r,o,u)}}function Lg(r){var o=r.updateQueue;if(o!==null){r.updateQueue=null;var u=r.stateNode;u===null&&(u=r.stateNode=new rT),o.forEach(function(d){var p=fT.bind(null,r,d);u.has(d)||(u.add(d),d.then(p,p))})}}function Kn(r,o){var u=o.deletions;if(u!==null)for(var d=0;d<u.length;d++){var p=u[d];try{var g=r,w=o,R=w;e:for(;R!==null;){switch(R.tag){case 5:Nt=R.stateNode,Gn=!1;break e;case 3:Nt=R.stateNode.containerInfo,Gn=!0;break e;case 4:Nt=R.stateNode.containerInfo,Gn=!0;break e}R=R.return}if(Nt===null)throw Error(t(160));Ng(g,w,p),Nt=null,Gn=!1;var D=p.alternate;D!==null&&(D.return=null),p.return=null}catch(q){lt(p,o,q)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)Mg(o,r),o=o.sibling}function Mg(r,o){var u=r.alternate,d=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(Kn(o,r),cr(r),d&4){try{Ma(3,r,r.return),Pl(3,r)}catch(me){lt(r,r.return,me)}try{Ma(5,r,r.return)}catch(me){lt(r,r.return,me)}}break;case 1:Kn(o,r),cr(r),d&512&&u!==null&&mo(u,u.return);break;case 5:if(Kn(o,r),cr(r),d&512&&u!==null&&mo(u,u.return),r.flags&32){var p=r.stateNode;try{Jr(p,"")}catch(me){lt(r,r.return,me)}}if(d&4&&(p=r.stateNode,p!=null)){var g=r.memoizedProps,w=u!==null?u.memoizedProps:g,R=r.type,D=r.updateQueue;if(r.updateQueue=null,D!==null)try{R==="input"&&g.type==="radio"&&g.name!=null&&Ko(p,g),ra(R,w);var q=ra(R,g);for(w=0;w<D.length;w+=2){var ee=D[w],ne=D[w+1];ee==="style"?ea(p,ne):ee==="dangerouslySetInnerHTML"?Jo(p,ne):ee==="children"?Jr(p,ne):W(p,ee,ne,q)}switch(R){case"input":Qo(p,g);break;case"textarea":bs(p,g);break;case"select":var Z=p._wrapperState.wasMultiple;p._wrapperState.wasMultiple=!!g.multiple;var le=g.value;le!=null?Sr(p,!!g.multiple,le,!1):Z!==!!g.multiple&&(g.defaultValue!=null?Sr(p,!!g.multiple,g.defaultValue,!0):Sr(p,!!g.multiple,g.multiple?[]:"",!1))}p[Aa]=g}catch(me){lt(r,r.return,me)}}break;case 6:if(Kn(o,r),cr(r),d&4){if(r.stateNode===null)throw Error(t(162));p=r.stateNode,g=r.memoizedProps;try{p.nodeValue=g}catch(me){lt(r,r.return,me)}}break;case 3:if(Kn(o,r),cr(r),d&4&&u!==null&&u.memoizedState.isDehydrated)try{$n(o.containerInfo)}catch(me){lt(r,r.return,me)}break;case 4:Kn(o,r),cr(r);break;case 13:Kn(o,r),cr(r),p=r.child,p.flags&8192&&(g=p.memoizedState!==null,p.stateNode.isHidden=g,!g||p.alternate!==null&&p.alternate.memoizedState!==null||(Ah=Ze())),d&4&&Lg(r);break;case 22:if(ee=u!==null&&u.memoizedState!==null,r.mode&1?(Ht=(q=Ht)||ee,Kn(o,r),Ht=q):Kn(o,r),cr(r),d&8192){if(q=r.memoizedState!==null,(r.stateNode.isHidden=q)&&!ee&&r.mode&1)for(he=r,ee=r.child;ee!==null;){for(ne=he=ee;he!==null;){switch(Z=he,le=Z.child,Z.tag){case 0:case 11:case 14:case 15:Ma(4,Z,Z.return);break;case 1:mo(Z,Z.return);var fe=Z.stateNode;if(typeof fe.componentWillUnmount=="function"){d=Z,u=Z.return;try{o=d,fe.props=o.memoizedProps,fe.state=o.memoizedState,fe.componentWillUnmount()}catch(me){lt(d,u,me)}}break;case 5:mo(Z,Z.return);break;case 22:if(Z.memoizedState!==null){jg(ne);continue}}le!==null?(le.return=Z,he=le):jg(ne)}ee=ee.sibling}e:for(ee=null,ne=r;;){if(ne.tag===5){if(ee===null){ee=ne;try{p=ne.stateNode,q?(g=p.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none"):(R=ne.stateNode,D=ne.memoizedProps.style,w=D!=null&&D.hasOwnProperty("display")?D.display:null,R.style.display=Zo("display",w))}catch(me){lt(r,r.return,me)}}}else if(ne.tag===6){if(ee===null)try{ne.stateNode.nodeValue=q?"":ne.memoizedProps}catch(me){lt(r,r.return,me)}}else if((ne.tag!==22&&ne.tag!==23||ne.memoizedState===null||ne===r)&&ne.child!==null){ne.child.return=ne,ne=ne.child;continue}if(ne===r)break e;for(;ne.sibling===null;){if(ne.return===null||ne.return===r)break e;ee===ne&&(ee=null),ne=ne.return}ee===ne&&(ee=null),ne.sibling.return=ne.return,ne=ne.sibling}}break;case 19:Kn(o,r),cr(r),d&4&&Lg(r);break;case 21:break;default:Kn(o,r),cr(r)}}function cr(r){var o=r.flags;if(o&2){try{e:{for(var u=r.return;u!==null;){if(Dg(u)){var d=u;break e}u=u.return}throw Error(t(160))}switch(d.tag){case 5:var p=d.stateNode;d.flags&32&&(Jr(p,""),d.flags&=-33);var g=Vg(r);Th(r,g,p);break;case 3:case 4:var w=d.stateNode.containerInfo,R=Vg(r);Ih(r,R,w);break;default:throw Error(t(161))}}catch(D){lt(r,r.return,D)}r.flags&=-3}o&4096&&(r.flags&=-4097)}function sT(r,o,u){he=r,Fg(r)}function Fg(r,o,u){for(var d=(r.mode&1)!==0;he!==null;){var p=he,g=p.child;if(p.tag===22&&d){var w=p.memoizedState!==null||Rl;if(!w){var R=p.alternate,D=R!==null&&R.memoizedState!==null||Ht;R=Rl;var q=Ht;if(Rl=w,(Ht=D)&&!q)for(he=p;he!==null;)w=he,D=w.child,w.tag===22&&w.memoizedState!==null?zg(p):D!==null?(D.return=w,he=D):zg(p);for(;g!==null;)he=g,Fg(g),g=g.sibling;he=p,Rl=R,Ht=q}Ug(r)}else p.subtreeFlags&8772&&g!==null?(g.return=p,he=g):Ug(r)}}function Ug(r){for(;he!==null;){var o=he;if(o.flags&8772){var u=o.alternate;try{if(o.flags&8772)switch(o.tag){case 0:case 11:case 15:Ht||Pl(5,o);break;case 1:var d=o.stateNode;if(o.flags&4&&!Ht)if(u===null)d.componentDidMount();else{var p=o.elementType===o.type?u.memoizedProps:Wn(o.type,u.memoizedProps);d.componentDidUpdate(p,u.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var g=o.updateQueue;g!==null&&jm(o,g,d);break;case 3:var w=o.updateQueue;if(w!==null){if(u=null,o.child!==null)switch(o.child.tag){case 5:u=o.child.stateNode;break;case 1:u=o.child.stateNode}jm(o,w,u)}break;case 5:var R=o.stateNode;if(u===null&&o.flags&4){u=R;var D=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":D.autoFocus&&u.focus();break;case"img":D.src&&(u.src=D.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var q=o.alternate;if(q!==null){var ee=q.memoizedState;if(ee!==null){var ne=ee.dehydrated;ne!==null&&$n(ne)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Ht||o.flags&512&&Eh(o)}catch(Z){lt(o,o.return,Z)}}if(o===r){he=null;break}if(u=o.sibling,u!==null){u.return=o.return,he=u;break}he=o.return}}function jg(r){for(;he!==null;){var o=he;if(o===r){he=null;break}var u=o.sibling;if(u!==null){u.return=o.return,he=u;break}he=o.return}}function zg(r){for(;he!==null;){var o=he;try{switch(o.tag){case 0:case 11:case 15:var u=o.return;try{Pl(4,o)}catch(D){lt(o,u,D)}break;case 1:var d=o.stateNode;if(typeof d.componentDidMount=="function"){var p=o.return;try{d.componentDidMount()}catch(D){lt(o,p,D)}}var g=o.return;try{Eh(o)}catch(D){lt(o,g,D)}break;case 5:var w=o.return;try{Eh(o)}catch(D){lt(o,w,D)}}}catch(D){lt(o,o.return,D)}if(o===r){he=null;break}var R=o.sibling;if(R!==null){R.return=o.return,he=R;break}he=o.return}}var oT=Math.ceil,kl=Q.ReactCurrentDispatcher,Sh=Q.ReactCurrentOwner,On=Q.ReactCurrentBatchConfig,He=0,bt=null,gt=null,Lt=0,_n=0,go=ci(0),St=0,Fa=null,hs=0,bl=0,Ch=0,Ua=null,an=null,Ah=0,yo=1/0,Ur=null,Ol=!1,Rh=null,gi=null,xl=!1,yi=null,Dl=0,ja=0,Ph=null,Vl=-1,Nl=0;function en(){return He&6?Ze():Vl!==-1?Vl:Vl=Ze()}function vi(r){return r.mode&1?He&2&&Lt!==0?Lt&-Lt:BI.transition!==null?(Nl===0&&(Nl=es()),Nl):(r=Ue,r!==0||(r=window.event,r=r===void 0?16:pa(r.type)),r):1}function Qn(r,o,u,d){if(50<ja)throw ja=0,Ph=null,Error(t(185));ni(r,u,d),(!(He&2)||r!==bt)&&(r===bt&&(!(He&2)&&(bl|=u),St===4&&_i(r,Lt)),un(r,d),u===1&&He===0&&!(o.mode&1)&&(yo=Ze()+500,ll&&hi()))}function un(r,o){var u=r.callbackNode;Rr(r,o);var d=Zi(r,r===bt?Lt:0);if(d===0)u!==null&&la(u),r.callbackNode=null,r.callbackPriority=0;else if(o=d&-d,r.callbackPriority!==o){if(u!=null&&la(u),o===1)r.tag===0?$I(Bg.bind(null,r)):Pm(Bg.bind(null,r)),FI(function(){!(He&6)&&hi()}),u=null;else{switch(ii(d)){case 1:u=Xi;break;case 4:u=Zr;break;case 16:u=Sn;break;case 536870912:u=Nu;break;default:u=Sn}u=Xg(u,$g.bind(null,r))}r.callbackPriority=o,r.callbackNode=u}}function $g(r,o){if(Vl=-1,Nl=0,He&6)throw Error(t(327));var u=r.callbackNode;if(vo()&&r.callbackNode!==u)return null;var d=Zi(r,r===bt?Lt:0);if(d===0)return null;if(d&30||d&r.expiredLanes||o)o=Ll(r,d);else{o=d;var p=He;He|=2;var g=qg();(bt!==r||Lt!==o)&&(Ur=null,yo=Ze()+500,ps(r,o));do try{lT();break}catch(R){Hg(r,R)}while(!0);Wd(),kl.current=g,He=p,gt!==null?o=0:(bt=null,Lt=0,o=St)}if(o!==0){if(o===2&&(p=pn(r),p!==0&&(d=p,o=kh(r,p))),o===1)throw u=Fa,ps(r,0),_i(r,d),un(r,Ze()),u;if(o===6)_i(r,d);else{if(p=r.current.alternate,!(d&30)&&!aT(p)&&(o=Ll(r,d),o===2&&(g=pn(r),g!==0&&(d=g,o=kh(r,g))),o===1))throw u=Fa,ps(r,0),_i(r,d),un(r,Ze()),u;switch(r.finishedWork=p,r.finishedLanes=d,o){case 0:case 1:throw Error(t(345));case 2:ms(r,an,Ur);break;case 3:if(_i(r,d),(d&130023424)===d&&(o=Ah+500-Ze(),10<o)){if(Zi(r,0)!==0)break;if(p=r.suspendedLanes,(p&d)!==d){en(),r.pingedLanes|=r.suspendedLanes&p;break}r.timeoutHandle=Nd(ms.bind(null,r,an,Ur),o);break}ms(r,an,Ur);break;case 4:if(_i(r,d),(d&4194240)===d)break;for(o=r.eventTimes,p=-1;0<d;){var w=31-Xt(d);g=1<<w,w=o[w],w>p&&(p=w),d&=~g}if(d=p,d=Ze()-d,d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3e3>d?3e3:4320>d?4320:1960*oT(d/1960))-d,10<d){r.timeoutHandle=Nd(ms.bind(null,r,an,Ur),d);break}ms(r,an,Ur);break;case 5:ms(r,an,Ur);break;default:throw Error(t(329))}}}return un(r,Ze()),r.callbackNode===u?$g.bind(null,r):null}function kh(r,o){var u=Ua;return r.current.memoizedState.isDehydrated&&(ps(r,o).flags|=256),r=Ll(r,o),r!==2&&(o=an,an=u,o!==null&&bh(o)),r}function bh(r){an===null?an=r:an.push.apply(an,r)}function aT(r){for(var o=r;;){if(o.flags&16384){var u=o.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var d=0;d<u.length;d++){var p=u[d],g=p.getSnapshot;p=p.value;try{if(!Hn(g(),p))return!1}catch{return!1}}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function _i(r,o){for(o&=~Ch,o&=~bl,r.suspendedLanes|=o,r.pingedLanes&=~o,r=r.expirationTimes;0<o;){var u=31-Xt(o),d=1<<u;r[u]=-1,o&=~d}}function Bg(r){if(He&6)throw Error(t(327));vo();var o=Zi(r,0);if(!(o&1))return un(r,Ze()),null;var u=Ll(r,o);if(r.tag!==0&&u===2){var d=pn(r);d!==0&&(o=d,u=kh(r,d))}if(u===1)throw u=Fa,ps(r,0),_i(r,o),un(r,Ze()),u;if(u===6)throw Error(t(345));return r.finishedWork=r.current.alternate,r.finishedLanes=o,ms(r,an,Ur),un(r,Ze()),null}function Oh(r,o){var u=He;He|=1;try{return r(o)}finally{He=u,He===0&&(yo=Ze()+500,ll&&hi())}}function fs(r){yi!==null&&yi.tag===0&&!(He&6)&&vo();var o=He;He|=1;var u=On.transition,d=Ue;try{if(On.transition=null,Ue=1,r)return r()}finally{Ue=d,On.transition=u,He=o,!(He&6)&&hi()}}function xh(){_n=go.current,nt(go)}function ps(r,o){r.finishedWork=null,r.finishedLanes=0;var u=r.timeoutHandle;if(u!==-1&&(r.timeoutHandle=-1,MI(u)),gt!==null)for(u=gt.return;u!==null;){var d=u;switch(zd(d),d.tag){case 1:d=d.type.childContextTypes,d!=null&&al();break;case 3:fo(),nt(rn),nt(zt),eh();break;case 5:Jd(d);break;case 4:fo();break;case 13:nt(ot);break;case 19:nt(ot);break;case 10:Gd(d.type._context);break;case 22:case 23:xh()}u=u.return}if(bt=r,gt=r=wi(r.current,null),Lt=_n=o,St=0,Fa=null,Ch=bl=hs=0,an=Ua=null,ls!==null){for(o=0;o<ls.length;o++)if(u=ls[o],d=u.interleaved,d!==null){u.interleaved=null;var p=d.next,g=u.pending;if(g!==null){var w=g.next;g.next=p,d.next=w}u.pending=d}ls=null}return r}function Hg(r,o){do{var u=gt;try{if(Wd(),_l.current=Tl,wl){for(var d=at.memoizedState;d!==null;){var p=d.queue;p!==null&&(p.pending=null),d=d.next}wl=!1}if(ds=0,kt=Tt=at=null,xa=!1,Da=0,Sh.current=null,u===null||u.return===null){St=1,Fa=o,gt=null;break}e:{var g=r,w=u.return,R=u,D=o;if(o=Lt,R.flags|=32768,D!==null&&typeof D=="object"&&typeof D.then=="function"){var q=D,ee=R,ne=ee.tag;if(!(ee.mode&1)&&(ne===0||ne===11||ne===15)){var Z=ee.alternate;Z?(ee.updateQueue=Z.updateQueue,ee.memoizedState=Z.memoizedState,ee.lanes=Z.lanes):(ee.updateQueue=null,ee.memoizedState=null)}var le=mg(w);if(le!==null){le.flags&=-257,gg(le,w,R,g,o),le.mode&1&&pg(g,q,o),o=le,D=q;var fe=o.updateQueue;if(fe===null){var me=new Set;me.add(D),o.updateQueue=me}else fe.add(D);break e}else{if(!(o&1)){pg(g,q,o),Dh();break e}D=Error(t(426))}}else if(st&&R.mode&1){var ht=mg(w);if(ht!==null){!(ht.flags&65536)&&(ht.flags|=256),gg(ht,w,R,g,o),Hd(po(D,R));break e}}g=D=po(D,R),St!==4&&(St=2),Ua===null?Ua=[g]:Ua.push(g),g=w;do{switch(g.tag){case 3:g.flags|=65536,o&=-o,g.lanes|=o;var j=hg(g,D,o);Um(g,j);break e;case 1:R=D;var L=g.type,z=g.stateNode;if(!(g.flags&128)&&(typeof L.getDerivedStateFromError=="function"||z!==null&&typeof z.componentDidCatch=="function"&&(gi===null||!gi.has(z)))){g.flags|=65536,o&=-o,g.lanes|=o;var se=fg(g,R,o);Um(g,se);break e}}g=g.return}while(g!==null)}Gg(u)}catch(ge){o=ge,gt===u&&u!==null&&(gt=u=u.return);continue}break}while(!0)}function qg(){var r=kl.current;return kl.current=Tl,r===null?Tl:r}function Dh(){(St===0||St===3||St===2)&&(St=4),bt===null||!(hs&268435455)&&!(bl&268435455)||_i(bt,Lt)}function Ll(r,o){var u=He;He|=2;var d=qg();(bt!==r||Lt!==o)&&(Ur=null,ps(r,o));do try{uT();break}catch(p){Hg(r,p)}while(!0);if(Wd(),He=u,kl.current=d,gt!==null)throw Error(t(261));return bt=null,Lt=0,St}function uT(){for(;gt!==null;)Wg(gt)}function lT(){for(;gt!==null&&!Du();)Wg(gt)}function Wg(r){var o=Yg(r.alternate,r,_n);r.memoizedProps=r.pendingProps,o===null?Gg(r):gt=o,Sh.current=null}function Gg(r){var o=r;do{var u=o.alternate;if(r=o.return,o.flags&32768){if(u=nT(u,o),u!==null){u.flags&=32767,gt=u;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{St=6,gt=null;return}}else if(u=tT(u,o,_n),u!==null){gt=u;return}if(o=o.sibling,o!==null){gt=o;return}gt=o=r}while(o!==null);St===0&&(St=5)}function ms(r,o,u){var d=Ue,p=On.transition;try{On.transition=null,Ue=1,cT(r,o,u,d)}finally{On.transition=p,Ue=d}return null}function cT(r,o,u,d){do vo();while(yi!==null);if(He&6)throw Error(t(327));u=r.finishedWork;var p=r.finishedLanes;if(u===null)return null;if(r.finishedWork=null,r.finishedLanes=0,u===r.current)throw Error(t(177));r.callbackNode=null,r.callbackPriority=0;var g=u.lanes|u.childLanes;if(Je(r,g),r===bt&&(gt=bt=null,Lt=0),!(u.subtreeFlags&2064)&&!(u.flags&2064)||xl||(xl=!0,Xg(Sn,function(){return vo(),null})),g=(u.flags&15990)!==0,u.subtreeFlags&15990||g){g=On.transition,On.transition=null;var w=Ue;Ue=1;var R=He;He|=4,Sh.current=null,iT(r,u),Mg(u,r),bI(Dd),oi=!!xd,Dd=xd=null,r.current=u,sT(u),gd(),He=R,Ue=w,On.transition=g}else r.current=u;if(xl&&(xl=!1,yi=r,Dl=p),g=r.pendingLanes,g===0&&(gi=null),Lu(u.stateNode),un(r,Ze()),o!==null)for(d=r.onRecoverableError,u=0;u<o.length;u++)p=o[u],d(p.value,{componentStack:p.stack,digest:p.digest});if(Ol)throw Ol=!1,r=Rh,Rh=null,r;return Dl&1&&r.tag!==0&&vo(),g=r.pendingLanes,g&1?r===Ph?ja++:(ja=0,Ph=r):ja=0,hi(),null}function vo(){if(yi!==null){var r=ii(Dl),o=On.transition,u=Ue;try{if(On.transition=null,Ue=16>r?16:r,yi===null)var d=!1;else{if(r=yi,yi=null,Dl=0,He&6)throw Error(t(331));var p=He;for(He|=4,he=r.current;he!==null;){var g=he,w=g.child;if(he.flags&16){var R=g.deletions;if(R!==null){for(var D=0;D<R.length;D++){var q=R[D];for(he=q;he!==null;){var ee=he;switch(ee.tag){case 0:case 11:case 15:Ma(8,ee,g)}var ne=ee.child;if(ne!==null)ne.return=ee,he=ne;else for(;he!==null;){ee=he;var Z=ee.sibling,le=ee.return;if(xg(ee),ee===q){he=null;break}if(Z!==null){Z.return=le,he=Z;break}he=le}}}var fe=g.alternate;if(fe!==null){var me=fe.child;if(me!==null){fe.child=null;do{var ht=me.sibling;me.sibling=null,me=ht}while(me!==null)}}he=g}}if(g.subtreeFlags&2064&&w!==null)w.return=g,he=w;else e:for(;he!==null;){if(g=he,g.flags&2048)switch(g.tag){case 0:case 11:case 15:Ma(9,g,g.return)}var j=g.sibling;if(j!==null){j.return=g.return,he=j;break e}he=g.return}}var L=r.current;for(he=L;he!==null;){w=he;var z=w.child;if(w.subtreeFlags&2064&&z!==null)z.return=w,he=z;else e:for(w=L;he!==null;){if(R=he,R.flags&2048)try{switch(R.tag){case 0:case 11:case 15:Pl(9,R)}}catch(ge){lt(R,R.return,ge)}if(R===w){he=null;break e}var se=R.sibling;if(se!==null){se.return=R.return,he=se;break e}he=R.return}}if(He=p,hi(),fn&&typeof fn.onPostCommitFiberRoot=="function")try{fn.onPostCommitFiberRoot(Ji,r)}catch{}d=!0}return d}finally{Ue=u,On.transition=o}}return!1}function Kg(r,o,u){o=po(u,o),o=hg(r,o,1),r=pi(r,o,1),o=en(),r!==null&&(ni(r,1,o),un(r,o))}function lt(r,o,u){if(r.tag===3)Kg(r,r,u);else for(;o!==null;){if(o.tag===3){Kg(o,r,u);break}else if(o.tag===1){var d=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(gi===null||!gi.has(d))){r=po(u,r),r=fg(o,r,1),o=pi(o,r,1),r=en(),o!==null&&(ni(o,1,r),un(o,r));break}}o=o.return}}function dT(r,o,u){var d=r.pingCache;d!==null&&d.delete(o),o=en(),r.pingedLanes|=r.suspendedLanes&u,bt===r&&(Lt&u)===u&&(St===4||St===3&&(Lt&130023424)===Lt&&500>Ze()-Ah?ps(r,0):Ch|=u),un(r,o)}function Qg(r,o){o===0&&(r.mode&1?(o=js,js<<=1,!(js&130023424)&&(js=4194304)):o=1);var u=en();r=Lr(r,o),r!==null&&(ni(r,o,u),un(r,u))}function hT(r){var o=r.memoizedState,u=0;o!==null&&(u=o.retryLane),Qg(r,u)}function fT(r,o){var u=0;switch(r.tag){case 13:var d=r.stateNode,p=r.memoizedState;p!==null&&(u=p.retryLane);break;case 19:d=r.stateNode;break;default:throw Error(t(314))}d!==null&&d.delete(o),Qg(r,u)}var Yg;Yg=function(r,o,u){if(r!==null)if(r.memoizedProps!==o.pendingProps||rn.current)on=!0;else{if(!(r.lanes&u)&&!(o.flags&128))return on=!1,eT(r,o,u);on=!!(r.flags&131072)}else on=!1,st&&o.flags&1048576&&km(o,dl,o.index);switch(o.lanes=0,o.tag){case 2:var d=o.type;Al(r,o),r=o.pendingProps;var p=so(o,zt.current);ho(o,u),p=rh(null,o,d,r,p,u);var g=ih();return o.flags|=1,typeof p=="object"&&p!==null&&typeof p.render=="function"&&p.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,sn(d)?(g=!0,ul(o)):g=!1,o.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,Yd(o),p.updater=Sl,o.stateNode=p,p._reactInternals=o,ch(o,d,r,u),o=ph(null,o,d,!0,g,u)):(o.tag=0,st&&g&&jd(o),Zt(null,o,p,u),o=o.child),o;case 16:d=o.elementType;e:{switch(Al(r,o),r=o.pendingProps,p=d._init,d=p(d._payload),o.type=d,p=o.tag=mT(d),r=Wn(d,r),p){case 0:o=fh(null,o,d,r,u);break e;case 1:o=Ig(null,o,d,r,u);break e;case 11:o=yg(null,o,d,r,u);break e;case 14:o=vg(null,o,d,Wn(d.type,r),u);break e}throw Error(t(306,d,""))}return o;case 0:return d=o.type,p=o.pendingProps,p=o.elementType===d?p:Wn(d,p),fh(r,o,d,p,u);case 1:return d=o.type,p=o.pendingProps,p=o.elementType===d?p:Wn(d,p),Ig(r,o,d,p,u);case 3:e:{if(Tg(o),r===null)throw Error(t(387));d=o.pendingProps,g=o.memoizedState,p=g.element,Fm(r,o),yl(o,d,null,u);var w=o.memoizedState;if(d=w.element,g.isDehydrated)if(g={element:d,isDehydrated:!1,cache:w.cache,pendingSuspenseBoundaries:w.pendingSuspenseBoundaries,transitions:w.transitions},o.updateQueue.baseState=g,o.memoizedState=g,o.flags&256){p=po(Error(t(423)),o),o=Sg(r,o,d,u,p);break e}else if(d!==p){p=po(Error(t(424)),o),o=Sg(r,o,d,u,p);break e}else for(vn=li(o.stateNode.containerInfo.firstChild),yn=o,st=!0,qn=null,u=Lm(o,null,d,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(uo(),d===p){o=Fr(r,o,u);break e}Zt(r,o,d,u)}o=o.child}return o;case 5:return zm(o),r===null&&Bd(o),d=o.type,p=o.pendingProps,g=r!==null?r.memoizedProps:null,w=p.children,Vd(d,p)?w=null:g!==null&&Vd(d,g)&&(o.flags|=32),Eg(r,o),Zt(r,o,w,u),o.child;case 6:return r===null&&Bd(o),null;case 13:return Cg(r,o,u);case 4:return Xd(o,o.stateNode.containerInfo),d=o.pendingProps,r===null?o.child=lo(o,null,d,u):Zt(r,o,d,u),o.child;case 11:return d=o.type,p=o.pendingProps,p=o.elementType===d?p:Wn(d,p),yg(r,o,d,p,u);case 7:return Zt(r,o,o.pendingProps,u),o.child;case 8:return Zt(r,o,o.pendingProps.children,u),o.child;case 12:return Zt(r,o,o.pendingProps.children,u),o.child;case 10:e:{if(d=o.type._context,p=o.pendingProps,g=o.memoizedProps,w=p.value,et(pl,d._currentValue),d._currentValue=w,g!==null)if(Hn(g.value,w)){if(g.children===p.children&&!rn.current){o=Fr(r,o,u);break e}}else for(g=o.child,g!==null&&(g.return=o);g!==null;){var R=g.dependencies;if(R!==null){w=g.child;for(var D=R.firstContext;D!==null;){if(D.context===d){if(g.tag===1){D=Mr(-1,u&-u),D.tag=2;var q=g.updateQueue;if(q!==null){q=q.shared;var ee=q.pending;ee===null?D.next=D:(D.next=ee.next,ee.next=D),q.pending=D}}g.lanes|=u,D=g.alternate,D!==null&&(D.lanes|=u),Kd(g.return,u,o),R.lanes|=u;break}D=D.next}}else if(g.tag===10)w=g.type===o.type?null:g.child;else if(g.tag===18){if(w=g.return,w===null)throw Error(t(341));w.lanes|=u,R=w.alternate,R!==null&&(R.lanes|=u),Kd(w,u,o),w=g.sibling}else w=g.child;if(w!==null)w.return=g;else for(w=g;w!==null;){if(w===o){w=null;break}if(g=w.sibling,g!==null){g.return=w.return,w=g;break}w=w.return}g=w}Zt(r,o,p.children,u),o=o.child}return o;case 9:return p=o.type,d=o.pendingProps.children,ho(o,u),p=kn(p),d=d(p),o.flags|=1,Zt(r,o,d,u),o.child;case 14:return d=o.type,p=Wn(d,o.pendingProps),p=Wn(d.type,p),vg(r,o,d,p,u);case 15:return _g(r,o,o.type,o.pendingProps,u);case 17:return d=o.type,p=o.pendingProps,p=o.elementType===d?p:Wn(d,p),Al(r,o),o.tag=1,sn(d)?(r=!0,ul(o)):r=!1,ho(o,u),cg(o,d,p),ch(o,d,p,u),ph(null,o,d,!0,r,u);case 19:return Rg(r,o,u);case 22:return wg(r,o,u)}throw Error(t(156,o.tag))};function Xg(r,o){return Fs(r,o)}function pT(r,o,u,d){this.tag=r,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xn(r,o,u,d){return new pT(r,o,u,d)}function Vh(r){return r=r.prototype,!(!r||!r.isReactComponent)}function mT(r){if(typeof r=="function")return Vh(r)?1:0;if(r!=null){if(r=r.$$typeof,r===M)return 11;if(r===De)return 14}return 2}function wi(r,o){var u=r.alternate;return u===null?(u=xn(r.tag,o,r.key,r.mode),u.elementType=r.elementType,u.type=r.type,u.stateNode=r.stateNode,u.alternate=r,r.alternate=u):(u.pendingProps=o,u.type=r.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=r.flags&14680064,u.childLanes=r.childLanes,u.lanes=r.lanes,u.child=r.child,u.memoizedProps=r.memoizedProps,u.memoizedState=r.memoizedState,u.updateQueue=r.updateQueue,o=r.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=r.sibling,u.index=r.index,u.ref=r.ref,u}function Ml(r,o,u,d,p,g){var w=2;if(d=r,typeof r=="function")Vh(r)&&(w=1);else if(typeof r=="string")w=5;else e:switch(r){case C:return gs(u.children,p,g,o);case T:w=8,p|=8;break;case A:return r=xn(12,u,o,p|2),r.elementType=A,r.lanes=g,r;case P:return r=xn(13,u,o,p),r.elementType=P,r.lanes=g,r;case ze:return r=xn(19,u,o,p),r.elementType=ze,r.lanes=g,r;case Ve:return Fl(u,p,g,o);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case x:w=10;break e;case V:w=9;break e;case M:w=11;break e;case De:w=14;break e;case Ne:w=16,d=null;break e}throw Error(t(130,r==null?r:typeof r,""))}return o=xn(w,u,o,p),o.elementType=r,o.type=d,o.lanes=g,o}function gs(r,o,u,d){return r=xn(7,r,d,o),r.lanes=u,r}function Fl(r,o,u,d){return r=xn(22,r,d,o),r.elementType=Ve,r.lanes=u,r.stateNode={isHidden:!1},r}function Nh(r,o,u){return r=xn(6,r,null,o),r.lanes=u,r}function Lh(r,o,u){return o=xn(4,r.children!==null?r.children:[],r.key,o),o.lanes=u,o.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},o}function gT(r,o,u,d,p){this.tag=o,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ti(0),this.expirationTimes=ti(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ti(0),this.identifierPrefix=d,this.onRecoverableError=p,this.mutableSourceEagerHydrationData=null}function Mh(r,o,u,d,p,g,w,R,D){return r=new gT(r,o,u,R,D),o===1?(o=1,g===!0&&(o|=8)):o=0,g=xn(3,null,null,o),r.current=g,g.stateNode=r,g.memoizedState={element:d,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},Yd(g),r}function yT(r,o,u){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:te,key:d==null?null:""+d,children:r,containerInfo:o,implementation:u}}function Jg(r){if(!r)return di;r=r._reactInternals;e:{if(Mn(r)!==r||r.tag!==1)throw Error(t(170));var o=r;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(sn(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(t(171))}if(r.tag===1){var u=r.type;if(sn(u))return Am(r,u,o)}return o}function Zg(r,o,u,d,p,g,w,R,D){return r=Mh(u,d,!0,r,p,g,w,R,D),r.context=Jg(null),u=r.current,d=en(),p=vi(u),g=Mr(d,p),g.callback=o??null,pi(u,g,p),r.current.lanes=p,ni(r,p,d),un(r,d),r}function Ul(r,o,u,d){var p=o.current,g=en(),w=vi(p);return u=Jg(u),o.context===null?o.context=u:o.pendingContext=u,o=Mr(g,w),o.payload={element:r},d=d===void 0?null:d,d!==null&&(o.callback=d),r=pi(p,o,w),r!==null&&(Qn(r,p,w,g),gl(r,p,w)),w}function jl(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function ey(r,o){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var u=r.retryLane;r.retryLane=u!==0&&u<o?u:o}}function Fh(r,o){ey(r,o),(r=r.alternate)&&ey(r,o)}var ty=typeof reportError=="function"?reportError:function(r){console.error(r)};function Uh(r){this._internalRoot=r}zl.prototype.render=Uh.prototype.render=function(r){var o=this._internalRoot;if(o===null)throw Error(t(409));Ul(r,o,null,null)},zl.prototype.unmount=Uh.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var o=r.containerInfo;fs(function(){Ul(null,r,null,null)}),o[xr]=null}};function zl(r){this._internalRoot=r}zl.prototype.unstable_scheduleHydration=function(r){if(r){var o=zu();r={blockedOn:null,target:r,priority:o};for(var u=0;u<rr.length&&o!==0&&o<rr[u].priority;u++);rr.splice(u,0,r),u===0&&Hu(r)}};function jh(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function $l(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function ny(){}function vT(r,o,u,d,p){if(p){if(typeof d=="function"){var g=d;d=function(){var q=jl(w);g.call(q)}}var w=Zg(o,d,r,0,null,!1,!1,"",ny);return r._reactRootContainer=w,r[xr]=w.current,Sa(r.nodeType===8?r.parentNode:r),fs(),w}for(;p=r.lastChild;)r.removeChild(p);if(typeof d=="function"){var R=d;d=function(){var q=jl(D);R.call(q)}}var D=Mh(r,0,!1,null,null,!1,!1,"",ny);return r._reactRootContainer=D,r[xr]=D.current,Sa(r.nodeType===8?r.parentNode:r),fs(function(){Ul(o,D,u,d)}),D}function Bl(r,o,u,d,p){var g=u._reactRootContainer;if(g){var w=g;if(typeof p=="function"){var R=p;p=function(){var D=jl(w);R.call(D)}}Ul(o,w,r,p)}else w=vT(u,o,r,p,d);return jl(w)}Uu=function(r){switch(r.tag){case 3:var o=r.stateNode;if(o.current.memoizedState.isDehydrated){var u=ei(o.pendingLanes);u!==0&&(ri(o,u|1),un(o,Ze()),!(He&6)&&(yo=Ze()+500,hi()))}break;case 13:fs(function(){var d=Lr(r,1);if(d!==null){var p=en();Qn(d,r,1,p)}}),Fh(r,1)}},zs=function(r){if(r.tag===13){var o=Lr(r,134217728);if(o!==null){var u=en();Qn(o,r,134217728,u)}Fh(r,134217728)}},ju=function(r){if(r.tag===13){var o=vi(r),u=Lr(r,o);if(u!==null){var d=en();Qn(u,r,o,d)}Fh(r,o)}},zu=function(){return Ue},$u=function(r,o){var u=Ue;try{return Ue=r,o()}finally{Ue=u}},xs=function(r,o,u){switch(o){case"input":if(Qo(r,u),o=u.name,u.type==="radio"&&o!=null){for(u=r;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<u.length;o++){var d=u[o];if(d!==r&&d.form===r.form){var p=ol(d);if(!p)throw Error(t(90));Ir(d),Qo(d,p)}}}break;case"textarea":bs(r,u);break;case"select":o=u.value,o!=null&&Sr(r,!!u.multiple,o,!1)}},Gi=Oh,sa=fs;var _T={usingClientEntryPoint:!1,Events:[Ra,ro,ol,tr,ia,Oh]},za={findFiberByHostInstance:ss,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},wT={bundleType:za.bundleType,version:za.version,rendererPackageName:za.rendererPackageName,rendererConfig:za.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Q.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=ua(r),r===null?null:r.stateNode},findFiberByHostInstance:za.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Hl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Hl.isDisabled&&Hl.supportsFiber)try{Ji=Hl.inject(wT),fn=Hl}catch{}}return ln.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_T,ln.createPortal=function(r,o){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!jh(o))throw Error(t(200));return yT(r,o,null,u)},ln.createRoot=function(r,o){if(!jh(r))throw Error(t(299));var u=!1,d="",p=ty;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onRecoverableError!==void 0&&(p=o.onRecoverableError)),o=Mh(r,1,!1,null,null,u,!1,d,p),r[xr]=o.current,Sa(r.nodeType===8?r.parentNode:r),new Uh(o)},ln.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var o=r._reactInternals;if(o===void 0)throw typeof r.render=="function"?Error(t(188)):(r=Object.keys(r).join(","),Error(t(268,r)));return r=ua(o),r=r===null?null:r.stateNode,r},ln.flushSync=function(r){return fs(r)},ln.hydrate=function(r,o,u){if(!$l(o))throw Error(t(200));return Bl(null,r,o,!0,u)},ln.hydrateRoot=function(r,o,u){if(!jh(r))throw Error(t(405));var d=u!=null&&u.hydratedSources||null,p=!1,g="",w=ty;if(u!=null&&(u.unstable_strictMode===!0&&(p=!0),u.identifierPrefix!==void 0&&(g=u.identifierPrefix),u.onRecoverableError!==void 0&&(w=u.onRecoverableError)),o=Zg(o,null,r,1,u??null,p,!1,g,w),r[xr]=o.current,Sa(r),d)for(r=0;r<d.length;r++)u=d[r],p=u._getVersion,p=p(u._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[u,p]:o.mutableSourceEagerHydrationData.push(u,p);return new zl(o)},ln.render=function(r,o,u){if(!$l(o))throw Error(t(200));return Bl(null,r,o,!1,u)},ln.unmountComponentAtNode=function(r){if(!$l(r))throw Error(t(40));return r._reactRootContainer?(fs(function(){Bl(null,null,r,!1,function(){r._reactRootContainer=null,r[xr]=null})}),!0):!1},ln.unstable_batchedUpdates=Oh,ln.unstable_renderSubtreeIntoContainer=function(r,o,u,d){if(!$l(u))throw Error(t(200));if(r==null||r._reactInternals===void 0)throw Error(t(38));return Bl(r,o,u,!1,d)},ln.version="18.3.1-next-f1338f8080-20240426",ln}var dy;function c_(){if(dy)return Bh.exports;dy=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Bh.exports=bT(),Bh.exports}var hy;function OT(){if(hy)return ql;hy=1;var n=c_();return ql.createRoot=n.createRoot,ql.hydrateRoot=n.hydrateRoot,ql}var xT=OT(),fy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d_=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let s=n.charCodeAt(i);s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):(s&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(s=65536+((s&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},DT=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const s=n[t++];if(s<128)e[i++]=String.fromCharCode(s);else if(s>191&&s<224){const a=n[t++];e[i++]=String.fromCharCode((s&31)<<6|a&63)}else if(s>239&&s<365){const a=n[t++],c=n[t++],f=n[t++],h=((s&7)<<18|(a&63)<<12|(c&63)<<6|f&63)-65536;e[i++]=String.fromCharCode(55296+(h>>10)),e[i++]=String.fromCharCode(56320+(h&1023))}else{const a=n[t++],c=n[t++];e[i++]=String.fromCharCode((s&15)<<12|(a&63)<<6|c&63)}}return e.join("")},h_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let s=0;s<n.length;s+=3){const a=n[s],c=s+1<n.length,f=c?n[s+1]:0,h=s+2<n.length,y=h?n[s+2]:0,_=a>>2,E=(a&3)<<4|f>>4;let S=(f&15)<<2|y>>6,k=y&63;h||(k=64,c||(S=64)),i.push(t[_],t[E],t[S],t[k])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(d_(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):DT(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let s=0;s<n.length;){const a=t[n.charAt(s++)],f=s<n.length?t[n.charAt(s)]:0;++s;const y=s<n.length?t[n.charAt(s)]:64;++s;const E=s<n.length?t[n.charAt(s)]:64;if(++s,a==null||f==null||y==null||E==null)throw new VT;const S=a<<2|f>>4;if(i.push(S),y!==64){const k=f<<4&240|y>>2;if(i.push(k),E!==64){const N=y<<6&192|E;i.push(N)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class VT extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const NT=function(n){const e=d_(n);return h_.encodeByteArray(e,!0)},gc=function(n){return NT(n).replace(/\./g,"")},f_=function(n){try{return h_.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LT(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MT=()=>LT().__FIREBASE_DEFAULTS__,FT=()=>{if(typeof process>"u"||typeof fy>"u")return;const n=fy.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},UT=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&f_(n[1]);return e&&JSON.parse(e)},zc=()=>{try{return MT()||FT()||UT()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},p_=n=>{var e,t;return(t=(e=zc())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},jT=n=>{const e=p_(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},m_=()=>{var n;return(n=zc())===null||n===void 0?void 0:n.config},g_=n=>{var e;return(e=zc())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zT{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $T(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",s=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:s,exp:s+3600,auth_time:s,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},n);return[gc(JSON.stringify(t)),gc(JSON.stringify(c)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function BT(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Yt())}function HT(){var n;const e=(n=zc())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function qT(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function WT(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function GT(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function KT(){const n=Yt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function QT(){return!HT()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function YT(){try{return typeof indexedDB=="object"}catch{return!1}}function XT(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(i);s.onsuccess=()=>{s.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},s.onupgradeneeded=()=>{t=!1},s.onerror=()=>{var a;e(((a=s.error)===null||a===void 0?void 0:a.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JT="FirebaseError";class Yr extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=JT,Object.setPrototypeOf(this,Yr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,vu.prototype.create)}}class vu{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},s=`${this.service}/${e}`,a=this.errors[e],c=a?ZT(a,i):"Error",f=`${this.serviceName}: ${c} (${s}).`;return new Yr(s,f,i)}}function ZT(n,e){return n.replace(eS,(t,i)=>{const s=e[i];return s!=null?String(s):`<${i}?>`})}const eS=/\{\$([^}]+)}/g;function tS(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function yc(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const s of t){if(!i.includes(s))return!1;const a=n[s],c=e[s];if(py(a)&&py(c)){if(!yc(a,c))return!1}else if(a!==c)return!1}for(const s of i)if(!t.includes(s))return!1;return!0}function py(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _u(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(s=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function qa(n){const e={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[s,a]=i.split("=");e[decodeURIComponent(s)]=decodeURIComponent(a)}}),e}function Wa(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function nS(n,e){const t=new rS(n,e);return t.subscribe.bind(t)}class rS{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let s;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");iS(e,["next","error","complete"])?s=e:s={next:e,error:t,complete:i},s.next===void 0&&(s.next=Wh),s.error===void 0&&(s.error=Wh),s.complete===void 0&&(s.complete=Wh);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function iS(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Wh(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rt(n){return n&&n._delegate?n._delegate:n}class _s{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ys="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sS{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new zT;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:t});s&&i.resolve(s)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(aS(e))try{this.getOrInitializeService({instanceIdentifier:ys})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:s});i.resolve(a)}catch{}}}}clearInstance(e=ys){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ys){return this.instances.has(e)}getOptions(e=ys){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[a,c]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(a);i===f&&c.resolve(s)}return s}onInit(e,t){var i;const s=this.normalizeInstanceIdentifier(t),a=(i=this.onInitCallbacks.get(s))!==null&&i!==void 0?i:new Set;a.add(e),this.onInitCallbacks.set(s,a);const c=this.instances.get(s);return c&&e(c,s),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const s of i)try{s(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:oS(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=ys){return this.component?this.component.multipleInstances?e:ys:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function oS(n){return n===ys?void 0:n}function aS(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new sS(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Me;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Me||(Me={}));const lS={debug:Me.DEBUG,verbose:Me.VERBOSE,info:Me.INFO,warn:Me.WARN,error:Me.ERROR,silent:Me.SILENT},cS=Me.INFO,dS={[Me.DEBUG]:"log",[Me.VERBOSE]:"log",[Me.INFO]:"info",[Me.WARN]:"warn",[Me.ERROR]:"error"},hS=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),s=dS[e];if(s)console[s](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Qf{constructor(e){this.name=e,this._logLevel=cS,this._logHandler=hS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?lS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Me.DEBUG,...e),this._logHandler(this,Me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Me.VERBOSE,...e),this._logHandler(this,Me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Me.INFO,...e),this._logHandler(this,Me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Me.WARN,...e),this._logHandler(this,Me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Me.ERROR,...e),this._logHandler(this,Me.ERROR,...e)}}const fS=(n,e)=>e.some(t=>n instanceof t);let my,gy;function pS(){return my||(my=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function mS(){return gy||(gy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const y_=new WeakMap,pf=new WeakMap,v_=new WeakMap,Gh=new WeakMap,Yf=new WeakMap;function gS(n){const e=new Promise((t,i)=>{const s=()=>{n.removeEventListener("success",a),n.removeEventListener("error",c)},a=()=>{t(Pi(n.result)),s()},c=()=>{i(n.error),s()};n.addEventListener("success",a),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&y_.set(t,n)}).catch(()=>{}),Yf.set(e,n),e}function yS(n){if(pf.has(n))return;const e=new Promise((t,i)=>{const s=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",c),n.removeEventListener("abort",c)},a=()=>{t(),s()},c=()=>{i(n.error||new DOMException("AbortError","AbortError")),s()};n.addEventListener("complete",a),n.addEventListener("error",c),n.addEventListener("abort",c)});pf.set(n,e)}let mf={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return pf.get(n);if(e==="objectStoreNames")return n.objectStoreNames||v_.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Pi(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function vS(n){mf=n(mf)}function _S(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(Kh(this),e,...t);return v_.set(i,e.sort?e.sort():[e]),Pi(i)}:mS().includes(n)?function(...e){return n.apply(Kh(this),e),Pi(y_.get(this))}:function(...e){return Pi(n.apply(Kh(this),e))}}function wS(n){return typeof n=="function"?_S(n):(n instanceof IDBTransaction&&yS(n),fS(n,pS())?new Proxy(n,mf):n)}function Pi(n){if(n instanceof IDBRequest)return gS(n);if(Gh.has(n))return Gh.get(n);const e=wS(n);return e!==n&&(Gh.set(n,e),Yf.set(e,n)),e}const Kh=n=>Yf.get(n);function ES(n,e,{blocked:t,upgrade:i,blocking:s,terminated:a}={}){const c=indexedDB.open(n,e),f=Pi(c);return i&&c.addEventListener("upgradeneeded",h=>{i(Pi(c.result),h.oldVersion,h.newVersion,Pi(c.transaction),h)}),t&&c.addEventListener("blocked",h=>t(h.oldVersion,h.newVersion,h)),f.then(h=>{a&&h.addEventListener("close",()=>a()),s&&h.addEventListener("versionchange",y=>s(y.oldVersion,y.newVersion,y))}).catch(()=>{}),f}const IS=["get","getKey","getAll","getAllKeys","count"],TS=["put","add","delete","clear"],Qh=new Map;function yy(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Qh.get(e))return Qh.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,s=TS.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(s||IS.includes(t)))return;const a=async function(c,...f){const h=this.transaction(c,s?"readwrite":"readonly");let y=h.store;return i&&(y=y.index(f.shift())),(await Promise.all([y[t](...f),s&&h.done]))[0]};return Qh.set(e,a),a}vS(n=>({...n,get:(e,t,i)=>yy(e,t)||n.get(e,t,i),has:(e,t)=>!!yy(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(CS(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function CS(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const gf="@firebase/app",vy="0.10.18";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qr=new Qf("@firebase/app"),AS="@firebase/app-compat",RS="@firebase/analytics-compat",PS="@firebase/analytics",kS="@firebase/app-check-compat",bS="@firebase/app-check",OS="@firebase/auth",xS="@firebase/auth-compat",DS="@firebase/database",VS="@firebase/data-connect",NS="@firebase/database-compat",LS="@firebase/functions",MS="@firebase/functions-compat",FS="@firebase/installations",US="@firebase/installations-compat",jS="@firebase/messaging",zS="@firebase/messaging-compat",$S="@firebase/performance",BS="@firebase/performance-compat",HS="@firebase/remote-config",qS="@firebase/remote-config-compat",WS="@firebase/storage",GS="@firebase/storage-compat",KS="@firebase/firestore",QS="@firebase/vertexai",YS="@firebase/firestore-compat",XS="firebase",JS="11.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yf="[DEFAULT]",ZS={[gf]:"fire-core",[AS]:"fire-core-compat",[PS]:"fire-analytics",[RS]:"fire-analytics-compat",[bS]:"fire-app-check",[kS]:"fire-app-check-compat",[OS]:"fire-auth",[xS]:"fire-auth-compat",[DS]:"fire-rtdb",[VS]:"fire-data-connect",[NS]:"fire-rtdb-compat",[LS]:"fire-fn",[MS]:"fire-fn-compat",[FS]:"fire-iid",[US]:"fire-iid-compat",[jS]:"fire-fcm",[zS]:"fire-fcm-compat",[$S]:"fire-perf",[BS]:"fire-perf-compat",[HS]:"fire-rc",[qS]:"fire-rc-compat",[WS]:"fire-gcs",[GS]:"fire-gcs-compat",[KS]:"fire-fst",[YS]:"fire-fst-compat",[QS]:"fire-vertex","fire-js":"fire-js",[XS]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vc=new Map,e0=new Map,vf=new Map;function _y(n,e){try{n.container.addComponent(e)}catch(t){qr.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Oo(n){const e=n.name;if(vf.has(e))return qr.debug(`There were multiple attempts to register component ${e}.`),!1;vf.set(e,n);for(const t of vc.values())_y(t,n);for(const t of e0.values())_y(t,n);return!0}function Xf(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function pr(n){return n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t0={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ki=new vu("app","Firebase",t0);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n0{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new _s("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ki.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jo=JS;function __(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i=Object.assign({name:yf,automaticDataCollectionEnabled:!1},e),s=i.name;if(typeof s!="string"||!s)throw ki.create("bad-app-name",{appName:String(s)});if(t||(t=m_()),!t)throw ki.create("no-options");const a=vc.get(s);if(a){if(yc(t,a.options)&&yc(i,a.config))return a;throw ki.create("duplicate-app",{appName:s})}const c=new uS(s);for(const h of vf.values())c.addComponent(h);const f=new n0(t,i,c);return vc.set(s,f),f}function w_(n=yf){const e=vc.get(n);if(!e&&n===yf&&m_())return __();if(!e)throw ki.create("no-app",{appName:n});return e}function bi(n,e,t){var i;let s=(i=ZS[n])!==null&&i!==void 0?i:n;t&&(s+=`-${t}`);const a=s.match(/\s|\//),c=e.match(/\s|\//);if(a||c){const f=[`Unable to register library "${s}" with version "${e}":`];a&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&c&&f.push("and"),c&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),qr.warn(f.join(" "));return}Oo(new _s(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r0="firebase-heartbeat-database",i0=1,iu="firebase-heartbeat-store";let Yh=null;function E_(){return Yh||(Yh=ES(r0,i0,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(iu)}catch(t){console.warn(t)}}}}).catch(n=>{throw ki.create("idb-open",{originalErrorMessage:n.message})})),Yh}async function s0(n){try{const t=(await E_()).transaction(iu),i=await t.objectStore(iu).get(I_(n));return await t.done,i}catch(e){if(e instanceof Yr)qr.warn(e.message);else{const t=ki.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});qr.warn(t.message)}}}async function wy(n,e){try{const i=(await E_()).transaction(iu,"readwrite");await i.objectStore(iu).put(e,I_(n)),await i.done}catch(t){if(t instanceof Yr)qr.warn(t.message);else{const i=ki.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});qr.warn(i.message)}}}function I_(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o0=1024,a0=30*24*60*60*1e3;class u0{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new c0(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=Ey();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(c=>c.date===a)?void 0:(this._heartbeatsCache.heartbeats.push({date:a,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(c=>{const f=new Date(c.date).valueOf();return Date.now()-f<=a0}),this._storage.overwrite(this._heartbeatsCache))}catch(i){qr.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Ey(),{heartbeatsToSend:i,unsentEntries:s}=l0(this._heartbeatsCache.heartbeats),a=gc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return qr.warn(t),""}}}function Ey(){return new Date().toISOString().substring(0,10)}function l0(n,e=o0){const t=[];let i=n.slice();for(const s of n){const a=t.find(c=>c.agent===s.agent);if(a){if(a.dates.push(s.date),Iy(t)>e){a.dates.pop();break}}else if(t.push({agent:s.agent,dates:[s.date]}),Iy(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class c0{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return YT()?XT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await s0(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return wy(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return wy(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Iy(n){return gc(JSON.stringify({version:2,heartbeats:n})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d0(n){Oo(new _s("platform-logger",e=>new SS(e),"PRIVATE")),Oo(new _s("heartbeat",e=>new u0(e),"PRIVATE")),bi(gf,vy,n),bi(gf,vy,"esm2017"),bi("fire-js","")}d0("");var h0="firebase",f0="11.2.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */bi(h0,f0,"app");var Ty=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Oi,T_;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,T){function A(){}A.prototype=T.prototype,C.D=T.prototype,C.prototype=new A,C.prototype.constructor=C,C.C=function(x,V,M){for(var P=Array(arguments.length-2),ze=2;ze<arguments.length;ze++)P[ze-2]=arguments[ze];return T.prototype[V].apply(x,P)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(C,T,A){A||(A=0);var x=Array(16);if(typeof T=="string")for(var V=0;16>V;++V)x[V]=T.charCodeAt(A++)|T.charCodeAt(A++)<<8|T.charCodeAt(A++)<<16|T.charCodeAt(A++)<<24;else for(V=0;16>V;++V)x[V]=T[A++]|T[A++]<<8|T[A++]<<16|T[A++]<<24;T=C.g[0],A=C.g[1],V=C.g[2];var M=C.g[3],P=T+(M^A&(V^M))+x[0]+3614090360&4294967295;T=A+(P<<7&4294967295|P>>>25),P=M+(V^T&(A^V))+x[1]+3905402710&4294967295,M=T+(P<<12&4294967295|P>>>20),P=V+(A^M&(T^A))+x[2]+606105819&4294967295,V=M+(P<<17&4294967295|P>>>15),P=A+(T^V&(M^T))+x[3]+3250441966&4294967295,A=V+(P<<22&4294967295|P>>>10),P=T+(M^A&(V^M))+x[4]+4118548399&4294967295,T=A+(P<<7&4294967295|P>>>25),P=M+(V^T&(A^V))+x[5]+1200080426&4294967295,M=T+(P<<12&4294967295|P>>>20),P=V+(A^M&(T^A))+x[6]+2821735955&4294967295,V=M+(P<<17&4294967295|P>>>15),P=A+(T^V&(M^T))+x[7]+4249261313&4294967295,A=V+(P<<22&4294967295|P>>>10),P=T+(M^A&(V^M))+x[8]+1770035416&4294967295,T=A+(P<<7&4294967295|P>>>25),P=M+(V^T&(A^V))+x[9]+2336552879&4294967295,M=T+(P<<12&4294967295|P>>>20),P=V+(A^M&(T^A))+x[10]+4294925233&4294967295,V=M+(P<<17&4294967295|P>>>15),P=A+(T^V&(M^T))+x[11]+2304563134&4294967295,A=V+(P<<22&4294967295|P>>>10),P=T+(M^A&(V^M))+x[12]+1804603682&4294967295,T=A+(P<<7&4294967295|P>>>25),P=M+(V^T&(A^V))+x[13]+4254626195&4294967295,M=T+(P<<12&4294967295|P>>>20),P=V+(A^M&(T^A))+x[14]+2792965006&4294967295,V=M+(P<<17&4294967295|P>>>15),P=A+(T^V&(M^T))+x[15]+1236535329&4294967295,A=V+(P<<22&4294967295|P>>>10),P=T+(V^M&(A^V))+x[1]+4129170786&4294967295,T=A+(P<<5&4294967295|P>>>27),P=M+(A^V&(T^A))+x[6]+3225465664&4294967295,M=T+(P<<9&4294967295|P>>>23),P=V+(T^A&(M^T))+x[11]+643717713&4294967295,V=M+(P<<14&4294967295|P>>>18),P=A+(M^T&(V^M))+x[0]+3921069994&4294967295,A=V+(P<<20&4294967295|P>>>12),P=T+(V^M&(A^V))+x[5]+3593408605&4294967295,T=A+(P<<5&4294967295|P>>>27),P=M+(A^V&(T^A))+x[10]+38016083&4294967295,M=T+(P<<9&4294967295|P>>>23),P=V+(T^A&(M^T))+x[15]+3634488961&4294967295,V=M+(P<<14&4294967295|P>>>18),P=A+(M^T&(V^M))+x[4]+3889429448&4294967295,A=V+(P<<20&4294967295|P>>>12),P=T+(V^M&(A^V))+x[9]+568446438&4294967295,T=A+(P<<5&4294967295|P>>>27),P=M+(A^V&(T^A))+x[14]+3275163606&4294967295,M=T+(P<<9&4294967295|P>>>23),P=V+(T^A&(M^T))+x[3]+4107603335&4294967295,V=M+(P<<14&4294967295|P>>>18),P=A+(M^T&(V^M))+x[8]+1163531501&4294967295,A=V+(P<<20&4294967295|P>>>12),P=T+(V^M&(A^V))+x[13]+2850285829&4294967295,T=A+(P<<5&4294967295|P>>>27),P=M+(A^V&(T^A))+x[2]+4243563512&4294967295,M=T+(P<<9&4294967295|P>>>23),P=V+(T^A&(M^T))+x[7]+1735328473&4294967295,V=M+(P<<14&4294967295|P>>>18),P=A+(M^T&(V^M))+x[12]+2368359562&4294967295,A=V+(P<<20&4294967295|P>>>12),P=T+(A^V^M)+x[5]+4294588738&4294967295,T=A+(P<<4&4294967295|P>>>28),P=M+(T^A^V)+x[8]+2272392833&4294967295,M=T+(P<<11&4294967295|P>>>21),P=V+(M^T^A)+x[11]+1839030562&4294967295,V=M+(P<<16&4294967295|P>>>16),P=A+(V^M^T)+x[14]+4259657740&4294967295,A=V+(P<<23&4294967295|P>>>9),P=T+(A^V^M)+x[1]+2763975236&4294967295,T=A+(P<<4&4294967295|P>>>28),P=M+(T^A^V)+x[4]+1272893353&4294967295,M=T+(P<<11&4294967295|P>>>21),P=V+(M^T^A)+x[7]+4139469664&4294967295,V=M+(P<<16&4294967295|P>>>16),P=A+(V^M^T)+x[10]+3200236656&4294967295,A=V+(P<<23&4294967295|P>>>9),P=T+(A^V^M)+x[13]+681279174&4294967295,T=A+(P<<4&4294967295|P>>>28),P=M+(T^A^V)+x[0]+3936430074&4294967295,M=T+(P<<11&4294967295|P>>>21),P=V+(M^T^A)+x[3]+3572445317&4294967295,V=M+(P<<16&4294967295|P>>>16),P=A+(V^M^T)+x[6]+76029189&4294967295,A=V+(P<<23&4294967295|P>>>9),P=T+(A^V^M)+x[9]+3654602809&4294967295,T=A+(P<<4&4294967295|P>>>28),P=M+(T^A^V)+x[12]+3873151461&4294967295,M=T+(P<<11&4294967295|P>>>21),P=V+(M^T^A)+x[15]+530742520&4294967295,V=M+(P<<16&4294967295|P>>>16),P=A+(V^M^T)+x[2]+3299628645&4294967295,A=V+(P<<23&4294967295|P>>>9),P=T+(V^(A|~M))+x[0]+4096336452&4294967295,T=A+(P<<6&4294967295|P>>>26),P=M+(A^(T|~V))+x[7]+1126891415&4294967295,M=T+(P<<10&4294967295|P>>>22),P=V+(T^(M|~A))+x[14]+2878612391&4294967295,V=M+(P<<15&4294967295|P>>>17),P=A+(M^(V|~T))+x[5]+4237533241&4294967295,A=V+(P<<21&4294967295|P>>>11),P=T+(V^(A|~M))+x[12]+1700485571&4294967295,T=A+(P<<6&4294967295|P>>>26),P=M+(A^(T|~V))+x[3]+2399980690&4294967295,M=T+(P<<10&4294967295|P>>>22),P=V+(T^(M|~A))+x[10]+4293915773&4294967295,V=M+(P<<15&4294967295|P>>>17),P=A+(M^(V|~T))+x[1]+2240044497&4294967295,A=V+(P<<21&4294967295|P>>>11),P=T+(V^(A|~M))+x[8]+1873313359&4294967295,T=A+(P<<6&4294967295|P>>>26),P=M+(A^(T|~V))+x[15]+4264355552&4294967295,M=T+(P<<10&4294967295|P>>>22),P=V+(T^(M|~A))+x[6]+2734768916&4294967295,V=M+(P<<15&4294967295|P>>>17),P=A+(M^(V|~T))+x[13]+1309151649&4294967295,A=V+(P<<21&4294967295|P>>>11),P=T+(V^(A|~M))+x[4]+4149444226&4294967295,T=A+(P<<6&4294967295|P>>>26),P=M+(A^(T|~V))+x[11]+3174756917&4294967295,M=T+(P<<10&4294967295|P>>>22),P=V+(T^(M|~A))+x[2]+718787259&4294967295,V=M+(P<<15&4294967295|P>>>17),P=A+(M^(V|~T))+x[9]+3951481745&4294967295,C.g[0]=C.g[0]+T&4294967295,C.g[1]=C.g[1]+(V+(P<<21&4294967295|P>>>11))&4294967295,C.g[2]=C.g[2]+V&4294967295,C.g[3]=C.g[3]+M&4294967295}i.prototype.u=function(C,T){T===void 0&&(T=C.length);for(var A=T-this.blockSize,x=this.B,V=this.h,M=0;M<T;){if(V==0)for(;M<=A;)s(this,C,M),M+=this.blockSize;if(typeof C=="string"){for(;M<T;)if(x[V++]=C.charCodeAt(M++),V==this.blockSize){s(this,x),V=0;break}}else for(;M<T;)if(x[V++]=C[M++],V==this.blockSize){s(this,x),V=0;break}}this.h=V,this.o+=T},i.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var T=1;T<C.length-8;++T)C[T]=0;var A=8*this.o;for(T=C.length-8;T<C.length;++T)C[T]=A&255,A/=256;for(this.u(C),C=Array(16),T=A=0;4>T;++T)for(var x=0;32>x;x+=8)C[A++]=this.g[T]>>>x&255;return C};function a(C,T){var A=f;return Object.prototype.hasOwnProperty.call(A,C)?A[C]:A[C]=T(C)}function c(C,T){this.h=T;for(var A=[],x=!0,V=C.length-1;0<=V;V--){var M=C[V]|0;x&&M==T||(A[V]=M,x=!1)}this.g=A}var f={};function h(C){return-128<=C&&128>C?a(C,function(T){return new c([T|0],0>T?-1:0)}):new c([C|0],0>C?-1:0)}function y(C){if(isNaN(C)||!isFinite(C))return E;if(0>C)return b(y(-C));for(var T=[],A=1,x=0;C>=A;x++)T[x]=C/A|0,A*=4294967296;return new c(T,0)}function _(C,T){if(C.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(C.charAt(0)=="-")return b(_(C.substring(1),T));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=y(Math.pow(T,8)),x=E,V=0;V<C.length;V+=8){var M=Math.min(8,C.length-V),P=parseInt(C.substring(V,V+M),T);8>M?(M=y(Math.pow(T,M)),x=x.j(M).add(y(P))):(x=x.j(A),x=x.add(y(P)))}return x}var E=h(0),S=h(1),k=h(16777216);n=c.prototype,n.m=function(){if(O(this))return-b(this).m();for(var C=0,T=1,A=0;A<this.g.length;A++){var x=this.i(A);C+=(0<=x?x:4294967296+x)*T,T*=4294967296}return C},n.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(N(this))return"0";if(O(this))return"-"+b(this).toString(C);for(var T=y(Math.pow(C,6)),A=this,x="";;){var V=Q(A,T).g;A=B(A,V.j(T));var M=((0<A.g.length?A.g[0]:A.h)>>>0).toString(C);if(A=V,N(A))return M+x;for(;6>M.length;)M="0"+M;x=M+x}},n.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function N(C){if(C.h!=0)return!1;for(var T=0;T<C.g.length;T++)if(C.g[T]!=0)return!1;return!0}function O(C){return C.h==-1}n.l=function(C){return C=B(this,C),O(C)?-1:N(C)?0:1};function b(C){for(var T=C.g.length,A=[],x=0;x<T;x++)A[x]=~C.g[x];return new c(A,~C.h).add(S)}n.abs=function(){return O(this)?b(this):this},n.add=function(C){for(var T=Math.max(this.g.length,C.g.length),A=[],x=0,V=0;V<=T;V++){var M=x+(this.i(V)&65535)+(C.i(V)&65535),P=(M>>>16)+(this.i(V)>>>16)+(C.i(V)>>>16);x=P>>>16,M&=65535,P&=65535,A[V]=P<<16|M}return new c(A,A[A.length-1]&-2147483648?-1:0)};function B(C,T){return C.add(b(T))}n.j=function(C){if(N(this)||N(C))return E;if(O(this))return O(C)?b(this).j(b(C)):b(b(this).j(C));if(O(C))return b(this.j(b(C)));if(0>this.l(k)&&0>C.l(k))return y(this.m()*C.m());for(var T=this.g.length+C.g.length,A=[],x=0;x<2*T;x++)A[x]=0;for(x=0;x<this.g.length;x++)for(var V=0;V<C.g.length;V++){var M=this.i(x)>>>16,P=this.i(x)&65535,ze=C.i(V)>>>16,De=C.i(V)&65535;A[2*x+2*V]+=P*De,H(A,2*x+2*V),A[2*x+2*V+1]+=M*De,H(A,2*x+2*V+1),A[2*x+2*V+1]+=P*ze,H(A,2*x+2*V+1),A[2*x+2*V+2]+=M*ze,H(A,2*x+2*V+2)}for(x=0;x<T;x++)A[x]=A[2*x+1]<<16|A[2*x];for(x=T;x<2*T;x++)A[x]=0;return new c(A,0)};function H(C,T){for(;(C[T]&65535)!=C[T];)C[T+1]+=C[T]>>>16,C[T]&=65535,T++}function W(C,T){this.g=C,this.h=T}function Q(C,T){if(N(T))throw Error("division by zero");if(N(C))return new W(E,E);if(O(C))return T=Q(b(C),T),new W(b(T.g),b(T.h));if(O(T))return T=Q(C,b(T)),new W(b(T.g),T.h);if(30<C.g.length){if(O(C)||O(T))throw Error("slowDivide_ only works with positive integers.");for(var A=S,x=T;0>=x.l(C);)A=$(A),x=$(x);var V=te(A,1),M=te(x,1);for(x=te(x,2),A=te(A,2);!N(x);){var P=M.add(x);0>=P.l(C)&&(V=V.add(A),M=P),x=te(x,1),A=te(A,1)}return T=B(C,V.j(T)),new W(V,T)}for(V=E;0<=C.l(T);){for(A=Math.max(1,Math.floor(C.m()/T.m())),x=Math.ceil(Math.log(A)/Math.LN2),x=48>=x?1:Math.pow(2,x-48),M=y(A),P=M.j(T);O(P)||0<P.l(C);)A-=x,M=y(A),P=M.j(T);N(M)&&(M=S),V=V.add(M),C=B(C,P)}return new W(V,C)}n.A=function(C){return Q(this,C).h},n.and=function(C){for(var T=Math.max(this.g.length,C.g.length),A=[],x=0;x<T;x++)A[x]=this.i(x)&C.i(x);return new c(A,this.h&C.h)},n.or=function(C){for(var T=Math.max(this.g.length,C.g.length),A=[],x=0;x<T;x++)A[x]=this.i(x)|C.i(x);return new c(A,this.h|C.h)},n.xor=function(C){for(var T=Math.max(this.g.length,C.g.length),A=[],x=0;x<T;x++)A[x]=this.i(x)^C.i(x);return new c(A,this.h^C.h)};function $(C){for(var T=C.g.length+1,A=[],x=0;x<T;x++)A[x]=C.i(x)<<1|C.i(x-1)>>>31;return new c(A,C.h)}function te(C,T){var A=T>>5;T%=32;for(var x=C.g.length-A,V=[],M=0;M<x;M++)V[M]=0<T?C.i(M+A)>>>T|C.i(M+A+1)<<32-T:C.i(M+A);return new c(V,C.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,T_=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=y,c.fromString=_,Oi=c}).apply(typeof Ty<"u"?Ty:typeof self<"u"?self:typeof window<"u"?window:{});var Wl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var S_,Ga,C_,nc,_f,A_,R_,P_;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,m,v){return l==Array.prototype||l==Object.prototype||(l[m]=v.value),l};function t(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof Wl=="object"&&Wl];for(var m=0;m<l.length;++m){var v=l[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var i=t(this);function s(l,m){if(m)e:{var v=i;l=l.split(".");for(var I=0;I<l.length-1;I++){var U=l[I];if(!(U in v))break e;v=v[U]}l=l[l.length-1],I=v[l],m=m(I),m!=I&&m!=null&&e(v,l,{configurable:!0,writable:!0,value:m})}}function a(l,m){l instanceof String&&(l+="");var v=0,I=!1,U={next:function(){if(!I&&v<l.length){var G=v++;return{value:m(G,l[G]),done:!1}}return I=!0,{done:!0,value:void 0}}};return U[Symbol.iterator]=function(){return U},U}s("Array.prototype.values",function(l){return l||function(){return a(this,function(m,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},f=this||self;function h(l){var m=typeof l;return m=m!="object"?m:l?Array.isArray(l)?"array":m:"null",m=="array"||m=="object"&&typeof l.length=="number"}function y(l){var m=typeof l;return m=="object"&&l!=null||m=="function"}function _(l,m,v){return l.call.apply(l.bind,arguments)}function E(l,m,v){if(!l)throw Error();if(2<arguments.length){var I=Array.prototype.slice.call(arguments,2);return function(){var U=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(U,I),l.apply(m,U)}}return function(){return l.apply(m,arguments)}}function S(l,m,v){return S=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?_:E,S.apply(null,arguments)}function k(l,m){var v=Array.prototype.slice.call(arguments,1);return function(){var I=v.slice();return I.push.apply(I,arguments),l.apply(this,I)}}function N(l,m){function v(){}v.prototype=m.prototype,l.aa=m.prototype,l.prototype=new v,l.prototype.constructor=l,l.Qb=function(I,U,G){for(var oe=Array(arguments.length-2),Xe=2;Xe<arguments.length;Xe++)oe[Xe-2]=arguments[Xe];return m.prototype[U].apply(I,oe)}}function O(l){const m=l.length;if(0<m){const v=Array(m);for(let I=0;I<m;I++)v[I]=l[I];return v}return[]}function b(l,m){for(let v=1;v<arguments.length;v++){const I=arguments[v];if(h(I)){const U=l.length||0,G=I.length||0;l.length=U+G;for(let oe=0;oe<G;oe++)l[U+oe]=I[oe]}else l.push(I)}}class B{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function H(l){return/^[\s\xa0]*$/.test(l)}function W(){var l=f.navigator;return l&&(l=l.userAgent)?l:""}function Q(l){return Q[" "](l),l}Q[" "]=function(){};var $=W().indexOf("Gecko")!=-1&&!(W().toLowerCase().indexOf("webkit")!=-1&&W().indexOf("Edge")==-1)&&!(W().indexOf("Trident")!=-1||W().indexOf("MSIE")!=-1)&&W().indexOf("Edge")==-1;function te(l,m,v){for(const I in l)m.call(v,l[I],I,l)}function C(l,m){for(const v in l)m.call(void 0,l[v],v,l)}function T(l){const m={};for(const v in l)m[v]=l[v];return m}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function x(l,m){let v,I;for(let U=1;U<arguments.length;U++){I=arguments[U];for(v in I)l[v]=I[v];for(let G=0;G<A.length;G++)v=A[G],Object.prototype.hasOwnProperty.call(I,v)&&(l[v]=I[v])}}function V(l){var m=1;l=l.split(":");const v=[];for(;0<m&&l.length;)v.push(l.shift()),m--;return l.length&&v.push(l.join(":")),v}function M(l){f.setTimeout(()=>{throw l},0)}function P(){var l=pe;let m=null;return l.g&&(m=l.g,l.g=l.g.next,l.g||(l.h=null),m.next=null),m}class ze{constructor(){this.h=this.g=null}add(m,v){const I=De.get();I.set(m,v),this.h?this.h.next=I:this.g=I,this.h=I}}var De=new B(()=>new Ne,l=>l.reset());class Ne{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Ve,ie=!1,pe=new ze,ae=()=>{const l=f.Promise.resolve(void 0);Ve=()=>{l.then(F)}};var F=()=>{for(var l;l=P();){try{l.h.call(l.g)}catch(v){M(v)}var m=De;m.j(l),100>m.h&&(m.h++,l.next=m.g,m.g=l)}ie=!1};function K(){this.s=this.s,this.C=this.C}K.prototype.s=!1,K.prototype.ma=function(){this.s||(this.s=!0,this.N())},K.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ue(l,m){this.type=l,this.g=this.target=m,this.defaultPrevented=!1}ue.prototype.h=function(){this.defaultPrevented=!0};var Te=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var l=!1,m=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const v=()=>{};f.addEventListener("test",v,m),f.removeEventListener("test",v,m)}catch{}return l}();function Ce(l,m){if(ue.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var v=this.type=l.type,I=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=m,m=l.relatedTarget){if($){e:{try{Q(m.nodeName);var U=!0;break e}catch{}U=!1}U||(m=null)}}else v=="mouseover"?m=l.fromElement:v=="mouseout"&&(m=l.toElement);this.relatedTarget=m,I?(this.clientX=I.clientX!==void 0?I.clientX:I.pageX,this.clientY=I.clientY!==void 0?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:Pe[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&Ce.aa.h.call(this)}}N(Ce,ue);var Pe={2:"touch",3:"pen",4:"mouse"};Ce.prototype.h=function(){Ce.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var xe="closure_listenable_"+(1e6*Math.random()|0),Oe=0;function We(l,m,v,I,U){this.listener=l,this.proxy=null,this.src=m,this.type=v,this.capture=!!I,this.ha=U,this.key=++Oe,this.da=this.fa=!1}function pt(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function In(l){this.src=l,this.g={},this.h=0}In.prototype.add=function(l,m,v,I,U){var G=l.toString();l=this.g[G],l||(l=this.g[G]=[],this.h++);var oe=Jn(l,m,I,U);return-1<oe?(m=l[oe],v||(m.fa=!1)):(m=new We(m,this.src,G,!!I,U),m.fa=v,l.push(m)),m};function Ir(l,m){var v=m.type;if(v in l.g){var I=l.g[v],U=Array.prototype.indexOf.call(I,m,void 0),G;(G=0<=U)&&Array.prototype.splice.call(I,U,1),G&&(pt(m),l.g[v].length==0&&(delete l.g[v],l.h--))}}function Jn(l,m,v,I){for(var U=0;U<l.length;++U){var G=l[U];if(!G.da&&G.listener==m&&G.capture==!!v&&G.ha==I)return U}return-1}var Zn="closure_lm_"+(1e6*Math.random()|0),Xr={};function Ko(l,m,v,I,U){if(Array.isArray(m)){for(var G=0;G<m.length;G++)Ko(l,m[G],v,I,U);return null}return v=Xo(v),l&&l[xe]?l.K(m,v,y(I)?!!I.capture:!1,U):Qo(l,m,v,!1,I,U)}function Qo(l,m,v,I,U,G){if(!m)throw Error("Invalid event type");var oe=y(U)?!!U.capture:!!U,Xe=ks(l);if(Xe||(l[Zn]=Xe=new In(l)),v=Xe.add(m,v,I,oe,G),v.proxy)return v;if(I=bu(),v.proxy=I,I.src=l,I.listener=v,l.addEventListener)Te||(U=oe),U===void 0&&(U=!1),l.addEventListener(m.toString(),I,U);else if(l.attachEvent)l.attachEvent(Sr(m.toString()),I);else if(l.addListener&&l.removeListener)l.addListener(I);else throw Error("addEventListener and attachEvent are unavailable.");return v}function bu(){function l(v){return m.call(l.src,l.listener,v)}const m=Yo;return l}function Ps(l,m,v,I,U){if(Array.isArray(m))for(var G=0;G<m.length;G++)Ps(l,m[G],v,I,U);else I=y(I)?!!I.capture:!!I,v=Xo(v),l&&l[xe]?(l=l.i,m=String(m).toString(),m in l.g&&(G=l.g[m],v=Jn(G,v,I,U),-1<v&&(pt(G[v]),Array.prototype.splice.call(G,v,1),G.length==0&&(delete l.g[m],l.h--)))):l&&(l=ks(l))&&(m=l.g[m.toString()],l=-1,m&&(l=Jn(m,v,I,U)),(v=-1<l?m[l]:null)&&Tr(v))}function Tr(l){if(typeof l!="number"&&l&&!l.da){var m=l.src;if(m&&m[xe])Ir(m.i,l);else{var v=l.type,I=l.proxy;m.removeEventListener?m.removeEventListener(v,I,l.capture):m.detachEvent?m.detachEvent(Sr(v),I):m.addListener&&m.removeListener&&m.removeListener(I),(v=ks(m))?(Ir(v,l),v.h==0&&(v.src=null,m[Zn]=null)):pt(l)}}}function Sr(l){return l in Xr?Xr[l]:Xr[l]="on"+l}function Yo(l,m){if(l.da)l=!0;else{m=new Ce(m,this);var v=l.listener,I=l.ha||l.src;l.fa&&Tr(l),l=v.call(I,m)}return l}function ks(l){return l=l[Zn],l instanceof In?l:null}var bs="__closure_events_fn_"+(1e9*Math.random()>>>0);function Xo(l){return typeof l=="function"?l:(l[bs]||(l[bs]=function(m){return l.handleEvent(m)}),l[bs])}function wt(){K.call(this),this.i=new In(this),this.M=this,this.F=null}N(wt,K),wt.prototype[xe]=!0,wt.prototype.removeEventListener=function(l,m,v,I){Ps(this,l,m,v,I)};function Et(l,m){var v,I=l.F;if(I)for(v=[];I;I=I.F)v.push(I);if(l=l.M,I=m.type||m,typeof m=="string")m=new ue(m,l);else if(m instanceof ue)m.target=m.target||l;else{var U=m;m=new ue(I,l),x(m,U)}if(U=!0,v)for(var G=v.length-1;0<=G;G--){var oe=m.g=v[G];U=Cr(oe,I,!0,m)&&U}if(oe=m.g=l,U=Cr(oe,I,!0,m)&&U,U=Cr(oe,I,!1,m)&&U,v)for(G=0;G<v.length;G++)oe=m.g=v[G],U=Cr(oe,I,!1,m)&&U}wt.prototype.N=function(){if(wt.aa.N.call(this),this.i){var l=this.i,m;for(m in l.g){for(var v=l.g[m],I=0;I<v.length;I++)pt(v[I]);delete l.g[m],l.h--}}this.F=null},wt.prototype.K=function(l,m,v,I){return this.i.add(String(l),m,!1,v,I)},wt.prototype.L=function(l,m,v,I){return this.i.add(String(l),m,!0,v,I)};function Cr(l,m,v,I){if(m=l.i.g[String(m)],!m)return!0;m=m.concat();for(var U=!0,G=0;G<m.length;++G){var oe=m[G];if(oe&&!oe.da&&oe.capture==v){var Xe=oe.listener,It=oe.ha||oe.src;oe.fa&&Ir(l.i,oe),U=Xe.call(It,I)!==!1&&U}}return U&&!I.defaultPrevented}function Jo(l,m,v){if(typeof l=="function")v&&(l=S(l,v));else if(l&&typeof l.handleEvent=="function")l=S(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:f.setTimeout(l,m||0)}function Jr(l){l.g=Jo(()=>{l.g=null,l.i&&(l.i=!1,Jr(l))},l.l);const m=l.h;l.h=null,l.m.apply(null,m)}class Hi extends K{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Jr(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function qi(l){K.call(this),this.h=l,this.g={}}N(qi,K);var Zo=[];function ea(l){te(l.g,function(m,v){this.g.hasOwnProperty(v)&&Tr(m)},l),l.g={}}qi.prototype.N=function(){qi.aa.N.call(this),ea(this)},qi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ta=f.JSON.stringify,na=f.JSON.parse,ra=class{stringify(l){return f.JSON.stringify(l,void 0)}parse(l){return f.JSON.parse(l,void 0)}};function Wi(){}Wi.prototype.h=null;function Os(l){return l.h||(l.h=l.i())}function xs(){}var Tn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function er(){ue.call(this,"d")}N(er,ue);function Ds(){ue.call(this,"c")}N(Ds,ue);var tr={},ia=null;function Gi(){return ia=ia||new wt}tr.La="serverreachability";function sa(l){ue.call(this,tr.La,l)}N(sa,ue);function Ar(l){const m=Gi();Et(m,new sa(m))}tr.STAT_EVENT="statevent";function oa(l,m){ue.call(this,tr.STAT_EVENT,l),this.stat=m}N(oa,ue);function dt(l){const m=Gi();Et(m,new oa(m,l))}tr.Ma="timingevent";function Vs(l,m){ue.call(this,tr.Ma,l),this.size=m}N(Vs,ue);function Nn(l,m){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){l()},m)}function Ki(){this.g=!0}Ki.prototype.xa=function(){this.g=!1};function Qi(l,m,v,I,U,G){l.info(function(){if(l.g)if(G)for(var oe="",Xe=G.split("&"),It=0;It<Xe.length;It++){var $e=Xe[It].split("=");if(1<$e.length){var Pt=$e[0];$e=$e[1];var mt=Pt.split("_");oe=2<=mt.length&&mt[1]=="type"?oe+(Pt+"="+$e+"&"):oe+(Pt+"=redacted&")}}else oe=null;else oe=G;return"XMLHTTP REQ ("+I+") [attempt "+U+"]: "+m+`
`+v+`
`+oe})}function Ns(l,m,v,I,U,G,oe){l.info(function(){return"XMLHTTP RESP ("+I+") [ attempt "+U+"]: "+m+`
`+v+`
`+G+" "+oe})}function Ln(l,m,v,I){l.info(function(){return"XMLHTTP TEXT ("+m+"): "+md(l,v)+(I?" "+I:"")})}function aa(l,m){l.info(function(){return"TIMEOUT: "+m})}Ki.prototype.info=function(){};function md(l,m){if(!l.g)return m;if(!m)return null;try{var v=JSON.parse(m);if(v){for(l=0;l<v.length;l++)if(Array.isArray(v[l])){var I=v[l];if(!(2>I.length)){var U=I[1];if(Array.isArray(U)&&!(1>U.length)){var G=U[0];if(G!="noop"&&G!="stop"&&G!="close")for(var oe=1;oe<U.length;oe++)U[oe]=""}}}}return ta(v)}catch{return m}}var Ls={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ou={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Mn;function Yi(){}N(Yi,Wi),Yi.prototype.g=function(){return new XMLHttpRequest},Yi.prototype.i=function(){return{}},Mn=new Yi;function Fn(l,m,v,I){this.j=l,this.i=m,this.l=v,this.R=I||1,this.U=new qi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new xu}function xu(){this.i=null,this.g="",this.h=!1}var ua={},Ms={};function Fs(l,m,v){l.L=1,l.v=ri(pn(m)),l.m=v,l.P=!0,la(l,null)}function la(l,m){l.F=Date.now(),Ze(l),l.A=pn(l.v);var v=l.A,I=l.R;Array.isArray(I)||(I=[String(I)]),si(v.i,"t",I),l.C=0,v=l.j.J,l.h=new xu,l.g=Yu(l.j,v?m:null,!l.m),0<l.O&&(l.M=new Hi(S(l.Y,l,l.g),l.O)),m=l.U,v=l.g,I=l.ca;var U="readystatechange";Array.isArray(U)||(U&&(Zo[0]=U.toString()),U=Zo);for(var G=0;G<U.length;G++){var oe=Ko(v,U[G],I||m.handleEvent,!1,m.h||m);if(!oe)break;m.g[oe.key]=oe}m=l.H?T(l.H):{},l.m?(l.u||(l.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,m)):(l.u="GET",l.g.ea(l.A,l.u,null,m)),Ar(),Qi(l.i,l.u,l.A,l.l,l.R,l.m)}Fn.prototype.ca=function(l){l=l.target;const m=this.M;m&&nn(l)==3?m.j():this.Y(l)},Fn.prototype.Y=function(l){try{if(l==this.g)e:{const mt=nn(this.g);var m=this.g.Ba();const An=this.g.Z();if(!(3>mt)&&(mt!=3||this.g&&(this.h.h||this.g.oa()||ma(this.g)))){this.J||mt!=4||m==7||(m==8||0>=An?Ar(3):Ar(2)),Xi(this);var v=this.g.Z();this.X=v;t:if(Du(this)){var I=ma(this.g);l="";var U=I.length,G=nn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Sn(this),Zr(this);var oe="";break t}this.h.i=new f.TextDecoder}for(m=0;m<U;m++)this.h.h=!0,l+=this.h.i.decode(I[m],{stream:!(G&&m==U-1)});I.length=0,this.h.g+=l,this.C=0,oe=this.h.g}else oe=this.g.oa();if(this.o=v==200,Ns(this.i,this.u,this.A,this.l,this.R,mt,v),this.o){if(this.T&&!this.K){t:{if(this.g){var Xe,It=this.g;if((Xe=It.g?It.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!H(Xe)){var $e=Xe;break t}}$e=null}if(v=$e)Ln(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ca(this,v);else{this.o=!1,this.s=3,dt(12),Sn(this),Zr(this);break e}}if(this.P){v=!0;let gn;for(;!this.J&&this.C<oe.length;)if(gn=gd(this,oe),gn==Ms){mt==4&&(this.s=4,dt(14),v=!1),Ln(this.i,this.l,null,"[Incomplete Response]");break}else if(gn==ua){this.s=4,dt(15),Ln(this.i,this.l,oe,"[Invalid Chunk]"),v=!1;break}else Ln(this.i,this.l,gn,null),ca(this,gn);if(Du(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),mt!=4||oe.length!=0||this.h.h||(this.s=1,dt(16),v=!1),this.o=this.o&&v,!v)Ln(this.i,this.l,oe,"[Invalid Chunked Response]"),Sn(this),Zr(this);else if(0<oe.length&&!this.W){this.W=!0;var Pt=this.j;Pt.g==this&&Pt.ba&&!Pt.M&&(Pt.j.info("Great, no buffering proxy detected. Bytes received: "+oe.length),ya(Pt),Pt.M=!0,dt(11))}}else Ln(this.i,this.l,oe,null),ca(this,oe);mt==4&&Sn(this),this.o&&!this.J&&(mt==4?Qs(this.j,this):(this.o=!1,Ze(this)))}else Hs(this.g),v==400&&0<oe.indexOf("Unknown SID")?(this.s=3,dt(12)):(this.s=0,dt(13)),Sn(this),Zr(this)}}}catch{}finally{}};function Du(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function gd(l,m){var v=l.C,I=m.indexOf(`
`,v);return I==-1?Ms:(v=Number(m.substring(v,I)),isNaN(v)?ua:(I+=1,I+v>m.length?Ms:(m=m.slice(I,I+v),l.C=I+v,m)))}Fn.prototype.cancel=function(){this.J=!0,Sn(this)};function Ze(l){l.S=Date.now()+l.I,Vu(l,l.I)}function Vu(l,m){if(l.B!=null)throw Error("WatchDog timer not null");l.B=Nn(S(l.ba,l),m)}function Xi(l){l.B&&(f.clearTimeout(l.B),l.B=null)}Fn.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?(aa(this.i,this.A),this.L!=2&&(Ar(),dt(17)),Sn(this),this.s=2,Zr(this)):Vu(this,this.S-l)};function Zr(l){l.j.G==0||l.J||Qs(l.j,l)}function Sn(l){Xi(l);var m=l.M;m&&typeof m.ma=="function"&&m.ma(),l.M=null,ea(l.U),l.g&&(m=l.g,l.g=null,m.abort(),m.ma())}function ca(l,m){try{var v=l.j;if(v.G!=0&&(v.g==l||Xt(v.h,l))){if(!l.K&&Xt(v.h,l)&&v.G==3){try{var I=v.Da.g.parse(m)}catch{I=null}if(Array.isArray(I)&&I.length==3){var U=I;if(U[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<l.F)Ks(v),Bn(v);else break e;Gs(v),dt(18)}}else v.za=U[1],0<v.za-v.T&&37500>U[2]&&v.F&&v.v==0&&!v.C&&(v.C=Nn(S(v.Za,v),6e3));if(1>=Lu(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else Or(v,11)}else if((l.K||v.g==l)&&Ks(v),!H(m))for(U=v.Da.g.parse(m),m=0;m<U.length;m++){let $e=U[m];if(v.T=$e[0],$e=$e[1],v.G==2)if($e[0]=="c"){v.K=$e[1],v.ia=$e[2];const Pt=$e[3];Pt!=null&&(v.la=Pt,v.j.info("VER="+v.la));const mt=$e[4];mt!=null&&(v.Aa=mt,v.j.info("SVER="+v.Aa));const An=$e[5];An!=null&&typeof An=="number"&&0<An&&(I=1.5*An,v.L=I,v.j.info("backChannelRequestTimeoutMs_="+I)),I=v;const gn=l.g;if(gn){const is=gn.g?gn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(is){var G=I.h;G.g||is.indexOf("spdy")==-1&&is.indexOf("quic")==-1&&is.indexOf("h2")==-1||(G.j=G.l,G.g=new Set,G.h&&(da(G,G.h),G.h=null))}if(I.D){const Xs=gn.g?gn.g.getResponseHeader("X-HTTP-Session-Id"):null;Xs&&(I.ya=Xs,Je(I.I,I.D,Xs))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-l.F,v.j.info("Handshake RTT: "+v.R+"ms")),I=v;var oe=l;if(I.qa=Qu(I,I.J?I.ia:null,I.W),oe.K){Mu(I.h,oe);var Xe=oe,It=I.L;It&&(Xe.I=It),Xe.B&&(Xi(Xe),Ze(Xe)),I.g=oe}else rs(I);0<v.i.length&&sr(v)}else $e[0]!="stop"&&$e[0]!="close"||Or(v,7);else v.G==3&&($e[0]=="stop"||$e[0]=="close"?$e[0]=="stop"?Or(v,7):Vt(v):$e[0]!="noop"&&v.l&&v.l.ta($e),v.v=0)}}Ar(4)}catch{}}var Nu=class{constructor(l,m){this.g=l,this.map=m}};function Ji(l){this.l=l||10,f.PerformanceNavigationTiming?(l=f.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function fn(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function Lu(l){return l.h?1:l.g?l.g.size:0}function Xt(l,m){return l.h?l.h==m:l.g?l.g.has(m):!1}function da(l,m){l.g?l.g.add(m):l.h=m}function Mu(l,m){l.h&&l.h==m?l.h=null:l.g&&l.g.has(m)&&l.g.delete(m)}Ji.prototype.cancel=function(){if(this.i=Fu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function Fu(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let m=l.i;for(const v of l.g.values())m=m.concat(v.D);return m}return O(l.i)}function Us(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(h(l)){for(var m=[],v=l.length,I=0;I<v;I++)m.push(l[I]);return m}m=[],v=0;for(I in l)m[v++]=l[I];return m}function js(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(h(l)||typeof l=="string"){var m=[];l=l.length;for(var v=0;v<l;v++)m.push(v);return m}m=[],v=0;for(const I in l)m[v++]=I;return m}}}function ei(l,m){if(l.forEach&&typeof l.forEach=="function")l.forEach(m,void 0);else if(h(l)||typeof l=="string")Array.prototype.forEach.call(l,m,void 0);else for(var v=js(l),I=Us(l),U=I.length,G=0;G<U;G++)m.call(void 0,I[G],v&&v[G],l)}var Zi=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function yd(l,m){if(l){l=l.split("&");for(var v=0;v<l.length;v++){var I=l[v].indexOf("="),U=null;if(0<=I){var G=l[v].substring(0,I);U=l[v].substring(I+1)}else G=l[v];m(G,U?decodeURIComponent(U.replace(/\+/g," ")):"")}}}function Rr(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof Rr){this.h=l.h,es(this,l.j),this.o=l.o,this.g=l.g,ti(this,l.s),this.l=l.l;var m=l.i,v=new nr;v.i=m.i,m.g&&(v.g=new Map(m.g),v.h=m.h),ni(this,v),this.m=l.m}else l&&(m=String(l).match(Zi))?(this.h=!1,es(this,m[1]||"",!0),this.o=Ue(m[2]||""),this.g=Ue(m[3]||"",!0),ti(this,m[4]),this.l=Ue(m[5]||"",!0),ni(this,m[6]||"",!0),this.m=Ue(m[7]||"")):(this.h=!1,this.i=new nr(null,this.h))}Rr.prototype.toString=function(){var l=[],m=this.j;m&&l.push(ii(m,zs,!0),":");var v=this.g;return(v||m=="file")&&(l.push("//"),(m=this.o)&&l.push(ii(m,zs,!0),"@"),l.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&l.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&l.push("/"),l.push(ii(v,v.charAt(0)=="/"?zu:ju,!0))),(v=this.i.toString())&&l.push("?",v),(v=this.m)&&l.push("#",ii(v,ha)),l.join("")};function pn(l){return new Rr(l)}function es(l,m,v){l.j=v?Ue(m,!0):m,l.j&&(l.j=l.j.replace(/:$/,""))}function ti(l,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);l.s=m}else l.s=null}function ni(l,m,v){m instanceof nr?(l.i=m,rr(l.i,l.h)):(v||(m=ii(m,$u)),l.i=new nr(m,l.h))}function Je(l,m,v){l.i.set(m,v)}function ri(l){return Je(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function Ue(l,m){return l?m?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function ii(l,m,v){return typeof l=="string"?(l=encodeURI(l).replace(m,Uu),v&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function Uu(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var zs=/[#\/\?@]/g,ju=/[#\?:]/g,zu=/[#\?]/g,$u=/[#\?@]/g,ha=/#/g;function nr(l,m){this.h=this.g=null,this.i=l||null,this.j=!!m}function Dt(l){l.g||(l.g=new Map,l.h=0,l.i&&yd(l.i,function(m,v){l.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}n=nr.prototype,n.add=function(l,m){Dt(this),this.i=null,l=Cn(this,l);var v=this.g.get(l);return v||this.g.set(l,v=[]),v.push(m),this.h+=1,this};function Un(l,m){Dt(l),m=Cn(l,m),l.g.has(m)&&(l.i=null,l.h-=l.g.get(m).length,l.g.delete(m))}function jn(l,m){return Dt(l),m=Cn(l,m),l.g.has(m)}n.forEach=function(l,m){Dt(this),this.g.forEach(function(v,I){v.forEach(function(U){l.call(m,U,I,this)},this)},this)},n.na=function(){Dt(this);const l=Array.from(this.g.values()),m=Array.from(this.g.keys()),v=[];for(let I=0;I<m.length;I++){const U=l[I];for(let G=0;G<U.length;G++)v.push(m[I])}return v},n.V=function(l){Dt(this);let m=[];if(typeof l=="string")jn(this,l)&&(m=m.concat(this.g.get(Cn(this,l))));else{l=Array.from(this.g.values());for(let v=0;v<l.length;v++)m=m.concat(l[v])}return m},n.set=function(l,m){return Dt(this),this.i=null,l=Cn(this,l),jn(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[m]),this.h+=1,this},n.get=function(l,m){return l?(l=this.V(l),0<l.length?String(l[0]):m):m};function si(l,m,v){Un(l,m),0<v.length&&(l.i=null,l.g.set(Cn(l,m),O(v)),l.h+=v.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],m=Array.from(this.g.keys());for(var v=0;v<m.length;v++){var I=m[v];const G=encodeURIComponent(String(I)),oe=this.V(I);for(I=0;I<oe.length;I++){var U=G;oe[I]!==""&&(U+="="+encodeURIComponent(String(oe[I]))),l.push(U)}}return this.i=l.join("&")};function Cn(l,m){return m=String(m),l.j&&(m=m.toLowerCase()),m}function rr(l,m){m&&!l.j&&(Dt(l),l.i=null,l.g.forEach(function(v,I){var U=I.toLowerCase();I!=U&&(Un(this,I),si(this,U,v))},l)),l.j=m}function vd(l,m){const v=new Ki;if(f.Image){const I=new Image;I.onload=k(tn,v,"TestLoadImage: loaded",!0,m,I),I.onerror=k(tn,v,"TestLoadImage: error",!1,m,I),I.onabort=k(tn,v,"TestLoadImage: abort",!1,m,I),I.ontimeout=k(tn,v,"TestLoadImage: timeout",!1,m,I),f.setTimeout(function(){I.ontimeout&&I.ontimeout()},1e4),I.src=l}else m(!1)}function Bu(l,m){const v=new Ki,I=new AbortController,U=setTimeout(()=>{I.abort(),tn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(l,{signal:I.signal}).then(G=>{clearTimeout(U),G.ok?tn(v,"TestPingServer: ok",!0,m):tn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),tn(v,"TestPingServer: error",!1,m)})}function tn(l,m,v,I,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),I(v)}catch{}}function _d(){this.g=new ra}function Hu(l,m,v){const I=v||"";try{ei(l,function(U,G){let oe=U;y(U)&&(oe=ta(U)),m.push(I+G+"="+encodeURIComponent(oe))})}catch(U){throw m.push(I+"type="+encodeURIComponent("_badmap")),U}}function Pr(l){this.l=l.Ub||null,this.j=l.eb||!1}N(Pr,Wi),Pr.prototype.g=function(){return new ts(this.l,this.j)},Pr.prototype.i=function(l){return function(){return l}}({});function ts(l,m){wt.call(this),this.D=l,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}N(ts,wt),n=ts.prototype,n.open=function(l,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=m,this.readyState=1,$n(this)},n.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(m.body=l),(this.D||f).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,zn(this)),this.readyState=0},n.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,$n(this)),this.g&&(this.readyState=3,$n(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;qu(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function qu(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}n.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var m=l.value?l.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!l.done}))&&(this.response=this.responseText+=m)}l.done?zn(this):$n(this),this.readyState==3&&qu(this)}},n.Ra=function(l){this.g&&(this.response=this.responseText=l,zn(this))},n.Qa=function(l){this.g&&(this.response=l,zn(this))},n.ga=function(){this.g&&zn(this)};function zn(l){l.readyState=4,l.l=null,l.j=null,l.v=null,$n(l)}n.setRequestHeader=function(l,m){this.u.append(l,m)},n.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,l.push(v[0]+": "+v[1]),v=m.next();return l.join(`\r
`)};function $n(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(ts.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function kr(l){let m="";return te(l,function(v,I){m+=I,m+=":",m+=v,m+=`\r
`}),m}function oi(l,m,v){e:{for(I in v){var I=!1;break e}I=!0}I||(v=kr(v),typeof l=="string"?v!=null&&encodeURIComponent(String(v)):Je(l,m,v))}function it(l){wt.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}N(it,wt);var wd=/^https?$/i,fa=["POST","PUT"];n=it.prototype,n.Ha=function(l){this.J=l},n.ea=function(l,m,v,I){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);m=m?m.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Mn.g(),this.v=this.o?Os(this.o):Os(Mn),this.g.onreadystatechange=S(this.Ea,this);try{this.B=!0,this.g.open(m,String(l),!0),this.B=!1}catch(G){ns(this,G);return}if(l=v||"",v=new Map(this.headers),I)if(Object.getPrototypeOf(I)===Object.prototype)for(var U in I)v.set(U,I[U]);else if(typeof I.keys=="function"&&typeof I.get=="function")for(const G of I.keys())v.set(G,I.get(G));else throw Error("Unknown input type for opt_headers: "+String(I));I=Array.from(v.keys()).find(G=>G.toLowerCase()=="content-type"),U=f.FormData&&l instanceof f.FormData,!(0<=Array.prototype.indexOf.call(fa,m,void 0))||I||U||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[G,oe]of v)this.g.setRequestHeader(G,oe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Bs(this),this.u=!0,this.g.send(l),this.u=!1}catch(G){ns(this,G)}};function ns(l,m){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=m,l.m=5,$s(l),mn(l)}function $s(l){l.A||(l.A=!0,Et(l,"complete"),Et(l,"error"))}n.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,Et(this,"complete"),Et(this,"abort"),mn(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),mn(this,!0)),it.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?pa(this):this.bb())},n.bb=function(){pa(this)};function pa(l){if(l.h&&typeof c<"u"&&(!l.v[1]||nn(l)!=4||l.Z()!=2)){if(l.u&&nn(l)==4)Jo(l.Ea,0,l);else if(Et(l,"readystatechange"),nn(l)==4){l.h=!1;try{const oe=l.Z();e:switch(oe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var v;if(!(v=m)){var I;if(I=oe===0){var U=String(l.D).match(Zi)[1]||null;!U&&f.self&&f.self.location&&(U=f.self.location.protocol.slice(0,-1)),I=!wd.test(U?U.toLowerCase():"")}v=I}if(v)Et(l,"complete"),Et(l,"success");else{l.m=6;try{var G=2<nn(l)?l.g.statusText:""}catch{G=""}l.l=G+" ["+l.Z()+"]",$s(l)}}finally{mn(l)}}}}function mn(l,m){if(l.g){Bs(l);const v=l.g,I=l.v[0]?()=>{}:null;l.g=null,l.v=null,m||Et(l,"ready");try{v.onreadystatechange=I}catch{}}}function Bs(l){l.I&&(f.clearTimeout(l.I),l.I=null)}n.isActive=function(){return!!this.g};function nn(l){return l.g?l.g.readyState:0}n.Z=function(){try{return 2<nn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(l){if(this.g){var m=this.g.responseText;return l&&m.indexOf(l)==0&&(m=m.substring(l.length)),na(m)}};function ma(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function Hs(l){const m={};l=(l.g&&2<=nn(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let I=0;I<l.length;I++){if(H(l[I]))continue;var v=V(l[I]);const U=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const G=m[U]||[];m[U]=G,G.push(v)}C(m,function(I){return I.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ir(l,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[l]||m}function ga(l){this.Aa=0,this.i=[],this.j=new Ki,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ir("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ir("baseRetryDelayMs",5e3,l),this.cb=ir("retryDelaySeedMs",1e4,l),this.Wa=ir("forwardChannelMaxRetries",2,l),this.wa=ir("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new Ji(l&&l.concurrentRequestLimit),this.Da=new _d,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=ga.prototype,n.la=8,n.G=1,n.connect=function(l,m,v,I){dt(0),this.W=l,this.H=m||{},v&&I!==void 0&&(this.H.OSID=v,this.H.OAID=I),this.F=this.X,this.I=Qu(this,null,this.W),sr(this)};function Vt(l){if(qs(l),l.G==3){var m=l.U++,v=pn(l.I);if(Je(v,"SID",l.K),Je(v,"RID",m),Je(v,"TYPE","terminate"),br(l,v),m=new Fn(l,l.j,m),m.L=2,m.v=ri(pn(v)),v=!1,f.navigator&&f.navigator.sendBeacon)try{v=f.navigator.sendBeacon(m.v.toString(),"")}catch{}!v&&f.Image&&(new Image().src=m.v,v=!0),v||(m.g=Yu(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Ze(m)}Ku(l)}function Bn(l){l.g&&(ya(l),l.g.cancel(),l.g=null)}function qs(l){Bn(l),l.u&&(f.clearTimeout(l.u),l.u=null),Ks(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&f.clearTimeout(l.s),l.s=null)}function sr(l){if(!fn(l.h)&&!l.s){l.s=!0;var m=l.Ga;Ve||ae(),ie||(Ve(),ie=!0),pe.add(m,l),l.B=0}}function Ed(l,m){return Lu(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=m.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=Nn(S(l.Ga,l,m),Gu(l,l.B)),l.B++,!0)}n.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const U=new Fn(this,this.j,l);let G=this.o;if(this.S&&(G?(G=T(G),x(G,this.S)):G=this.S),this.m!==null||this.O||(U.H=G,G=null),this.P)e:{for(var m=0,v=0;v<this.i.length;v++){t:{var I=this.i[v];if("__data__"in I.map&&(I=I.map.__data__,typeof I=="string")){I=I.length;break t}I=void 0}if(I===void 0)break;if(m+=I,4096<m){m=v;break e}if(m===4096||v===this.i.length-1){m=v+1;break e}}m=1e3}else m=1e3;m=ai(this,U,m),v=pn(this.I),Je(v,"RID",l),Je(v,"CVER",22),this.D&&Je(v,"X-HTTP-Session-Id",this.D),br(this,v),G&&(this.O?m="headers="+encodeURIComponent(String(kr(G)))+"&"+m:this.m&&oi(v,this.m,G)),da(this.h,U),this.Ua&&Je(v,"TYPE","init"),this.P?(Je(v,"$req",m),Je(v,"SID","null"),U.T=!0,Fs(U,v,null)):Fs(U,v,m),this.G=2}}else this.G==3&&(l?Ws(this,l):this.i.length==0||fn(this.h)||Ws(this))};function Ws(l,m){var v;m?v=m.l:v=l.U++;const I=pn(l.I);Je(I,"SID",l.K),Je(I,"RID",v),Je(I,"AID",l.T),br(l,I),l.m&&l.o&&oi(I,l.m,l.o),v=new Fn(l,l.j,v,l.B+1),l.m===null&&(v.H=l.o),m&&(l.i=m.D.concat(l.i)),m=ai(l,v,1e3),v.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),da(l.h,v),Fs(v,I,m)}function br(l,m){l.H&&te(l.H,function(v,I){Je(m,I,v)}),l.l&&ei({},function(v,I){Je(m,I,v)})}function ai(l,m,v){v=Math.min(l.i.length,v);var I=l.l?S(l.l.Na,l.l,l):null;e:{var U=l.i;let G=-1;for(;;){const oe=["count="+v];G==-1?0<v?(G=U[0].g,oe.push("ofs="+G)):G=0:oe.push("ofs="+G);let Xe=!0;for(let It=0;It<v;It++){let $e=U[It].g;const Pt=U[It].map;if($e-=G,0>$e)G=Math.max(0,U[It].g-100),Xe=!1;else try{Hu(Pt,oe,"req"+$e+"_")}catch{I&&I(Pt)}}if(Xe){I=oe.join("&");break e}}}return l=l.i.splice(0,v),m.D=l,I}function rs(l){if(!l.g&&!l.u){l.Y=1;var m=l.Fa;Ve||ae(),ie||(Ve(),ie=!0),pe.add(m,l),l.v=0}}function Gs(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=Nn(S(l.Fa,l),Gu(l,l.v)),l.v++,!0)}n.Fa=function(){if(this.u=null,Wu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=Nn(S(this.ab,this),l)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,dt(10),Bn(this),Wu(this))};function ya(l){l.A!=null&&(f.clearTimeout(l.A),l.A=null)}function Wu(l){l.g=new Fn(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var m=pn(l.qa);Je(m,"RID","rpc"),Je(m,"SID",l.K),Je(m,"AID",l.T),Je(m,"CI",l.F?"0":"1"),!l.F&&l.ja&&Je(m,"TO",l.ja),Je(m,"TYPE","xmlhttp"),br(l,m),l.m&&l.o&&oi(m,l.m,l.o),l.L&&(l.g.I=l.L);var v=l.g;l=l.ia,v.L=1,v.v=ri(pn(m)),v.m=null,v.P=!0,la(v,l)}n.Za=function(){this.C!=null&&(this.C=null,Bn(this),Gs(this),dt(19))};function Ks(l){l.C!=null&&(f.clearTimeout(l.C),l.C=null)}function Qs(l,m){var v=null;if(l.g==m){Ks(l),ya(l),l.g=null;var I=2}else if(Xt(l.h,m))v=m.D,Mu(l.h,m),I=1;else return;if(l.G!=0){if(m.o)if(I==1){v=m.m?m.m.length:0,m=Date.now()-m.F;var U=l.B;I=Gi(),Et(I,new Vs(I,v)),sr(l)}else rs(l);else if(U=m.s,U==3||U==0&&0<m.X||!(I==1&&Ed(l,m)||I==2&&Gs(l)))switch(v&&0<v.length&&(m=l.h,m.i=m.i.concat(v)),U){case 1:Or(l,5);break;case 4:Or(l,10);break;case 3:Or(l,6);break;default:Or(l,2)}}}function Gu(l,m){let v=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(v*=2),v*m}function Or(l,m){if(l.j.info("Error code "+m),m==2){var v=S(l.fb,l),I=l.Xa;const U=!I;I=new Rr(I||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||es(I,"https"),ri(I),U?vd(I.toString(),v):Bu(I.toString(),v)}else dt(2);l.G=0,l.l&&l.l.sa(m),Ku(l),qs(l)}n.fb=function(l){l?(this.j.info("Successfully pinged google.com"),dt(2)):(this.j.info("Failed to ping google.com"),dt(1))};function Ku(l){if(l.G=0,l.ka=[],l.l){const m=Fu(l.h);(m.length!=0||l.i.length!=0)&&(b(l.ka,m),b(l.ka,l.i),l.h.i.length=0,O(l.i),l.i.length=0),l.l.ra()}}function Qu(l,m,v){var I=v instanceof Rr?pn(v):new Rr(v);if(I.g!="")m&&(I.g=m+"."+I.g),ti(I,I.s);else{var U=f.location;I=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;var G=new Rr(null);I&&es(G,I),m&&(G.g=m),U&&ti(G,U),v&&(G.l=v),I=G}return v=l.D,m=l.ya,v&&m&&Je(I,v,m),Je(I,"VER",l.la),br(l,I),I}function Yu(l,m,v){if(m&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=l.Ca&&!l.pa?new it(new Pr({eb:v})):new it(l.pa),m.Ha(l.J),m}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function va(){}n=va.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Ys(){}Ys.prototype.g=function(l,m){return new Jt(l,m)};function Jt(l,m){wt.call(this),this.g=new ga(m),this.l=l,this.h=m&&m.messageUrlParams||null,l=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(l?l["X-WebChannel-Content-Type"]=m.messageContentType:l={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(l?l["X-WebChannel-Client-Profile"]=m.va:l={"X-WebChannel-Client-Profile":m.va}),this.g.S=l,(l=m&&m.Sb)&&!H(l)&&(this.g.m=l),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!H(m)&&(this.g.D=m,l=this.h,l!==null&&m in l&&(l=this.h,m in l&&delete l[m])),this.j=new or(this)}N(Jt,wt),Jt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Jt.prototype.close=function(){Vt(this.g)},Jt.prototype.o=function(l){var m=this.g;if(typeof l=="string"){var v={};v.__data__=l,l=v}else this.u&&(v={},v.__data__=ta(l),l=v);m.i.push(new Nu(m.Ya++,l)),m.G==3&&sr(m)},Jt.prototype.N=function(){this.g.l=null,delete this.j,Vt(this.g),delete this.g,Jt.aa.N.call(this)};function Xu(l){er.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var m=l.__sm__;if(m){e:{for(const v in m){l=v;break e}l=void 0}(this.i=l)&&(l=this.i,m=m!==null&&l in m?m[l]:void 0),this.data=m}else this.data=l}N(Xu,er);function Ju(){Ds.call(this),this.status=1}N(Ju,Ds);function or(l){this.g=l}N(or,va),or.prototype.ua=function(){Et(this.g,"a")},or.prototype.ta=function(l){Et(this.g,new Xu(l))},or.prototype.sa=function(l){Et(this.g,new Ju)},or.prototype.ra=function(){Et(this.g,"b")},Ys.prototype.createWebChannel=Ys.prototype.g,Jt.prototype.send=Jt.prototype.o,Jt.prototype.open=Jt.prototype.m,Jt.prototype.close=Jt.prototype.close,P_=function(){return new Ys},R_=function(){return Gi()},A_=tr,_f={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ls.NO_ERROR=0,Ls.TIMEOUT=8,Ls.HTTP_ERROR=6,nc=Ls,Ou.COMPLETE="complete",C_=Ou,xs.EventType=Tn,Tn.OPEN="a",Tn.CLOSE="b",Tn.ERROR="c",Tn.MESSAGE="d",wt.prototype.listen=wt.prototype.K,Ga=xs,it.prototype.listenOnce=it.prototype.L,it.prototype.getLastError=it.prototype.Ka,it.prototype.getLastErrorCode=it.prototype.Ba,it.prototype.getStatus=it.prototype.Z,it.prototype.getResponseJson=it.prototype.Oa,it.prototype.getResponseText=it.prototype.oa,it.prototype.send=it.prototype.ea,it.prototype.setWithCredentials=it.prototype.Ha,S_=it}).apply(typeof Wl<"u"?Wl:typeof self<"u"?self:typeof window<"u"?window:{});const Sy="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Gt.UNAUTHENTICATED=new Gt(null),Gt.GOOGLE_CREDENTIALS=new Gt("google-credentials-uid"),Gt.FIRST_PARTY=new Gt("first-party-uid"),Gt.MOCK_USER=new Gt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zo="11.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ws=new Qf("@firebase/firestore");function wo(){return ws.logLevel}function ce(n,...e){if(ws.logLevel<=Me.DEBUG){const t=e.map(Jf);ws.debug(`Firestore (${zo}): ${n}`,...t)}}function Wr(n,...e){if(ws.logLevel<=Me.ERROR){const t=e.map(Jf);ws.error(`Firestore (${zo}): ${n}`,...t)}}function xo(n,...e){if(ws.logLevel<=Me.WARN){const t=e.map(Jf);ws.warn(`Firestore (${zo}): ${n}`,...t)}}function Jf(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Re(n="Unexpected state"){const e=`FIRESTORE (${zo}) INTERNAL ASSERTION FAILED: `+n;throw Wr(e),new Error(e)}function Ye(n,e){n||Re()}function be(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class de extends Yr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k_{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class p0{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Gt.UNAUTHENTICATED))}shutdown(){}}class m0{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class g0{constructor(e){this.t=e,this.currentUser=Gt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ye(this.o===void 0);let i=this.i;const s=h=>this.i!==i?(i=this.i,t(h)):Promise.resolve();let a=new xi;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new xi,e.enqueueRetryable(()=>s(this.currentUser))};const c=()=>{const h=a;e.enqueueRetryable(async()=>{await h.promise,await s(this.currentUser)})},f=h=>{ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(h=>f(h)),setTimeout(()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?f(h):(ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new xi)}},0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Ye(typeof i.accessToken=="string"),new k_(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ye(e===null||typeof e=="string"),new Gt(e)}}class y0{constructor(e,t,i){this.l=e,this.h=t,this.P=i,this.type="FirstParty",this.user=Gt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class v0{constructor(e,t,i){this.l=e,this.h=t,this.P=i}getToken(){return Promise.resolve(new y0(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Gt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class _0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class w0{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){Ye(this.o===void 0);const i=a=>{a.error!=null&&ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const c=a.token!==this.R;return this.R=a.token,ce("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>i(a))};const s=a=>{ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(a=>s(a)),setTimeout(()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?s(a):ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ye(typeof t.token=="string"),this.R=t.token,new _0(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E0(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b_{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const s=E0(40);for(let a=0;a<s.length;++a)i.length<20&&s[a]<t&&(i+=e.charAt(s[a]%e.length))}return i}}function je(n,e){return n<e?-1:n>e?1:0}function Do(n,e,t){return n.length===e.length&&n.every((i,s)=>t(i,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{static now(){return Ct.fromMillis(Date.now())}static fromDate(e){return Ct.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new Ct(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new de(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new de(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new de(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new de(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?je(this.nanoseconds,e.nanoseconds):je(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{static fromTimestamp(e){return new ke(e)}static min(){return new ke(new Ct(0,0))}static max(){return new ke(new Ct(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dr{constructor(e,t,i){t===void 0?t=0:t>e.length&&Re(),i===void 0?i=e.length-t:i>e.length-t&&Re(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return dr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof dr?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let s=0;s<i;s++){const a=dr.compareSegments(e.get(s),t.get(s));if(a!==0)return a}return Math.sign(e.length-t.length)}static compareSegments(e,t){const i=dr.isNumericId(e),s=dr.isNumericId(t);return i&&!s?-1:!i&&s?1:i&&s?dr.extractNumericId(e).compare(dr.extractNumericId(t)):e<t?-1:e>t?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Oi.fromString(e.substring(4,e.length-2))}}class rt extends dr{construct(e,t,i){return new rt(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new de(J.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(s=>s.length>0))}return new rt(t)}static emptyPath(){return new rt([])}}const I0=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ut extends dr{construct(e,t,i){return new Ut(e,t,i)}static isValidIdentifier(e){return I0.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ut.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Ut(["__name__"])}static fromServerFormat(e){const t=[];let i="",s=0;const a=()=>{if(i.length===0)throw new de(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let c=!1;for(;s<e.length;){const f=e[s];if(f==="\\"){if(s+1===e.length)throw new de(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[s+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new de(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=h,s+=2}else f==="`"?(c=!c,s++):f!=="."||c?(i+=f,s++):(a(),s++)}if(a(),c)throw new de(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ut(t)}static emptyPath(){return new Ut([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(e){this.path=e}static fromPath(e){return new _e(rt.fromString(e))}static fromName(e){return new _e(rt.fromString(e).popFirst(5))}static empty(){return new _e(rt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&rt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return rt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _e(new rt(e.slice()))}}function T0(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,s=ke.fromTimestamp(i===1e9?new Ct(t+1,0):new Ct(t,i));return new Vi(s,_e.empty(),e)}function S0(n){return new Vi(n.readTime,n.key,-1)}class Vi{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new Vi(ke.min(),_e.empty(),-1)}static max(){return new Vi(ke.max(),_e.empty(),-1)}}function C0(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=_e.comparator(n.documentKey,e.documentKey),t!==0?t:je(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A0="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class R0{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $o(n){if(n.code!==J.FAILED_PRECONDITION||n.message!==A0)throw n;ce("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Re(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new X((i,s)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(i,s)},this.catchCallback=a=>{this.wrapFailure(t,a).next(i,s)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof X?t:X.resolve(t)}catch(t){return X.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):X.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):X.reject(t)}static resolve(e){return new X((t,i)=>{t(e)})}static reject(e){return new X((t,i)=>{i(e)})}static waitFor(e){return new X((t,i)=>{let s=0,a=0,c=!1;e.forEach(f=>{++s,f.next(()=>{++a,c&&a===s&&t()},h=>i(h))}),c=!0,a===s&&t()})}static or(e){let t=X.resolve(!1);for(const i of e)t=t.next(s=>s?X.resolve(s):i());return t}static forEach(e,t){const i=[];return e.forEach((s,a)=>{i.push(t.call(this,s,a))}),this.waitFor(i)}static mapArray(e,t){return new X((i,s)=>{const a=e.length,c=new Array(a);let f=0;for(let h=0;h<a;h++){const y=h;t(e[y]).next(_=>{c[y]=_,++f,f===a&&i(c)},_=>s(_))}})}static doWhile(e,t){return new X((i,s)=>{const a=()=>{e()===!0?t().next(()=>{a()},s):i()};a()})}}function P0(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Bo(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $c{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ie(i),this.se=i=>t.writeSequenceNumber(i))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}$c.oe=-1;function Bc(n){return n==null}function _c(n){return n===0&&1/n==-1/0}function k0(n){return typeof n=="number"&&Number.isInteger(n)&&!_c(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b0(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Cy(e)),e=O0(n.get(t),e);return Cy(e)}function O0(n,e){let t=e;const i=n.length;for(let s=0;s<i;s++){const a=n.charAt(s);switch(a){case"\0":t+="";break;case"":t+="";break;default:t+=a}}return t}function Cy(n){return n+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ay(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function ji(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function O_(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(e,t){this.comparator=e,this.root=t||Mt.EMPTY}insert(e,t){return new ut(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Mt.BLACK,null,null))}remove(e){return new ut(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Mt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return t+i.left.size;s<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Gl(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Gl(this.root,e,this.comparator,!1)}getReverseIterator(){return new Gl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Gl(this.root,e,this.comparator,!0)}}class Gl{constructor(e,t,i,s){this.isReverse=s,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?i(e.key,t):1,t&&s&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Mt{constructor(e,t,i,s,a){this.key=e,this.value=t,this.color=i??Mt.RED,this.left=s??Mt.EMPTY,this.right=a??Mt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,s,a){return new Mt(e??this.key,t??this.value,i??this.color,s??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let s=this;const a=i(e,s.key);return s=a<0?s.copy(null,null,null,s.left.insert(e,t,i),null):a===0?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,i)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Mt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),t(e,s.key)===0){if(s.right.isEmpty())return Mt.EMPTY;i=s.right.min(),s=s.copy(i.key,i.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Mt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Mt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Re();const e=this.left.check();if(e!==this.right.check())throw Re();return e+(this.isRed()?0:1)}}Mt.EMPTY=null,Mt.RED=!0,Mt.BLACK=!1;Mt.EMPTY=new class{constructor(){this.size=0}get key(){throw Re()}get value(){throw Re()}get color(){throw Re()}get left(){throw Re()}get right(){throw Re()}copy(e,t,i,s,a){return this}insert(e,t,i){return new Mt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{constructor(e){this.comparator=e,this.data=new ut(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const s=i.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Ry(this.data.getIterator())}getIteratorFrom(e){return new Ry(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof At)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,a=i.getNext().key;if(this.comparator(s,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new At(this.comparator);return t.data=e,t}}class Ry{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e){this.fields=e,e.sort(Ut.comparator)}static empty(){return new wn([])}unionWith(e){let t=new At(Ut.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new wn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Do(this.fields,e.fields,(t,i)=>t.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x_ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(s){try{return atob(s)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new x_("Invalid base64 string: "+a):a}}(e);return new jt(t)}static fromUint8Array(e){const t=function(s){let a="";for(let c=0;c<s.length;++c)a+=String.fromCharCode(s[c]);return a}(e);return new jt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let s=0;s<t.length;s++)i[s]=t.charCodeAt(s);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return je(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}jt.EMPTY_BYTE_STRING=new jt("");const x0=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ni(n){if(Ye(!!n),typeof n=="string"){let e=0;const t=x0.exec(n);if(Ye(!!t),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:ft(n.seconds),nanos:ft(n.nanos)}}function ft(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Li(n){return typeof n=="string"?jt.fromBase64String(n):jt.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zf(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function Hc(n){const e=n.mapValue.fields.__previous_value__;return Zf(e)?Hc(e):e}function su(n){const e=Ni(n.mapValue.fields.__local_write_time__.timestampValue);return new Ct(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D0{constructor(e,t,i,s,a,c,f,h,y){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=s,this.ssl=a,this.forceLongPolling=c,this.autoDetectLongPolling=f,this.longPollingOptions=h,this.useFetchStreams=y}}class ou{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new ou("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof ou&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kl={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Mi(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Zf(n)?4:N0(n)?9007199254740991:V0(n)?10:11:Re()}function wr(n,e){if(n===e)return!0;const t=Mi(n);if(t!==Mi(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return su(n).isEqual(su(e));case 3:return function(s,a){if(typeof s.timestampValue=="string"&&typeof a.timestampValue=="string"&&s.timestampValue.length===a.timestampValue.length)return s.timestampValue===a.timestampValue;const c=Ni(s.timestampValue),f=Ni(a.timestampValue);return c.seconds===f.seconds&&c.nanos===f.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(s,a){return Li(s.bytesValue).isEqual(Li(a.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(s,a){return ft(s.geoPointValue.latitude)===ft(a.geoPointValue.latitude)&&ft(s.geoPointValue.longitude)===ft(a.geoPointValue.longitude)}(n,e);case 2:return function(s,a){if("integerValue"in s&&"integerValue"in a)return ft(s.integerValue)===ft(a.integerValue);if("doubleValue"in s&&"doubleValue"in a){const c=ft(s.doubleValue),f=ft(a.doubleValue);return c===f?_c(c)===_c(f):isNaN(c)&&isNaN(f)}return!1}(n,e);case 9:return Do(n.arrayValue.values||[],e.arrayValue.values||[],wr);case 10:case 11:return function(s,a){const c=s.mapValue.fields||{},f=a.mapValue.fields||{};if(Ay(c)!==Ay(f))return!1;for(const h in c)if(c.hasOwnProperty(h)&&(f[h]===void 0||!wr(c[h],f[h])))return!1;return!0}(n,e);default:return Re()}}function au(n,e){return(n.values||[]).find(t=>wr(t,e))!==void 0}function Vo(n,e){if(n===e)return 0;const t=Mi(n),i=Mi(e);if(t!==i)return je(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return je(n.booleanValue,e.booleanValue);case 2:return function(a,c){const f=ft(a.integerValue||a.doubleValue),h=ft(c.integerValue||c.doubleValue);return f<h?-1:f>h?1:f===h?0:isNaN(f)?isNaN(h)?0:-1:1}(n,e);case 3:return Py(n.timestampValue,e.timestampValue);case 4:return Py(su(n),su(e));case 5:return je(n.stringValue,e.stringValue);case 6:return function(a,c){const f=Li(a),h=Li(c);return f.compareTo(h)}(n.bytesValue,e.bytesValue);case 7:return function(a,c){const f=a.split("/"),h=c.split("/");for(let y=0;y<f.length&&y<h.length;y++){const _=je(f[y],h[y]);if(_!==0)return _}return je(f.length,h.length)}(n.referenceValue,e.referenceValue);case 8:return function(a,c){const f=je(ft(a.latitude),ft(c.latitude));return f!==0?f:je(ft(a.longitude),ft(c.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return ky(n.arrayValue,e.arrayValue);case 10:return function(a,c){var f,h,y,_;const E=a.fields||{},S=c.fields||{},k=(f=E.value)===null||f===void 0?void 0:f.arrayValue,N=(h=S.value)===null||h===void 0?void 0:h.arrayValue,O=je(((y=k==null?void 0:k.values)===null||y===void 0?void 0:y.length)||0,((_=N==null?void 0:N.values)===null||_===void 0?void 0:_.length)||0);return O!==0?O:ky(k,N)}(n.mapValue,e.mapValue);case 11:return function(a,c){if(a===Kl.mapValue&&c===Kl.mapValue)return 0;if(a===Kl.mapValue)return 1;if(c===Kl.mapValue)return-1;const f=a.fields||{},h=Object.keys(f),y=c.fields||{},_=Object.keys(y);h.sort(),_.sort();for(let E=0;E<h.length&&E<_.length;++E){const S=je(h[E],_[E]);if(S!==0)return S;const k=Vo(f[h[E]],y[_[E]]);if(k!==0)return k}return je(h.length,_.length)}(n.mapValue,e.mapValue);default:throw Re()}}function Py(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return je(n,e);const t=Ni(n),i=Ni(e),s=je(t.seconds,i.seconds);return s!==0?s:je(t.nanos,i.nanos)}function ky(n,e){const t=n.values||[],i=e.values||[];for(let s=0;s<t.length&&s<i.length;++s){const a=Vo(t[s],i[s]);if(a)return a}return je(t.length,i.length)}function No(n){return wf(n)}function wf(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const i=Ni(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Li(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return _e.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",s=!0;for(const a of t.values||[])s?s=!1:i+=",",i+=wf(a);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){const i=Object.keys(t.fields||{}).sort();let s="{",a=!0;for(const c of i)a?a=!1:s+=",",s+=`${c}:${wf(t.fields[c])}`;return s+"}"}(n.mapValue):Re()}function rc(n){switch(Mi(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Hc(n);return e?16+rc(e):16;case 5:return 2*n.stringValue.length;case 6:return Li(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((s,a)=>s+rc(a),0)}(n.arrayValue);case 10:case 11:return function(i){let s=0;return ji(i.fields,(a,c)=>{s+=a.length+rc(c)}),s}(n.mapValue);default:throw Re()}}function by(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Ef(n){return!!n&&"integerValue"in n}function ep(n){return!!n&&"arrayValue"in n}function Oy(n){return!!n&&"nullValue"in n}function xy(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function ic(n){return!!n&&"mapValue"in n}function V0(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function Za(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return ji(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=Za(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Za(n.arrayValue.values[t]);return e}return Object.assign({},n)}function N0(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e){this.value=e}static empty(){return new dn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!ic(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Za(t)}setAll(e){let t=Ut.emptyPath(),i={},s=[];e.forEach((c,f)=>{if(!t.isImmediateParentOf(f)){const h=this.getFieldsMap(t);this.applyChanges(h,i,s),i={},s=[],t=f.popLast()}c?i[f.lastSegment()]=Za(c):s.push(f.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,i,s)}delete(e){const t=this.field(e.popLast());ic(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return wr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let s=t.mapValue.fields[e.get(i)];ic(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,i){ji(t,(s,a)=>e[s]=a);for(const s of i)delete e[s]}clone(){return new dn(Za(this.value))}}function D_(n){const e=[];return ji(n.fields,(t,i)=>{const s=new Ut([t]);if(ic(i)){const a=D_(i.mapValue).fields;if(a.length===0)e.push(s);else for(const c of a)e.push(s.child(c))}else e.push(s)}),new wn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e,t,i,s,a,c,f){this.key=e,this.documentType=t,this.version=i,this.readTime=s,this.createTime=a,this.data=c,this.documentState=f}static newInvalidDocument(e){return new Kt(e,0,ke.min(),ke.min(),ke.min(),dn.empty(),0)}static newFoundDocument(e,t,i,s){return new Kt(e,1,t,ke.min(),i,s,0)}static newNoDocument(e,t){return new Kt(e,2,t,ke.min(),ke.min(),dn.empty(),0)}static newUnknownDocument(e,t){return new Kt(e,3,t,ke.min(),ke.min(),dn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ke.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=dn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=dn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ke.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Kt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Kt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wc{constructor(e,t){this.position=e,this.inclusive=t}}function Dy(n,e,t){let i=0;for(let s=0;s<n.position.length;s++){const a=e[s],c=n.position[s];if(a.field.isKeyField()?i=_e.comparator(_e.fromName(c.referenceValue),t.key):i=Vo(c,t.data.field(a.field)),a.dir==="desc"&&(i*=-1),i!==0)break}return i}function Vy(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!wr(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uu{constructor(e,t="asc"){this.field=e,this.dir=t}}function L0(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V_{}class _t extends V_{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new F0(e,t,i):t==="array-contains"?new z0(e,i):t==="in"?new $0(e,i):t==="not-in"?new B0(e,i):t==="array-contains-any"?new H0(e,i):new _t(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new U0(e,i):new j0(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Vo(t,this.value)):t!==null&&Mi(this.value)===Mi(t)&&this.matchesComparison(Vo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Re()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Yn extends V_{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new Yn(e,t)}matches(e){return N_(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function N_(n){return n.op==="and"}function L_(n){return M0(n)&&N_(n)}function M0(n){for(const e of n.filters)if(e instanceof Yn)return!1;return!0}function If(n){if(n instanceof _t)return n.field.canonicalString()+n.op.toString()+No(n.value);if(L_(n))return n.filters.map(e=>If(e)).join(",");{const e=n.filters.map(t=>If(t)).join(",");return`${n.op}(${e})`}}function M_(n,e){return n instanceof _t?function(i,s){return s instanceof _t&&i.op===s.op&&i.field.isEqual(s.field)&&wr(i.value,s.value)}(n,e):n instanceof Yn?function(i,s){return s instanceof Yn&&i.op===s.op&&i.filters.length===s.filters.length?i.filters.reduce((a,c,f)=>a&&M_(c,s.filters[f]),!0):!1}(n,e):void Re()}function F_(n){return n instanceof _t?function(t){return`${t.field.canonicalString()} ${t.op} ${No(t.value)}`}(n):n instanceof Yn?function(t){return t.op.toString()+" {"+t.getFilters().map(F_).join(" ,")+"}"}(n):"Filter"}class F0 extends _t{constructor(e,t,i){super(e,t,i),this.key=_e.fromName(i.referenceValue)}matches(e){const t=_e.comparator(e.key,this.key);return this.matchesComparison(t)}}class U0 extends _t{constructor(e,t){super(e,"in",t),this.keys=U_("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class j0 extends _t{constructor(e,t){super(e,"not-in",t),this.keys=U_("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function U_(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(i=>_e.fromName(i.referenceValue))}class z0 extends _t{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return ep(t)&&au(t.arrayValue,this.value)}}class $0 extends _t{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&au(this.value.arrayValue,t)}}class B0 extends _t{constructor(e,t){super(e,"not-in",t)}matches(e){if(au(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!au(this.value.arrayValue,t)}}class H0 extends _t{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!ep(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>au(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q0{constructor(e,t=null,i=[],s=[],a=null,c=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=s,this.limit=a,this.startAt=c,this.endAt=f,this.ue=null}}function Ny(n,e=null,t=[],i=[],s=null,a=null,c=null){return new q0(n,e,t,i,s,a,c)}function tp(n){const e=be(n);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>If(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(a){return a.field.canonicalString()+a.dir}(i)).join(","),Bc(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>No(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>No(i)).join(",")),e.ue=t}return e.ue}function np(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!L0(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!M_(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Vy(n.startAt,e.startAt)&&Vy(n.endAt,e.endAt)}function Tf(n){return _e.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho{constructor(e,t=null,i=[],s=[],a=null,c="F",f=null,h=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=s,this.limit=a,this.limitType=c,this.startAt=f,this.endAt=h,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function W0(n,e,t,i,s,a,c,f){return new Ho(n,e,t,i,s,a,c,f)}function qc(n){return new Ho(n)}function Ly(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function j_(n){return n.collectionGroup!==null}function eu(n){const e=be(n);if(e.ce===null){e.ce=[];const t=new Set;for(const a of e.explicitOrderBy)e.ce.push(a),t.add(a.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let f=new At(Ut.comparator);return c.filters.forEach(h=>{h.getFlattenedFilters().forEach(y=>{y.isInequality()&&(f=f.add(y.field))})}),f})(e).forEach(a=>{t.has(a.canonicalString())||a.isKeyField()||e.ce.push(new uu(a,i))}),t.has(Ut.keyField().canonicalString())||e.ce.push(new uu(Ut.keyField(),i))}return e.ce}function mr(n){const e=be(n);return e.le||(e.le=G0(e,eu(n))),e.le}function G0(n,e){if(n.limitType==="F")return Ny(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(s=>{const a=s.dir==="desc"?"asc":"desc";return new uu(s.field,a)});const t=n.endAt?new wc(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new wc(n.startAt.position,n.startAt.inclusive):null;return Ny(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function Sf(n,e){const t=n.filters.concat([e]);return new Ho(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Cf(n,e,t){return new Ho(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Wc(n,e){return np(mr(n),mr(e))&&n.limitType===e.limitType}function z_(n){return`${tp(mr(n))}|lt:${n.limitType}`}function Eo(n){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(s=>F_(s)).join(", ")}]`),Bc(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(s=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(s)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(s=>No(s)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(s=>No(s)).join(",")),`Target(${i})`}(mr(n))}; limitType=${n.limitType})`}function Gc(n,e){return e.isFoundDocument()&&function(i,s){const a=s.key.path;return i.collectionGroup!==null?s.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(a):_e.isDocumentKey(i.path)?i.path.isEqual(a):i.path.isImmediateParentOf(a)}(n,e)&&function(i,s){for(const a of eu(i))if(!a.field.isKeyField()&&s.data.field(a.field)===null)return!1;return!0}(n,e)&&function(i,s){for(const a of i.filters)if(!a.matches(s))return!1;return!0}(n,e)&&function(i,s){return!(i.startAt&&!function(c,f,h){const y=Dy(c,f,h);return c.inclusive?y<=0:y<0}(i.startAt,eu(i),s)||i.endAt&&!function(c,f,h){const y=Dy(c,f,h);return c.inclusive?y>=0:y>0}(i.endAt,eu(i),s))}(n,e)}function K0(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function $_(n){return(e,t)=>{let i=!1;for(const s of eu(n)){const a=Q0(s,e,t);if(a!==0)return a;i=i||s.field.isKeyField()}return 0}}function Q0(n,e,t){const i=n.field.isKeyField()?_e.comparator(e.key,t.key):function(a,c,f){const h=c.data.field(a),y=f.data.field(a);return h!==null&&y!==null?Vo(h,y):Re()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Re()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[s,a]of i)if(this.equalsFn(s,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return void(s[a]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return i.length===1?delete this.inner[t]:i.splice(s,1),this.innerSize--,!0;return!1}forEach(e){ji(this.inner,(t,i)=>{for(const[s,a]of i)e(s,a)})}isEmpty(){return O_(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y0=new ut(_e.comparator);function Gr(){return Y0}const B_=new ut(_e.comparator);function Ka(...n){let e=B_;for(const t of n)e=e.insert(t.key,t);return e}function H_(n){let e=B_;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function vs(){return tu()}function q_(){return tu()}function tu(){return new Ss(n=>n.toString(),(n,e)=>n.isEqual(e))}const X0=new ut(_e.comparator),J0=new At(_e.comparator);function Fe(...n){let e=J0;for(const t of n)e=e.add(t);return e}const Z0=new At(je);function eC(){return Z0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rp(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:_c(e)?"-0":e}}function W_(n){return{integerValue:""+n}}function tC(n,e){return k0(e)?W_(e):rp(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc{constructor(){this._=void 0}}function nC(n,e,t){return n instanceof lu?function(s,a){const c={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return a&&Zf(a)&&(a=Hc(a)),a&&(c.fields.__previous_value__=a),{mapValue:c}}(t,e):n instanceof cu?K_(n,e):n instanceof du?Q_(n,e):function(s,a){const c=G_(s,a),f=My(c)+My(s.Pe);return Ef(c)&&Ef(s.Pe)?W_(f):rp(s.serializer,f)}(n,e)}function rC(n,e,t){return n instanceof cu?K_(n,e):n instanceof du?Q_(n,e):t}function G_(n,e){return n instanceof Ec?function(i){return Ef(i)||function(a){return!!a&&"doubleValue"in a}(i)}(e)?e:{integerValue:0}:null}class lu extends Kc{}class cu extends Kc{constructor(e){super(),this.elements=e}}function K_(n,e){const t=Y_(e);for(const i of n.elements)t.some(s=>wr(s,i))||t.push(i);return{arrayValue:{values:t}}}class du extends Kc{constructor(e){super(),this.elements=e}}function Q_(n,e){let t=Y_(e);for(const i of n.elements)t=t.filter(s=>!wr(s,i));return{arrayValue:{values:t}}}class Ec extends Kc{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function My(n){return ft(n.integerValue||n.doubleValue)}function Y_(n){return ep(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iC{constructor(e,t){this.field=e,this.transform=t}}function sC(n,e){return n.field.isEqual(e.field)&&function(i,s){return i instanceof cu&&s instanceof cu||i instanceof du&&s instanceof du?Do(i.elements,s.elements,wr):i instanceof Ec&&s instanceof Ec?wr(i.Pe,s.Pe):i instanceof lu&&s instanceof lu}(n.transform,e.transform)}class oC{constructor(e,t){this.version=e,this.transformResults=t}}class Dn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Dn}static exists(e){return new Dn(void 0,e)}static updateTime(e){return new Dn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function sc(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Qc{}function X_(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new ip(n.key,Dn.none()):new wu(n.key,n.data,Dn.none());{const t=n.data,i=dn.empty();let s=new At(Ut.comparator);for(let a of e.fields)if(!s.has(a)){let c=t.field(a);c===null&&a.length>1&&(a=a.popLast(),c=t.field(a)),c===null?i.delete(a):i.set(a,c),s=s.add(a)}return new zi(n.key,i,new wn(s.toArray()),Dn.none())}}function aC(n,e,t){n instanceof wu?function(s,a,c){const f=s.value.clone(),h=Uy(s.fieldTransforms,a,c.transformResults);f.setAll(h),a.convertToFoundDocument(c.version,f).setHasCommittedMutations()}(n,e,t):n instanceof zi?function(s,a,c){if(!sc(s.precondition,a))return void a.convertToUnknownDocument(c.version);const f=Uy(s.fieldTransforms,a,c.transformResults),h=a.data;h.setAll(J_(s)),h.setAll(f),a.convertToFoundDocument(c.version,h).setHasCommittedMutations()}(n,e,t):function(s,a,c){a.convertToNoDocument(c.version).setHasCommittedMutations()}(0,e,t)}function nu(n,e,t,i){return n instanceof wu?function(a,c,f,h){if(!sc(a.precondition,c))return f;const y=a.value.clone(),_=jy(a.fieldTransforms,h,c);return y.setAll(_),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),null}(n,e,t,i):n instanceof zi?function(a,c,f,h){if(!sc(a.precondition,c))return f;const y=jy(a.fieldTransforms,h,c),_=c.data;return _.setAll(J_(a)),_.setAll(y),c.convertToFoundDocument(c.version,_).setHasLocalMutations(),f===null?null:f.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(E=>E.field))}(n,e,t,i):function(a,c,f){return sc(a.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):f}(n,e,t)}function uC(n,e){let t=null;for(const i of n.fieldTransforms){const s=e.data.field(i.field),a=G_(i.transform,s||null);a!=null&&(t===null&&(t=dn.empty()),t.set(i.field,a))}return t||null}function Fy(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(i,s){return i===void 0&&s===void 0||!(!i||!s)&&Do(i,s,(a,c)=>sC(a,c))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class wu extends Qc{constructor(e,t,i,s=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class zi extends Qc{constructor(e,t,i,s,a=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=s,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function J_(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function Uy(n,e,t){const i=new Map;Ye(n.length===t.length);for(let s=0;s<t.length;s++){const a=n[s],c=a.transform,f=e.data.field(a.field);i.set(a.field,rC(c,f,t[s]))}return i}function jy(n,e,t){const i=new Map;for(const s of n){const a=s.transform,c=t.data.field(s.field);i.set(s.field,nC(a,c,e))}return i}class ip extends Qc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class lC extends Qc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cC{constructor(e,t,i,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=s}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const a=this.mutations[s];a.key.isEqual(e.key)&&aC(a,e,i[s])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=nu(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=nu(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=q_();return this.mutations.forEach(s=>{const a=e.get(s.key),c=a.overlayedDocument;let f=this.applyToLocalView(c,a.mutatedFields);f=t.has(s.key)?null:f;const h=X_(c,f);h!==null&&i.set(s.key,h),c.isValidDocument()||c.convertToNoDocument(ke.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Fe())}isEqual(e){return this.batchId===e.batchId&&Do(this.mutations,e.mutations,(t,i)=>Fy(t,i))&&Do(this.baseMutations,e.baseMutations,(t,i)=>Fy(t,i))}}class sp{constructor(e,t,i,s){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=s}static from(e,t,i){Ye(e.mutations.length===i.length);let s=function(){return X0}();const a=e.mutations;for(let c=0;c<a.length;c++)s=s.insert(a[c].key,i[c].version);return new sp(e,t,i,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dC{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hC{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yt,Be;function fC(n){switch(n){default:return Re();case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0}}function Z_(n){if(n===void 0)return Wr("GRPC error has no .code"),J.UNKNOWN;switch(n){case yt.OK:return J.OK;case yt.CANCELLED:return J.CANCELLED;case yt.UNKNOWN:return J.UNKNOWN;case yt.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case yt.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case yt.INTERNAL:return J.INTERNAL;case yt.UNAVAILABLE:return J.UNAVAILABLE;case yt.UNAUTHENTICATED:return J.UNAUTHENTICATED;case yt.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case yt.NOT_FOUND:return J.NOT_FOUND;case yt.ALREADY_EXISTS:return J.ALREADY_EXISTS;case yt.PERMISSION_DENIED:return J.PERMISSION_DENIED;case yt.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case yt.ABORTED:return J.ABORTED;case yt.OUT_OF_RANGE:return J.OUT_OF_RANGE;case yt.UNIMPLEMENTED:return J.UNIMPLEMENTED;case yt.DATA_LOSS:return J.DATA_LOSS;default:return Re()}}(Be=yt||(yt={}))[Be.OK=0]="OK",Be[Be.CANCELLED=1]="CANCELLED",Be[Be.UNKNOWN=2]="UNKNOWN",Be[Be.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Be[Be.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Be[Be.NOT_FOUND=5]="NOT_FOUND",Be[Be.ALREADY_EXISTS=6]="ALREADY_EXISTS",Be[Be.PERMISSION_DENIED=7]="PERMISSION_DENIED",Be[Be.UNAUTHENTICATED=16]="UNAUTHENTICATED",Be[Be.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Be[Be.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Be[Be.ABORTED=10]="ABORTED",Be[Be.OUT_OF_RANGE=11]="OUT_OF_RANGE",Be[Be.UNIMPLEMENTED=12]="UNIMPLEMENTED",Be[Be.INTERNAL=13]="INTERNAL",Be[Be.UNAVAILABLE=14]="UNAVAILABLE",Be[Be.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pC(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mC=new Oi([4294967295,4294967295],0);function zy(n){const e=pC().encode(n),t=new T_;return t.update(e),new Uint8Array(t.digest())}function $y(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),s=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Oi([t,i],0),new Oi([s,a],0)]}class op{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new Qa(`Invalid padding: ${t}`);if(i<0)throw new Qa(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Qa(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new Qa(`Invalid padding when bitmap length is 0: ${t}`);this.Te=8*e.length-t,this.Ie=Oi.fromNumber(this.Te)}de(e,t,i){let s=e.add(t.multiply(Oi.fromNumber(i)));return s.compare(mC)===1&&(s=new Oi([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Ie).toNumber()}Ee(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const t=zy(e),[i,s]=$y(t);for(let a=0;a<this.hashCount;a++){const c=this.de(i,s,a);if(!this.Ee(c))return!1}return!0}static create(e,t,i){const s=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),c=new op(a,s,t);return i.forEach(f=>c.insert(f)),c}insert(e){if(this.Te===0)return;const t=zy(e),[i,s]=$y(t);for(let a=0;a<this.hashCount;a++){const c=this.de(i,s,a);this.Ae(c)}}Ae(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class Qa extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc{constructor(e,t,i,s,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=s,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const s=new Map;return s.set(e,Eu.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new Yc(ke.min(),s,new ut(je),Gr(),Fe())}}class Eu{constructor(e,t,i,s,a){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=s,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new Eu(i,t,Fe(),Fe(),Fe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oc{constructor(e,t,i,s){this.Re=e,this.removedTargetIds=t,this.key=i,this.Ve=s}}class ew{constructor(e,t){this.targetId=e,this.me=t}}class tw{constructor(e,t,i=jt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=s}}class By{constructor(){this.fe=0,this.ge=Hy(),this.pe=jt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Fe(),t=Fe(),i=Fe();return this.ge.forEach((s,a)=>{switch(a){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:i=i.add(s);break;default:Re()}}),new Eu(this.pe,this.ye,e,t,i)}Ce(){this.we=!1,this.ge=Hy()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Ye(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class gC{constructor(e){this.Be=e,this.Le=new Map,this.ke=Gr(),this.qe=Ql(),this.Qe=Ql(),this.Ke=new ut(je)}$e(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(t,e.Ve):this.We(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.We(t,e.key,e.Ve)}Ge(e){this.forEachTarget(e,t=>{const i=this.ze(t);switch(e.state){case 0:this.je(t)&&i.De(e.resumeToken);break;case 1:i.Oe(),i.Se||i.Ce(),i.De(e.resumeToken);break;case 2:i.Oe(),i.Se||this.removeTarget(t);break;case 3:this.je(t)&&(i.Ne(),i.De(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),i.De(e.resumeToken));break;default:Re()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Le.forEach((i,s)=>{this.je(s)&&t(s)})}Je(e){const t=e.targetId,i=e.me.count,s=this.Ye(t);if(s){const a=s.target;if(Tf(a))if(i===0){const c=new _e(a.path);this.We(t,c,Kt.newNoDocument(c,ke.min()))}else Ye(i===1);else{const c=this.Ze(t);if(c!==i){const f=this.Xe(e),h=f?this.et(f,e,c):1;if(h!==0){this.He(t);const y=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,y)}}}}}Xe(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:s=0},hashCount:a=0}=t;let c,f;try{c=Li(i).toUint8Array()}catch(h){if(h instanceof x_)return xo("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{f=new op(c,s,a)}catch(h){return xo(h instanceof Qa?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return f.Te===0?null:f}et(e,t,i){return t.me.count===i-this.rt(e,t.targetId)?0:2}rt(e,t){const i=this.Be.getRemoteKeysForTarget(t);let s=0;return i.forEach(a=>{const c=this.Be.nt(),f=`projects/${c.projectId}/databases/${c.database}/documents/${a.path.canonicalString()}`;e.mightContain(f)||(this.We(t,a,null),s++)}),s}it(e){const t=new Map;this.Le.forEach((a,c)=>{const f=this.Ye(c);if(f){if(a.current&&Tf(f.target)){const h=new _e(f.target.path);this.st(h).has(c)||this.ot(c,h)||this.We(c,h,Kt.newNoDocument(h,e))}a.be&&(t.set(c,a.ve()),a.Ce())}});let i=Fe();this.Qe.forEach((a,c)=>{let f=!0;c.forEachWhile(h=>{const y=this.Ye(h);return!y||y.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)}),f&&(i=i.add(a))}),this.ke.forEach((a,c)=>c.setReadTime(e));const s=new Yc(e,t,this.Ke,this.ke,i);return this.ke=Gr(),this.qe=Ql(),this.Qe=Ql(),this.Ke=new ut(je),s}Ue(e,t){if(!this.je(e))return;const i=this.ot(e,t.key)?2:0;this.ze(e).Fe(t.key,i),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e)),this.Qe=this.Qe.insert(t.key,this._t(t.key).add(e))}We(e,t,i){if(!this.je(e))return;const s=this.ze(e);this.ot(e,t)?s.Fe(t,1):s.Me(t),this.Qe=this.Qe.insert(t,this._t(t).delete(e)),this.Qe=this.Qe.insert(t,this._t(t).add(e)),i&&(this.ke=this.ke.insert(t,i))}removeTarget(e){this.Le.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Be.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let t=this.Le.get(e);return t||(t=new By,this.Le.set(e,t)),t}_t(e){let t=this.Qe.get(e);return t||(t=new At(je),this.Qe=this.Qe.insert(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new At(je),this.qe=this.qe.insert(e,t)),t}je(e){const t=this.Ye(e)!==null;return t||ce("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.Le.get(e);return t&&t.Se?null:this.Be.ut(e)}He(e){this.Le.set(e,new By),this.Be.getRemoteKeysForTarget(e).forEach(t=>{this.We(e,t,null)})}ot(e,t){return this.Be.getRemoteKeysForTarget(e).has(t)}}function Ql(){return new ut(_e.comparator)}function Hy(){return new ut(_e.comparator)}const yC={asc:"ASCENDING",desc:"DESCENDING"},vC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},_C={and:"AND",or:"OR"};class wC{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Af(n,e){return n.useProto3Json||Bc(e)?e:{value:e}}function Ic(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function nw(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function EC(n,e){return Ic(n,e.toTimestamp())}function gr(n){return Ye(!!n),ke.fromTimestamp(function(t){const i=Ni(t);return new Ct(i.seconds,i.nanos)}(n))}function ap(n,e){return Rf(n,e).canonicalString()}function Rf(n,e){const t=function(s){return new rt(["projects",s.projectId,"databases",s.database])}(n).child("documents");return e===void 0?t:t.child(e)}function rw(n){const e=rt.fromString(n);return Ye(uw(e)),e}function Pf(n,e){return ap(n.databaseId,e.path)}function Xh(n,e){const t=rw(e);if(t.get(1)!==n.databaseId.projectId)throw new de(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new de(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new _e(sw(t))}function iw(n,e){return ap(n.databaseId,e)}function IC(n){const e=rw(n);return e.length===4?rt.emptyPath():sw(e)}function kf(n){return new rt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function sw(n){return Ye(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function qy(n,e,t){return{name:Pf(n,e),fields:t.value.mapValue.fields}}function TC(n,e){let t;if("targetChange"in e){e.targetChange;const i=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Re()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],a=function(y,_){return y.useProto3Json?(Ye(_===void 0||typeof _=="string"),jt.fromBase64String(_||"")):(Ye(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array),jt.fromUint8Array(_||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,f=c&&function(y){const _=y.code===void 0?J.UNKNOWN:Z_(y.code);return new de(_,y.message||"")}(c);t=new tw(i,s,a,f||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const s=Xh(n,i.document.name),a=gr(i.document.updateTime),c=i.document.createTime?gr(i.document.createTime):ke.min(),f=new dn({mapValue:{fields:i.document.fields}}),h=Kt.newFoundDocument(s,a,c,f),y=i.targetIds||[],_=i.removedTargetIds||[];t=new oc(y,_,h.key,h)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const s=Xh(n,i.document),a=i.readTime?gr(i.readTime):ke.min(),c=Kt.newNoDocument(s,a),f=i.removedTargetIds||[];t=new oc([],f,c.key,c)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const s=Xh(n,i.document),a=i.removedTargetIds||[];t=new oc([],a,s,null)}else{if(!("filter"in e))return Re();{e.filter;const i=e.filter;i.targetId;const{count:s=0,unchangedNames:a}=i,c=new hC(s,a),f=i.targetId;t=new ew(f,c)}}return t}function SC(n,e){let t;if(e instanceof wu)t={update:qy(n,e.key,e.value)};else if(e instanceof ip)t={delete:Pf(n,e.key)};else if(e instanceof zi)t={update:qy(n,e.key,e.data),updateMask:DC(e.fieldMask)};else{if(!(e instanceof lC))return Re();t={verify:Pf(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(a,c){const f=c.transform;if(f instanceof lu)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof cu)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof du)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof Ec)return{fieldPath:c.field.canonicalString(),increment:f.Pe};throw Re()}(0,i))),e.precondition.isNone||(t.currentDocument=function(s,a){return a.updateTime!==void 0?{updateTime:EC(s,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Re()}(n,e.precondition)),t}function CC(n,e){return n&&n.length>0?(Ye(e!==void 0),n.map(t=>function(s,a){let c=s.updateTime?gr(s.updateTime):gr(a);return c.isEqual(ke.min())&&(c=gr(a)),new oC(c,s.transformResults||[])}(t,e))):[]}function AC(n,e){return{documents:[iw(n,e.path)]}}function RC(n,e){const t={structuredQuery:{}},i=e.path;let s;e.collectionGroup!==null?(s=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=iw(n,s);const a=function(y){if(y.length!==0)return aw(Yn.create(y,"and"))}(e.filters);a&&(t.structuredQuery.where=a);const c=function(y){if(y.length!==0)return y.map(_=>function(S){return{field:Io(S.field),direction:bC(S.dir)}}(_))}(e.orderBy);c&&(t.structuredQuery.orderBy=c);const f=Af(n,e.limit);return f!==null&&(t.structuredQuery.limit=f),e.startAt&&(t.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(e.endAt)),{ct:t,parent:s}}function PC(n){let e=IC(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let s=null;if(i>0){Ye(i===1);const _=t.from[0];_.allDescendants?s=_.collectionId:e=e.child(_.collectionId)}let a=[];t.where&&(a=function(E){const S=ow(E);return S instanceof Yn&&L_(S)?S.getFilters():[S]}(t.where));let c=[];t.orderBy&&(c=function(E){return E.map(S=>function(N){return new uu(To(N.field),function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(N.direction))}(S))}(t.orderBy));let f=null;t.limit&&(f=function(E){let S;return S=typeof E=="object"?E.value:E,Bc(S)?null:S}(t.limit));let h=null;t.startAt&&(h=function(E){const S=!!E.before,k=E.values||[];return new wc(k,S)}(t.startAt));let y=null;return t.endAt&&(y=function(E){const S=!E.before,k=E.values||[];return new wc(k,S)}(t.endAt)),W0(e,s,c,a,f,"F",h,y)}function kC(n,e){const t=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Re()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function ow(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=To(t.unaryFilter.field);return _t.create(i,"==",{doubleValue:NaN});case"IS_NULL":const s=To(t.unaryFilter.field);return _t.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=To(t.unaryFilter.field);return _t.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=To(t.unaryFilter.field);return _t.create(c,"!=",{nullValue:"NULL_VALUE"});default:return Re()}}(n):n.fieldFilter!==void 0?function(t){return _t.create(To(t.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Re()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Yn.create(t.compositeFilter.filters.map(i=>ow(i)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Re()}}(t.compositeFilter.op))}(n):Re()}function bC(n){return yC[n]}function OC(n){return vC[n]}function xC(n){return _C[n]}function Io(n){return{fieldPath:n.canonicalString()}}function To(n){return Ut.fromServerFormat(n.fieldPath)}function aw(n){return n instanceof _t?function(t){if(t.op==="=="){if(xy(t.value))return{unaryFilter:{field:Io(t.field),op:"IS_NAN"}};if(Oy(t.value))return{unaryFilter:{field:Io(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(xy(t.value))return{unaryFilter:{field:Io(t.field),op:"IS_NOT_NAN"}};if(Oy(t.value))return{unaryFilter:{field:Io(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Io(t.field),op:OC(t.op),value:t.value}}}(n):n instanceof Yn?function(t){const i=t.getFilters().map(s=>aw(s));return i.length===1?i[0]:{compositeFilter:{op:xC(t.op),filters:i}}}(n):Re()}function DC(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function uw(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri{constructor(e,t,i,s,a=ke.min(),c=ke.min(),f=jt.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=s,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=f,this.expectedCount=h}withSequenceNumber(e){return new Ri(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Ri(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ri(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ri(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VC{constructor(e){this.ht=e}}function NC(n){const e=PC({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Cf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LC{constructor(){this.ln=new MC}addToCollectionParentIndex(e,t){return this.ln.add(t),X.resolve()}getCollectionParents(e,t){return X.resolve(this.ln.getEntries(t))}addFieldIndex(e,t){return X.resolve()}deleteFieldIndex(e,t){return X.resolve()}deleteAllFieldIndexes(e){return X.resolve()}createTargetIndexes(e,t){return X.resolve()}getDocumentsMatchingTarget(e,t){return X.resolve(null)}getIndexType(e,t){return X.resolve(0)}getFieldIndexes(e,t){return X.resolve([])}getNextCollectionGroupToUpdate(e){return X.resolve(null)}getMinOffset(e,t){return X.resolve(Vi.min())}getMinOffsetFromCollectionGroup(e,t){return X.resolve(Vi.min())}updateCollectionGroup(e,t,i){return X.resolve()}updateIndexEntries(e,t){return X.resolve()}}class MC{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),s=this.index[t]||new At(rt.comparator),a=!s.has(i);return this.index[t]=s.add(i),a}has(e){const t=e.lastSegment(),i=e.popLast(),s=this.index[t];return s&&s.has(i)}getEntries(e){return(this.index[e]||new At(rt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wy={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class cn{static withCacheSize(e){return new cn(e,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */cn.DEFAULT_COLLECTION_PERCENTILE=10,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,cn.DEFAULT=new cn(41943040,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),cn.DISABLED=new cn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new Lo(0)}static Qn(){return new Lo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gy([n,e],[t,i]){const s=je(n,t);return s===0?je(e,i):s}class FC{constructor(e){this.Gn=e,this.buffer=new At(Gy),this.zn=0}jn(){return++this.zn}Hn(e){const t=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();Gy(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class UC{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){ce("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Bo(t)?ce("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t):await $o(t)}await this.Yn(3e5)})}}class jC{constructor(e,t){this.Zn=e,this.params=t}calculateTargetCount(e,t){return this.Zn.Xn(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(t===0)return X.resolve($c.oe);const i=new FC(t);return this.Zn.forEachTarget(e,s=>i.Hn(s.sequenceNumber)).next(()=>this.Zn.er(e,s=>i.Hn(s))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.Zn.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.Zn.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ce("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(Wy)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Wy):this.tr(e,t))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,t){let i,s,a,c,f,h,y;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(E=>(E>this.params.maximumSequenceNumbersToCollect?(ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),s=this.params.maximumSequenceNumbersToCollect):s=E,c=Date.now(),this.nthSequenceNumber(e,s))).next(E=>(i=E,f=Date.now(),this.removeTargets(e,i,t))).next(E=>(a=E,h=Date.now(),this.removeOrphanedDocuments(e,i))).next(E=>(y=Date.now(),wo()<=Me.DEBUG&&ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-_}ms
	Determined least recently used ${s} in `+(f-c)+`ms
	Removed ${a} targets in `+(h-f)+`ms
	Removed ${E} documents in `+(y-h)+`ms
Total Duration: ${y-_}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:a,documentsRemoved:E})))}}function zC(n,e){return new jC(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $C{constructor(){this.changes=new Ss(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Kt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?X.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BC{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HC{constructor(e,t,i,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=s}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(s=>(i=s,this.remoteDocumentCache.getEntry(e,t))).next(s=>(i!==null&&nu(i.mutation,s,wn.empty(),Ct.now()),s))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,Fe()).next(()=>i))}getLocalViewOfDocuments(e,t,i=Fe()){const s=vs();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,i).next(a=>{let c=Ka();return a.forEach((f,h)=>{c=c.insert(f,h.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const i=vs();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,Fe()))}populateOverlays(e,t,i){const s=[];return i.forEach(a=>{t.has(a)||s.push(a)}),this.documentOverlayCache.getOverlays(e,s).next(a=>{a.forEach((c,f)=>{t.set(c,f)})})}computeViews(e,t,i,s){let a=Gr();const c=tu(),f=function(){return tu()}();return t.forEach((h,y)=>{const _=i.get(y.key);s.has(y.key)&&(_===void 0||_.mutation instanceof zi)?a=a.insert(y.key,y):_!==void 0?(c.set(y.key,_.mutation.getFieldMask()),nu(_.mutation,y,_.mutation.getFieldMask(),Ct.now())):c.set(y.key,wn.empty())}),this.recalculateAndSaveOverlays(e,a).next(h=>(h.forEach((y,_)=>c.set(y,_)),t.forEach((y,_)=>{var E;return f.set(y,new BC(_,(E=c.get(y))!==null&&E!==void 0?E:null))}),f))}recalculateAndSaveOverlays(e,t){const i=tu();let s=new ut((c,f)=>c-f),a=Fe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const f of c)f.keys().forEach(h=>{const y=t.get(h);if(y===null)return;let _=i.get(h)||wn.empty();_=f.applyToLocalView(y,_),i.set(h,_);const E=(s.get(f.batchId)||Fe()).add(h);s=s.insert(f.batchId,E)})}).next(()=>{const c=[],f=s.getReverseIterator();for(;f.hasNext();){const h=f.getNext(),y=h.key,_=h.value,E=q_();_.forEach(S=>{if(!a.has(S)){const k=X_(t.get(S),i.get(S));k!==null&&E.set(S,k),a=a.add(S)}}),c.push(this.documentOverlayCache.saveOverlays(e,y,E))}return X.waitFor(c)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,s){return function(c){return _e.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):j_(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,s):this.getDocumentsMatchingCollectionQuery(e,t,i,s)}getNextDocuments(e,t,i,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,s).next(a=>{const c=s-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,s-a.size):X.resolve(vs());let f=-1,h=a;return c.next(y=>X.forEach(y,(_,E)=>(f<E.largestBatchId&&(f=E.largestBatchId),a.get(_)?X.resolve():this.remoteDocumentCache.getEntry(e,_).next(S=>{h=h.insert(_,S)}))).next(()=>this.populateOverlays(e,y,a)).next(()=>this.computeViews(e,h,y,Fe())).next(_=>({batchId:f,changes:H_(_)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new _e(t)).next(i=>{let s=Ka();return i.isFoundDocument()&&(s=s.insert(i.key,i)),s})}getDocumentsMatchingCollectionGroupQuery(e,t,i,s){const a=t.collectionGroup;let c=Ka();return this.indexManager.getCollectionParents(e,a).next(f=>X.forEach(f,h=>{const y=function(E,S){return new Ho(S,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)}(t,h.child(a));return this.getDocumentsMatchingCollectionQuery(e,y,i,s).next(_=>{_.forEach((E,S)=>{c=c.insert(E,S)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,t,i,s){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(c=>(a=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,a,s))).next(c=>{a.forEach((h,y)=>{const _=y.getKey();c.get(_)===null&&(c=c.insert(_,Kt.newInvalidDocument(_)))});let f=Ka();return c.forEach((h,y)=>{const _=a.get(h);_!==void 0&&nu(_.mutation,y,wn.empty(),Ct.now()),Gc(t,y)&&(f=f.insert(h,y))}),f})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qC{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,t){return X.resolve(this.Tr.get(t))}saveBundleMetadata(e,t){return this.Tr.set(t.id,function(s){return{id:s.id,version:s.version,createTime:gr(s.createTime)}}(t)),X.resolve()}getNamedQuery(e,t){return X.resolve(this.Ir.get(t))}saveNamedQuery(e,t){return this.Ir.set(t.name,function(s){return{name:s.name,query:NC(s.bundledQuery),readTime:gr(s.readTime)}}(t)),X.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WC{constructor(){this.overlays=new ut(_e.comparator),this.dr=new Map}getOverlay(e,t){return X.resolve(this.overlays.get(t))}getOverlays(e,t){const i=vs();return X.forEach(t,s=>this.getOverlay(e,s).next(a=>{a!==null&&i.set(s,a)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((s,a)=>{this.Tt(e,t,a)}),X.resolve()}removeOverlaysForBatchId(e,t,i){const s=this.dr.get(i);return s!==void 0&&(s.forEach(a=>this.overlays=this.overlays.remove(a)),this.dr.delete(i)),X.resolve()}getOverlaysForCollection(e,t,i){const s=vs(),a=t.length+1,c=new _e(t.child("")),f=this.overlays.getIteratorFrom(c);for(;f.hasNext();){const h=f.getNext().value,y=h.getKey();if(!t.isPrefixOf(y.path))break;y.path.length===a&&h.largestBatchId>i&&s.set(h.getKey(),h)}return X.resolve(s)}getOverlaysForCollectionGroup(e,t,i,s){let a=new ut((y,_)=>y-_);const c=this.overlays.getIterator();for(;c.hasNext();){const y=c.getNext().value;if(y.getKey().getCollectionGroup()===t&&y.largestBatchId>i){let _=a.get(y.largestBatchId);_===null&&(_=vs(),a=a.insert(y.largestBatchId,_)),_.set(y.getKey(),y)}}const f=vs(),h=a.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach((y,_)=>f.set(y,_)),!(f.size()>=s)););return X.resolve(f)}Tt(e,t,i){const s=this.overlays.get(i.key);if(s!==null){const c=this.dr.get(s.largestBatchId).delete(i.key);this.dr.set(s.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new dC(t,i));let a=this.dr.get(t);a===void 0&&(a=Fe(),this.dr.set(t,a)),this.dr.set(t,a.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GC{constructor(){this.sessionToken=jt.EMPTY_BYTE_STRING}getSessionToken(e){return X.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,X.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class up{constructor(){this.Er=new At(xt.Ar),this.Rr=new At(xt.Vr)}isEmpty(){return this.Er.isEmpty()}addReference(e,t){const i=new xt(e,t);this.Er=this.Er.add(i),this.Rr=this.Rr.add(i)}mr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.gr(new xt(e,t))}pr(e,t){e.forEach(i=>this.removeReference(i,t))}yr(e){const t=new _e(new rt([])),i=new xt(t,e),s=new xt(t,e+1),a=[];return this.Rr.forEachInRange([i,s],c=>{this.gr(c),a.push(c.key)}),a}wr(){this.Er.forEach(e=>this.gr(e))}gr(e){this.Er=this.Er.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const t=new _e(new rt([])),i=new xt(t,e),s=new xt(t,e+1);let a=Fe();return this.Rr.forEachInRange([i,s],c=>{a=a.add(c.key)}),a}containsKey(e){const t=new xt(e,0),i=this.Er.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class xt{constructor(e,t){this.key=e,this.br=t}static Ar(e,t){return _e.comparator(e.key,t.key)||je(e.br,t.br)}static Vr(e,t){return je(e.br,t.br)||_e.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KC{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Dr=1,this.vr=new At(xt.Ar)}checkEmpty(e){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,s){const a=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new cC(a,t,i,s);this.mutationQueue.push(c);for(const f of s)this.vr=this.vr.add(new xt(f.key,a)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return X.resolve(c)}lookupMutationBatch(e,t){return X.resolve(this.Cr(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,s=this.Fr(i),a=s<0?0:s;return X.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new xt(t,0),s=new xt(t,Number.POSITIVE_INFINITY),a=[];return this.vr.forEachInRange([i,s],c=>{const f=this.Cr(c.br);a.push(f)}),X.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new At(je);return t.forEach(s=>{const a=new xt(s,0),c=new xt(s,Number.POSITIVE_INFINITY);this.vr.forEachInRange([a,c],f=>{i=i.add(f.br)})}),X.resolve(this.Mr(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,s=i.length+1;let a=i;_e.isDocumentKey(a)||(a=a.child(""));const c=new xt(new _e(a),0);let f=new At(je);return this.vr.forEachWhile(h=>{const y=h.key.path;return!!i.isPrefixOf(y)&&(y.length===s&&(f=f.add(h.br)),!0)},c),X.resolve(this.Mr(f))}Mr(e){const t=[];return e.forEach(i=>{const s=this.Cr(i);s!==null&&t.push(s)}),t}removeMutationBatch(e,t){Ye(this.Or(t.batchId,"removed")===0),this.mutationQueue.shift();let i=this.vr;return X.forEach(t.mutations,s=>{const a=new xt(s.key,t.batchId);return i=i.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.vr=i})}Bn(e){}containsKey(e,t){const i=new xt(t,0),s=this.vr.firstAfterOrEqual(i);return X.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,X.resolve()}Or(e,t){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){const t=this.Fr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QC{constructor(e){this.Nr=e,this.docs=function(){return new ut(_e.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,s=this.docs.get(i),a=s?s.size:0,c=this.Nr(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:c}),this.size+=c-a,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return X.resolve(i?i.document.mutableCopy():Kt.newInvalidDocument(t))}getEntries(e,t){let i=Gr();return t.forEach(s=>{const a=this.docs.get(s);i=i.insert(s,a?a.document.mutableCopy():Kt.newInvalidDocument(s))}),X.resolve(i)}getDocumentsMatchingQuery(e,t,i,s){let a=Gr();const c=t.path,f=new _e(c.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(f);for(;h.hasNext();){const{key:y,value:{document:_}}=h.getNext();if(!c.isPrefixOf(y.path))break;y.path.length>c.length+1||C0(S0(_),i)<=0||(s.has(_.key)||Gc(t,_))&&(a=a.insert(_.key,_.mutableCopy()))}return X.resolve(a)}getAllFromCollectionGroup(e,t,i,s){Re()}Br(e,t){return X.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new YC(this)}getSize(e){return X.resolve(this.size)}}class YC extends $C{constructor(e){super(),this.hr=e}applyChanges(e){const t=[];return this.changes.forEach((i,s)=>{s.isValidDocument()?t.push(this.hr.addEntry(e,s)):this.hr.removeEntry(i)}),X.waitFor(t)}getFromCache(e,t){return this.hr.getEntry(e,t)}getAllFromCache(e,t){return this.hr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XC{constructor(e){this.persistence=e,this.Lr=new Ss(t=>tp(t),np),this.lastRemoteSnapshotVersion=ke.min(),this.highestTargetId=0,this.kr=0,this.qr=new up,this.targetCount=0,this.Qr=Lo.qn()}forEachTarget(e,t){return this.Lr.forEach((i,s)=>t(s)),X.resolve()}getLastRemoteSnapshotVersion(e){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return X.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.kr&&(this.kr=t),X.resolve()}Un(e){this.Lr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Qr=new Lo(t),this.highestTargetId=t),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,t){return this.Un(t),this.targetCount+=1,X.resolve()}updateTargetData(e,t){return this.Un(t),X.resolve()}removeTargetData(e,t){return this.Lr.delete(t.target),this.qr.yr(t.targetId),this.targetCount-=1,X.resolve()}removeTargets(e,t,i){let s=0;const a=[];return this.Lr.forEach((c,f)=>{f.sequenceNumber<=t&&i.get(f.targetId)===null&&(this.Lr.delete(c),a.push(this.removeMatchingKeysForTargetId(e,f.targetId)),s++)}),X.waitFor(a).next(()=>s)}getTargetCount(e){return X.resolve(this.targetCount)}getTargetData(e,t){const i=this.Lr.get(t)||null;return X.resolve(i)}addMatchingKeys(e,t,i){return this.qr.mr(t,i),X.resolve()}removeMatchingKeys(e,t,i){this.qr.pr(t,i);const s=this.persistence.referenceDelegate,a=[];return s&&t.forEach(c=>{a.push(s.markPotentiallyOrphaned(e,c))}),X.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.qr.yr(t),X.resolve()}getMatchingKeysForTargetId(e,t){const i=this.qr.Sr(t);return X.resolve(i)}containsKey(e,t){return X.resolve(this.qr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lw{constructor(e,t){this.Kr={},this.overlays={},this.$r=new $c(0),this.Ur=!1,this.Ur=!0,this.Wr=new GC,this.referenceDelegate=e(this),this.Gr=new XC(this),this.indexManager=new LC,this.remoteDocumentCache=function(s){return new QC(s)}(i=>this.referenceDelegate.zr(i)),this.serializer=new VC(t),this.jr=new qC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new WC,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.Kr[e.toKey()];return i||(i=new KC(t,this.referenceDelegate),this.Kr[e.toKey()]=i),i}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,t,i){ce("MemoryPersistence","Starting transaction:",e);const s=new JC(this.$r.next());return this.referenceDelegate.Hr(),i(s).next(a=>this.referenceDelegate.Jr(s).next(()=>a)).toPromise().then(a=>(s.raiseOnCommittedEvent(),a))}Yr(e,t){return X.or(Object.values(this.Kr).map(i=>()=>i.containsKey(e,t)))}}class JC extends R0{constructor(e){super(),this.currentSequenceNumber=e}}class lp{constructor(e){this.persistence=e,this.Zr=new up,this.Xr=null}static ei(e){return new lp(e)}get ti(){if(this.Xr)return this.Xr;throw Re()}addReference(e,t,i){return this.Zr.addReference(i,t),this.ti.delete(i.toString()),X.resolve()}removeReference(e,t,i){return this.Zr.removeReference(i,t),this.ti.add(i.toString()),X.resolve()}markPotentiallyOrphaned(e,t){return this.ti.add(t.toString()),X.resolve()}removeTarget(e,t){this.Zr.yr(t.targetId).forEach(s=>this.ti.add(s.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(s=>{s.forEach(a=>this.ti.add(a.toString()))}).next(()=>i.removeTargetData(e,t))}Hr(){this.Xr=new Set}Jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.ti,i=>{const s=_e.fromPath(i);return this.ni(e,s).next(a=>{a||t.removeEntry(s,ke.min())})}).next(()=>(this.Xr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ni(e,t).next(i=>{i?this.ti.delete(t.toString()):this.ti.add(t.toString())})}zr(e){return 0}ni(e,t){return X.or([()=>X.resolve(this.Zr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Yr(e,t)])}}class Tc{constructor(e,t){this.persistence=e,this.ri=new Ss(i=>b0(i.path),(i,s)=>i.isEqual(s)),this.garbageCollector=zC(this,t)}static ei(e,t){return new Tc(e,t)}Hr(){}Jr(e){return X.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}Xn(e){const t=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>t.next(s=>i+s))}nr(e){let t=0;return this.er(e,i=>{t++}).next(()=>t)}er(e,t){return X.forEach(this.ri,(i,s)=>this.ir(e,i,s).next(a=>a?X.resolve():t(s)))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const s=this.persistence.getRemoteDocumentCache(),a=s.newChangeBuffer();return s.Br(e,c=>this.ir(e,c,t).next(f=>{f||(i++,a.removeEntry(c,ke.min()))})).next(()=>a.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,t){return this.ri.set(t,e.currentSequenceNumber),X.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.ri.set(i,e.currentSequenceNumber),X.resolve()}removeReference(e,t,i){return this.ri.set(i,e.currentSequenceNumber),X.resolve()}updateLimboDocument(e,t){return this.ri.set(t,e.currentSequenceNumber),X.resolve()}zr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=rc(e.data.value)),t}ir(e,t,i){return X.or([()=>this.persistence.Yr(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const s=this.ri.get(t);return X.resolve(s!==void 0&&s>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cp{constructor(e,t,i,s){this.targetId=e,this.fromCache=t,this.Wi=i,this.Gi=s}static zi(e,t){let i=Fe(),s=Fe();for(const a of t.docChanges)switch(a.type){case 0:i=i.add(a.doc.key);break;case 1:s=s.add(a.doc.key)}return new cp(e,t.fromCache,i,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eA{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return QT()?8:P0(Yt())>0?6:4}()}initialize(e,t){this.Zi=e,this.indexManager=t,this.ji=!0}getDocumentsMatchingQuery(e,t,i,s){const a={result:null};return this.Xi(e,t).next(c=>{a.result=c}).next(()=>{if(!a.result)return this.es(e,t,s,i).next(c=>{a.result=c})}).next(()=>{if(a.result)return;const c=new ZC;return this.ts(e,t,c).next(f=>{if(a.result=f,this.Hi)return this.ns(e,t,c,f.size)})}).next(()=>a.result)}ns(e,t,i,s){return i.documentReadCount<this.Ji?(wo()<=Me.DEBUG&&ce("QueryEngine","SDK will not create cache indexes for query:",Eo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),X.resolve()):(wo()<=Me.DEBUG&&ce("QueryEngine","Query:",Eo(t),"scans",i.documentReadCount,"local documents and returns",s,"documents as results."),i.documentReadCount>this.Yi*s?(wo()<=Me.DEBUG&&ce("QueryEngine","The SDK decides to create cache indexes for query:",Eo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,mr(t))):X.resolve())}Xi(e,t){if(Ly(t))return X.resolve(null);let i=mr(t);return this.indexManager.getIndexType(e,i).next(s=>s===0?null:(t.limit!==null&&s===1&&(t=Cf(t,null,"F"),i=mr(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(a=>{const c=Fe(...a);return this.Zi.getDocuments(e,c).next(f=>this.indexManager.getMinOffset(e,i).next(h=>{const y=this.rs(t,f);return this.ss(t,y,c,h.readTime)?this.Xi(e,Cf(t,null,"F")):this.os(e,y,t,h)}))})))}es(e,t,i,s){return Ly(t)||s.isEqual(ke.min())?X.resolve(null):this.Zi.getDocuments(e,i).next(a=>{const c=this.rs(t,a);return this.ss(t,c,i,s)?X.resolve(null):(wo()<=Me.DEBUG&&ce("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Eo(t)),this.os(e,c,t,T0(s,-1)).next(f=>f))})}rs(e,t){let i=new At($_(e));return t.forEach((s,a)=>{Gc(e,a)&&(i=i.add(a))}),i}ss(e,t,i,s){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(s)>0)}ts(e,t,i){return wo()<=Me.DEBUG&&ce("QueryEngine","Using full collection scan to execute query:",Eo(t)),this.Zi.getDocumentsMatchingQuery(e,t,Vi.min(),i)}os(e,t,i,s){return this.Zi.getDocumentsMatchingQuery(e,i,s).next(a=>(t.forEach(c=>{a=a.insert(c.key,c)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tA{constructor(e,t,i,s){this.persistence=e,this._s=t,this.serializer=s,this.us=new ut(je),this.cs=new Ss(a=>tp(a),np),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(i)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new HC(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.us))}}function nA(n,e,t,i){return new tA(n,e,t,i)}async function cw(n,e){const t=be(n);return await t.persistence.runTransaction("Handle user change","readonly",i=>{let s;return t.mutationQueue.getAllMutationBatches(i).next(a=>(s=a,t.Ps(e),t.mutationQueue.getAllMutationBatches(i))).next(a=>{const c=[],f=[];let h=Fe();for(const y of s){c.push(y.batchId);for(const _ of y.mutations)h=h.add(_.key)}for(const y of a){f.push(y.batchId);for(const _ of y.mutations)h=h.add(_.key)}return t.localDocuments.getDocuments(i,h).next(y=>({Ts:y,removedBatchIds:c,addedBatchIds:f}))})})}function rA(n,e){const t=be(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const s=e.batch.keys(),a=t.hs.newChangeBuffer({trackRemovals:!0});return function(f,h,y,_){const E=y.batch,S=E.keys();let k=X.resolve();return S.forEach(N=>{k=k.next(()=>_.getEntry(h,N)).next(O=>{const b=y.docVersions.get(N);Ye(b!==null),O.version.compareTo(b)<0&&(E.applyToRemoteDocument(O,y),O.isValidDocument()&&(O.setReadTime(y.commitVersion),_.addEntry(O)))})}),k.next(()=>f.mutationQueue.removeMutationBatch(h,E))}(t,i,e,a).next(()=>a.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,s,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(f){let h=Fe();for(let y=0;y<f.mutationResults.length;++y)f.mutationResults[y].transformResults.length>0&&(h=h.add(f.batch.mutations[y].key));return h}(e))).next(()=>t.localDocuments.getDocuments(i,s))})}function dw(n){const e=be(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Gr.getLastRemoteSnapshotVersion(t))}function iA(n,e){const t=be(n),i=e.snapshotVersion;let s=t.us;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const c=t.hs.newChangeBuffer({trackRemovals:!0});s=t.us;const f=[];e.targetChanges.forEach((_,E)=>{const S=s.get(E);if(!S)return;f.push(t.Gr.removeMatchingKeys(a,_.removedDocuments,E).next(()=>t.Gr.addMatchingKeys(a,_.addedDocuments,E)));let k=S.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(E)!==null?k=k.withResumeToken(jt.EMPTY_BYTE_STRING,ke.min()).withLastLimboFreeSnapshotVersion(ke.min()):_.resumeToken.approximateByteSize()>0&&(k=k.withResumeToken(_.resumeToken,i)),s=s.insert(E,k),function(O,b,B){return O.resumeToken.approximateByteSize()===0||b.snapshotVersion.toMicroseconds()-O.snapshotVersion.toMicroseconds()>=3e8?!0:B.addedDocuments.size+B.modifiedDocuments.size+B.removedDocuments.size>0}(S,k,_)&&f.push(t.Gr.updateTargetData(a,k))});let h=Gr(),y=Fe();if(e.documentUpdates.forEach(_=>{e.resolvedLimboDocuments.has(_)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(a,_))}),f.push(sA(a,c,e.documentUpdates).next(_=>{h=_.Is,y=_.ds})),!i.isEqual(ke.min())){const _=t.Gr.getLastRemoteSnapshotVersion(a).next(E=>t.Gr.setTargetsMetadata(a,a.currentSequenceNumber,i));f.push(_)}return X.waitFor(f).next(()=>c.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,h,y)).next(()=>h)}).then(a=>(t.us=s,a))}function sA(n,e,t){let i=Fe(),s=Fe();return t.forEach(a=>i=i.add(a)),e.getEntries(n,i).next(a=>{let c=Gr();return t.forEach((f,h)=>{const y=a.get(f);h.isFoundDocument()!==y.isFoundDocument()&&(s=s.add(f)),h.isNoDocument()&&h.version.isEqual(ke.min())?(e.removeEntry(f,h.readTime),c=c.insert(f,h)):!y.isValidDocument()||h.version.compareTo(y.version)>0||h.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(h),c=c.insert(f,h)):ce("LocalStore","Ignoring outdated watch update for ",f,". Current version:",y.version," Watch version:",h.version)}),{Is:c,ds:s}})}function oA(n,e){const t=be(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function aA(n,e){const t=be(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let s;return t.Gr.getTargetData(i,e).next(a=>a?(s=a,X.resolve(s)):t.Gr.allocateTargetId(i).next(c=>(s=new Ri(e,c,"TargetPurposeListen",i.currentSequenceNumber),t.Gr.addTargetData(i,s).next(()=>s))))}).then(i=>{const s=t.us.get(i.targetId);return(s===null||i.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.us=t.us.insert(i.targetId,i),t.cs.set(e,i.targetId)),i})}async function bf(n,e,t){const i=be(n),s=i.us.get(e),a=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",a,c=>i.persistence.referenceDelegate.removeTarget(c,s))}catch(c){if(!Bo(c))throw c;ce("LocalStore",`Failed to update sequence numbers for target ${e}: ${c}`)}i.us=i.us.remove(e),i.cs.delete(s.target)}function Ky(n,e,t){const i=be(n);let s=ke.min(),a=Fe();return i.persistence.runTransaction("Execute query","readwrite",c=>function(h,y,_){const E=be(h),S=E.cs.get(_);return S!==void 0?X.resolve(E.us.get(S)):E.Gr.getTargetData(y,_)}(i,c,mr(e)).next(f=>{if(f)return s=f.lastLimboFreeSnapshotVersion,i.Gr.getMatchingKeysForTargetId(c,f.targetId).next(h=>{a=h})}).next(()=>i._s.getDocumentsMatchingQuery(c,e,t?s:ke.min(),t?a:Fe())).next(f=>(uA(i,K0(e),f),{documents:f,Es:a})))}function uA(n,e,t){let i=n.ls.get(e)||ke.min();t.forEach((s,a)=>{a.readTime.compareTo(i)>0&&(i=a.readTime)}),n.ls.set(e,i)}class Qy{constructor(){this.activeTargetIds=eC()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class lA{constructor(){this._o=new Qy,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,t,i){this.ao[e]=t}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new Qy,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cA{uo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yy{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){ce("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){ce("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yl=null;function Jh(){return Yl===null?Yl=function(){return 268435456+Math.round(2147483648*Math.random())}():Yl++,"0x"+Yl.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dA={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hA{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qt="WebChannelConnection";class fA extends class{get Co(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Fo=i+"://"+t.host,this.Mo=`projects/${s}/databases/${a}`,this.xo=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${a}`}Oo(t,i,s,a,c){const f=Jh(),h=this.No(t,i.toUriEncodedString());ce("RestConnection",`Sending RPC '${t}' ${f}:`,h,s);const y={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Bo(y,a,c),this.Lo(t,h,y,s).then(_=>(ce("RestConnection",`Received RPC '${t}' ${f}: `,_),_),_=>{throw xo("RestConnection",`RPC '${t}' ${f} failed with error: `,_,"url: ",h,"request:",s),_})}ko(t,i,s,a,c,f){return this.Oo(t,i,s,a,c)}Bo(t,i,s){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+zo}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((a,c)=>t[c]=a),s&&s.headers.forEach((a,c)=>t[c]=a)}No(t,i){const s=dA[t];return`${this.Fo}/v1/${i}:${s}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Lo(e,t,i,s){const a=Jh();return new Promise((c,f)=>{const h=new S_;h.setWithCredentials(!0),h.listenOnce(C_.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case nc.NO_ERROR:const _=h.getResponseJson();ce(qt,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(_)),c(_);break;case nc.TIMEOUT:ce(qt,`RPC '${e}' ${a} timed out`),f(new de(J.DEADLINE_EXCEEDED,"Request time out"));break;case nc.HTTP_ERROR:const E=h.getStatus();if(ce(qt,`RPC '${e}' ${a} failed with status:`,E,"response text:",h.getResponseText()),E>0){let S=h.getResponseJson();Array.isArray(S)&&(S=S[0]);const k=S==null?void 0:S.error;if(k&&k.status&&k.message){const N=function(b){const B=b.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(B)>=0?B:J.UNKNOWN}(k.status);f(new de(N,k.message))}else f(new de(J.UNKNOWN,"Server responded with status "+h.getStatus()))}else f(new de(J.UNAVAILABLE,"Connection failed."));break;default:Re()}}finally{ce(qt,`RPC '${e}' ${a} completed.`)}});const y=JSON.stringify(s);ce(qt,`RPC '${e}' ${a} sending request:`,s),h.send(t,"POST",y,i,15)})}qo(e,t,i){const s=Jh(),a=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=P_(),f=R_(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(h.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(h.useFetchStreams=!0),this.Bo(h.initMessageHeaders,t,i),h.encodeInitMessageHeaders=!0;const _=a.join("");ce(qt,`Creating RPC '${e}' stream ${s}: ${_}`,h);const E=c.createWebChannel(_,h);let S=!1,k=!1;const N=new hA({Eo:b=>{k?ce(qt,`Not sending because RPC '${e}' stream ${s} is closed:`,b):(S||(ce(qt,`Opening RPC '${e}' stream ${s} transport.`),E.open(),S=!0),ce(qt,`RPC '${e}' stream ${s} sending:`,b),E.send(b))},Ao:()=>E.close()}),O=(b,B,H)=>{b.listen(B,W=>{try{H(W)}catch(Q){setTimeout(()=>{throw Q},0)}})};return O(E,Ga.EventType.OPEN,()=>{k||(ce(qt,`RPC '${e}' stream ${s} transport opened.`),N.So())}),O(E,Ga.EventType.CLOSE,()=>{k||(k=!0,ce(qt,`RPC '${e}' stream ${s} transport closed`),N.Do())}),O(E,Ga.EventType.ERROR,b=>{k||(k=!0,xo(qt,`RPC '${e}' stream ${s} transport errored:`,b),N.Do(new de(J.UNAVAILABLE,"The operation could not be completed")))}),O(E,Ga.EventType.MESSAGE,b=>{var B;if(!k){const H=b.data[0];Ye(!!H);const W=H,Q=(W==null?void 0:W.error)||((B=W[0])===null||B===void 0?void 0:B.error);if(Q){ce(qt,`RPC '${e}' stream ${s} received error:`,Q);const $=Q.status;let te=function(A){const x=yt[A];if(x!==void 0)return Z_(x)}($),C=Q.message;te===void 0&&(te=J.INTERNAL,C="Unknown error status: "+$+" with message "+Q.message),k=!0,N.Do(new de(te,C)),E.close()}else ce(qt,`RPC '${e}' stream ${s} received:`,H),N.vo(H)}}),O(f,A_.STAT_EVENT,b=>{b.stat===_f.PROXY?ce(qt,`RPC '${e}' stream ${s} detected buffering proxy`):b.stat===_f.NOPROXY&&ce(qt,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{N.bo()},0),N}}function Zh(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xc(n){return new wC(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hw{constructor(e,t,i=1e3,s=1.5,a=6e4){this.li=e,this.timerId=t,this.Qo=i,this.Ko=s,this.$o=a,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const t=Math.floor(this.Uo+this.Ho()),i=Math.max(0,Date.now()-this.Go),s=Math.max(0,t-i);s>0&&ce("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Uo} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,s,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fw{constructor(e,t,i,s,a,c,f,h){this.li=e,this.Yo=i,this.Zo=s,this.connection=a,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=f,this.listener=h,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new hw(e,t)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,t){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():t&&t.code===J.RESOURCE_EXHAUSTED?(Wr(t.toString()),Wr("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):t&&t.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(t)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),t=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,s])=>{this.Xo===t&&this.I_(i,s)},i=>{e(()=>{const s=new de(J.UNKNOWN,"Fetching auth token failed: "+i.message);return this.d_(s)})})}I_(e,t){const i=this.T_(this.Xo);this.stream=this.E_(e,t),this.stream.Ro(()=>{i(()=>this.listener.Ro())}),this.stream.mo(()=>{i(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(s=>{i(()=>this.d_(s))}),this.stream.onMessage(s=>{i(()=>++this.n_==1?this.A_(s):this.onNext(s))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}d_(e){return ce("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return t=>{this.li.enqueueAndForget(()=>this.Xo===e?t():(ce("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class pA extends fw{constructor(e,t,i,s,a,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,s,c),this.serializer=a}E_(e,t){return this.connection.qo("Listen",e,t)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const t=TC(this.serializer,e),i=function(a){if(!("targetChange"in a))return ke.min();const c=a.targetChange;return c.targetIds&&c.targetIds.length?ke.min():c.readTime?gr(c.readTime):ke.min()}(e);return this.listener.R_(t,i)}V_(e){const t={};t.database=kf(this.serializer),t.addTarget=function(a,c){let f;const h=c.target;if(f=Tf(h)?{documents:AC(a,h)}:{query:RC(a,h).ct},f.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){f.resumeToken=nw(a,c.resumeToken);const y=Af(a,c.expectedCount);y!==null&&(f.expectedCount=y)}else if(c.snapshotVersion.compareTo(ke.min())>0){f.readTime=Ic(a,c.snapshotVersion.toTimestamp());const y=Af(a,c.expectedCount);y!==null&&(f.expectedCount=y)}return f}(this.serializer,e);const i=kC(this.serializer,e);i&&(t.labels=i),this.c_(t)}m_(e){const t={};t.database=kf(this.serializer),t.removeTarget=e,this.c_(t)}}class mA extends fw{constructor(e,t,i,s,a,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,s,c),this.serializer=a}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}E_(e,t){return this.connection.qo("Write",e,t)}A_(e){return Ye(!!e.streamToken),this.lastStreamToken=e.streamToken,Ye(!e.writeResults||e.writeResults.length===0),this.listener.p_()}onNext(e){Ye(!!e.streamToken),this.lastStreamToken=e.streamToken,this.r_.reset();const t=CC(e.writeResults,e.commitTime),i=gr(e.commitTime);return this.listener.y_(i,t)}w_(){const e={};e.database=kf(this.serializer),this.c_(e)}g_(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>SC(this.serializer,i))};this.c_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gA extends class{}{constructor(e,t,i,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=s,this.S_=!1}b_(){if(this.S_)throw new de(J.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,t,i,s){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,c])=>this.connection.Oo(e,Rf(t,i),s,a,c)).catch(a=>{throw a.name==="FirebaseError"?(a.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new de(J.UNKNOWN,a.toString())})}ko(e,t,i,s,a){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,f])=>this.connection.ko(e,Rf(t,i),s,c,f,a)).catch(c=>{throw c.name==="FirebaseError"?(c.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new de(J.UNKNOWN,c.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class yA{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(Wr(t),this.C_=!1):ce("OnlineStateTracker",t)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vA{constructor(e,t,i,s,a){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.B_=[],this.L_=new Map,this.k_=new Set,this.q_=[],this.Q_=a,this.Q_.uo(c=>{i.enqueueAndForget(async()=>{Cs(this)&&(ce("RemoteStore","Restarting streams for network reachability change."),await async function(h){const y=be(h);y.k_.add(4),await Iu(y),y.K_.set("Unknown"),y.k_.delete(4),await Jc(y)}(this))})}),this.K_=new yA(i,s)}}async function Jc(n){if(Cs(n))for(const e of n.q_)await e(!0)}async function Iu(n){for(const e of n.q_)await e(!1)}function pw(n,e){const t=be(n);t.L_.has(e.targetId)||(t.L_.set(e.targetId,e),pp(t)?fp(t):qo(t).s_()&&hp(t,e))}function dp(n,e){const t=be(n),i=qo(t);t.L_.delete(e),i.s_()&&mw(t,e),t.L_.size===0&&(i.s_()?i.a_():Cs(t)&&t.K_.set("Unknown"))}function hp(n,e){if(n.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ke.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}qo(n).V_(e)}function mw(n,e){n.U_.xe(e),qo(n).m_(e)}function fp(n){n.U_=new gC({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>n.L_.get(e)||null,nt:()=>n.datastore.serializer.databaseId}),qo(n).start(),n.K_.F_()}function pp(n){return Cs(n)&&!qo(n).i_()&&n.L_.size>0}function Cs(n){return be(n).k_.size===0}function gw(n){n.U_=void 0}async function _A(n){n.K_.set("Online")}async function wA(n){n.L_.forEach((e,t)=>{hp(n,e)})}async function EA(n,e){gw(n),pp(n)?(n.K_.O_(e),fp(n)):n.K_.set("Unknown")}async function IA(n,e,t){if(n.K_.set("Online"),e instanceof tw&&e.state===2&&e.cause)try{await async function(s,a){const c=a.cause;for(const f of a.targetIds)s.L_.has(f)&&(await s.remoteSyncer.rejectListen(f,c),s.L_.delete(f),s.U_.removeTarget(f))}(n,e)}catch(i){ce("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Sc(n,i)}else if(e instanceof oc?n.U_.$e(e):e instanceof ew?n.U_.Je(e):n.U_.Ge(e),!t.isEqual(ke.min()))try{const i=await dw(n.localStore);t.compareTo(i)>=0&&await function(a,c){const f=a.U_.it(c);return f.targetChanges.forEach((h,y)=>{if(h.resumeToken.approximateByteSize()>0){const _=a.L_.get(y);_&&a.L_.set(y,_.withResumeToken(h.resumeToken,c))}}),f.targetMismatches.forEach((h,y)=>{const _=a.L_.get(h);if(!_)return;a.L_.set(h,_.withResumeToken(jt.EMPTY_BYTE_STRING,_.snapshotVersion)),mw(a,h);const E=new Ri(_.target,h,y,_.sequenceNumber);hp(a,E)}),a.remoteSyncer.applyRemoteEvent(f)}(n,t)}catch(i){ce("RemoteStore","Failed to raise snapshot:",i),await Sc(n,i)}}async function Sc(n,e,t){if(!Bo(e))throw e;n.k_.add(1),await Iu(n),n.K_.set("Offline"),t||(t=()=>dw(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{ce("RemoteStore","Retrying IndexedDB access"),await t(),n.k_.delete(1),await Jc(n)})}function yw(n,e){return e().catch(t=>Sc(n,t,e))}async function Zc(n){const e=be(n),t=Fi(e);let i=e.B_.length>0?e.B_[e.B_.length-1].batchId:-1;for(;TA(e);)try{const s=await oA(e.localStore,i);if(s===null){e.B_.length===0&&t.a_();break}i=s.batchId,SA(e,s)}catch(s){await Sc(e,s)}vw(e)&&_w(e)}function TA(n){return Cs(n)&&n.B_.length<10}function SA(n,e){n.B_.push(e);const t=Fi(n);t.s_()&&t.f_&&t.g_(e.mutations)}function vw(n){return Cs(n)&&!Fi(n).i_()&&n.B_.length>0}function _w(n){Fi(n).start()}async function CA(n){Fi(n).w_()}async function AA(n){const e=Fi(n);for(const t of n.B_)e.g_(t.mutations)}async function RA(n,e,t){const i=n.B_.shift(),s=sp.from(i,e,t);await yw(n,()=>n.remoteSyncer.applySuccessfulWrite(s)),await Zc(n)}async function PA(n,e){e&&Fi(n).f_&&await async function(i,s){if(function(c){return fC(c)&&c!==J.ABORTED}(s.code)){const a=i.B_.shift();Fi(i).__(),await yw(i,()=>i.remoteSyncer.rejectFailedWrite(a.batchId,s)),await Zc(i)}}(n,e),vw(n)&&_w(n)}async function Xy(n,e){const t=be(n);t.asyncQueue.verifyOperationInProgress(),ce("RemoteStore","RemoteStore received new credentials");const i=Cs(t);t.k_.add(3),await Iu(t),i&&t.K_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.k_.delete(3),await Jc(t)}async function kA(n,e){const t=be(n);e?(t.k_.delete(2),await Jc(t)):e||(t.k_.add(2),await Iu(t),t.K_.set("Unknown"))}function qo(n){return n.W_||(n.W_=function(t,i,s){const a=be(t);return a.b_(),new pA(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(n.datastore,n.asyncQueue,{Ro:_A.bind(null,n),mo:wA.bind(null,n),po:EA.bind(null,n),R_:IA.bind(null,n)}),n.q_.push(async e=>{e?(n.W_.__(),pp(n)?fp(n):n.K_.set("Unknown")):(await n.W_.stop(),gw(n))})),n.W_}function Fi(n){return n.G_||(n.G_=function(t,i,s){const a=be(t);return a.b_(),new mA(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(n.datastore,n.asyncQueue,{Ro:()=>Promise.resolve(),mo:CA.bind(null,n),po:PA.bind(null,n),p_:AA.bind(null,n),y_:RA.bind(null,n)}),n.q_.push(async e=>{e?(n.G_.__(),await Zc(n)):(await n.G_.stop(),n.B_.length>0&&(ce("RemoteStore",`Stopping write stream with ${n.B_.length} pending writes`),n.B_=[]))})),n.G_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mp{constructor(e,t,i,s,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=s,this.removalCallback=a,this.deferred=new xi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,s,a){const c=Date.now()+i,f=new mp(e,t,c,s,a);return f.start(i),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new de(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function gp(n,e){if(Wr("AsyncQueue",`${e}: ${n}`),Bo(n))return new de(J.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Co{static emptySet(e){return new Co(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||_e.comparator(t.key,i.key):(t,i)=>_e.comparator(t.key,i.key),this.keyedMap=Ka(),this.sortedSet=new ut(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Co)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,a=i.getNext().key;if(!s.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new Co;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jy{constructor(){this.z_=new ut(_e.comparator)}track(e){const t=e.doc.key,i=this.z_.get(t);i?e.type!==0&&i.type===3?this.z_=this.z_.insert(t,e):e.type===3&&i.type!==1?this.z_=this.z_.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.z_=this.z_.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.z_=this.z_.remove(t):e.type===1&&i.type===2?this.z_=this.z_.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):Re():this.z_=this.z_.insert(t,e)}j_(){const e=[];return this.z_.inorderTraversal((t,i)=>{e.push(i)}),e}}class Mo{constructor(e,t,i,s,a,c,f,h,y){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=s,this.mutatedKeys=a,this.fromCache=c,this.syncStateChanged=f,this.excludesMetadataChanges=h,this.hasCachedResults=y}static fromInitialDocuments(e,t,i,s,a){const c=[];return t.forEach(f=>{c.push({type:0,doc:f})}),new Mo(e,t,Co.emptySet(t),c,i,s,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Wc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==i[s].type||!t[s].doc.isEqual(i[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bA{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(e=>e.Z_())}}class OA{constructor(){this.queries=Zy(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(t,i){const s=be(t),a=s.queries;s.queries=Zy(),a.forEach((c,f)=>{for(const h of f.J_)h.onError(i)})})(this,new de(J.ABORTED,"Firestore shutting down"))}}function Zy(){return new Ss(n=>z_(n),Wc)}async function ww(n,e){const t=be(n);let i=3;const s=e.query;let a=t.queries.get(s);a?!a.Y_()&&e.Z_()&&(i=2):(a=new bA,i=e.Z_()?0:1);try{switch(i){case 0:a.H_=await t.onListen(s,!0);break;case 1:a.H_=await t.onListen(s,!1);break;case 2:await t.onFirstRemoteStoreListen(s)}}catch(c){const f=gp(c,`Initialization of query '${Eo(e.query)}' failed`);return void e.onError(f)}t.queries.set(s,a),a.J_.push(e),e.ea(t.onlineState),a.H_&&e.ta(a.H_)&&yp(t)}async function Ew(n,e){const t=be(n),i=e.query;let s=3;const a=t.queries.get(i);if(a){const c=a.J_.indexOf(e);c>=0&&(a.J_.splice(c,1),a.J_.length===0?s=e.Z_()?0:1:!a.Y_()&&e.Z_()&&(s=2))}switch(s){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function xA(n,e){const t=be(n);let i=!1;for(const s of e){const a=s.query,c=t.queries.get(a);if(c){for(const f of c.J_)f.ta(s)&&(i=!0);c.H_=s}}i&&yp(t)}function DA(n,e,t){const i=be(n),s=i.queries.get(e);if(s)for(const a of s.J_)a.onError(t);i.queries.delete(e)}function yp(n){n.X_.forEach(e=>{e.next()})}var Of,ev;(ev=Of||(Of={})).na="default",ev.Cache="cache";class Iw{constructor(e,t,i){this.query=e,this.ra=t,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=i||{}}ta(e){if(!this.options.includeMetadataChanges){const i=[];for(const s of e.docChanges)s.type!==3&&i.push(s);e=new Mo(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ia?this.oa(e)&&(this.ra.next(e),t=!0):this._a(e,this.onlineState)&&(this.aa(e),t=!0),this.sa=e,t}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let t=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),t=!0),t}_a(e,t){if(!e.fromCache||!this.Z_())return!0;const i=t!=="Offline";return(!this.options.ua||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}oa(e){if(e.docChanges.length>0)return!0;const t=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}aa(e){e=Mo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==Of.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tw{constructor(e){this.key=e}}class Sw{constructor(e){this.key=e}}class VA{constructor(e,t){this.query=e,this.Ea=t,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=Fe(),this.mutatedKeys=Fe(),this.Va=$_(e),this.ma=new Co(this.Va)}get fa(){return this.Ea}ga(e,t){const i=t?t.pa:new Jy,s=t?t.ma:this.ma;let a=t?t.mutatedKeys:this.mutatedKeys,c=s,f=!1;const h=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,y=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((_,E)=>{const S=s.get(_),k=Gc(this.query,E)?E:null,N=!!S&&this.mutatedKeys.has(S.key),O=!!k&&(k.hasLocalMutations||this.mutatedKeys.has(k.key)&&k.hasCommittedMutations);let b=!1;S&&k?S.data.isEqual(k.data)?N!==O&&(i.track({type:3,doc:k}),b=!0):this.ya(S,k)||(i.track({type:2,doc:k}),b=!0,(h&&this.Va(k,h)>0||y&&this.Va(k,y)<0)&&(f=!0)):!S&&k?(i.track({type:0,doc:k}),b=!0):S&&!k&&(i.track({type:1,doc:S}),b=!0,(h||y)&&(f=!0)),b&&(k?(c=c.add(k),a=O?a.add(_):a.delete(_)):(c=c.delete(_),a=a.delete(_)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const _=this.query.limitType==="F"?c.last():c.first();c=c.delete(_.key),a=a.delete(_.key),i.track({type:1,doc:_})}return{ma:c,pa:i,ss:f,mutatedKeys:a}}ya(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,s){const a=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const c=e.pa.j_();c.sort((_,E)=>function(k,N){const O=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Re()}};return O(k)-O(N)}(_.type,E.type)||this.Va(_.doc,E.doc)),this.wa(i),s=s!=null&&s;const f=t&&!s?this.Sa():[],h=this.Ra.size===0&&this.current&&!s?1:0,y=h!==this.Aa;return this.Aa=h,c.length!==0||y?{snapshot:new Mo(this.query,e.ma,a,c,e.mutatedKeys,h===0,y,!1,!!i&&i.resumeToken.approximateByteSize()>0),ba:f}:{ba:f}}ea(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new Jy,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.Ea.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach(t=>this.Ea=this.Ea.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ea=this.Ea.delete(t)),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=Fe(),this.ma.forEach(i=>{this.Da(i.key)&&(this.Ra=this.Ra.add(i.key))});const t=[];return e.forEach(i=>{this.Ra.has(i)||t.push(new Sw(i))}),this.Ra.forEach(i=>{e.has(i)||t.push(new Tw(i))}),t}va(e){this.Ea=e.Es,this.Ra=Fe();const t=this.ga(e.documents);return this.applyChanges(t,!0)}Ca(){return Mo.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class NA{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class LA{constructor(e){this.key=e,this.Fa=!1}}class MA{constructor(e,t,i,s,a,c){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=s,this.currentUser=a,this.maxConcurrentLimboResolutions=c,this.Ma={},this.xa=new Ss(f=>z_(f),Wc),this.Oa=new Map,this.Na=new Set,this.Ba=new ut(_e.comparator),this.La=new Map,this.ka=new up,this.qa={},this.Qa=new Map,this.Ka=Lo.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function FA(n,e,t=!0){const i=bw(n);let s;const a=i.xa.get(e);return a?(i.sharedClientState.addLocalQueryTarget(a.targetId),s=a.view.Ca()):s=await Cw(i,e,t,!0),s}async function UA(n,e){const t=bw(n);await Cw(t,e,!0,!1)}async function Cw(n,e,t,i){const s=await aA(n.localStore,mr(e)),a=s.targetId,c=n.sharedClientState.addLocalQueryTarget(a,t);let f;return i&&(f=await jA(n,e,a,c==="current",s.resumeToken)),n.isPrimaryClient&&t&&pw(n.remoteStore,s),f}async function jA(n,e,t,i,s){n.Ua=(E,S,k)=>async function(O,b,B,H){let W=b.view.ga(B);W.ss&&(W=await Ky(O.localStore,b.query,!1).then(({documents:C})=>b.view.ga(C,W)));const Q=H&&H.targetChanges.get(b.targetId),$=H&&H.targetMismatches.get(b.targetId)!=null,te=b.view.applyChanges(W,O.isPrimaryClient,Q,$);return nv(O,b.targetId,te.ba),te.snapshot}(n,E,S,k);const a=await Ky(n.localStore,e,!0),c=new VA(e,a.Es),f=c.ga(a.documents),h=Eu.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",s),y=c.applyChanges(f,n.isPrimaryClient,h);nv(n,t,y.ba);const _=new NA(e,t,c);return n.xa.set(e,_),n.Oa.has(t)?n.Oa.get(t).push(e):n.Oa.set(t,[e]),y.snapshot}async function zA(n,e,t){const i=be(n),s=i.xa.get(e),a=i.Oa.get(s.targetId);if(a.length>1)return i.Oa.set(s.targetId,a.filter(c=>!Wc(c,e))),void i.xa.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(s.targetId),i.sharedClientState.isActiveQueryTarget(s.targetId)||await bf(i.localStore,s.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(s.targetId),t&&dp(i.remoteStore,s.targetId),xf(i,s.targetId)}).catch($o)):(xf(i,s.targetId),await bf(i.localStore,s.targetId,!0))}async function $A(n,e){const t=be(n),i=t.xa.get(e),s=t.Oa.get(i.targetId);t.isPrimaryClient&&s.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),dp(t.remoteStore,i.targetId))}async function BA(n,e,t){const i=YA(n);try{const s=await function(c,f){const h=be(c),y=Ct.now(),_=f.reduce((k,N)=>k.add(N.key),Fe());let E,S;return h.persistence.runTransaction("Locally write mutations","readwrite",k=>{let N=Gr(),O=Fe();return h.hs.getEntries(k,_).next(b=>{N=b,N.forEach((B,H)=>{H.isValidDocument()||(O=O.add(B))})}).next(()=>h.localDocuments.getOverlayedDocuments(k,N)).next(b=>{E=b;const B=[];for(const H of f){const W=uC(H,E.get(H.key).overlayedDocument);W!=null&&B.push(new zi(H.key,W,D_(W.value.mapValue),Dn.exists(!0)))}return h.mutationQueue.addMutationBatch(k,y,B,f)}).next(b=>{S=b;const B=b.applyToLocalDocumentSet(E,O);return h.documentOverlayCache.saveOverlays(k,b.batchId,B)})}).then(()=>({batchId:S.batchId,changes:H_(E)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(s.batchId),function(c,f,h){let y=c.qa[c.currentUser.toKey()];y||(y=new ut(je)),y=y.insert(f,h),c.qa[c.currentUser.toKey()]=y}(i,s.batchId,t),await Tu(i,s.changes),await Zc(i.remoteStore)}catch(s){const a=gp(s,"Failed to persist write");t.reject(a)}}async function Aw(n,e){const t=be(n);try{const i=await iA(t.localStore,e);e.targetChanges.forEach((s,a)=>{const c=t.La.get(a);c&&(Ye(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?c.Fa=!0:s.modifiedDocuments.size>0?Ye(c.Fa):s.removedDocuments.size>0&&(Ye(c.Fa),c.Fa=!1))}),await Tu(t,i,e)}catch(i){await $o(i)}}function tv(n,e,t){const i=be(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const s=[];i.xa.forEach((a,c)=>{const f=c.view.ea(e);f.snapshot&&s.push(f.snapshot)}),function(c,f){const h=be(c);h.onlineState=f;let y=!1;h.queries.forEach((_,E)=>{for(const S of E.J_)S.ea(f)&&(y=!0)}),y&&yp(h)}(i.eventManager,e),s.length&&i.Ma.R_(s),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function HA(n,e,t){const i=be(n);i.sharedClientState.updateQueryState(e,"rejected",t);const s=i.La.get(e),a=s&&s.key;if(a){let c=new ut(_e.comparator);c=c.insert(a,Kt.newNoDocument(a,ke.min()));const f=Fe().add(a),h=new Yc(ke.min(),new Map,new ut(je),c,f);await Aw(i,h),i.Ba=i.Ba.remove(a),i.La.delete(e),vp(i)}else await bf(i.localStore,e,!1).then(()=>xf(i,e,t)).catch($o)}async function qA(n,e){const t=be(n),i=e.batch.batchId;try{const s=await rA(t.localStore,e);Pw(t,i,null),Rw(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await Tu(t,s)}catch(s){await $o(s)}}async function WA(n,e,t){const i=be(n);try{const s=await function(c,f){const h=be(c);return h.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let _;return h.mutationQueue.lookupMutationBatch(y,f).next(E=>(Ye(E!==null),_=E.keys(),h.mutationQueue.removeMutationBatch(y,E))).next(()=>h.mutationQueue.performConsistencyCheck(y)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(y,_,f)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,_)).next(()=>h.localDocuments.getDocuments(y,_))})}(i.localStore,e);Pw(i,e,t),Rw(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await Tu(i,s)}catch(s){await $o(s)}}function Rw(n,e){(n.Qa.get(e)||[]).forEach(t=>{t.resolve()}),n.Qa.delete(e)}function Pw(n,e,t){const i=be(n);let s=i.qa[i.currentUser.toKey()];if(s){const a=s.get(e);a&&(t?a.reject(t):a.resolve(),s=s.remove(e)),i.qa[i.currentUser.toKey()]=s}}function xf(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.Oa.get(e))n.xa.delete(i),t&&n.Ma.Wa(i,t);n.Oa.delete(e),n.isPrimaryClient&&n.ka.yr(e).forEach(i=>{n.ka.containsKey(i)||kw(n,i)})}function kw(n,e){n.Na.delete(e.path.canonicalString());const t=n.Ba.get(e);t!==null&&(dp(n.remoteStore,t),n.Ba=n.Ba.remove(e),n.La.delete(t),vp(n))}function nv(n,e,t){for(const i of t)i instanceof Tw?(n.ka.addReference(i.key,e),GA(n,i)):i instanceof Sw?(ce("SyncEngine","Document no longer in limbo: "+i.key),n.ka.removeReference(i.key,e),n.ka.containsKey(i.key)||kw(n,i.key)):Re()}function GA(n,e){const t=e.key,i=t.path.canonicalString();n.Ba.get(t)||n.Na.has(i)||(ce("SyncEngine","New document in limbo: "+t),n.Na.add(i),vp(n))}function vp(n){for(;n.Na.size>0&&n.Ba.size<n.maxConcurrentLimboResolutions;){const e=n.Na.values().next().value;n.Na.delete(e);const t=new _e(rt.fromString(e)),i=n.Ka.next();n.La.set(i,new LA(t)),n.Ba=n.Ba.insert(t,i),pw(n.remoteStore,new Ri(mr(qc(t.path)),i,"TargetPurposeLimboResolution",$c.oe))}}async function Tu(n,e,t){const i=be(n),s=[],a=[],c=[];i.xa.isEmpty()||(i.xa.forEach((f,h)=>{c.push(i.Ua(h,e,t).then(y=>{var _;if((y||t)&&i.isPrimaryClient){const E=y?!y.fromCache:(_=t==null?void 0:t.targetChanges.get(h.targetId))===null||_===void 0?void 0:_.current;i.sharedClientState.updateQueryState(h.targetId,E?"current":"not-current")}if(y){s.push(y);const E=cp.zi(h.targetId,y);a.push(E)}}))}),await Promise.all(c),i.Ma.R_(s),await async function(h,y){const _=be(h);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",E=>X.forEach(y,S=>X.forEach(S.Wi,k=>_.persistence.referenceDelegate.addReference(E,S.targetId,k)).next(()=>X.forEach(S.Gi,k=>_.persistence.referenceDelegate.removeReference(E,S.targetId,k)))))}catch(E){if(!Bo(E))throw E;ce("LocalStore","Failed to update sequence numbers: "+E)}for(const E of y){const S=E.targetId;if(!E.fromCache){const k=_.us.get(S),N=k.snapshotVersion,O=k.withLastLimboFreeSnapshotVersion(N);_.us=_.us.insert(S,O)}}}(i.localStore,a))}async function KA(n,e){const t=be(n);if(!t.currentUser.isEqual(e)){ce("SyncEngine","User change. New user:",e.toKey());const i=await cw(t.localStore,e);t.currentUser=e,function(a,c){a.Qa.forEach(f=>{f.forEach(h=>{h.reject(new de(J.CANCELLED,c))})}),a.Qa.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Tu(t,i.Ts)}}function QA(n,e){const t=be(n),i=t.La.get(e);if(i&&i.Fa)return Fe().add(i.key);{let s=Fe();const a=t.Oa.get(e);if(!a)return s;for(const c of a){const f=t.xa.get(c);s=s.unionWith(f.view.fa)}return s}}function bw(n){const e=be(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=Aw.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=QA.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=HA.bind(null,e),e.Ma.R_=xA.bind(null,e.eventManager),e.Ma.Wa=DA.bind(null,e.eventManager),e}function YA(n){const e=be(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=qA.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=WA.bind(null,e),e}class Cc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Xc(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,t){return null}Ya(e,t){return null}Ha(e){return nA(this.persistence,new eA,e.initialUser,this.serializer)}ja(e){return new lw(lp.ei,this.serializer)}za(e){return new lA}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Cc.provider={build:()=>new Cc};class XA extends Cc{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,t){Ye(this.persistence.referenceDelegate instanceof Tc);const i=this.persistence.referenceDelegate.garbageCollector;return new UC(i,e.asyncQueue,t)}ja(e){const t=this.cacheSizeBytes!==void 0?cn.withCacheSize(this.cacheSizeBytes):cn.DEFAULT;return new lw(i=>Tc.ei(i,t),this.serializer)}}class Df{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>tv(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=KA.bind(null,this.syncEngine),await kA(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new OA}()}createDatastore(e){const t=Xc(e.databaseInfo.databaseId),i=function(a){return new fA(a)}(e.databaseInfo);return function(a,c,f,h){return new gA(a,c,f,h)}(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return function(i,s,a,c,f){return new vA(i,s,a,c,f)}(this.localStore,this.datastore,e.asyncQueue,t=>tv(this.syncEngine,t,0),function(){return Yy.p()?new Yy:new cA}())}createSyncEngine(e,t){return function(s,a,c,f,h,y,_){const E=new MA(s,a,c,f,h,y);return _&&(E.$a=!0),E}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(s){const a=be(s);ce("RemoteStore","RemoteStore shutting down."),a.k_.add(5),await Iu(a),a.Q_.shutdown(),a.K_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Df.provider={build:()=>new Df};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ow{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):Wr("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JA{constructor(e,t,i,s,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=s,this.user=Gt.UNAUTHENTICATED,this.clientId=b_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(i,async c=>{ce("FirestoreClient","Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(i,c=>(ce("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new xi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=gp(t,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function ef(n,e){n.asyncQueue.verifyOperationInProgress(),ce("FirestoreClient","Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(async s=>{i.isEqual(s)||(await cw(e.localStore,s),i=s)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function rv(n,e){n.asyncQueue.verifyOperationInProgress();const t=await ZA(n);ce("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(i=>Xy(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,s)=>Xy(e.remoteStore,s)),n._onlineComponents=e}async function ZA(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ce("FirestoreClient","Using user provided OfflineComponentProvider");try{await ef(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(s){return s.name==="FirebaseError"?s.code===J.FAILED_PRECONDITION||s.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(t))throw t;xo("Error using user provided cache. Falling back to memory cache: "+t),await ef(n,new Cc)}}else ce("FirestoreClient","Using default OfflineComponentProvider"),await ef(n,new XA(void 0));return n._offlineComponents}async function xw(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ce("FirestoreClient","Using user provided OnlineComponentProvider"),await rv(n,n._uninitializedComponentsProvider._online)):(ce("FirestoreClient","Using default OnlineComponentProvider"),await rv(n,new Df))),n._onlineComponents}function eR(n){return xw(n).then(e=>e.syncEngine)}async function Vf(n){const e=await xw(n),t=e.eventManager;return t.onListen=FA.bind(null,e.syncEngine),t.onUnlisten=zA.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=UA.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=$A.bind(null,e.syncEngine),t}function tR(n,e,t={}){const i=new xi;return n.asyncQueue.enqueueAndForget(async()=>function(a,c,f,h,y){const _=new Ow({next:S=>{_.eu(),c.enqueueAndForget(()=>Ew(a,E));const k=S.docs.has(f);!k&&S.fromCache?y.reject(new de(J.UNAVAILABLE,"Failed to get document because the client is offline.")):k&&S.fromCache&&h&&h.source==="server"?y.reject(new de(J.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(S)},error:S=>y.reject(S)}),E=new Iw(qc(f.path),_,{includeMetadataChanges:!0,ua:!0});return ww(a,E)}(await Vf(n),n.asyncQueue,e,t,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dw(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iv=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vw(n,e,t){if(!t)throw new de(J.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function nR(n,e,t,i){if(e===!0&&i===!0)throw new de(J.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function sv(n){if(!_e.isDocumentKey(n))throw new de(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function ov(n){if(_e.isDocumentKey(n))throw new de(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function ed(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Re()}function Vn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new de(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=ed(n);throw new de(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class av{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new de(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new de(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}nR("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Dw((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new de(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new de(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new de(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,s){return i.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class td{constructor(e,t,i,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new av({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new de(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new de(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new av(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new p0;switch(i.type){case"firstParty":return new v0(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new de(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=iv.get(t);i&&(ce("ComponentProvider","Removing Datastore"),iv.delete(t),i.terminate())}(this),Promise.resolve()}}function rR(n,e,t,i={}){var s;const a=(n=Vn(n,td))._getSettings(),c=`${e}:${t}`;if(a.host!=="firestore.googleapis.com"&&a.host!==c&&xo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},a),{host:c,ssl:!1})),i.mockUserToken){let f,h;if(typeof i.mockUserToken=="string")f=i.mockUserToken,h=Gt.MOCK_USER;else{f=$T(i.mockUserToken,(s=n._app)===null||s===void 0?void 0:s.options.projectId);const y=i.mockUserToken.sub||i.mockUserToken.user_id;if(!y)throw new de(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new Gt(y)}n._authCredentials=new m0(new k_(f,h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new As(this.firestore,e,this._query)}}class Qt{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Di(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Qt(this.firestore,e,this._key)}}class Di extends As{constructor(e,t,i){super(e,t,qc(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Qt(this.firestore,null,new _e(e))}withConverter(e){return new Di(this.firestore,e,this._path)}}function uv(n,e,...t){if(n=Rt(n),Vw("collection","path",e),n instanceof td){const i=rt.fromString(e,...t);return ov(i),new Di(n,null,i)}{if(!(n instanceof Qt||n instanceof Di))throw new de(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(rt.fromString(e,...t));return ov(i),new Di(n.firestore,null,i)}}function hu(n,e,...t){if(n=Rt(n),arguments.length===1&&(e=b_.newId()),Vw("doc","path",e),n instanceof td){const i=rt.fromString(e,...t);return sv(i),new Qt(n,null,new _e(i))}{if(!(n instanceof Qt||n instanceof Di))throw new de(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(rt.fromString(e,...t));return sv(i),new Qt(n.firestore,n instanceof Di?n.converter:null,new _e(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lv{constructor(e=Promise.resolve()){this.Iu=[],this.du=!1,this.Eu=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new hw(this,"async_queue_retry"),this.fu=()=>{const i=Zh();i&&ce("AsyncQueue","Visibility state changed to "+i.visibilityState),this.r_.Jo()},this.gu=e;const t=Zh();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.du}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.du){this.du=!0,this.Vu=e||!1;const t=Zh();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.du)return new Promise(()=>{});const t=new xi;return this.yu(()=>this.du&&this.Vu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!Bo(e))throw e;ce("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){const t=this.gu.then(()=>(this.Ru=!0,e().catch(i=>{this.Au=i,this.Ru=!1;const s=function(c){let f=c.message||"";return c.stack&&(f=c.stack.includes(c.message)?c.stack:c.message+`
`+c.stack),f}(i);throw Wr("INTERNAL UNHANDLED ERROR: ",s),i}).then(i=>(this.Ru=!1,i))));return this.gu=t,t}enqueueAfterDelay(e,t,i){this.pu(),this.mu.indexOf(e)>-1&&(t=0);const s=mp.createAndSchedule(this,e,t,i,a=>this.Su(a));return this.Eu.push(s),s}pu(){this.Au&&Re()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(const t of this.Eu)if(t.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.Eu.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.Eu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){const t=this.Eu.indexOf(e);this.Eu.splice(t,1)}}function cv(n){return function(t,i){if(typeof t!="object"||t===null)return!1;const s=t;for(const a of i)if(a in s&&typeof s[a]=="function")return!0;return!1}(n,["next","error","complete"])}class Ui extends td{constructor(e,t,i,s){super(e,t,i,s),this.type="firestore",this._queue=new lv,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new lv(e),this._firestoreClient=void 0,await e}}}function iR(n,e){const t=typeof n=="object"?n:w_(),i=typeof n=="string"?n:"(default)",s=Xf(t,"firestore").getImmediate({identifier:i});if(!s._initialized){const a=jT("firestore");a&&rR(s,...a)}return s}function _p(n){if(n._terminated)throw new de(J.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||sR(n),n._firestoreClient}function sR(n){var e,t,i;const s=n._freezeSettings(),a=function(f,h,y,_){return new D0(f,h,y,_.host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,Dw(_.experimentalLongPollingOptions),_.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,s);n._componentsProvider||!((t=s.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=s.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),n._firestoreClient=new JA(n._authCredentials,n._appCheckCredentials,n._queue,a,n._componentsProvider&&function(f){const h=f==null?void 0:f._online.build();return{_offline:f==null?void 0:f._offline.build(h),_online:h}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Fo(jt.fromBase64String(e))}catch(t){throw new de(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Fo(jt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nd{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new de(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ut(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rd{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wp{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new de(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new de(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return je(this._lat,e._lat)||je(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ep{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,s){if(i.length!==s.length)return!1;for(let a=0;a<i.length;++a)if(i[a]!==s[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oR=/^__.*__$/;class aR{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new zi(e,this.data,this.fieldMask,t,this.fieldTransforms):new wu(e,this.data,t,this.fieldTransforms)}}class Nw{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new zi(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Lw(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Re()}}class Ip{constructor(e,t,i,s,a,c){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=s,a===void 0&&this.Fu(),this.fieldTransforms=a||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new Ip(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.xu({path:i,Nu:!1});return s.Bu(e),s}Lu(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.xu({path:i,Nu:!1});return s.Fu(),s}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return Ac(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Bu(this.path.get(e))}Bu(e){if(e.length===0)throw this.qu("Document fields must not be empty");if(Lw(this.Mu)&&oR.test(e))throw this.qu('Document fields cannot begin and end with "__"')}}class uR{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||Xc(e)}$u(e,t,i,s=!1){return new Ip({Mu:e,methodName:t,Ku:i,path:Ut.emptyPath(),Nu:!1,Qu:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function id(n){const e=n._freezeSettings(),t=Xc(n._databaseId);return new uR(n._databaseId,!!e.ignoreUndefinedProperties,t)}function Mw(n,e,t,i,s,a={}){const c=n.$u(a.merge||a.mergeFields?2:0,e,t,s);Sp("Data must be an object, but it was:",c,i);const f=Fw(i,c);let h,y;if(a.merge)h=new wn(c.fieldMask),y=c.fieldTransforms;else if(a.mergeFields){const _=[];for(const E of a.mergeFields){const S=Nf(e,E,t);if(!c.contains(S))throw new de(J.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);jw(_,S)||_.push(S)}h=new wn(_),y=c.fieldTransforms.filter(E=>h.covers(E.field))}else h=null,y=c.fieldTransforms;return new aR(new dn(f),h,y)}class sd extends rd{_toFieldTransform(e){if(e.Mu!==2)throw e.Mu===1?e.qu(`${this._methodName}() can only appear at the top level of your update data`):e.qu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof sd}}class Tp extends rd{_toFieldTransform(e){return new iC(e.path,new lu)}isEqual(e){return e instanceof Tp}}function lR(n,e,t,i){const s=n.$u(1,e,t);Sp("Data must be an object, but it was:",s,i);const a=[],c=dn.empty();ji(i,(h,y)=>{const _=Cp(e,h,t);y=Rt(y);const E=s.Lu(_);if(y instanceof sd)a.push(_);else{const S=Su(y,E);S!=null&&(a.push(_),c.set(_,S))}});const f=new wn(a);return new Nw(c,f,s.fieldTransforms)}function cR(n,e,t,i,s,a){const c=n.$u(1,e,t),f=[Nf(e,i,t)],h=[s];if(a.length%2!=0)throw new de(J.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<a.length;S+=2)f.push(Nf(e,a[S])),h.push(a[S+1]);const y=[],_=dn.empty();for(let S=f.length-1;S>=0;--S)if(!jw(y,f[S])){const k=f[S];let N=h[S];N=Rt(N);const O=c.Lu(k);if(N instanceof sd)y.push(k);else{const b=Su(N,O);b!=null&&(y.push(k),_.set(k,b))}}const E=new wn(y);return new Nw(_,E,c.fieldTransforms)}function dR(n,e,t,i=!1){return Su(t,n.$u(i?4:3,e))}function Su(n,e){if(Uw(n=Rt(n)))return Sp("Unsupported field value:",e,n),Fw(n,e);if(n instanceof rd)return function(i,s){if(!Lw(s.Mu))throw s.qu(`${i._methodName}() can only be used with update() and set()`);if(!s.path)throw s.qu(`${i._methodName}() is not currently supported inside arrays`);const a=i._toFieldTransform(s);a&&s.fieldTransforms.push(a)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Nu&&e.Mu!==4)throw e.qu("Nested arrays are not supported");return function(i,s){const a=[];let c=0;for(const f of i){let h=Su(f,s.ku(c));h==null&&(h={nullValue:"NULL_VALUE"}),a.push(h),c++}return{arrayValue:{values:a}}}(n,e)}return function(i,s){if((i=Rt(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return tC(s.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const a=Ct.fromDate(i);return{timestampValue:Ic(s.serializer,a)}}if(i instanceof Ct){const a=new Ct(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Ic(s.serializer,a)}}if(i instanceof wp)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Fo)return{bytesValue:nw(s.serializer,i._byteString)};if(i instanceof Qt){const a=s.databaseId,c=i.firestore._databaseId;if(!c.isEqual(a))throw s.qu(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:ap(i.firestore._databaseId||s.databaseId,i._key.path)}}if(i instanceof Ep)return function(c,f){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:c.toArray().map(h=>{if(typeof h!="number")throw f.qu("VectorValues must only contain numeric values.");return rp(f.serializer,h)})}}}}}}(i,s);throw s.qu(`Unsupported field value: ${ed(i)}`)}(n,e)}function Fw(n,e){const t={};return O_(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ji(n,(i,s)=>{const a=Su(s,e.Ou(i));a!=null&&(t[i]=a)}),{mapValue:{fields:t}}}function Uw(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Ct||n instanceof wp||n instanceof Fo||n instanceof Qt||n instanceof rd||n instanceof Ep)}function Sp(n,e,t){if(!Uw(t)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(t)){const i=ed(t);throw i==="an object"?e.qu(n+" a custom object"):e.qu(n+" "+i)}}function Nf(n,e,t){if((e=Rt(e))instanceof nd)return e._internalPath;if(typeof e=="string")return Cp(n,e);throw Ac("Field path arguments must be of type string or ",n,!1,void 0,t)}const hR=new RegExp("[~\\*/\\[\\]]");function Cp(n,e,t){if(e.search(hR)>=0)throw Ac(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new nd(...e.split("."))._internalPath}catch{throw Ac(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Ac(n,e,t,i,s){const a=i&&!i.isEmpty(),c=s!==void 0;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let h="";return(a||c)&&(h+=" (found",a&&(h+=` in field ${i}`),c&&(h+=` in document ${s}`),h+=")"),new de(J.INVALID_ARGUMENT,f+n+h)}function jw(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zw{constructor(e,t,i,s,a){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=s,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Qt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new fR(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Ap("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class fR extends zw{data(){return super.data()}}function Ap(n,e){return typeof e=="string"?Cp(n,e):e instanceof nd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pR(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new de(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Rp{}class $w extends Rp{}function mR(n,e,...t){let i=[];e instanceof Rp&&i.push(e),i=i.concat(t),function(a){const c=a.filter(h=>h instanceof kp).length,f=a.filter(h=>h instanceof Pp).length;if(c>1||c>0&&f>0)throw new de(J.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const s of i)n=s._apply(n);return n}class Pp extends $w{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new Pp(e,t,i)}_apply(e){const t=this._parse(e);return Bw(e._query,t),new As(e.firestore,e.converter,Sf(e._query,t))}_parse(e){const t=id(e.firestore);return function(a,c,f,h,y,_,E){let S;if(y.isKeyField()){if(_==="array-contains"||_==="array-contains-any")throw new de(J.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if(_==="in"||_==="not-in"){hv(E,_);const k=[];for(const N of E)k.push(dv(h,a,N));S={arrayValue:{values:k}}}else S=dv(h,a,E)}else _!=="in"&&_!=="not-in"&&_!=="array-contains-any"||hv(E,_),S=dR(f,c,E,_==="in"||_==="not-in");return _t.create(y,_,S)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}class kp extends Rp{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new kp(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return t.length===1?t[0]:Yn.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(s,a){let c=s;const f=a.getFlattenedFilters();for(const h of f)Bw(c,h),c=Sf(c,h)}(e._query,t),new As(e.firestore,e.converter,Sf(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class bp extends $w{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new bp(e,t)}_apply(e){const t=function(s,a,c){if(s.startAt!==null)throw new de(J.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new de(J.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new uu(a,c)}(e._query,this._field,this._direction);return new As(e.firestore,e.converter,function(s,a){const c=s.explicitOrderBy.concat([a]);return new Ho(s.path,s.collectionGroup,c,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,t))}}function gR(n,e="asc"){const t=e,i=Ap("orderBy",n);return bp._create(i,t)}function dv(n,e,t){if(typeof(t=Rt(t))=="string"){if(t==="")throw new de(J.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!j_(e)&&t.indexOf("/")!==-1)throw new de(J.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(rt.fromString(t));if(!_e.isDocumentKey(i))throw new de(J.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return by(n,new _e(i))}if(t instanceof Qt)return by(n,t._key);throw new de(J.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ed(t)}.`)}function hv(n,e){if(!Array.isArray(n)||n.length===0)throw new de(J.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Bw(n,e){const t=function(s,a){for(const c of s)for(const f of c.getFlattenedFilters())if(a.indexOf(f.op)>=0)return f.op;return null}(n.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new de(J.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new de(J.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class yR{convertValue(e,t="none"){switch(Mi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ft(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Li(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Re()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return ji(e,(s,a)=>{i[s]=this.convertValue(a,t)}),i}convertVectorValue(e){var t,i,s;const a=(s=(i=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||i===void 0?void 0:i.values)===null||s===void 0?void 0:s.map(c=>ft(c.doubleValue));return new Ep(a)}convertGeoPoint(e){return new wp(ft(e.latitude),ft(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=Hc(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(su(e));default:return null}}convertTimestamp(e){const t=Ni(e);return new Ct(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=rt.fromString(e);Ye(uw(i));const s=new ou(i.get(1),i.get(3)),a=new _e(i.popFirst(5));return s.isEqual(t)||Wr(`Document ${a} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hw(n,e,t){let i;return i=n?n.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class qw extends zw{constructor(e,t,i,s,a,c){super(e,t,i,s,c),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new ac(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(Ap("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class ac extends qw{data(e={}){return super.data(e)}}class vR{constructor(e,t,i,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new Ya(s.hasPendingWrites,s.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new ac(this._firestore,this._userDataWriter,i.key,i,new Ya(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new de(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(s,a){if(s._snapshot.oldDocs.isEmpty()){let c=0;return s._snapshot.docChanges.map(f=>{const h=new ac(s._firestore,s._userDataWriter,f.doc.key,f.doc,new Ya(s._snapshot.mutatedKeys.has(f.doc.key),s._snapshot.fromCache),s.query.converter);return f.doc,{type:"added",doc:h,oldIndex:-1,newIndex:c++}})}{let c=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(f=>a||f.type!==3).map(f=>{const h=new ac(s._firestore,s._userDataWriter,f.doc.key,f.doc,new Ya(s._snapshot.mutatedKeys.has(f.doc.key),s._snapshot.fromCache),s.query.converter);let y=-1,_=-1;return f.type!==0&&(y=c.indexOf(f.doc.key),c=c.delete(f.doc.key)),f.type!==1&&(c=c.add(f.doc),_=c.indexOf(f.doc.key)),{type:_R(f.type),doc:h,oldIndex:y,newIndex:_}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function _R(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Re()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wR(n){n=Vn(n,Qt);const e=Vn(n.firestore,Ui);return tR(_p(e),n._key).then(t=>Gw(e,n,t))}class Ww extends yR{constructor(e){super(),this.firestore=e}convertBytes(e){return new Fo(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Qt(this.firestore,null,t)}}function ER(n,e,t){n=Vn(n,Qt);const i=Vn(n.firestore,Ui),s=Hw(n.converter,e);return od(i,[Mw(id(i),"setDoc",n._key,s,n.converter!==null,t).toMutation(n._key,Dn.none())])}function IR(n,e,t,...i){n=Vn(n,Qt);const s=Vn(n.firestore,Ui),a=id(s);let c;return c=typeof(e=Rt(e))=="string"||e instanceof nd?cR(a,"updateDoc",n._key,e,t,i):lR(a,"updateDoc",n._key,e),od(s,[c.toMutation(n._key,Dn.exists(!0))])}function TR(n){return od(Vn(n.firestore,Ui),[new ip(n._key,Dn.none())])}function SR(n,e){const t=Vn(n.firestore,Ui),i=hu(n),s=Hw(n.converter,e);return od(t,[Mw(id(n.firestore),"addDoc",i._key,s,n.converter!==null,{}).toMutation(i._key,Dn.exists(!1))]).then(()=>i)}function CR(n,...e){var t,i,s;n=Rt(n);let a={includeMetadataChanges:!1,source:"default"},c=0;typeof e[c]!="object"||cv(e[c])||(a=e[c],c++);const f={includeMetadataChanges:a.includeMetadataChanges,source:a.source};if(cv(e[c])){const E=e[c];e[c]=(t=E.next)===null||t===void 0?void 0:t.bind(E),e[c+1]=(i=E.error)===null||i===void 0?void 0:i.bind(E),e[c+2]=(s=E.complete)===null||s===void 0?void 0:s.bind(E)}let h,y,_;if(n instanceof Qt)y=Vn(n.firestore,Ui),_=qc(n._key.path),h={next:E=>{e[c]&&e[c](Gw(y,n,E))},error:e[c+1],complete:e[c+2]};else{const E=Vn(n,As);y=Vn(E.firestore,Ui),_=E._query;const S=new Ww(y);h={next:k=>{e[c]&&e[c](new vR(y,S,E,k))},error:e[c+1],complete:e[c+2]},pR(n._query)}return function(S,k,N,O){const b=new Ow(O),B=new Iw(k,b,N);return S.asyncQueue.enqueueAndForget(async()=>ww(await Vf(S),B)),()=>{b.eu(),S.asyncQueue.enqueueAndForget(async()=>Ew(await Vf(S),B))}}(_p(y),_,f,h)}function od(n,e){return function(i,s){const a=new xi;return i.asyncQueue.enqueueAndForget(async()=>BA(await eR(i),s,a)),a.promise}(_p(n),e)}function Gw(n,e,t){const i=t.docs.get(e._key),s=new Ww(n);return new qw(n,s,e._key,i,new Ya(t.hasPendingWrites,t.fromCache),e.converter)}function AR(){return new Tp("serverTimestamp")}(function(e,t=!0){(function(s){zo=s})(jo),Oo(new _s("firestore",(i,{instanceIdentifier:s,options:a})=>{const c=i.getProvider("app").getImmediate(),f=new Ui(new g0(i.getProvider("auth-internal")),new w0(i.getProvider("app-check-internal")),function(y,_){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new de(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ou(y.options.projectId,_)}(c,s),c);return a=Object.assign({useFetchStreams:t},a),f._setSettings(a),f},"PUBLIC").setMultipleInstances(!0)),bi(Sy,"4.7.6",e),bi(Sy,"4.7.6","esm2017")})();function Op(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(n);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(n,i[s])&&(t[i[s]]=n[i[s]]);return t}function Kw(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const RR=Kw,Qw=new vu("auth","Firebase",Kw());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rc=new Qf("@firebase/auth");function PR(n,...e){Rc.logLevel<=Me.WARN&&Rc.warn(`Auth (${jo}): ${n}`,...e)}function uc(n,...e){Rc.logLevel<=Me.ERROR&&Rc.error(`Auth (${jo}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xn(n,...e){throw xp(n,...e)}function yr(n,...e){return xp(n,...e)}function Yw(n,e,t){const i=Object.assign(Object.assign({},RR()),{[e]:t});return new vu("auth","Firebase",i).create(e,{appName:n.name})}function Br(n){return Yw(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function xp(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return Qw.create(n,...e)}function Se(n,e,...t){if(!n)throw xp(e,...t)}function jr(n){const e="INTERNAL ASSERTION FAILED: "+n;throw uc(e),new Error(e)}function Kr(n,e){n||jr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lf(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function kR(){return fv()==="http:"||fv()==="https:"}function fv(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(kR()||WT()||"connection"in navigator)?navigator.onLine:!0}function OR(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cu{constructor(e,t){this.shortDelay=e,this.longDelay=t,Kr(t>e,"Short delay should be less than long delay!"),this.isMobile=BT()||GT()}get(){return bR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dp(n,e){Kr(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xw{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;jr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;jr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;jr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DR=new Cu(3e4,6e4);function $i(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Bi(n,e,t,i,s={}){return Jw(n,s,async()=>{let a={},c={};i&&(e==="GET"?c=i:a={body:JSON.stringify(i)});const f=_u(Object.assign({key:n.config.apiKey},c)).slice(1),h=await n._getAdditionalHeaders();h["Content-Type"]="application/json",n.languageCode&&(h["X-Firebase-Locale"]=n.languageCode);const y=Object.assign({method:e,headers:h},a);return qT()||(y.referrerPolicy="no-referrer"),Xw.fetch()(Zw(n,n.config.apiHost,t,f),y)})}async function Jw(n,e,t){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},xR),e);try{const s=new NR(n),a=await Promise.race([t(),s.promise]);s.clearNetworkTimeout();const c=await a.json();if("needConfirmation"in c)throw Xl(n,"account-exists-with-different-credential",c);if(a.ok&&!("errorMessage"in c))return c;{const f=a.ok?c.errorMessage:c.error.message,[h,y]=f.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw Xl(n,"credential-already-in-use",c);if(h==="EMAIL_EXISTS")throw Xl(n,"email-already-in-use",c);if(h==="USER_DISABLED")throw Xl(n,"user-disabled",c);const _=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw Yw(n,_,y);Xn(n,_)}}catch(s){if(s instanceof Yr)throw s;Xn(n,"network-request-failed",{message:String(s)})}}async function Au(n,e,t,i,s={}){const a=await Bi(n,e,t,i,s);return"mfaPendingCredential"in a&&Xn(n,"multi-factor-auth-required",{_serverResponse:a}),a}function Zw(n,e,t,i){const s=`${e}${t}?${i}`;return n.config.emulator?Dp(n.config,s):`${n.config.apiScheme}://${s}`}function VR(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class NR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(yr(this.auth,"network-request-failed")),DR.get())})}}function Xl(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const s=yr(n,e,i);return s.customData._tokenResponse=t,s}function pv(n){return n!==void 0&&n.enterprise!==void 0}class LR{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return VR(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function MR(n,e){return Bi(n,"GET","/v2/recaptchaConfig",$i(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FR(n,e){return Bi(n,"POST","/v1/accounts:delete",e)}async function eE(n,e){return Bi(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ru(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function UR(n,e=!1){const t=Rt(n),i=await t.getIdToken(e),s=Vp(i);Se(s&&s.exp&&s.auth_time&&s.iat,t.auth,"internal-error");const a=typeof s.firebase=="object"?s.firebase:void 0,c=a==null?void 0:a.sign_in_provider;return{claims:s,token:i,authTime:ru(tf(s.auth_time)),issuedAtTime:ru(tf(s.iat)),expirationTime:ru(tf(s.exp)),signInProvider:c||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function tf(n){return Number(n)*1e3}function Vp(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return uc("JWT malformed, contained fewer than 3 sections"),null;try{const s=f_(t);return s?JSON.parse(s):(uc("Failed to decode base64 JWT payload"),null)}catch(s){return uc("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function mv(n){const e=Vp(n);return Se(e,"internal-error"),Se(typeof e.exp<"u","internal-error"),Se(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fu(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof Yr&&jR(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function jR({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zR{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const s=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mf{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=ru(this.lastLoginAt),this.creationTime=ru(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pc(n){var e;const t=n.auth,i=await n.getIdToken(),s=await fu(n,eE(t,{idToken:i}));Se(s==null?void 0:s.users.length,t,"internal-error");const a=s.users[0];n._notifyReloadListener(a);const c=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?tE(a.providerUserInfo):[],f=BR(n.providerData,c),h=n.isAnonymous,y=!(n.email&&a.passwordHash)&&!(f!=null&&f.length),_=h?y:!1,E={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:f,metadata:new Mf(a.createdAt,a.lastLoginAt),isAnonymous:_};Object.assign(n,E)}async function $R(n){const e=Rt(n);await Pc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function BR(n,e){return[...n.filter(i=>!e.some(s=>s.providerId===i.providerId)),...e]}function tE(n){return n.map(e=>{var{providerId:t}=e,i=Op(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HR(n,e){const t=await Jw(n,{},async()=>{const i=_u({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:a}=n.config,c=Zw(n,s,"/v1/token",`key=${a}`),f=await n._getAdditionalHeaders();return f["Content-Type"]="application/x-www-form-urlencoded",Xw.fetch()(c,{method:"POST",headers:f,body:i})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function qR(n,e){return Bi(n,"POST","/v2/accounts:revokeToken",$i(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Se(e.idToken,"internal-error"),Se(typeof e.idToken<"u","internal-error"),Se(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):mv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Se(e.length!==0,"internal-error");const t=mv(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Se(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:s,expiresIn:a}=await HR(e,t);this.updateTokensAndExpiration(i,s,Number(a))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:s,expirationTime:a}=t,c=new Ao;return i&&(Se(typeof i=="string","internal-error",{appName:e}),c.refreshToken=i),s&&(Se(typeof s=="string","internal-error",{appName:e}),c.accessToken=s),a&&(Se(typeof a=="number","internal-error",{appName:e}),c.expirationTime=a),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ao,this.toJSON())}_performRefresh(){return jr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ii(n,e){Se(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class zr{constructor(e){var{uid:t,auth:i,stsTokenManager:s}=e,a=Op(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new zR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Mf(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await fu(this,this.stsTokenManager.getToken(this.auth,e));return Se(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return UR(this,e)}reload(){return $R(this)}_assign(e){this!==e&&(Se(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new zr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await Pc(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(pr(this.auth.app))return Promise.reject(Br(this.auth));const e=await this.getIdToken();return await fu(this,FR(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,s,a,c,f,h,y,_;const E=(i=t.displayName)!==null&&i!==void 0?i:void 0,S=(s=t.email)!==null&&s!==void 0?s:void 0,k=(a=t.phoneNumber)!==null&&a!==void 0?a:void 0,N=(c=t.photoURL)!==null&&c!==void 0?c:void 0,O=(f=t.tenantId)!==null&&f!==void 0?f:void 0,b=(h=t._redirectEventId)!==null&&h!==void 0?h:void 0,B=(y=t.createdAt)!==null&&y!==void 0?y:void 0,H=(_=t.lastLoginAt)!==null&&_!==void 0?_:void 0,{uid:W,emailVerified:Q,isAnonymous:$,providerData:te,stsTokenManager:C}=t;Se(W&&C,e,"internal-error");const T=Ao.fromJSON(this.name,C);Se(typeof W=="string",e,"internal-error"),Ii(E,e.name),Ii(S,e.name),Se(typeof Q=="boolean",e,"internal-error"),Se(typeof $=="boolean",e,"internal-error"),Ii(k,e.name),Ii(N,e.name),Ii(O,e.name),Ii(b,e.name),Ii(B,e.name),Ii(H,e.name);const A=new zr({uid:W,auth:e,email:S,emailVerified:Q,displayName:E,isAnonymous:$,photoURL:N,phoneNumber:k,tenantId:O,stsTokenManager:T,createdAt:B,lastLoginAt:H});return te&&Array.isArray(te)&&(A.providerData=te.map(x=>Object.assign({},x))),b&&(A._redirectEventId=b),A}static async _fromIdTokenResponse(e,t,i=!1){const s=new Ao;s.updateFromServerResponse(t);const a=new zr({uid:t.localId,auth:e,stsTokenManager:s,isAnonymous:i});return await Pc(a),a}static async _fromGetAccountInfoResponse(e,t,i){const s=t.users[0];Se(s.localId!==void 0,"internal-error");const a=s.providerUserInfo!==void 0?tE(s.providerUserInfo):[],c=!(s.email&&s.passwordHash)&&!(a!=null&&a.length),f=new Ao;f.updateFromIdToken(i);const h=new zr({uid:s.localId,auth:e,stsTokenManager:f,isAnonymous:c}),y={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Mf(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(a!=null&&a.length)};return Object.assign(h,y),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gv=new Map;function $r(n){Kr(n instanceof Function,"Expected a class definition");let e=gv.get(n);return e?(Kr(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,gv.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}nE.type="NONE";const yv=nE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lc(n,e,t){return`firebase:${n}:${e}:${t}`}class Ro{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:s,name:a}=this.auth;this.fullUserKey=lc(this.userKey,s.apiKey,a),this.fullPersistenceKey=lc("persistence",s.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?zr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new Ro($r(yv),e,i);const s=(await Promise.all(t.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let a=s[0]||$r(yv);const c=lc(i,e.config.apiKey,e.name);let f=null;for(const y of t)try{const _=await y._get(c);if(_){const E=zr._fromJSON(e,_);y!==a&&(f=E),a=y;break}}catch{}const h=s.filter(y=>y._shouldAllowMigration);return!a._shouldAllowMigration||!h.length?new Ro(a,e,i):(a=h[0],f&&await a._set(c,f.toJSON()),await Promise.all(t.map(async y=>{if(y!==a)try{await y._remove(c)}catch{}})),new Ro(a,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vv(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(oE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(rE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(uE(e))return"Blackberry";if(lE(e))return"Webos";if(iE(e))return"Safari";if((e.includes("chrome/")||sE(e))&&!e.includes("edge/"))return"Chrome";if(aE(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function rE(n=Yt()){return/firefox\//i.test(n)}function iE(n=Yt()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function sE(n=Yt()){return/crios\//i.test(n)}function oE(n=Yt()){return/iemobile/i.test(n)}function aE(n=Yt()){return/android/i.test(n)}function uE(n=Yt()){return/blackberry/i.test(n)}function lE(n=Yt()){return/webos/i.test(n)}function Np(n=Yt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function WR(n=Yt()){var e;return Np(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function GR(){return KT()&&document.documentMode===10}function cE(n=Yt()){return Np(n)||aE(n)||lE(n)||uE(n)||/windows phone/i.test(n)||oE(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dE(n,e=[]){let t;switch(n){case"Browser":t=vv(Yt());break;case"Worker":t=`${vv(Yt())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${jo}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KR{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=a=>new Promise((c,f)=>{try{const h=e(a);c(h)}catch(h){f(h)}});i.onAbort=t,this.queue.push(i);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const s of t)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QR(n,e={}){return Bi(n,"GET","/v2/passwordPolicy",$i(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YR=6;class XR{constructor(e){var t,i,s,a;const c=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=c.minPasswordLength)!==null&&t!==void 0?t:YR,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,s,a,c,f;const h={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,h),this.validatePasswordCharacterOptions(e,h),h.isValid&&(h.isValid=(t=h.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),h.isValid&&(h.isValid=(i=h.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),h.isValid&&(h.isValid=(s=h.containsLowercaseLetter)!==null&&s!==void 0?s:!0),h.isValid&&(h.isValid=(a=h.containsUppercaseLetter)!==null&&a!==void 0?a:!0),h.isValid&&(h.isValid=(c=h.containsNumericCharacter)!==null&&c!==void 0?c:!0),h.isValid&&(h.isValid=(f=h.containsNonAlphanumericCharacter)!==null&&f!==void 0?f:!0),h}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),s&&(t.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let s=0;s<e.length;s++)i=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,s,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JR{constructor(e,t,i,s){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new _v(this),this.idTokenSubscription=new _v(this),this.beforeStateQueue=new KR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Qw,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=$r(t)),this._initializationPromise=this.queue(async()=>{var i,s;if(!this._deleted&&(this.persistenceManager=await Ro.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await eE(this,{idToken:e}),i=await zr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(pr(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(f,f))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let s=i,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,f=s==null?void 0:s._redirectEventId,h=await this.tryRedirectSignIn(e);(!c||c===f)&&(h!=null&&h.user)&&(s=h.user,a=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(s)}catch(c){s=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Se(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Pc(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=OR()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(pr(this.app))return Promise.reject(Br(this));const t=e?Rt(e):null;return t&&Se(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Se(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return pr(this.app)?Promise.reject(Br(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return pr(this.app)?Promise.reject(Br(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence($r(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await QR(this),t=new XR(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new vu("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await qR(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&$r(e)||this._popupRedirectResolver;Se(t,this,"argument-error"),this.redirectPersistenceManager=await Ro.create(this,[$r(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,s){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let c=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(Se(f,this,"internal-error"),f.then(()=>{c||a(this.currentUser)}),typeof t=="function"){const h=e.addObserver(t,i,s);return()=>{c=!0,h()}}else{const h=e.addObserver(t);return()=>{c=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=dE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(t["X-Firebase-Client"]=i);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){var e;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&PR(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Rs(n){return Rt(n)}class _v{constructor(e){this.auth=e,this.observer=null,this.addObserver=nS(t=>this.observer=t)}get next(){return Se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ad={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function ZR(n){ad=n}function hE(n){return ad.loadJS(n)}function eP(){return ad.recaptchaEnterpriseScript}function tP(){return ad.gapiScript}function nP(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class rP{constructor(){this.enterprise=new iP}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class iP{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const sP="recaptcha-enterprise",fE="NO_RECAPTCHA";class oP{constructor(e){this.type=sP,this.auth=Rs(e)}async verify(e="verify",t=!1){async function i(a){if(!t){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(c,f)=>{MR(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(h=>{if(h.recaptchaKey===void 0)f(new Error("recaptcha Enterprise site key undefined"));else{const y=new LR(h);return a.tenantId==null?a._agentRecaptchaConfig=y:a._tenantRecaptchaConfigs[a.tenantId]=y,c(y.siteKey)}}).catch(h=>{f(h)})})}function s(a,c,f){const h=window.grecaptcha;pv(h)?h.enterprise.ready(()=>{h.enterprise.execute(a,{action:e}).then(y=>{c(y)}).catch(()=>{c(fE)})}):f(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new rP().execute("siteKey",{action:"verify"}):new Promise((a,c)=>{i(this.auth).then(f=>{if(!t&&pv(window.grecaptcha))s(f,a,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let h=eP();h.length!==0&&(h+=f),hE(h).then(()=>{s(f,a,c)}).catch(y=>{c(y)})}}).catch(f=>{c(f)})})}}async function wv(n,e,t,i=!1,s=!1){const a=new oP(n);let c;if(s)c=fE;else try{c=await a.verify(t)}catch{c=await a.verify(t,!0)}const f=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in f){const h=f.phoneEnrollmentInfo.phoneNumber,y=f.phoneEnrollmentInfo.recaptchaToken;Object.assign(f,{phoneEnrollmentInfo:{phoneNumber:h,recaptchaToken:y,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in f){const h=f.phoneSignInInfo.recaptchaToken;Object.assign(f,{phoneSignInInfo:{recaptchaToken:h,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return f}return i?Object.assign(f,{captchaResp:c}):Object.assign(f,{captchaResponse:c}),Object.assign(f,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(f,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),f}async function Ff(n,e,t,i,s){var a;if(!((a=n._getRecaptchaConfig())===null||a===void 0)&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await wv(n,e,t,t==="getOobCode");return i(n,c)}else return i(n,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await wv(n,e,t,t==="getOobCode");return i(n,f)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aP(n,e){const t=Xf(n,"auth");if(t.isInitialized()){const s=t.getImmediate(),a=t.getOptions();if(yc(a,e??{}))return s;Xn(s,"already-initialized")}return t.initialize({options:e})}function uP(n,e){const t=(e==null?void 0:e.persistence)||[],i=(Array.isArray(t)?t:[t]).map($r);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function lP(n,e,t){const i=Rs(n);Se(i._canInitEmulator,i,"emulator-config-failed"),Se(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const s=!1,a=pE(e),{host:c,port:f}=cP(e),h=f===null?"":`:${f}`;i.config.emulator={url:`${a}//${c}${h}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:c,port:f,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:s})}),dP()}function pE(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function cP(n){const e=pE(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(i);if(s){const a=s[1];return{host:a,port:Ev(i.substr(a.length+1))}}else{const[a,c]=i.split(":");return{host:a,port:Ev(c)}}}function Ev(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function dP(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lp{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return jr("not implemented")}_getIdTokenResponse(e){return jr("not implemented")}_linkToIdToken(e,t){return jr("not implemented")}_getReauthenticationResolver(e){return jr("not implemented")}}async function hP(n,e){return Bi(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fP(n,e){return Au(n,"POST","/v1/accounts:signInWithPassword",$i(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pP(n,e){return Au(n,"POST","/v1/accounts:signInWithEmailLink",$i(n,e))}async function mP(n,e){return Au(n,"POST","/v1/accounts:signInWithEmailLink",$i(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pu extends Lp{constructor(e,t,i,s=null){super("password",i),this._email=e,this._password=t,this._tenantId=s}static _fromEmailAndPassword(e,t){return new pu(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new pu(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ff(e,t,"signInWithPassword",fP);case"emailLink":return pP(e,{email:this._email,oobCode:this._password});default:Xn(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ff(e,i,"signUpPassword",hP);case"emailLink":return mP(e,{idToken:t,email:this._email,oobCode:this._password});default:Xn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Po(n,e){return Au(n,"POST","/v1/accounts:signInWithIdp",$i(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gP="http://localhost";class Es extends Lp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Es(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Xn("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:s}=t,a=Op(t,["providerId","signInMethod"]);if(!i||!s)return null;const c=new Es(i,s);return c.idToken=a.idToken||void 0,c.accessToken=a.accessToken||void 0,c.secret=a.secret,c.nonce=a.nonce,c.pendingToken=a.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return Po(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,Po(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Po(e,t)}buildRequest(){const e={requestUri:gP,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=_u(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yP(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function vP(n){const e=qa(Wa(n)).link,t=e?qa(Wa(e)).deep_link_id:null,i=qa(Wa(n)).deep_link_id;return(i?qa(Wa(i)).link:null)||i||t||e||n}class Mp{constructor(e){var t,i,s,a,c,f;const h=qa(Wa(e)),y=(t=h.apiKey)!==null&&t!==void 0?t:null,_=(i=h.oobCode)!==null&&i!==void 0?i:null,E=yP((s=h.mode)!==null&&s!==void 0?s:null);Se(y&&_&&E,"argument-error"),this.apiKey=y,this.operation=E,this.code=_,this.continueUrl=(a=h.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(c=h.languageCode)!==null&&c!==void 0?c:null,this.tenantId=(f=h.tenantId)!==null&&f!==void 0?f:null}static parseLink(e){const t=vP(e);try{return new Mp(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo{constructor(){this.providerId=Wo.PROVIDER_ID}static credential(e,t){return pu._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const i=Mp.parseLink(t);return Se(i,"argument-error"),pu._fromEmailAndCode(e,i.code,i.tenantId)}}Wo.PROVIDER_ID="password";Wo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Wo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mE{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ru extends mE{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti extends Ru{constructor(){super("facebook.com")}static credential(e){return Es._fromParams({providerId:Ti.PROVIDER_ID,signInMethod:Ti.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ti.credentialFromTaggedObject(e)}static credentialFromError(e){return Ti.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ti.credential(e.oauthAccessToken)}catch{return null}}}Ti.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ti.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Si extends Ru{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Es._fromParams({providerId:Si.PROVIDER_ID,signInMethod:Si.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Si.credentialFromTaggedObject(e)}static credentialFromError(e){return Si.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return Si.credential(t,i)}catch{return null}}}Si.GOOGLE_SIGN_IN_METHOD="google.com";Si.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ci extends Ru{constructor(){super("github.com")}static credential(e){return Es._fromParams({providerId:Ci.PROVIDER_ID,signInMethod:Ci.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ci.credentialFromTaggedObject(e)}static credentialFromError(e){return Ci.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ci.credential(e.oauthAccessToken)}catch{return null}}}Ci.GITHUB_SIGN_IN_METHOD="github.com";Ci.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ai extends Ru{constructor(){super("twitter.com")}static credential(e,t){return Es._fromParams({providerId:Ai.PROVIDER_ID,signInMethod:Ai.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Ai.credentialFromTaggedObject(e)}static credentialFromError(e){return Ai.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return Ai.credential(t,i)}catch{return null}}}Ai.TWITTER_SIGN_IN_METHOD="twitter.com";Ai.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _P(n,e){return Au(n,"POST","/v1/accounts:signUp",$i(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,s=!1){const a=await zr._fromIdTokenResponse(e,i,s),c=Iv(i);return new Is({user:a,providerId:c,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const s=Iv(i);return new Is({user:e,providerId:s,_tokenResponse:i,operationType:t})}}function Iv(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kc extends Yr{constructor(e,t,i,s){var a;super(t.code,t.message),this.operationType=i,this.user=s,Object.setPrototypeOf(this,kc.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,s){return new kc(e,t,i,s)}}function gE(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?kc._fromErrorAndOperation(n,a,e,i):a})}async function wP(n,e,t=!1){const i=await fu(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Is._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EP(n,e,t=!1){const{auth:i}=n;if(pr(i.app))return Promise.reject(Br(i));const s="reauthenticate";try{const a=await fu(n,gE(i,s,e,n),t);Se(a.idToken,i,"internal-error");const c=Vp(a.idToken);Se(c,i,"internal-error");const{sub:f}=c;return Se(n.uid===f,i,"user-mismatch"),Is._forOperation(n,s,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&Xn(i,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yE(n,e,t=!1){if(pr(n.app))return Promise.reject(Br(n));const i="signIn",s=await gE(n,i,e),a=await Is._fromIdTokenResponse(n,i,s);return t||await n._updateCurrentUser(a.user),a}async function IP(n,e){return yE(Rs(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vE(n){const e=Rs(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function TP(n,e,t){if(pr(n.app))return Promise.reject(Br(n));const i=Rs(n),c=await Ff(i,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",_P).catch(h=>{throw h.code==="auth/password-does-not-meet-requirements"&&vE(n),h}),f=await Is._fromIdTokenResponse(i,"signIn",c);return await i._updateCurrentUser(f.user),f}function SP(n,e,t){return pr(n.app)?Promise.reject(Br(n)):IP(Rt(n),Wo.credential(e,t)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&vE(n),i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CP(n,e){return Rt(n).setPersistence(e)}function AP(n,e,t,i){return Rt(n).onIdTokenChanged(e,t,i)}function RP(n,e,t){return Rt(n).beforeAuthStateChanged(e,t)}function PP(n,e,t,i){return Rt(n).onAuthStateChanged(e,t,i)}const bc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _E{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(bc,"1"),this.storage.removeItem(bc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kP=1e3,bP=10;class wE extends _E{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=cE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),s=this.localCache[t];i!==s&&e(t,s,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,f,h)=>{this.notifyListeners(c,h)});return}const i=e.key;t?this.detachListener():this.stopPolling();const s=()=>{const c=this.storage.getItem(i);!t&&this.localCache[i]===c||this.notifyListeners(i,c)},a=this.storage.getItem(i);GR()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,bP):s()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},kP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}wE.type="LOCAL";const EE=wE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IE extends _E{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}IE.type="SESSION";const TE=IE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OP(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ud{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(s=>s.isListeningto(e));if(t)return t;const i=new ud(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:s,data:a}=t.data,c=this.handlersMap[s];if(!(c!=null&&c.size))return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:s});const f=Array.from(c).map(async y=>y(t.origin,a)),h=await OP(f);t.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:h})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ud.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fp(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xP{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let a,c;return new Promise((f,h)=>{const y=Fp("",20);s.port1.start();const _=setTimeout(()=>{h(new Error("unsupported_event"))},i);c={messageChannel:s,onMessage(E){const S=E;if(S.data.eventId===y)switch(S.data.status){case"ack":clearTimeout(_),a=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),f(S.data.response);break;default:clearTimeout(_),clearTimeout(a),h(new Error("invalid_response"));break}}},this.handlers.add(c),s.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:y,data:t},[s.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vr(){return window}function DP(n){vr().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SE(){return typeof vr().WorkerGlobalScope<"u"&&typeof vr().importScripts=="function"}async function VP(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function NP(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function LP(){return SE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CE="firebaseLocalStorageDb",MP=1,Oc="firebaseLocalStorage",AE="fbase_key";class Pu{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function ld(n,e){return n.transaction([Oc],e?"readwrite":"readonly").objectStore(Oc)}function FP(){const n=indexedDB.deleteDatabase(CE);return new Pu(n).toPromise()}function Uf(){const n=indexedDB.open(CE,MP);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(Oc,{keyPath:AE})}catch(s){t(s)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(Oc)?e(i):(i.close(),await FP(),e(await Uf()))})})}async function Tv(n,e,t){const i=ld(n,!0).put({[AE]:e,value:t});return new Pu(i).toPromise()}async function UP(n,e){const t=ld(n,!1).get(e),i=await new Pu(t).toPromise();return i===void 0?null:i.value}function Sv(n,e){const t=ld(n,!0).delete(e);return new Pu(t).toPromise()}const jP=800,zP=3;class RE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Uf(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>zP)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return SE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ud._getInstance(LP()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await VP(),!this.activeServiceWorker)return;this.sender=new xP(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((t=i[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||NP()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Uf();return await Tv(e,bc,"1"),await Sv(e,bc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>Tv(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>UP(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Sv(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const a=ld(s,!1).getAll();return new Pu(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:s,value:a}of e)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(a)&&(this.notifyListeners(s,a),t.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),t.push(s));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),jP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}RE.type="LOCAL";const $P=RE;new Cu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BP(n,e){return e?$r(e):(Se(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Up extends Lp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Po(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Po(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Po(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function HP(n){return yE(n.auth,new Up(n),n.bypassAuthState)}function qP(n){const{auth:e,user:t}=n;return Se(t,e,"internal-error"),EP(t,new Up(n),n.bypassAuthState)}async function WP(n){const{auth:e,user:t}=n;return Se(t,e,"internal-error"),wP(t,new Up(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PE{constructor(e,t,i,s,a=!1){this.auth=e,this.resolver=i,this.user=s,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:s,tenantId:a,error:c,type:f}=e;if(c){this.reject(c);return}const h={auth:this.auth,requestUri:t,sessionId:i,tenantId:a||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(h))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return HP;case"linkViaPopup":case"linkViaRedirect":return WP;case"reauthViaPopup":case"reauthViaRedirect":return qP;default:Xn(this.auth,"internal-error")}}resolve(e){Kr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Kr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GP=new Cu(2e3,1e4);class So extends PE{constructor(e,t,i,s,a){super(e,t,s,a),this.provider=i,this.authWindow=null,this.pollId=null,So.currentPopupAction&&So.currentPopupAction.cancel(),So.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Se(e,this.auth,"internal-error"),e}async onExecution(){Kr(this.filter.length===1,"Popup operations only handle one event");const e=Fp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(yr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(yr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,So.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if(!((i=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(yr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,GP.get())};e()}}So.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KP="pendingRedirect",cc=new Map;class QP extends PE{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=cc.get(this.auth._key());if(!e){try{const i=await YP(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}cc.set(this.auth._key(),e)}return this.bypassAuthState||cc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function YP(n,e){const t=ZP(e),i=JP(n);if(!await i._isAvailable())return!1;const s=await i._get(t)==="true";return await i._remove(t),s}function XP(n,e){cc.set(n._key(),e)}function JP(n){return $r(n._redirectPersistence)}function ZP(n){return lc(KP,n.config.apiKey,n.name)}async function e1(n,e,t=!1){if(pr(n.app))return Promise.reject(Br(n));const i=Rs(n),s=BP(i,e),c=await new QP(i,s,t).execute();return c&&!t&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t1=10*60*1e3;class n1{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!r1(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!kE(e)){const s=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError(yr(this.auth,s))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=t1&&this.cachedEventUids.clear(),this.cachedEventUids.has(Cv(e))}saveEventToCache(e){this.cachedEventUids.add(Cv(e)),this.lastProcessedEventTime=Date.now()}}function Cv(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function kE({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function r1(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return kE(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function i1(n,e={}){return Bi(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s1=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,o1=/^https?/;async function a1(n){if(n.config.emulator)return;const{authorizedDomains:e}=await i1(n);for(const t of e)try{if(u1(t))return}catch{}Xn(n,"unauthorized-domain")}function u1(n){const e=Lf(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===i}if(!o1.test(t))return!1;if(s1.test(n))return i===n;const s=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l1=new Cu(3e4,6e4);function Av(){const n=vr().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function c1(n){return new Promise((e,t)=>{var i,s,a;function c(){Av(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Av(),t(yr(n,"network-request-failed"))},timeout:l1.get()})}if(!((s=(i=vr().gapi)===null||i===void 0?void 0:i.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((a=vr().gapi)===null||a===void 0)&&a.load)c();else{const f=nP("iframefcb");return vr()[f]=()=>{gapi.load?c():t(yr(n,"network-request-failed"))},hE(`${tP()}?onload=${f}`).catch(h=>t(h))}}).catch(e=>{throw dc=null,e})}let dc=null;function d1(n){return dc=dc||c1(n),dc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h1=new Cu(5e3,15e3),f1="__/auth/iframe",p1="emulator/auth/iframe",m1={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},g1=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function y1(n){const e=n.config;Se(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Dp(e,p1):`https://${n.config.authDomain}/${f1}`,i={apiKey:e.apiKey,appName:n.name,v:jo},s=g1.get(n.config.apiHost);s&&(i.eid=s);const a=n._getFrameworks();return a.length&&(i.fw=a.join(",")),`${t}?${_u(i).slice(1)}`}async function v1(n){const e=await d1(n),t=vr().gapi;return Se(t,n,"internal-error"),e.open({where:document.body,url:y1(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:m1,dontclear:!0},i=>new Promise(async(s,a)=>{await i.restyle({setHideOnLeave:!1});const c=yr(n,"network-request-failed"),f=vr().setTimeout(()=>{a(c)},h1.get());function h(){vr().clearTimeout(f),s(i)}i.ping(h).then(h,()=>{a(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _1={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},w1=500,E1=600,I1="_blank",T1="http://localhost";class Rv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function S1(n,e,t,i=w1,s=E1){const a=Math.max((window.screen.availHeight-s)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let f="";const h=Object.assign(Object.assign({},_1),{width:i.toString(),height:s.toString(),top:a,left:c}),y=Yt().toLowerCase();t&&(f=sE(y)?I1:t),rE(y)&&(e=e||T1,h.scrollbars="yes");const _=Object.entries(h).reduce((S,[k,N])=>`${S}${k}=${N},`,"");if(WR(y)&&f!=="_self")return C1(e||"",f),new Rv(null);const E=window.open(e||"",f,_);Se(E,n,"popup-blocked");try{E.focus()}catch{}return new Rv(E)}function C1(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A1="__/auth/handler",R1="emulator/auth/handler",P1=encodeURIComponent("fac");async function Pv(n,e,t,i,s,a){Se(n.config.authDomain,n,"auth-domain-config-required"),Se(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:jo,eventId:s};if(e instanceof mE){e.setDefaultLanguage(n.languageCode),c.providerId=e.providerId||"",tS(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,E]of Object.entries({}))c[_]=E}if(e instanceof Ru){const _=e.getScopes().filter(E=>E!=="");_.length>0&&(c.scopes=_.join(","))}n.tenantId&&(c.tid=n.tenantId);const f=c;for(const _ of Object.keys(f))f[_]===void 0&&delete f[_];const h=await n._getAppCheckToken(),y=h?`#${P1}=${encodeURIComponent(h)}`:"";return`${k1(n)}?${_u(f).slice(1)}${y}`}function k1({config:n}){return n.emulator?Dp(n,R1):`https://${n.authDomain}/${A1}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nf="webStorageSupport";class b1{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=TE,this._completeRedirectFn=e1,this._overrideRedirectResult=XP}async _openPopup(e,t,i,s){var a;Kr((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const c=await Pv(e,t,i,Lf(),s);return S1(e,c,Fp())}async _openRedirect(e,t,i,s){await this._originValidation(e);const a=await Pv(e,t,i,Lf(),s);return DP(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:s,promise:a}=this.eventManagers[t];return s?Promise.resolve(s):(Kr(a,"If manager is not set, promise should be"),a)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await v1(e),i=new n1(e);return t.register("authEvent",s=>(Se(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(nf,{type:nf},s=>{var a;const c=(a=s==null?void 0:s[0])===null||a===void 0?void 0:a[nf];c!==void 0&&t(!!c),Xn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=a1(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return cE()||iE()||Np()}}const O1=b1;var kv="@firebase/auth",bv="1.8.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x1{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D1(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function V1(n){Oo(new _s("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:c,authDomain:f}=i.options;Se(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const h={apiKey:c,authDomain:f,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:dE(n)},y=new JR(i,s,a,h);return uP(y,t),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),Oo(new _s("auth-internal",e=>{const t=Rs(e.getProvider("auth").getImmediate());return(i=>new x1(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),bi(kv,bv,D1(n)),bi(kv,bv,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N1=5*60,L1=g_("authIdTokenMaxAge")||N1;let Ov=null;const M1=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>L1)return;const s=t==null?void 0:t.token;Ov!==s&&(Ov=s,await fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function F1(n=w_()){const e=Xf(n,"auth");if(e.isInitialized())return e.getImmediate();const t=aP(n,{popupRedirectResolver:O1,persistence:[$P,EE,TE]}),i=g_("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(i,location.origin);if(location.origin===a.origin){const c=M1(a.toString());RP(t,c,()=>c(t.currentUser)),AP(t,f=>c(f))}}const s=p_("auth");return s&&lP(t,`http://${s}`),t}function U1(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}ZR({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=s=>{const a=yr("internal-error");a.customData=s,t(a)},i.type="text/javascript",i.charset="UTF-8",U1().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});V1("Browser");const j1=({auth:n,db:e,setUser:t})=>{const[i,s]=Y.useState(""),[a,c]=Y.useState(""),[f,h]=Y.useState(""),[y,_]=Y.useState(""),E=async()=>{try{const k=(await TP(n,i,f)).user;if(!k)return;const N={categories:["Electronics","Home & Kitchen","Kids & Toys","Sports"],email:i,name:a};await ER(hu(e,"users",k.uid),N),t({...k,...N})}catch(S){console.error(S)}};return re.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-start",padding:"0.5rem",border:"1px solid black"},children:[re.jsx("h2",{children:"Sign Up"}),re.jsx("label",{htmlFor:"name",children:"Name"}),re.jsx("input",{name:"name",type:"text",value:a,onChange:S=>c(S.target.value)}),re.jsx("label",{htmlFor:"email",children:"Email"}),re.jsx("input",{name:"email",type:"text",value:i,onChange:S=>s(S.target.value)}),re.jsx("label",{htmlFor:"password",children:"Password"}),re.jsx("input",{name:"password",type:"password",value:f,onChange:S=>h(S.target.value)}),re.jsx("label",{htmlFor:"confirmPassword",children:"Confirm Password"}),re.jsx("input",{name:"confirmPassword",type:"password",value:y,onChange:S=>_(S.target.value)}),re.jsx("button",{onClick:E,disabled:!i||!f||!y||f!==y,children:"Sign Up"})]})},z1=({auth:n,db:e,setUser:t})=>{const[i,s]=Y.useState(""),[a,c]=Y.useState(""),f=async()=>{try{const y=(await SP(n,i,a)).user;if(!y)return;const _=await wR(hu(e,"users",y.uid));if(!_.exists())return;t({...y,..._.data()})}catch(h){console.error(h)}};return re.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-start",padding:"0.5rem",border:"1px solid black"},children:[re.jsx("h2",{children:"Sign In"}),re.jsx("label",{htmlFor:"email",children:"Email"}),re.jsx("input",{name:"email",type:"text",value:i,onChange:h=>s(h.target.value)}),re.jsx("label",{htmlFor:"password",children:"Password"}),re.jsx("input",{name:"password",type:"password",value:a,onChange:h=>c(h.target.value)}),re.jsx("button",{onClick:f,disabled:!i||!a,children:"Sign In"})]})},$1=({auth:n,db:e,setUser:t})=>re.jsxs("div",{style:{display:"flex",gap:"2rem"},children:[re.jsx(j1,{auth:n,db:e,setUser:t}),re.jsx(z1,{auth:n,db:e,setUser:t})]}),B1=({editProduct:n,product:e})=>re.jsxs("div",{style:{border:"1px solid black",padding:"0.25rem"},children:[re.jsx("h3",{children:"Edit Product"}),re.jsxs("form",{style:{display:"flex",flexDirection:"column",width:"300px",alignItems:"flex-start"},onSubmit:n,children:[re.jsxs("label",{htmlFor:"name",children:["Name",re.jsx("sup",{children:"*"})]}),re.jsx("input",{type:"text",name:"name",required:!0,defaultValue:e.name}),re.jsx("label",{htmlFor:"category",children:"Category"}),re.jsx("input",{type:"text",name:"category",required:!0,defaultValue:e.category}),re.jsx("label",{htmlFor:"purchaseDate",children:"Purchase Date"}),re.jsx("input",{type:"date",name:"purchaseDate",required:!0,defaultValue:e.purchaseDate}),re.jsx("label",{htmlFor:"warrantyLength",children:"Warranty Length"}),re.jsx("input",{type:"text",name:"warrantyLength",required:!0,defaultValue:e.warrantyLength}),re.jsx("label",{htmlFor:"warrantyLengthUnit",children:"Warranty Length Unit"}),re.jsxs("select",{name:"warrantyLengthUnit",required:!0,defaultValue:e.warrantyLengthUnit,children:[re.jsx("option",{value:"days",children:"Days"}),re.jsx("option",{value:"months",children:"Months"}),re.jsx("option",{value:"years",children:"Years"})]}),re.jsx("label",{htmlFor:"notes",children:"Notes"}),re.jsx("textarea",{name:"notes",defaultValue:e.notes}),re.jsx("button",{type:"submit",children:"Edit Product"})]})]});function Ie(){return Ie=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Ie.apply(null,arguments)}function Ts(n){"@babel/helpers - typeof";return Ts=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ts(n)}function H1(n,e){if(Ts(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e||"default");if(Ts(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function bE(n){var e=H1(n,"string");return Ts(e)=="symbol"?e:e+""}function Xa(n,e,t){return(e=bE(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function xv(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),t.push.apply(t,i)}return t}function ye(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?xv(Object(t),!0).forEach(function(i){Xa(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):xv(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function q1(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Dv(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,bE(i.key),i)}}function W1(n,e,t){return Dv(n.prototype,e),Dv(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function jf(n,e){return jf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,i){return t.__proto__=i,t},jf(n,e)}function G1(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&jf(n,e)}function xc(n){return xc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},xc(n)}function OE(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(OE=function(){return!!n})()}function K1(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function Q1(n,e){if(e&&(Ts(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return K1(n)}function Y1(n){var e=OE();return function(){var t,i=xc(n);if(e){var s=xc(this).constructor;t=Reflect.construct(i,arguments,s)}else t=i.apply(this,arguments);return Q1(this,t)}}function zf(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,i=Array(e);t<e;t++)i[t]=n[t];return i}function X1(n){if(Array.isArray(n))return zf(n)}function J1(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function xE(n,e){if(n){if(typeof n=="string")return zf(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?zf(n,e):void 0}}function Z1(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ko(n){return X1(n)||J1(n)||xE(n)||Z1()}function ek(n){if(n.sheet)return n.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===n)return document.styleSheets[e]}function tk(n){var e=document.createElement("style");return e.setAttribute("data-emotion",n.key),n.nonce!==void 0&&e.setAttribute("nonce",n.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var nk=function(){function n(t){var i=this;this._insertTag=function(s){var a;i.tags.length===0?i.insertionPoint?a=i.insertionPoint.nextSibling:i.prepend?a=i.container.firstChild:a=i.before:a=i.tags[i.tags.length-1].nextSibling,i.container.insertBefore(s,a),i.tags.push(s)},this.isSpeedy=t.speedy===void 0?!0:t.speedy,this.tags=[],this.ctr=0,this.nonce=t.nonce,this.key=t.key,this.container=t.container,this.prepend=t.prepend,this.insertionPoint=t.insertionPoint,this.before=null}var e=n.prototype;return e.hydrate=function(i){i.forEach(this._insertTag)},e.insert=function(i){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(tk(this));var s=this.tags[this.tags.length-1];if(this.isSpeedy){var a=ek(s);try{a.insertRule(i,a.cssRules.length)}catch{}}else s.appendChild(document.createTextNode(i));this.ctr++},e.flush=function(){this.tags.forEach(function(i){var s;return(s=i.parentNode)==null?void 0:s.removeChild(i)}),this.tags=[],this.ctr=0},n}(),Wt="-ms-",Dc="-moz-",Ge="-webkit-",DE="comm",jp="rule",zp="decl",rk="@import",VE="@keyframes",ik="@layer",sk=Math.abs,cd=String.fromCharCode,ok=Object.assign;function ak(n,e){return Ft(n,0)^45?(((e<<2^Ft(n,0))<<2^Ft(n,1))<<2^Ft(n,2))<<2^Ft(n,3):0}function NE(n){return n.trim()}function uk(n,e){return(n=e.exec(n))?n[0]:n}function Ke(n,e,t){return n.replace(e,t)}function $f(n,e){return n.indexOf(e)}function Ft(n,e){return n.charCodeAt(e)|0}function mu(n,e,t){return n.slice(e,t)}function hr(n){return n.length}function $p(n){return n.length}function Jl(n,e){return e.push(n),n}function lk(n,e){return n.map(e).join("")}var dd=1,Uo=1,LE=0,hn=0,vt=0,Go="";function hd(n,e,t,i,s,a,c){return{value:n,root:e,parent:t,type:i,props:s,children:a,line:dd,column:Uo,length:c,return:""}}function Ba(n,e){return ok(hd("",null,null,"",null,null,0),n,{length:-n.length},e)}function ck(){return vt}function dk(){return vt=hn>0?Ft(Go,--hn):0,Uo--,vt===10&&(Uo=1,dd--),vt}function En(){return vt=hn<LE?Ft(Go,hn++):0,Uo++,vt===10&&(Uo=1,dd++),vt}function _r(){return Ft(Go,hn)}function hc(){return hn}function ku(n,e){return mu(Go,n,e)}function gu(n){switch(n){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function ME(n){return dd=Uo=1,LE=hr(Go=n),hn=0,[]}function FE(n){return Go="",n}function fc(n){return NE(ku(hn-1,Bf(n===91?n+2:n===40?n+1:n)))}function hk(n){for(;(vt=_r())&&vt<33;)En();return gu(n)>2||gu(vt)>3?"":" "}function fk(n,e){for(;--e&&En()&&!(vt<48||vt>102||vt>57&&vt<65||vt>70&&vt<97););return ku(n,hc()+(e<6&&_r()==32&&En()==32))}function Bf(n){for(;En();)switch(vt){case n:return hn;case 34:case 39:n!==34&&n!==39&&Bf(vt);break;case 40:n===41&&Bf(n);break;case 92:En();break}return hn}function pk(n,e){for(;En()&&n+vt!==57;)if(n+vt===84&&_r()===47)break;return"/*"+ku(e,hn-1)+"*"+cd(n===47?n:En())}function mk(n){for(;!gu(_r());)En();return ku(n,hn)}function gk(n){return FE(pc("",null,null,null,[""],n=ME(n),0,[0],n))}function pc(n,e,t,i,s,a,c,f,h){for(var y=0,_=0,E=c,S=0,k=0,N=0,O=1,b=1,B=1,H=0,W="",Q=s,$=a,te=i,C=W;b;)switch(N=H,H=En()){case 40:if(N!=108&&Ft(C,E-1)==58){$f(C+=Ke(fc(H),"&","&\f"),"&\f")!=-1&&(B=-1);break}case 34:case 39:case 91:C+=fc(H);break;case 9:case 10:case 13:case 32:C+=hk(N);break;case 92:C+=fk(hc()-1,7);continue;case 47:switch(_r()){case 42:case 47:Jl(yk(pk(En(),hc()),e,t),h);break;default:C+="/"}break;case 123*O:f[y++]=hr(C)*B;case 125*O:case 59:case 0:switch(H){case 0:case 125:b=0;case 59+_:B==-1&&(C=Ke(C,/\f/g,"")),k>0&&hr(C)-E&&Jl(k>32?Nv(C+";",i,t,E-1):Nv(Ke(C," ","")+";",i,t,E-2),h);break;case 59:C+=";";default:if(Jl(te=Vv(C,e,t,y,_,s,f,W,Q=[],$=[],E),a),H===123)if(_===0)pc(C,e,te,te,Q,a,E,f,$);else switch(S===99&&Ft(C,3)===110?100:S){case 100:case 108:case 109:case 115:pc(n,te,te,i&&Jl(Vv(n,te,te,0,0,s,f,W,s,Q=[],E),$),s,$,E,f,i?Q:$);break;default:pc(C,te,te,te,[""],$,0,f,$)}}y=_=k=0,O=B=1,W=C="",E=c;break;case 58:E=1+hr(C),k=N;default:if(O<1){if(H==123)--O;else if(H==125&&O++==0&&dk()==125)continue}switch(C+=cd(H),H*O){case 38:B=_>0?1:(C+="\f",-1);break;case 44:f[y++]=(hr(C)-1)*B,B=1;break;case 64:_r()===45&&(C+=fc(En())),S=_r(),_=E=hr(W=C+=mk(hc())),H++;break;case 45:N===45&&hr(C)==2&&(O=0)}}return a}function Vv(n,e,t,i,s,a,c,f,h,y,_){for(var E=s-1,S=s===0?a:[""],k=$p(S),N=0,O=0,b=0;N<i;++N)for(var B=0,H=mu(n,E+1,E=sk(O=c[N])),W=n;B<k;++B)(W=NE(O>0?S[B]+" "+H:Ke(H,/&\f/g,S[B])))&&(h[b++]=W);return hd(n,e,t,s===0?jp:f,h,y,_)}function yk(n,e,t){return hd(n,e,t,DE,cd(ck()),mu(n,2,-2),0)}function Nv(n,e,t,i){return hd(n,e,t,zp,mu(n,0,i),mu(n,i+1,-1),i)}function bo(n,e){for(var t="",i=$p(n),s=0;s<i;s++)t+=e(n[s],s,n,e)||"";return t}function vk(n,e,t,i){switch(n.type){case ik:if(n.children.length)break;case rk:case zp:return n.return=n.return||n.value;case DE:return"";case VE:return n.return=n.value+"{"+bo(n.children,i)+"}";case jp:n.value=n.props.join(",")}return hr(t=bo(n.children,i))?n.return=n.value+"{"+t+"}":""}function _k(n){var e=$p(n);return function(t,i,s,a){for(var c="",f=0;f<e;f++)c+=n[f](t,i,s,a)||"";return c}}function wk(n){return function(e){e.root||(e=e.return)&&n(e)}}function Ek(n){var e=Object.create(null);return function(t){return e[t]===void 0&&(e[t]=n(t)),e[t]}}var Ik=function(e,t,i){for(var s=0,a=0;s=a,a=_r(),s===38&&a===12&&(t[i]=1),!gu(a);)En();return ku(e,hn)},Tk=function(e,t){var i=-1,s=44;do switch(gu(s)){case 0:s===38&&_r()===12&&(t[i]=1),e[i]+=Ik(hn-1,t,i);break;case 2:e[i]+=fc(s);break;case 4:if(s===44){e[++i]=_r()===58?"&\f":"",t[i]=e[i].length;break}default:e[i]+=cd(s)}while(s=En());return e},Sk=function(e,t){return FE(Tk(ME(e),t))},Lv=new WeakMap,Ck=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var t=e.value,i=e.parent,s=e.column===i.column&&e.line===i.line;i.type!=="rule";)if(i=i.parent,!i)return;if(!(e.props.length===1&&t.charCodeAt(0)!==58&&!Lv.get(i))&&!s){Lv.set(e,!0);for(var a=[],c=Sk(t,a),f=i.props,h=0,y=0;h<c.length;h++)for(var _=0;_<f.length;_++,y++)e.props[y]=a[h]?c[h].replace(/&\f/g,f[_]):f[_]+" "+c[h]}}},Ak=function(e){if(e.type==="decl"){var t=e.value;t.charCodeAt(0)===108&&t.charCodeAt(2)===98&&(e.return="",e.value="")}};function UE(n,e){switch(ak(n,e)){case 5103:return Ge+"print-"+n+n;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Ge+n+n;case 5349:case 4246:case 4810:case 6968:case 2756:return Ge+n+Dc+n+Wt+n+n;case 6828:case 4268:return Ge+n+Wt+n+n;case 6165:return Ge+n+Wt+"flex-"+n+n;case 5187:return Ge+n+Ke(n,/(\w+).+(:[^]+)/,Ge+"box-$1$2"+Wt+"flex-$1$2")+n;case 5443:return Ge+n+Wt+"flex-item-"+Ke(n,/flex-|-self/,"")+n;case 4675:return Ge+n+Wt+"flex-line-pack"+Ke(n,/align-content|flex-|-self/,"")+n;case 5548:return Ge+n+Wt+Ke(n,"shrink","negative")+n;case 5292:return Ge+n+Wt+Ke(n,"basis","preferred-size")+n;case 6060:return Ge+"box-"+Ke(n,"-grow","")+Ge+n+Wt+Ke(n,"grow","positive")+n;case 4554:return Ge+Ke(n,/([^-])(transform)/g,"$1"+Ge+"$2")+n;case 6187:return Ke(Ke(Ke(n,/(zoom-|grab)/,Ge+"$1"),/(image-set)/,Ge+"$1"),n,"")+n;case 5495:case 3959:return Ke(n,/(image-set\([^]*)/,Ge+"$1$`$1");case 4968:return Ke(Ke(n,/(.+:)(flex-)?(.*)/,Ge+"box-pack:$3"+Wt+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Ge+n+n;case 4095:case 3583:case 4068:case 2532:return Ke(n,/(.+)-inline(.+)/,Ge+"$1$2")+n;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(hr(n)-1-e>6)switch(Ft(n,e+1)){case 109:if(Ft(n,e+4)!==45)break;case 102:return Ke(n,/(.+:)(.+)-([^]+)/,"$1"+Ge+"$2-$3$1"+Dc+(Ft(n,e+3)==108?"$3":"$2-$3"))+n;case 115:return~$f(n,"stretch")?UE(Ke(n,"stretch","fill-available"),e)+n:n}break;case 4949:if(Ft(n,e+1)!==115)break;case 6444:switch(Ft(n,hr(n)-3-(~$f(n,"!important")&&10))){case 107:return Ke(n,":",":"+Ge)+n;case 101:return Ke(n,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Ge+(Ft(n,14)===45?"inline-":"")+"box$3$1"+Ge+"$2$3$1"+Wt+"$2box$3")+n}break;case 5936:switch(Ft(n,e+11)){case 114:return Ge+n+Wt+Ke(n,/[svh]\w+-[tblr]{2}/,"tb")+n;case 108:return Ge+n+Wt+Ke(n,/[svh]\w+-[tblr]{2}/,"tb-rl")+n;case 45:return Ge+n+Wt+Ke(n,/[svh]\w+-[tblr]{2}/,"lr")+n}return Ge+n+Wt+n+n}return n}var Rk=function(e,t,i,s){if(e.length>-1&&!e.return)switch(e.type){case zp:e.return=UE(e.value,e.length);break;case VE:return bo([Ba(e,{value:Ke(e.value,"@","@"+Ge)})],s);case jp:if(e.length)return lk(e.props,function(a){switch(uk(a,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return bo([Ba(e,{props:[Ke(a,/:(read-\w+)/,":"+Dc+"$1")]})],s);case"::placeholder":return bo([Ba(e,{props:[Ke(a,/:(plac\w+)/,":"+Ge+"input-$1")]}),Ba(e,{props:[Ke(a,/:(plac\w+)/,":"+Dc+"$1")]}),Ba(e,{props:[Ke(a,/:(plac\w+)/,Wt+"input-$1")]})],s)}return""})}},Pk=[Rk],kk=function(e){var t=e.key;if(t==="css"){var i=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(i,function(O){var b=O.getAttribute("data-emotion");b.indexOf(" ")!==-1&&(document.head.appendChild(O),O.setAttribute("data-s",""))})}var s=e.stylisPlugins||Pk,a={},c,f=[];c=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),function(O){for(var b=O.getAttribute("data-emotion").split(" "),B=1;B<b.length;B++)a[b[B]]=!0;f.push(O)});var h,y=[Ck,Ak];{var _,E=[vk,wk(function(O){_.insert(O)})],S=_k(y.concat(s,E)),k=function(b){return bo(gk(b),S)};h=function(b,B,H,W){_=H,k(b?b+"{"+B.styles+"}":B.styles),W&&(N.inserted[B.name]=!0)}}var N={key:t,sheet:new nk({key:t,container:c,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:a,registered:{},insert:h};return N.sheet.hydrate(f),N},rf={exports:{}},Qe={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mv;function bk(){if(Mv)return Qe;Mv=1;var n=typeof Symbol=="function"&&Symbol.for,e=n?Symbol.for("react.element"):60103,t=n?Symbol.for("react.portal"):60106,i=n?Symbol.for("react.fragment"):60107,s=n?Symbol.for("react.strict_mode"):60108,a=n?Symbol.for("react.profiler"):60114,c=n?Symbol.for("react.provider"):60109,f=n?Symbol.for("react.context"):60110,h=n?Symbol.for("react.async_mode"):60111,y=n?Symbol.for("react.concurrent_mode"):60111,_=n?Symbol.for("react.forward_ref"):60112,E=n?Symbol.for("react.suspense"):60113,S=n?Symbol.for("react.suspense_list"):60120,k=n?Symbol.for("react.memo"):60115,N=n?Symbol.for("react.lazy"):60116,O=n?Symbol.for("react.block"):60121,b=n?Symbol.for("react.fundamental"):60117,B=n?Symbol.for("react.responder"):60118,H=n?Symbol.for("react.scope"):60119;function W($){if(typeof $=="object"&&$!==null){var te=$.$$typeof;switch(te){case e:switch($=$.type,$){case h:case y:case i:case a:case s:case E:return $;default:switch($=$&&$.$$typeof,$){case f:case _:case N:case k:case c:return $;default:return te}}case t:return te}}}function Q($){return W($)===y}return Qe.AsyncMode=h,Qe.ConcurrentMode=y,Qe.ContextConsumer=f,Qe.ContextProvider=c,Qe.Element=e,Qe.ForwardRef=_,Qe.Fragment=i,Qe.Lazy=N,Qe.Memo=k,Qe.Portal=t,Qe.Profiler=a,Qe.StrictMode=s,Qe.Suspense=E,Qe.isAsyncMode=function($){return Q($)||W($)===h},Qe.isConcurrentMode=Q,Qe.isContextConsumer=function($){return W($)===f},Qe.isContextProvider=function($){return W($)===c},Qe.isElement=function($){return typeof $=="object"&&$!==null&&$.$$typeof===e},Qe.isForwardRef=function($){return W($)===_},Qe.isFragment=function($){return W($)===i},Qe.isLazy=function($){return W($)===N},Qe.isMemo=function($){return W($)===k},Qe.isPortal=function($){return W($)===t},Qe.isProfiler=function($){return W($)===a},Qe.isStrictMode=function($){return W($)===s},Qe.isSuspense=function($){return W($)===E},Qe.isValidElementType=function($){return typeof $=="string"||typeof $=="function"||$===i||$===y||$===a||$===s||$===E||$===S||typeof $=="object"&&$!==null&&($.$$typeof===N||$.$$typeof===k||$.$$typeof===c||$.$$typeof===f||$.$$typeof===_||$.$$typeof===b||$.$$typeof===B||$.$$typeof===H||$.$$typeof===O)},Qe.typeOf=W,Qe}var Fv;function Ok(){return Fv||(Fv=1,rf.exports=bk()),rf.exports}var sf,Uv;function xk(){if(Uv)return sf;Uv=1;var n=Ok(),e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},t={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},i={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},a={};a[n.ForwardRef]=i,a[n.Memo]=s;function c(N){return n.isMemo(N)?s:a[N.$$typeof]||e}var f=Object.defineProperty,h=Object.getOwnPropertyNames,y=Object.getOwnPropertySymbols,_=Object.getOwnPropertyDescriptor,E=Object.getPrototypeOf,S=Object.prototype;function k(N,O,b){if(typeof O!="string"){if(S){var B=E(O);B&&B!==S&&k(N,B,b)}var H=h(O);y&&(H=H.concat(y(O)));for(var W=c(N),Q=c(O),$=0;$<H.length;++$){var te=H[$];if(!t[te]&&!(b&&b[te])&&!(Q&&Q[te])&&!(W&&W[te])){var C=_(O,te);try{f(N,te,C)}catch{}}}}return N}return sf=k,sf}xk();var Dk=!0;function Vk(n,e,t){var i="";return t.split(" ").forEach(function(s){n[s]!==void 0?e.push(n[s]+";"):s&&(i+=s+" ")}),i}var jE=function(e,t,i){var s=e.key+"-"+t.name;(i===!1||Dk===!1)&&e.registered[s]===void 0&&(e.registered[s]=t.styles)},Nk=function(e,t,i){jE(e,t,i);var s=e.key+"-"+t.name;if(e.inserted[t.name]===void 0){var a=t;do e.insert(t===a?"."+s:"",a,e.sheet,!0),a=a.next;while(a!==void 0)}};function Lk(n){for(var e=0,t,i=0,s=n.length;s>=4;++i,s-=4)t=n.charCodeAt(i)&255|(n.charCodeAt(++i)&255)<<8|(n.charCodeAt(++i)&255)<<16|(n.charCodeAt(++i)&255)<<24,t=(t&65535)*1540483477+((t>>>16)*59797<<16),t^=t>>>24,e=(t&65535)*1540483477+((t>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(s){case 3:e^=(n.charCodeAt(i+2)&255)<<16;case 2:e^=(n.charCodeAt(i+1)&255)<<8;case 1:e^=n.charCodeAt(i)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var Mk={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Fk=/[A-Z]|^ms/g,Uk=/_EMO_([^_]+?)_([^]*?)_EMO_/g,zE=function(e){return e.charCodeAt(1)===45},jv=function(e){return e!=null&&typeof e!="boolean"},of=Ek(function(n){return zE(n)?n:n.replace(Fk,"-$&").toLowerCase()}),zv=function(e,t){switch(e){case"animation":case"animationName":if(typeof t=="string")return t.replace(Uk,function(i,s,a){return fr={name:s,styles:a,next:fr},s})}return Mk[e]!==1&&!zE(e)&&typeof t=="number"&&t!==0?t+"px":t};function yu(n,e,t){if(t==null)return"";var i=t;if(i.__emotion_styles!==void 0)return i;switch(typeof t){case"boolean":return"";case"object":{var s=t;if(s.anim===1)return fr={name:s.name,styles:s.styles,next:fr},s.name;var a=t;if(a.styles!==void 0){var c=a.next;if(c!==void 0)for(;c!==void 0;)fr={name:c.name,styles:c.styles,next:fr},c=c.next;var f=a.styles+";";return f}return jk(n,e,t)}case"function":{if(n!==void 0){var h=fr,y=t(n);return fr=h,yu(n,e,y)}break}}var _=t;return _}function jk(n,e,t){var i="";if(Array.isArray(t))for(var s=0;s<t.length;s++)i+=yu(n,e,t[s])+";";else for(var a in t){var c=t[a];if(typeof c!="object"){var f=c;jv(f)&&(i+=of(a)+":"+zv(a,f)+";")}else if(Array.isArray(c)&&typeof c[0]=="string"&&e==null)for(var h=0;h<c.length;h++)jv(c[h])&&(i+=of(a)+":"+zv(a,c[h])+";");else{var y=yu(n,e,c);switch(a){case"animation":case"animationName":{i+=of(a)+":"+y+";";break}default:i+=a+"{"+y+"}"}}}return i}var $v=/label:\s*([^\s;{]+)\s*(;|$)/g,fr;function $E(n,e,t){if(n.length===1&&typeof n[0]=="object"&&n[0]!==null&&n[0].styles!==void 0)return n[0];var i=!0,s="";fr=void 0;var a=n[0];if(a==null||a.raw===void 0)i=!1,s+=yu(t,e,a);else{var c=a;s+=c[0]}for(var f=1;f<n.length;f++)if(s+=yu(t,e,n[f]),i){var h=a;s+=h[f]}$v.lastIndex=0;for(var y="",_;(_=$v.exec(s))!==null;)y+="-"+_[1];var E=Lk(s)+y;return{name:E,styles:s,next:fr}}var zk=function(e){return e()},$k=ay.useInsertionEffect?ay.useInsertionEffect:!1,Bk=$k||zk,BE=Y.createContext(typeof HTMLElement<"u"?kk({key:"css"}):null);BE.Provider;var Hk=function(e){return Y.forwardRef(function(t,i){var s=Y.useContext(BE);return e(t,s,i)})},qk=Y.createContext({}),Bp={}.hasOwnProperty,Hf="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",Wk=function(e,t){var i={};for(var s in t)Bp.call(t,s)&&(i[s]=t[s]);return i[Hf]=e,i},Gk=function(e){var t=e.cache,i=e.serialized,s=e.isStringTag;return jE(t,i,s),Bk(function(){return Nk(t,i,s)}),null},Kk=Hk(function(n,e,t){var i=n.css;typeof i=="string"&&e.registered[i]!==void 0&&(i=e.registered[i]);var s=n[Hf],a=[i],c="";typeof n.className=="string"?c=Vk(e.registered,a,n.className):n.className!=null&&(c=n.className+" ");var f=$E(a,void 0,Y.useContext(qk));c+=e.key+"-"+f.name;var h={};for(var y in n)Bp.call(n,y)&&y!=="css"&&y!==Hf&&(h[y]=n[y]);return h.className=c,t&&(h.ref=t),Y.createElement(Y.Fragment,null,Y.createElement(Gk,{cache:e,serialized:f,isStringTag:typeof s=="string"}),Y.createElement(s,h))}),Qk=Kk,ve=function(e,t){var i=arguments;if(t==null||!Bp.call(t,"css"))return Y.createElement.apply(void 0,i);var s=i.length,a=new Array(s);a[0]=Qk,a[1]=Wk(e,t);for(var c=2;c<s;c++)a[c]=i[c];return Y.createElement.apply(null,a)};(function(n){var e;e||(e=n.JSX||(n.JSX={}))})(ve);function Hp(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return $E(e)}function Yk(){var n=Hp.apply(void 0,arguments),e="animation-"+n.name;return{name:e,styles:"@keyframes "+e+"{"+n.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}function Xk(n){if(Array.isArray(n))return n}function Jk(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var i,s,a,c,f=[],h=!0,y=!1;try{if(a=(t=t.call(n)).next,e===0){if(Object(t)!==t)return;h=!1}else for(;!(h=(i=a.call(t)).done)&&(f.push(i.value),f.length!==e);h=!0);}catch(_){y=!0,s=_}finally{try{if(!h&&t.return!=null&&(c=t.return(),Object(c)!==c))return}finally{if(y)throw s}}return f}}function Zk(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hr(n,e){return Xk(n)||Jk(n,e)||xE(n,e)||Zk()}function eb(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}function Er(n,e){if(n==null)return{};var t,i,s=eb(n,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(i=0;i<a.length;i++)t=a[i],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(s[t]=n[t])}return s}function tb(n,e){return e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}}))}var nb=c_();const rb=Math.min,ib=Math.max,Vc=Math.round,Zl=Math.floor,Nc=n=>({x:n,y:n});function sb(n){const{x:e,y:t,width:i,height:s}=n;return{width:i,height:s,top:t,left:e,right:e+i,bottom:t+s,x:e,y:t}}function fd(){return typeof window<"u"}function HE(n){return WE(n)?(n.nodeName||"").toLowerCase():"#document"}function Qr(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function qE(n){var e;return(e=(WE(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function WE(n){return fd()?n instanceof Node||n instanceof Qr(n).Node:!1}function ob(n){return fd()?n instanceof Element||n instanceof Qr(n).Element:!1}function qp(n){return fd()?n instanceof HTMLElement||n instanceof Qr(n).HTMLElement:!1}function Bv(n){return!fd()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof Qr(n).ShadowRoot}function GE(n){const{overflow:e,overflowX:t,overflowY:i,display:s}=Wp(n);return/auto|scroll|overlay|hidden|clip/.test(e+i+t)&&!["inline","contents"].includes(s)}function ab(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function ub(n){return["html","body","#document"].includes(HE(n))}function Wp(n){return Qr(n).getComputedStyle(n)}function lb(n){if(HE(n)==="html")return n;const e=n.assignedSlot||n.parentNode||Bv(n)&&n.host||qE(n);return Bv(e)?e.host:e}function KE(n){const e=lb(n);return ub(e)?n.ownerDocument?n.ownerDocument.body:n.body:qp(e)&&GE(e)?e:KE(e)}function Lc(n,e,t){var i;e===void 0&&(e=[]),t===void 0&&(t=!0);const s=KE(n),a=s===((i=n.ownerDocument)==null?void 0:i.body),c=Qr(s);if(a){const f=qf(c);return e.concat(c,c.visualViewport||[],GE(s)?s:[],f&&t?Lc(f):[])}return e.concat(s,Lc(s,[],t))}function qf(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function cb(n){const e=Wp(n);let t=parseFloat(e.width)||0,i=parseFloat(e.height)||0;const s=qp(n),a=s?n.offsetWidth:t,c=s?n.offsetHeight:i,f=Vc(t)!==a||Vc(i)!==c;return f&&(t=a,i=c),{width:t,height:i,$:f}}function Gp(n){return ob(n)?n:n.contextElement}function Hv(n){const e=Gp(n);if(!qp(e))return Nc(1);const t=e.getBoundingClientRect(),{width:i,height:s,$:a}=cb(e);let c=(a?Vc(t.width):t.width)/i,f=(a?Vc(t.height):t.height)/s;return(!c||!Number.isFinite(c))&&(c=1),(!f||!Number.isFinite(f))&&(f=1),{x:c,y:f}}const db=Nc(0);function hb(n){const e=Qr(n);return!ab()||!e.visualViewport?db:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function fb(n,e,t){return!1}function qv(n,e,t,i){e===void 0&&(e=!1);const s=n.getBoundingClientRect(),a=Gp(n);let c=Nc(1);e&&(c=Hv(n));const f=fb()?hb(a):Nc(0);let h=(s.left+f.x)/c.x,y=(s.top+f.y)/c.y,_=s.width/c.x,E=s.height/c.y;if(a){const S=Qr(a),k=i;let N=S,O=qf(N);for(;O&&i&&k!==N;){const b=Hv(O),B=O.getBoundingClientRect(),H=Wp(O),W=B.left+(O.clientLeft+parseFloat(H.paddingLeft))*b.x,Q=B.top+(O.clientTop+parseFloat(H.paddingTop))*b.y;h*=b.x,y*=b.y,_*=b.x,E*=b.y,h+=W,y+=Q,N=Qr(O),O=qf(N)}}return sb({width:_,height:E,x:h,y})}function QE(n,e){return n.x===e.x&&n.y===e.y&&n.width===e.width&&n.height===e.height}function pb(n,e){let t=null,i;const s=qE(n);function a(){var f;clearTimeout(i),(f=t)==null||f.disconnect(),t=null}function c(f,h){f===void 0&&(f=!1),h===void 0&&(h=1),a();const y=n.getBoundingClientRect(),{left:_,top:E,width:S,height:k}=y;if(f||e(),!S||!k)return;const N=Zl(E),O=Zl(s.clientWidth-(_+S)),b=Zl(s.clientHeight-(E+k)),B=Zl(_),W={rootMargin:-N+"px "+-O+"px "+-b+"px "+-B+"px",threshold:ib(0,rb(1,h))||1};let Q=!0;function $(te){const C=te[0].intersectionRatio;if(C!==h){if(!Q)return c();C?c(!1,C):i=setTimeout(()=>{c(!1,1e-7)},1e3)}C===1&&!QE(y,n.getBoundingClientRect())&&c(),Q=!1}try{t=new IntersectionObserver($,{...W,root:s.ownerDocument})}catch{t=new IntersectionObserver($,W)}t.observe(n)}return c(!0),a}function mb(n,e,t,i){i===void 0&&(i={});const{ancestorScroll:s=!0,ancestorResize:a=!0,elementResize:c=typeof ResizeObserver=="function",layoutShift:f=typeof IntersectionObserver=="function",animationFrame:h=!1}=i,y=Gp(n),_=s||a?[...y?Lc(y):[],...Lc(e)]:[];_.forEach(B=>{s&&B.addEventListener("scroll",t,{passive:!0}),a&&B.addEventListener("resize",t)});const E=y&&f?pb(y,t):null;let S=-1,k=null;c&&(k=new ResizeObserver(B=>{let[H]=B;H&&H.target===y&&k&&(k.unobserve(e),cancelAnimationFrame(S),S=requestAnimationFrame(()=>{var W;(W=k)==null||W.observe(e)})),t()}),y&&!h&&k.observe(y),k.observe(e));let N,O=h?qv(n):null;h&&b();function b(){const B=qv(n);O&&!QE(O,B)&&t(),O=B,N=requestAnimationFrame(b)}return t(),()=>{var B;_.forEach(H=>{s&&H.removeEventListener("scroll",t),a&&H.removeEventListener("resize",t)}),E==null||E(),(B=k)==null||B.disconnect(),k=null,h&&cancelAnimationFrame(N)}}var Wf=Y.useLayoutEffect,gb=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],Mc=function(){};function yb(n,e){return e?e[0]==="-"?n+e:n+"__"+e:n}function vb(n,e){for(var t=arguments.length,i=new Array(t>2?t-2:0),s=2;s<t;s++)i[s-2]=arguments[s];var a=[].concat(i);if(e&&n)for(var c in e)e.hasOwnProperty(c)&&e[c]&&a.push("".concat(yb(n,c)));return a.filter(function(f){return f}).map(function(f){return String(f).trim()}).join(" ")}var Fc=function(e){return Rb(e)?e.filter(Boolean):Ts(e)==="object"&&e!==null?[e]:[]},YE=function(e){e.className,e.clearValue,e.cx,e.getStyles,e.getClassNames,e.getValue,e.hasValue,e.isMulti,e.isRtl,e.options,e.selectOption,e.selectProps,e.setValue,e.theme;var t=Er(e,gb);return ye({},t)},ct=function(e,t,i){var s=e.cx,a=e.getStyles,c=e.getClassNames,f=e.className;return{css:a(t,e),className:s(i??{},c(t,e),f)}};function pd(n){return[document.documentElement,document.body,window].indexOf(n)>-1}function _b(n){return pd(n)?window.innerHeight:n.clientHeight}function XE(n){return pd(n)?window.pageYOffset:n.scrollTop}function Uc(n,e){if(pd(n)){window.scrollTo(0,e);return}n.scrollTop=e}function wb(n){var e=getComputedStyle(n),t=e.position==="absolute",i=/(auto|scroll)/;if(e.position==="fixed")return document.documentElement;for(var s=n;s=s.parentElement;)if(e=getComputedStyle(s),!(t&&e.position==="static")&&i.test(e.overflow+e.overflowY+e.overflowX))return s;return document.documentElement}function Eb(n,e,t,i){return t*((n=n/i-1)*n*n+1)+e}function ec(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Mc,s=XE(n),a=e-s,c=10,f=0;function h(){f+=c;var y=Eb(f,s,a,t);Uc(n,y),f<t?window.requestAnimationFrame(h):i(n)}h()}function Wv(n,e){var t=n.getBoundingClientRect(),i=e.getBoundingClientRect(),s=e.offsetHeight/3;i.bottom+s>t.bottom?Uc(n,Math.min(e.offsetTop+e.clientHeight-n.offsetHeight+s,n.scrollHeight)):i.top-s<t.top&&Uc(n,Math.max(e.offsetTop-s,0))}function Ib(n){var e=n.getBoundingClientRect();return{bottom:e.bottom,height:e.height,left:e.left,right:e.right,top:e.top,width:e.width}}function Gv(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}function Tb(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch{return!1}}var JE=!1,Sb={get passive(){return JE=!0}},tc=typeof window<"u"?window:{};tc.addEventListener&&tc.removeEventListener&&(tc.addEventListener("p",Mc,Sb),tc.removeEventListener("p",Mc,!1));var Cb=JE;function Ab(n){return n!=null}function Rb(n){return Array.isArray(n)}function Ja(n,e,t){return n?e:t}var Pb=function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),s=1;s<t;s++)i[s-1]=arguments[s];var a=Object.entries(e).filter(function(c){var f=Hr(c,1),h=f[0];return!i.includes(h)});return a.reduce(function(c,f){var h=Hr(f,2),y=h[0],_=h[1];return c[y]=_,c},{})},kb=["children","innerProps"],bb=["children","innerProps"];function Ob(n){var e=n.maxHeight,t=n.menuEl,i=n.minHeight,s=n.placement,a=n.shouldScroll,c=n.isFixedPosition,f=n.controlHeight,h=wb(t),y={placement:"bottom",maxHeight:e};if(!t||!t.offsetParent)return y;var _=h.getBoundingClientRect(),E=_.height,S=t.getBoundingClientRect(),k=S.bottom,N=S.height,O=S.top,b=t.offsetParent.getBoundingClientRect(),B=b.top,H=c?window.innerHeight:_b(h),W=XE(h),Q=parseInt(getComputedStyle(t).marginBottom,10),$=parseInt(getComputedStyle(t).marginTop,10),te=B-$,C=H-O,T=te+W,A=E-W-O,x=k-H+W+Q,V=W+O-$,M=160;switch(s){case"auto":case"bottom":if(C>=N)return{placement:"bottom",maxHeight:e};if(A>=N&&!c)return a&&ec(h,x,M),{placement:"bottom",maxHeight:e};if(!c&&A>=i||c&&C>=i){a&&ec(h,x,M);var P=c?C-Q:A-Q;return{placement:"bottom",maxHeight:P}}if(s==="auto"||c){var ze=e,De=c?te:T;return De>=i&&(ze=Math.min(De-Q-f,e)),{placement:"top",maxHeight:ze}}if(s==="bottom")return a&&Uc(h,x),{placement:"bottom",maxHeight:e};break;case"top":if(te>=N)return{placement:"top",maxHeight:e};if(T>=N&&!c)return a&&ec(h,V,M),{placement:"top",maxHeight:e};if(!c&&T>=i||c&&te>=i){var Ne=e;return(!c&&T>=i||c&&te>=i)&&(Ne=c?te-$:T-$),a&&ec(h,V,M),{placement:"top",maxHeight:Ne}}return{placement:"bottom",maxHeight:e};default:throw new Error('Invalid placement provided "'.concat(s,'".'))}return y}function xb(n){var e={bottom:"top",top:"bottom"};return n?e[n]:"bottom"}var ZE=function(e){return e==="auto"?"bottom":e},Db=function(e,t){var i,s=e.placement,a=e.theme,c=a.borderRadius,f=a.spacing,h=a.colors;return ye((i={label:"menu"},Xa(i,xb(s),"100%"),Xa(i,"position","absolute"),Xa(i,"width","100%"),Xa(i,"zIndex",1),i),t?{}:{backgroundColor:h.neutral0,borderRadius:c,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:f.menuGutter,marginTop:f.menuGutter})},eI=Y.createContext(null),Vb=function(e){var t=e.children,i=e.minMenuHeight,s=e.maxMenuHeight,a=e.menuPlacement,c=e.menuPosition,f=e.menuShouldScrollIntoView,h=e.theme,y=Y.useContext(eI)||{},_=y.setPortalPlacement,E=Y.useRef(null),S=Y.useState(s),k=Hr(S,2),N=k[0],O=k[1],b=Y.useState(null),B=Hr(b,2),H=B[0],W=B[1],Q=h.spacing.controlHeight;return Wf(function(){var $=E.current;if($){var te=c==="fixed",C=f&&!te,T=Ob({maxHeight:s,menuEl:$,minHeight:i,placement:a,shouldScroll:C,isFixedPosition:te,controlHeight:Q});O(T.maxHeight),W(T.placement),_==null||_(T.placement)}},[s,a,c,f,i,_,Q]),t({ref:E,placerProps:ye(ye({},e),{},{placement:H||ZE(a),maxHeight:N})})},Nb=function(e){var t=e.children,i=e.innerRef,s=e.innerProps;return ve("div",Ie({},ct(e,"menu",{menu:!0}),{ref:i},s),t)},Lb=Nb,Mb=function(e,t){var i=e.maxHeight,s=e.theme.spacing.baseUnit;return ye({maxHeight:i,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},t?{}:{paddingBottom:s,paddingTop:s})},Fb=function(e){var t=e.children,i=e.innerProps,s=e.innerRef,a=e.isMulti;return ve("div",Ie({},ct(e,"menuList",{"menu-list":!0,"menu-list--is-multi":a}),{ref:s},i),t)},tI=function(e,t){var i=e.theme,s=i.spacing.baseUnit,a=i.colors;return ye({textAlign:"center"},t?{}:{color:a.neutral40,padding:"".concat(s*2,"px ").concat(s*3,"px")})},Ub=tI,jb=tI,zb=function(e){var t=e.children,i=t===void 0?"No options":t,s=e.innerProps,a=Er(e,kb);return ve("div",Ie({},ct(ye(ye({},a),{},{children:i,innerProps:s}),"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),s),i)},$b=function(e){var t=e.children,i=t===void 0?"Loading...":t,s=e.innerProps,a=Er(e,bb);return ve("div",Ie({},ct(ye(ye({},a),{},{children:i,innerProps:s}),"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),s),i)},Bb=function(e){var t=e.rect,i=e.offset,s=e.position;return{left:t.left,position:s,top:i,width:t.width,zIndex:1}},Hb=function(e){var t=e.appendTo,i=e.children,s=e.controlElement,a=e.innerProps,c=e.menuPlacement,f=e.menuPosition,h=Y.useRef(null),y=Y.useRef(null),_=Y.useState(ZE(c)),E=Hr(_,2),S=E[0],k=E[1],N=Y.useMemo(function(){return{setPortalPlacement:k}},[]),O=Y.useState(null),b=Hr(O,2),B=b[0],H=b[1],W=Y.useCallback(function(){if(s){var C=Ib(s),T=f==="fixed"?0:window.pageYOffset,A=C[S]+T;(A!==(B==null?void 0:B.offset)||C.left!==(B==null?void 0:B.rect.left)||C.width!==(B==null?void 0:B.rect.width))&&H({offset:A,rect:C})}},[s,f,S,B==null?void 0:B.offset,B==null?void 0:B.rect.left,B==null?void 0:B.rect.width]);Wf(function(){W()},[W]);var Q=Y.useCallback(function(){typeof y.current=="function"&&(y.current(),y.current=null),s&&h.current&&(y.current=mb(s,h.current,W,{elementResize:"ResizeObserver"in window}))},[s,W]);Wf(function(){Q()},[Q]);var $=Y.useCallback(function(C){h.current=C,Q()},[Q]);if(!t&&f!=="fixed"||!B)return null;var te=ve("div",Ie({ref:$},ct(ye(ye({},e),{},{offset:B.offset,position:f,rect:B.rect}),"menuPortal",{"menu-portal":!0}),a),i);return ve(eI.Provider,{value:N},t?nb.createPortal(te,t):te)},qb=function(e){var t=e.isDisabled,i=e.isRtl;return{label:"container",direction:i?"rtl":void 0,pointerEvents:t?"none":void 0,position:"relative"}},Wb=function(e){var t=e.children,i=e.innerProps,s=e.isDisabled,a=e.isRtl;return ve("div",Ie({},ct(e,"container",{"--is-disabled":s,"--is-rtl":a}),i),t)},Gb=function(e,t){var i=e.theme.spacing,s=e.isMulti,a=e.hasValue,c=e.selectProps.controlShouldRenderValue;return ye({alignItems:"center",display:s&&a&&c?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},t?{}:{padding:"".concat(i.baseUnit/2,"px ").concat(i.baseUnit*2,"px")})},Kb=function(e){var t=e.children,i=e.innerProps,s=e.isMulti,a=e.hasValue;return ve("div",Ie({},ct(e,"valueContainer",{"value-container":!0,"value-container--is-multi":s,"value-container--has-value":a}),i),t)},Qb=function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},Yb=function(e){var t=e.children,i=e.innerProps;return ve("div",Ie({},ct(e,"indicatorsContainer",{indicators:!0}),i),t)},Kv,Xb=["size"],Jb=["innerProps","isRtl","size"],Zb={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},nI=function(e){var t=e.size,i=Er(e,Xb);return ve("svg",Ie({height:t,width:t,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:Zb},i))},Kp=function(e){return ve(nI,Ie({size:20},e),ve("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},rI=function(e){return ve(nI,Ie({size:20},e),ve("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},iI=function(e,t){var i=e.isFocused,s=e.theme,a=s.spacing.baseUnit,c=s.colors;return ye({label:"indicatorContainer",display:"flex",transition:"color 150ms"},t?{}:{color:i?c.neutral60:c.neutral20,padding:a*2,":hover":{color:i?c.neutral80:c.neutral40}})},eO=iI,tO=function(e){var t=e.children,i=e.innerProps;return ve("div",Ie({},ct(e,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),i),t||ve(rI,null))},nO=iI,rO=function(e){var t=e.children,i=e.innerProps;return ve("div",Ie({},ct(e,"clearIndicator",{indicator:!0,"clear-indicator":!0}),i),t||ve(Kp,null))},iO=function(e,t){var i=e.isDisabled,s=e.theme,a=s.spacing.baseUnit,c=s.colors;return ye({label:"indicatorSeparator",alignSelf:"stretch",width:1},t?{}:{backgroundColor:i?c.neutral10:c.neutral20,marginBottom:a*2,marginTop:a*2})},sO=function(e){var t=e.innerProps;return ve("span",Ie({},t,ct(e,"indicatorSeparator",{"indicator-separator":!0})))},oO=Yk(Kv||(Kv=tb([`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`]))),aO=function(e,t){var i=e.isFocused,s=e.size,a=e.theme,c=a.colors,f=a.spacing.baseUnit;return ye({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:s,lineHeight:1,marginRight:s,textAlign:"center",verticalAlign:"middle"},t?{}:{color:i?c.neutral60:c.neutral20,padding:f*2})},af=function(e){var t=e.delay,i=e.offset;return ve("span",{css:Hp({animation:"".concat(oO," 1s ease-in-out ").concat(t,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:i?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},uO=function(e){var t=e.innerProps,i=e.isRtl,s=e.size,a=s===void 0?4:s,c=Er(e,Jb);return ve("div",Ie({},ct(ye(ye({},c),{},{innerProps:t,isRtl:i,size:a}),"loadingIndicator",{indicator:!0,"loading-indicator":!0}),t),ve(af,{delay:0,offset:i}),ve(af,{delay:160,offset:!0}),ve(af,{delay:320,offset:!i}))},lO=function(e,t){var i=e.isDisabled,s=e.isFocused,a=e.theme,c=a.colors,f=a.borderRadius,h=a.spacing;return ye({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:h.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},t?{}:{backgroundColor:i?c.neutral5:c.neutral0,borderColor:i?c.neutral10:s?c.primary:c.neutral20,borderRadius:f,borderStyle:"solid",borderWidth:1,boxShadow:s?"0 0 0 1px ".concat(c.primary):void 0,"&:hover":{borderColor:s?c.primary:c.neutral30}})},cO=function(e){var t=e.children,i=e.isDisabled,s=e.isFocused,a=e.innerRef,c=e.innerProps,f=e.menuIsOpen;return ve("div",Ie({ref:a},ct(e,"control",{control:!0,"control--is-disabled":i,"control--is-focused":s,"control--menu-is-open":f}),c,{"aria-disabled":i||void 0}),t)},dO=cO,hO=["data"],fO=function(e,t){var i=e.theme.spacing;return t?{}:{paddingBottom:i.baseUnit*2,paddingTop:i.baseUnit*2}},pO=function(e){var t=e.children,i=e.cx,s=e.getStyles,a=e.getClassNames,c=e.Heading,f=e.headingProps,h=e.innerProps,y=e.label,_=e.theme,E=e.selectProps;return ve("div",Ie({},ct(e,"group",{group:!0}),h),ve(c,Ie({},f,{selectProps:E,theme:_,getStyles:s,getClassNames:a,cx:i}),y),ve("div",null,t))},mO=function(e,t){var i=e.theme,s=i.colors,a=i.spacing;return ye({label:"group",cursor:"default",display:"block"},t?{}:{color:s.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:a.baseUnit*3,paddingRight:a.baseUnit*3,textTransform:"uppercase"})},gO=function(e){var t=YE(e);t.data;var i=Er(t,hO);return ve("div",Ie({},ct(e,"groupHeading",{"group-heading":!0}),i))},yO=pO,vO=["innerRef","isDisabled","isHidden","inputClassName"],_O=function(e,t){var i=e.isDisabled,s=e.value,a=e.theme,c=a.spacing,f=a.colors;return ye(ye({visibility:i?"hidden":"visible",transform:s?"translateZ(0)":""},wO),t?{}:{margin:c.baseUnit/2,paddingBottom:c.baseUnit/2,paddingTop:c.baseUnit/2,color:f.neutral80})},sI={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},wO={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":ye({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},sI)},EO=function(e){return ye({label:"input",color:"inherit",background:0,opacity:e?0:1,width:"100%"},sI)},IO=function(e){var t=e.cx,i=e.value,s=YE(e),a=s.innerRef,c=s.isDisabled,f=s.isHidden,h=s.inputClassName,y=Er(s,vO);return ve("div",Ie({},ct(e,"input",{"input-container":!0}),{"data-value":i||""}),ve("input",Ie({className:t({input:!0},h),ref:a,style:EO(f),disabled:c},y)))},TO=IO,SO=function(e,t){var i=e.theme,s=i.spacing,a=i.borderRadius,c=i.colors;return ye({label:"multiValue",display:"flex",minWidth:0},t?{}:{backgroundColor:c.neutral10,borderRadius:a/2,margin:s.baseUnit/2})},CO=function(e,t){var i=e.theme,s=i.borderRadius,a=i.colors,c=e.cropWithEllipsis;return ye({overflow:"hidden",textOverflow:c||c===void 0?"ellipsis":void 0,whiteSpace:"nowrap"},t?{}:{borderRadius:s/2,color:a.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},AO=function(e,t){var i=e.theme,s=i.spacing,a=i.borderRadius,c=i.colors,f=e.isFocused;return ye({alignItems:"center",display:"flex"},t?{}:{borderRadius:a/2,backgroundColor:f?c.dangerLight:void 0,paddingLeft:s.baseUnit,paddingRight:s.baseUnit,":hover":{backgroundColor:c.dangerLight,color:c.danger}})},oI=function(e){var t=e.children,i=e.innerProps;return ve("div",i,t)},RO=oI,PO=oI;function kO(n){var e=n.children,t=n.innerProps;return ve("div",Ie({role:"button"},t),e||ve(Kp,{size:14}))}var bO=function(e){var t=e.children,i=e.components,s=e.data,a=e.innerProps,c=e.isDisabled,f=e.removeProps,h=e.selectProps,y=i.Container,_=i.Label,E=i.Remove;return ve(y,{data:s,innerProps:ye(ye({},ct(e,"multiValue",{"multi-value":!0,"multi-value--is-disabled":c})),a),selectProps:h},ve(_,{data:s,innerProps:ye({},ct(e,"multiValueLabel",{"multi-value__label":!0})),selectProps:h},t),ve(E,{data:s,innerProps:ye(ye({},ct(e,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(t||"option")},f),selectProps:h}))},OO=bO,xO=function(e,t){var i=e.isDisabled,s=e.isFocused,a=e.isSelected,c=e.theme,f=c.spacing,h=c.colors;return ye({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},t?{}:{backgroundColor:a?h.primary:s?h.primary25:"transparent",color:i?h.neutral20:a?h.neutral0:"inherit",padding:"".concat(f.baseUnit*2,"px ").concat(f.baseUnit*3,"px"),":active":{backgroundColor:i?void 0:a?h.primary:h.primary50}})},DO=function(e){var t=e.children,i=e.isDisabled,s=e.isFocused,a=e.isSelected,c=e.innerRef,f=e.innerProps;return ve("div",Ie({},ct(e,"option",{option:!0,"option--is-disabled":i,"option--is-focused":s,"option--is-selected":a}),{ref:c,"aria-disabled":i},f),t)},VO=DO,NO=function(e,t){var i=e.theme,s=i.spacing,a=i.colors;return ye({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},t?{}:{color:a.neutral50,marginLeft:s.baseUnit/2,marginRight:s.baseUnit/2})},LO=function(e){var t=e.children,i=e.innerProps;return ve("div",Ie({},ct(e,"placeholder",{placeholder:!0}),i),t)},MO=LO,FO=function(e,t){var i=e.isDisabled,s=e.theme,a=s.spacing,c=s.colors;return ye({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},t?{}:{color:i?c.neutral40:c.neutral80,marginLeft:a.baseUnit/2,marginRight:a.baseUnit/2})},UO=function(e){var t=e.children,i=e.isDisabled,s=e.innerProps;return ve("div",Ie({},ct(e,"singleValue",{"single-value":!0,"single-value--is-disabled":i}),s),t)},jO=UO,zO={ClearIndicator:rO,Control:dO,DropdownIndicator:tO,DownChevron:rI,CrossIcon:Kp,Group:yO,GroupHeading:gO,IndicatorsContainer:Yb,IndicatorSeparator:sO,Input:TO,LoadingIndicator:uO,Menu:Lb,MenuList:Fb,MenuPortal:Hb,LoadingMessage:$b,NoOptionsMessage:zb,MultiValue:OO,MultiValueContainer:RO,MultiValueLabel:PO,MultiValueRemove:kO,Option:VO,Placeholder:MO,SelectContainer:Wb,SingleValue:jO,ValueContainer:Kb},$O=function(e){return ye(ye({},zO),e.components)},Qv=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function BO(n,e){return!!(n===e||Qv(n)&&Qv(e))}function HO(n,e){if(n.length!==e.length)return!1;for(var t=0;t<n.length;t++)if(!BO(n[t],e[t]))return!1;return!0}function qO(n,e){e===void 0&&(e=HO);var t=null;function i(){for(var s=[],a=0;a<arguments.length;a++)s[a]=arguments[a];if(t&&t.lastThis===this&&e(s,t.lastArgs))return t.lastResult;var c=n.apply(this,s);return t={lastResult:c,lastArgs:s,lastThis:this},c}return i.clear=function(){t=null},i}var WO={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},GO=function(e){return ve("span",Ie({css:WO},e))},Yv=GO,KO={guidance:function(e){var t=e.isSearchable,i=e.isMulti,s=e.tabSelectsValue,a=e.context,c=e.isInitialFocus;switch(a){case"menu":return"Use Up and Down to choose options, press Enter to select the currently focused option, press Escape to exit the menu".concat(s?", press Tab to select the option and exit the menu":"",".");case"input":return c?"".concat(e["aria-label"]||"Select"," is focused ").concat(t?",type to refine list":"",", press Down to open the menu, ").concat(i?" press left to focus selected values":""):"";case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(e){var t=e.action,i=e.label,s=i===void 0?"":i,a=e.labels,c=e.isDisabled;switch(t){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(s,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(a.length>1?"s":""," ").concat(a.join(","),", selected.");case"select-option":return c?"option ".concat(s," is disabled. Select another option."):"option ".concat(s,", selected.");default:return""}},onFocus:function(e){var t=e.context,i=e.focused,s=e.options,a=e.label,c=a===void 0?"":a,f=e.selectValue,h=e.isDisabled,y=e.isSelected,_=e.isAppleDevice,E=function(O,b){return O&&O.length?"".concat(O.indexOf(b)+1," of ").concat(O.length):""};if(t==="value"&&f)return"value ".concat(c," focused, ").concat(E(f,i),".");if(t==="menu"&&_){var S=h?" disabled":"",k="".concat(y?" selected":"").concat(S);return"".concat(c).concat(k,", ").concat(E(s,i),".")}return""},onFilter:function(e){var t=e.inputValue,i=e.resultsMessage;return"".concat(i).concat(t?" for search term "+t:"",".")}},QO=function(e){var t=e.ariaSelection,i=e.focusedOption,s=e.focusedValue,a=e.focusableOptions,c=e.isFocused,f=e.selectValue,h=e.selectProps,y=e.id,_=e.isAppleDevice,E=h.ariaLiveMessages,S=h.getOptionLabel,k=h.inputValue,N=h.isMulti,O=h.isOptionDisabled,b=h.isSearchable,B=h.menuIsOpen,H=h.options,W=h.screenReaderStatus,Q=h.tabSelectsValue,$=h.isLoading,te=h["aria-label"],C=h["aria-live"],T=Y.useMemo(function(){return ye(ye({},KO),E||{})},[E]),A=Y.useMemo(function(){var De="";if(t&&T.onChange){var Ne=t.option,Ve=t.options,ie=t.removedValue,pe=t.removedValues,ae=t.value,F=function(Oe){return Array.isArray(Oe)?null:Oe},K=ie||Ne||F(ae),ue=K?S(K):"",Te=Ve||pe||void 0,Ce=Te?Te.map(S):[],Pe=ye({isDisabled:K&&O(K,f),label:ue,labels:Ce},t);De=T.onChange(Pe)}return De},[t,T,O,f,S]),x=Y.useMemo(function(){var De="",Ne=i||s,Ve=!!(i&&f&&f.includes(i));if(Ne&&T.onFocus){var ie={focused:Ne,label:S(Ne),isDisabled:O(Ne,f),isSelected:Ve,options:a,context:Ne===i?"menu":"value",selectValue:f,isAppleDevice:_};De=T.onFocus(ie)}return De},[i,s,S,O,T,a,f,_]),V=Y.useMemo(function(){var De="";if(B&&H.length&&!$&&T.onFilter){var Ne=W({count:a.length});De=T.onFilter({inputValue:k,resultsMessage:Ne})}return De},[a,k,B,T,H,W,$]),M=(t==null?void 0:t.action)==="initial-input-focus",P=Y.useMemo(function(){var De="";if(T.guidance){var Ne=s?"value":B?"menu":"input";De=T.guidance({"aria-label":te,context:Ne,isDisabled:i&&O(i,f),isMulti:N,isSearchable:b,tabSelectsValue:Q,isInitialFocus:M})}return De},[te,i,s,N,O,b,B,T,f,Q,M]),ze=ve(Y.Fragment,null,ve("span",{id:"aria-selection"},A),ve("span",{id:"aria-focused"},x),ve("span",{id:"aria-results"},V),ve("span",{id:"aria-guidance"},P));return ve(Y.Fragment,null,ve(Yv,{id:y},M&&ze),ve(Yv,{"aria-live":C,"aria-atomic":"false","aria-relevant":"additions text",role:"log"},c&&!M&&ze))},YO=QO,Gf=[{base:"A",letters:"A"},{base:"AA",letters:""},{base:"AE",letters:""},{base:"AO",letters:""},{base:"AU",letters:""},{base:"AV",letters:""},{base:"AY",letters:""},{base:"B",letters:"B"},{base:"C",letters:"C"},{base:"D",letters:"D"},{base:"DZ",letters:""},{base:"Dz",letters:""},{base:"E",letters:"E"},{base:"F",letters:"F"},{base:"G",letters:"G"},{base:"H",letters:"H"},{base:"I",letters:"I"},{base:"J",letters:"J"},{base:"K",letters:"K"},{base:"L",letters:"L"},{base:"LJ",letters:""},{base:"Lj",letters:""},{base:"M",letters:"M"},{base:"N",letters:"N"},{base:"NJ",letters:""},{base:"Nj",letters:""},{base:"O",letters:"O"},{base:"OI",letters:""},{base:"OO",letters:""},{base:"OU",letters:""},{base:"P",letters:"P"},{base:"Q",letters:"Q"},{base:"R",letters:"R"},{base:"S",letters:"S"},{base:"T",letters:"T"},{base:"TZ",letters:""},{base:"U",letters:"U"},{base:"V",letters:"V"},{base:"VY",letters:""},{base:"W",letters:"W"},{base:"X",letters:"X"},{base:"Y",letters:"Y"},{base:"Z",letters:"Z"},{base:"a",letters:"a"},{base:"aa",letters:""},{base:"ae",letters:""},{base:"ao",letters:""},{base:"au",letters:""},{base:"av",letters:""},{base:"ay",letters:""},{base:"b",letters:"b"},{base:"c",letters:"c"},{base:"d",letters:"d"},{base:"dz",letters:""},{base:"e",letters:"e"},{base:"f",letters:"f"},{base:"g",letters:"g"},{base:"h",letters:"h"},{base:"hv",letters:""},{base:"i",letters:"i"},{base:"j",letters:"j"},{base:"k",letters:"k"},{base:"l",letters:"l"},{base:"lj",letters:""},{base:"m",letters:"m"},{base:"n",letters:"n"},{base:"nj",letters:""},{base:"o",letters:"o"},{base:"oi",letters:""},{base:"ou",letters:""},{base:"oo",letters:""},{base:"p",letters:"p"},{base:"q",letters:"q"},{base:"r",letters:"r"},{base:"s",letters:"s"},{base:"t",letters:"t"},{base:"tz",letters:""},{base:"u",letters:"u"},{base:"v",letters:"v"},{base:"vy",letters:""},{base:"w",letters:"w"},{base:"x",letters:"x"},{base:"y",letters:"y"},{base:"z",letters:"z"}],XO=new RegExp("["+Gf.map(function(n){return n.letters}).join("")+"]","g"),aI={};for(var uf=0;uf<Gf.length;uf++)for(var lf=Gf[uf],cf=0;cf<lf.letters.length;cf++)aI[lf.letters[cf]]=lf.base;var uI=function(e){return e.replace(XO,function(t){return aI[t]})},JO=qO(uI),Xv=function(e){return e.replace(/^\s+|\s+$/g,"")},ZO=function(e){return"".concat(e.label," ").concat(e.value)},ex=function(e){return function(t,i){if(t.data.__isNew__)return!0;var s=ye({ignoreCase:!0,ignoreAccents:!0,stringify:ZO,trim:!0,matchFrom:"any"},e),a=s.ignoreCase,c=s.ignoreAccents,f=s.stringify,h=s.trim,y=s.matchFrom,_=h?Xv(i):i,E=h?Xv(f(t)):f(t);return a&&(_=_.toLowerCase(),E=E.toLowerCase()),c&&(_=JO(_),E=uI(E)),y==="start"?E.substr(0,_.length)===_:E.indexOf(_)>-1}},tx=["innerRef"];function nx(n){var e=n.innerRef,t=Er(n,tx),i=Pb(t,"onExited","in","enter","exit","appear");return ve("input",Ie({ref:e},i,{css:Hp({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var rx=function(e){e.cancelable&&e.preventDefault(),e.stopPropagation()};function ix(n){var e=n.isEnabled,t=n.onBottomArrive,i=n.onBottomLeave,s=n.onTopArrive,a=n.onTopLeave,c=Y.useRef(!1),f=Y.useRef(!1),h=Y.useRef(0),y=Y.useRef(null),_=Y.useCallback(function(b,B){if(y.current!==null){var H=y.current,W=H.scrollTop,Q=H.scrollHeight,$=H.clientHeight,te=y.current,C=B>0,T=Q-$-W,A=!1;T>B&&c.current&&(i&&i(b),c.current=!1),C&&f.current&&(a&&a(b),f.current=!1),C&&B>T?(t&&!c.current&&t(b),te.scrollTop=Q,A=!0,c.current=!0):!C&&-B>W&&(s&&!f.current&&s(b),te.scrollTop=0,A=!0,f.current=!0),A&&rx(b)}},[t,i,s,a]),E=Y.useCallback(function(b){_(b,b.deltaY)},[_]),S=Y.useCallback(function(b){h.current=b.changedTouches[0].clientY},[]),k=Y.useCallback(function(b){var B=h.current-b.changedTouches[0].clientY;_(b,B)},[_]),N=Y.useCallback(function(b){if(b){var B=Cb?{passive:!1}:!1;b.addEventListener("wheel",E,B),b.addEventListener("touchstart",S,B),b.addEventListener("touchmove",k,B)}},[k,S,E]),O=Y.useCallback(function(b){b&&(b.removeEventListener("wheel",E,!1),b.removeEventListener("touchstart",S,!1),b.removeEventListener("touchmove",k,!1))},[k,S,E]);return Y.useEffect(function(){if(e){var b=y.current;return N(b),function(){O(b)}}},[e,N,O]),function(b){y.current=b}}var Jv=["boxSizing","height","overflow","paddingRight","position"],Zv={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function e_(n){n.cancelable&&n.preventDefault()}function t_(n){n.stopPropagation()}function n_(){var n=this.scrollTop,e=this.scrollHeight,t=n+this.offsetHeight;n===0?this.scrollTop=1:t===e&&(this.scrollTop=n-1)}function r_(){return"ontouchstart"in window||navigator.maxTouchPoints}var i_=!!(typeof window<"u"&&window.document&&window.document.createElement),Ha=0,_o={capture:!1,passive:!1};function sx(n){var e=n.isEnabled,t=n.accountForScrollbars,i=t===void 0?!0:t,s=Y.useRef({}),a=Y.useRef(null),c=Y.useCallback(function(h){if(i_){var y=document.body,_=y&&y.style;if(i&&Jv.forEach(function(N){var O=_&&_[N];s.current[N]=O}),i&&Ha<1){var E=parseInt(s.current.paddingRight,10)||0,S=document.body?document.body.clientWidth:0,k=window.innerWidth-S+E||0;Object.keys(Zv).forEach(function(N){var O=Zv[N];_&&(_[N]=O)}),_&&(_.paddingRight="".concat(k,"px"))}y&&r_()&&(y.addEventListener("touchmove",e_,_o),h&&(h.addEventListener("touchstart",n_,_o),h.addEventListener("touchmove",t_,_o))),Ha+=1}},[i]),f=Y.useCallback(function(h){if(i_){var y=document.body,_=y&&y.style;Ha=Math.max(Ha-1,0),i&&Ha<1&&Jv.forEach(function(E){var S=s.current[E];_&&(_[E]=S)}),y&&r_()&&(y.removeEventListener("touchmove",e_,_o),h&&(h.removeEventListener("touchstart",n_,_o),h.removeEventListener("touchmove",t_,_o)))}},[i]);return Y.useEffect(function(){if(e){var h=a.current;return c(h),function(){f(h)}}},[e,c,f]),function(h){a.current=h}}var ox=function(e){var t=e.target;return t.ownerDocument.activeElement&&t.ownerDocument.activeElement.blur()},ax={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function ux(n){var e=n.children,t=n.lockEnabled,i=n.captureEnabled,s=i===void 0?!0:i,a=n.onBottomArrive,c=n.onBottomLeave,f=n.onTopArrive,h=n.onTopLeave,y=ix({isEnabled:s,onBottomArrive:a,onBottomLeave:c,onTopArrive:f,onTopLeave:h}),_=sx({isEnabled:t}),E=function(k){y(k),_(k)};return ve(Y.Fragment,null,t&&ve("div",{onClick:ox,css:ax}),e(E))}var lx={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},cx=function(e){var t=e.name,i=e.onFocus;return ve("input",{required:!0,name:t,tabIndex:-1,"aria-hidden":"true",onFocus:i,css:lx,value:"",onChange:function(){}})},dx=cx;function Qp(n){var e;return typeof window<"u"&&window.navigator!=null?n.test(((e=window.navigator.userAgentData)===null||e===void 0?void 0:e.platform)||window.navigator.platform):!1}function hx(){return Qp(/^iPhone/i)}function lI(){return Qp(/^Mac/i)}function fx(){return Qp(/^iPad/i)||lI()&&navigator.maxTouchPoints>1}function px(){return hx()||fx()}function mx(){return lI()||px()}var gx=function(e){return e.label},cI=function(e){return e.label},dI=function(e){return e.value},yx=function(e){return!!e.isDisabled},vx={clearIndicator:nO,container:qb,control:lO,dropdownIndicator:eO,group:fO,groupHeading:mO,indicatorsContainer:Qb,indicatorSeparator:iO,input:_O,loadingIndicator:aO,loadingMessage:jb,menu:Db,menuList:Mb,menuPortal:Bb,multiValue:SO,multiValueLabel:CO,multiValueRemove:AO,noOptionsMessage:Ub,option:xO,placeholder:NO,singleValue:FO,valueContainer:Gb},_x={primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},wx=4,hI=4,Ex=38,Ix=hI*2,Tx={baseUnit:hI,controlHeight:Ex,menuGutter:Ix},df={borderRadius:wx,colors:_x,spacing:Tx},Sx={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:Gv(),captureMenuScroll:!Gv(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:ex(),formatGroupLabel:gx,getOptionLabel:cI,getOptionValue:dI,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:yx,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!Tb(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(e){var t=e.count;return"".concat(t," result").concat(t!==1?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function s_(n,e,t,i){var s=mI(n,e,t),a=gI(n,e,t),c=pI(n,e),f=jc(n,e);return{type:"option",data:e,isDisabled:s,isSelected:a,label:c,value:f,index:i}}function mc(n,e){return n.options.map(function(t,i){if("options"in t){var s=t.options.map(function(c,f){return s_(n,c,e,f)}).filter(function(c){return a_(n,c)});return s.length>0?{type:"group",data:t,options:s,index:i}:void 0}var a=s_(n,t,e,i);return a_(n,a)?a:void 0}).filter(Ab)}function fI(n){return n.reduce(function(e,t){return t.type==="group"?e.push.apply(e,ko(t.options.map(function(i){return i.data}))):e.push(t.data),e},[])}function o_(n,e){return n.reduce(function(t,i){return i.type==="group"?t.push.apply(t,ko(i.options.map(function(s){return{data:s.data,id:"".concat(e,"-").concat(i.index,"-").concat(s.index)}}))):t.push({data:i.data,id:"".concat(e,"-").concat(i.index)}),t},[])}function Cx(n,e){return fI(mc(n,e))}function a_(n,e){var t=n.inputValue,i=t===void 0?"":t,s=e.data,a=e.isSelected,c=e.label,f=e.value;return(!vI(n)||!a)&&yI(n,{label:c,value:f,data:s},i)}function Ax(n,e){var t=n.focusedValue,i=n.selectValue,s=i.indexOf(t);if(s>-1){var a=e.indexOf(t);if(a>-1)return t;if(s<e.length)return e[s]}return null}function Rx(n,e){var t=n.focusedOption;return t&&e.indexOf(t)>-1?t:e[0]}var hf=function(e,t){var i,s=(i=e.find(function(a){return a.data===t}))===null||i===void 0?void 0:i.id;return s||null},pI=function(e,t){return e.getOptionLabel(t)},jc=function(e,t){return e.getOptionValue(t)};function mI(n,e,t){return typeof n.isOptionDisabled=="function"?n.isOptionDisabled(e,t):!1}function gI(n,e,t){if(t.indexOf(e)>-1)return!0;if(typeof n.isOptionSelected=="function")return n.isOptionSelected(e,t);var i=jc(n,e);return t.some(function(s){return jc(n,s)===i})}function yI(n,e,t){return n.filterOption?n.filterOption(e,t):!0}var vI=function(e){var t=e.hideSelectedOptions,i=e.isMulti;return t===void 0?i:t},Px=1,Yp=function(n){G1(t,n);var e=Y1(t);function t(i){var s;if(q1(this,t),s=e.call(this,i),s.state={ariaSelection:null,focusedOption:null,focusedOptionId:null,focusableOptionsWithIds:[],focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0,instancePrefix:""},s.blockOptionHover=!1,s.isComposing=!1,s.commonProps=void 0,s.initialTouchX=0,s.initialTouchY=0,s.openAfterFocus=!1,s.scrollToFocusedOptionOnUpdate=!1,s.userIsDragging=void 0,s.isAppleDevice=mx(),s.controlRef=null,s.getControlRef=function(h){s.controlRef=h},s.focusedOptionRef=null,s.getFocusedOptionRef=function(h){s.focusedOptionRef=h},s.menuListRef=null,s.getMenuListRef=function(h){s.menuListRef=h},s.inputRef=null,s.getInputRef=function(h){s.inputRef=h},s.focus=s.focusInput,s.blur=s.blurInput,s.onChange=function(h,y){var _=s.props,E=_.onChange,S=_.name;y.name=S,s.ariaOnChange(h,y),E(h,y)},s.setValue=function(h,y,_){var E=s.props,S=E.closeMenuOnSelect,k=E.isMulti,N=E.inputValue;s.onInputChange("",{action:"set-value",prevInputValue:N}),S&&(s.setState({inputIsHiddenAfterUpdate:!k}),s.onMenuClose()),s.setState({clearFocusValueOnUpdate:!0}),s.onChange(h,{action:y,option:_})},s.selectOption=function(h){var y=s.props,_=y.blurInputOnSelect,E=y.isMulti,S=y.name,k=s.state.selectValue,N=E&&s.isOptionSelected(h,k),O=s.isOptionDisabled(h,k);if(N){var b=s.getOptionValue(h);s.setValue(k.filter(function(B){return s.getOptionValue(B)!==b}),"deselect-option",h)}else if(!O)E?s.setValue([].concat(ko(k),[h]),"select-option",h):s.setValue(h,"select-option");else{s.ariaOnChange(h,{action:"select-option",option:h,name:S});return}_&&s.blurInput()},s.removeValue=function(h){var y=s.props.isMulti,_=s.state.selectValue,E=s.getOptionValue(h),S=_.filter(function(N){return s.getOptionValue(N)!==E}),k=Ja(y,S,S[0]||null);s.onChange(k,{action:"remove-value",removedValue:h}),s.focusInput()},s.clearValue=function(){var h=s.state.selectValue;s.onChange(Ja(s.props.isMulti,[],null),{action:"clear",removedValues:h})},s.popValue=function(){var h=s.props.isMulti,y=s.state.selectValue,_=y[y.length-1],E=y.slice(0,y.length-1),S=Ja(h,E,E[0]||null);_&&s.onChange(S,{action:"pop-value",removedValue:_})},s.getFocusedOptionId=function(h){return hf(s.state.focusableOptionsWithIds,h)},s.getFocusableOptionsWithIds=function(){return o_(mc(s.props,s.state.selectValue),s.getElementId("option"))},s.getValue=function(){return s.state.selectValue},s.cx=function(){for(var h=arguments.length,y=new Array(h),_=0;_<h;_++)y[_]=arguments[_];return vb.apply(void 0,[s.props.classNamePrefix].concat(y))},s.getOptionLabel=function(h){return pI(s.props,h)},s.getOptionValue=function(h){return jc(s.props,h)},s.getStyles=function(h,y){var _=s.props.unstyled,E=vx[h](y,_);E.boxSizing="border-box";var S=s.props.styles[h];return S?S(E,y):E},s.getClassNames=function(h,y){var _,E;return(_=(E=s.props.classNames)[h])===null||_===void 0?void 0:_.call(E,y)},s.getElementId=function(h){return"".concat(s.state.instancePrefix,"-").concat(h)},s.getComponents=function(){return $O(s.props)},s.buildCategorizedOptions=function(){return mc(s.props,s.state.selectValue)},s.getCategorizedOptions=function(){return s.props.menuIsOpen?s.buildCategorizedOptions():[]},s.buildFocusableOptions=function(){return fI(s.buildCategorizedOptions())},s.getFocusableOptions=function(){return s.props.menuIsOpen?s.buildFocusableOptions():[]},s.ariaOnChange=function(h,y){s.setState({ariaSelection:ye({value:h},y)})},s.onMenuMouseDown=function(h){h.button===0&&(h.stopPropagation(),h.preventDefault(),s.focusInput())},s.onMenuMouseMove=function(h){s.blockOptionHover=!1},s.onControlMouseDown=function(h){if(!h.defaultPrevented){var y=s.props.openMenuOnClick;s.state.isFocused?s.props.menuIsOpen?h.target.tagName!=="INPUT"&&h.target.tagName!=="TEXTAREA"&&s.onMenuClose():y&&s.openMenu("first"):(y&&(s.openAfterFocus=!0),s.focusInput()),h.target.tagName!=="INPUT"&&h.target.tagName!=="TEXTAREA"&&h.preventDefault()}},s.onDropdownIndicatorMouseDown=function(h){if(!(h&&h.type==="mousedown"&&h.button!==0)&&!s.props.isDisabled){var y=s.props,_=y.isMulti,E=y.menuIsOpen;s.focusInput(),E?(s.setState({inputIsHiddenAfterUpdate:!_}),s.onMenuClose()):s.openMenu("first"),h.preventDefault()}},s.onClearIndicatorMouseDown=function(h){h&&h.type==="mousedown"&&h.button!==0||(s.clearValue(),h.preventDefault(),s.openAfterFocus=!1,h.type==="touchend"?s.focusInput():setTimeout(function(){return s.focusInput()}))},s.onScroll=function(h){typeof s.props.closeMenuOnScroll=="boolean"?h.target instanceof HTMLElement&&pd(h.target)&&s.props.onMenuClose():typeof s.props.closeMenuOnScroll=="function"&&s.props.closeMenuOnScroll(h)&&s.props.onMenuClose()},s.onCompositionStart=function(){s.isComposing=!0},s.onCompositionEnd=function(){s.isComposing=!1},s.onTouchStart=function(h){var y=h.touches,_=y&&y.item(0);_&&(s.initialTouchX=_.clientX,s.initialTouchY=_.clientY,s.userIsDragging=!1)},s.onTouchMove=function(h){var y=h.touches,_=y&&y.item(0);if(_){var E=Math.abs(_.clientX-s.initialTouchX),S=Math.abs(_.clientY-s.initialTouchY),k=5;s.userIsDragging=E>k||S>k}},s.onTouchEnd=function(h){s.userIsDragging||(s.controlRef&&!s.controlRef.contains(h.target)&&s.menuListRef&&!s.menuListRef.contains(h.target)&&s.blurInput(),s.initialTouchX=0,s.initialTouchY=0)},s.onControlTouchEnd=function(h){s.userIsDragging||s.onControlMouseDown(h)},s.onClearIndicatorTouchEnd=function(h){s.userIsDragging||s.onClearIndicatorMouseDown(h)},s.onDropdownIndicatorTouchEnd=function(h){s.userIsDragging||s.onDropdownIndicatorMouseDown(h)},s.handleInputChange=function(h){var y=s.props.inputValue,_=h.currentTarget.value;s.setState({inputIsHiddenAfterUpdate:!1}),s.onInputChange(_,{action:"input-change",prevInputValue:y}),s.props.menuIsOpen||s.onMenuOpen()},s.onInputFocus=function(h){s.props.onFocus&&s.props.onFocus(h),s.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(s.openAfterFocus||s.props.openMenuOnFocus)&&s.openMenu("first"),s.openAfterFocus=!1},s.onInputBlur=function(h){var y=s.props.inputValue;if(s.menuListRef&&s.menuListRef.contains(document.activeElement)){s.inputRef.focus();return}s.props.onBlur&&s.props.onBlur(h),s.onInputChange("",{action:"input-blur",prevInputValue:y}),s.onMenuClose(),s.setState({focusedValue:null,isFocused:!1})},s.onOptionHover=function(h){if(!(s.blockOptionHover||s.state.focusedOption===h)){var y=s.getFocusableOptions(),_=y.indexOf(h);s.setState({focusedOption:h,focusedOptionId:_>-1?s.getFocusedOptionId(h):null})}},s.shouldHideSelectedOptions=function(){return vI(s.props)},s.onValueInputFocus=function(h){h.preventDefault(),h.stopPropagation(),s.focus()},s.onKeyDown=function(h){var y=s.props,_=y.isMulti,E=y.backspaceRemovesValue,S=y.escapeClearsValue,k=y.inputValue,N=y.isClearable,O=y.isDisabled,b=y.menuIsOpen,B=y.onKeyDown,H=y.tabSelectsValue,W=y.openMenuOnFocus,Q=s.state,$=Q.focusedOption,te=Q.focusedValue,C=Q.selectValue;if(!O&&!(typeof B=="function"&&(B(h),h.defaultPrevented))){switch(s.blockOptionHover=!0,h.key){case"ArrowLeft":if(!_||k)return;s.focusValue("previous");break;case"ArrowRight":if(!_||k)return;s.focusValue("next");break;case"Delete":case"Backspace":if(k)return;if(te)s.removeValue(te);else{if(!E)return;_?s.popValue():N&&s.clearValue()}break;case"Tab":if(s.isComposing||h.shiftKey||!b||!H||!$||W&&s.isOptionSelected($,C))return;s.selectOption($);break;case"Enter":if(h.keyCode===229)break;if(b){if(!$||s.isComposing)return;s.selectOption($);break}return;case"Escape":b?(s.setState({inputIsHiddenAfterUpdate:!1}),s.onInputChange("",{action:"menu-close",prevInputValue:k}),s.onMenuClose()):N&&S&&s.clearValue();break;case" ":if(k)return;if(!b){s.openMenu("first");break}if(!$)return;s.selectOption($);break;case"ArrowUp":b?s.focusOption("up"):s.openMenu("last");break;case"ArrowDown":b?s.focusOption("down"):s.openMenu("first");break;case"PageUp":if(!b)return;s.focusOption("pageup");break;case"PageDown":if(!b)return;s.focusOption("pagedown");break;case"Home":if(!b)return;s.focusOption("first");break;case"End":if(!b)return;s.focusOption("last");break;default:return}h.preventDefault()}},s.state.instancePrefix="react-select-"+(s.props.instanceId||++Px),s.state.selectValue=Fc(i.value),i.menuIsOpen&&s.state.selectValue.length){var a=s.getFocusableOptionsWithIds(),c=s.buildFocusableOptions(),f=c.indexOf(s.state.selectValue[0]);s.state.focusableOptionsWithIds=a,s.state.focusedOption=c[f],s.state.focusedOptionId=hf(a,c[f])}return s}return W1(t,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&Wv(this.menuListRef,this.focusedOptionRef)}},{key:"componentDidUpdate",value:function(s){var a=this.props,c=a.isDisabled,f=a.menuIsOpen,h=this.state.isFocused;(h&&!c&&s.isDisabled||h&&f&&!s.menuIsOpen)&&this.focusInput(),h&&c&&!s.isDisabled?this.setState({isFocused:!1},this.onMenuClose):!h&&!c&&s.isDisabled&&this.inputRef===document.activeElement&&this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(Wv(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(s,a){this.props.onInputChange(s,a)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(s){var a=this,c=this.state,f=c.selectValue,h=c.isFocused,y=this.buildFocusableOptions(),_=s==="first"?0:y.length-1;if(!this.props.isMulti){var E=y.indexOf(f[0]);E>-1&&(_=E)}this.scrollToFocusedOptionOnUpdate=!(h&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:y[_],focusedOptionId:this.getFocusedOptionId(y[_])},function(){return a.onMenuOpen()})}},{key:"focusValue",value:function(s){var a=this.state,c=a.selectValue,f=a.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var h=c.indexOf(f);f||(h=-1);var y=c.length-1,_=-1;if(c.length){switch(s){case"previous":h===0?_=0:h===-1?_=y:_=h-1;break;case"next":h>-1&&h<y&&(_=h+1);break}this.setState({inputIsHidden:_!==-1,focusedValue:c[_]})}}}},{key:"focusOption",value:function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"first",a=this.props.pageSize,c=this.state.focusedOption,f=this.getFocusableOptions();if(f.length){var h=0,y=f.indexOf(c);c||(y=-1),s==="up"?h=y>0?y-1:f.length-1:s==="down"?h=(y+1)%f.length:s==="pageup"?(h=y-a,h<0&&(h=0)):s==="pagedown"?(h=y+a,h>f.length-1&&(h=f.length-1)):s==="last"&&(h=f.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:f[h],focusedValue:null,focusedOptionId:this.getFocusedOptionId(f[h])})}}},{key:"getTheme",value:function(){return this.props.theme?typeof this.props.theme=="function"?this.props.theme(df):ye(ye({},df),this.props.theme):df}},{key:"getCommonProps",value:function(){var s=this.clearValue,a=this.cx,c=this.getStyles,f=this.getClassNames,h=this.getValue,y=this.selectOption,_=this.setValue,E=this.props,S=E.isMulti,k=E.isRtl,N=E.options,O=this.hasValue();return{clearValue:s,cx:a,getStyles:c,getClassNames:f,getValue:h,hasValue:O,isMulti:S,isRtl:k,options:N,selectOption:y,selectProps:E,setValue:_,theme:this.getTheme()}}},{key:"hasValue",value:function(){var s=this.state.selectValue;return s.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var s=this.props,a=s.isClearable,c=s.isMulti;return a===void 0?c:a}},{key:"isOptionDisabled",value:function(s,a){return mI(this.props,s,a)}},{key:"isOptionSelected",value:function(s,a){return gI(this.props,s,a)}},{key:"filterOption",value:function(s,a){return yI(this.props,s,a)}},{key:"formatOptionLabel",value:function(s,a){if(typeof this.props.formatOptionLabel=="function"){var c=this.props.inputValue,f=this.state.selectValue;return this.props.formatOptionLabel(s,{context:a,inputValue:c,selectValue:f})}else return this.getOptionLabel(s)}},{key:"formatGroupLabel",value:function(s){return this.props.formatGroupLabel(s)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var s=this.props,a=s.isDisabled,c=s.isSearchable,f=s.inputId,h=s.inputValue,y=s.tabIndex,_=s.form,E=s.menuIsOpen,S=s.required,k=this.getComponents(),N=k.Input,O=this.state,b=O.inputIsHidden,B=O.ariaSelection,H=this.commonProps,W=f||this.getElementId("input"),Q=ye(ye(ye({"aria-autocomplete":"list","aria-expanded":E,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":S,role:"combobox","aria-activedescendant":this.isAppleDevice?void 0:this.state.focusedOptionId||""},E&&{"aria-controls":this.getElementId("listbox")}),!c&&{"aria-readonly":!0}),this.hasValue()?(B==null?void 0:B.action)==="initial-input-focus"&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return c?Y.createElement(N,Ie({},H,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:W,innerRef:this.getInputRef,isDisabled:a,isHidden:b,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:y,form:_,type:"text",value:h},Q)):Y.createElement(nx,Ie({id:W,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:Mc,onFocus:this.onInputFocus,disabled:a,tabIndex:y,inputMode:"none",form:_,value:""},Q))}},{key:"renderPlaceholderOrValue",value:function(){var s=this,a=this.getComponents(),c=a.MultiValue,f=a.MultiValueContainer,h=a.MultiValueLabel,y=a.MultiValueRemove,_=a.SingleValue,E=a.Placeholder,S=this.commonProps,k=this.props,N=k.controlShouldRenderValue,O=k.isDisabled,b=k.isMulti,B=k.inputValue,H=k.placeholder,W=this.state,Q=W.selectValue,$=W.focusedValue,te=W.isFocused;if(!this.hasValue()||!N)return B?null:Y.createElement(E,Ie({},S,{key:"placeholder",isDisabled:O,isFocused:te,innerProps:{id:this.getElementId("placeholder")}}),H);if(b)return Q.map(function(T,A){var x=T===$,V="".concat(s.getOptionLabel(T),"-").concat(s.getOptionValue(T));return Y.createElement(c,Ie({},S,{components:{Container:f,Label:h,Remove:y},isFocused:x,isDisabled:O,key:V,index:A,removeProps:{onClick:function(){return s.removeValue(T)},onTouchEnd:function(){return s.removeValue(T)},onMouseDown:function(P){P.preventDefault()}},data:T}),s.formatOptionLabel(T,"value"))});if(B)return null;var C=Q[0];return Y.createElement(_,Ie({},S,{data:C,isDisabled:O}),this.formatOptionLabel(C,"value"))}},{key:"renderClearIndicator",value:function(){var s=this.getComponents(),a=s.ClearIndicator,c=this.commonProps,f=this.props,h=f.isDisabled,y=f.isLoading,_=this.state.isFocused;if(!this.isClearable()||!a||h||!this.hasValue()||y)return null;var E={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return Y.createElement(a,Ie({},c,{innerProps:E,isFocused:_}))}},{key:"renderLoadingIndicator",value:function(){var s=this.getComponents(),a=s.LoadingIndicator,c=this.commonProps,f=this.props,h=f.isDisabled,y=f.isLoading,_=this.state.isFocused;if(!a||!y)return null;var E={"aria-hidden":"true"};return Y.createElement(a,Ie({},c,{innerProps:E,isDisabled:h,isFocused:_}))}},{key:"renderIndicatorSeparator",value:function(){var s=this.getComponents(),a=s.DropdownIndicator,c=s.IndicatorSeparator;if(!a||!c)return null;var f=this.commonProps,h=this.props.isDisabled,y=this.state.isFocused;return Y.createElement(c,Ie({},f,{isDisabled:h,isFocused:y}))}},{key:"renderDropdownIndicator",value:function(){var s=this.getComponents(),a=s.DropdownIndicator;if(!a)return null;var c=this.commonProps,f=this.props.isDisabled,h=this.state.isFocused,y={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return Y.createElement(a,Ie({},c,{innerProps:y,isDisabled:f,isFocused:h}))}},{key:"renderMenu",value:function(){var s=this,a=this.getComponents(),c=a.Group,f=a.GroupHeading,h=a.Menu,y=a.MenuList,_=a.MenuPortal,E=a.LoadingMessage,S=a.NoOptionsMessage,k=a.Option,N=this.commonProps,O=this.state.focusedOption,b=this.props,B=b.captureMenuScroll,H=b.inputValue,W=b.isLoading,Q=b.loadingMessage,$=b.minMenuHeight,te=b.maxMenuHeight,C=b.menuIsOpen,T=b.menuPlacement,A=b.menuPosition,x=b.menuPortalTarget,V=b.menuShouldBlockScroll,M=b.menuShouldScrollIntoView,P=b.noOptionsMessage,ze=b.onMenuScrollToTop,De=b.onMenuScrollToBottom;if(!C)return null;var Ne=function(ue,Te){var Ce=ue.type,Pe=ue.data,xe=ue.isDisabled,Oe=ue.isSelected,We=ue.label,pt=ue.value,In=O===Pe,Ir=xe?void 0:function(){return s.onOptionHover(Pe)},Jn=xe?void 0:function(){return s.selectOption(Pe)},Zn="".concat(s.getElementId("option"),"-").concat(Te),Xr={id:Zn,onClick:Jn,onMouseMove:Ir,onMouseOver:Ir,tabIndex:-1,role:"option","aria-selected":s.isAppleDevice?void 0:Oe};return Y.createElement(k,Ie({},N,{innerProps:Xr,data:Pe,isDisabled:xe,isSelected:Oe,key:Zn,label:We,type:Ce,value:pt,isFocused:In,innerRef:In?s.getFocusedOptionRef:void 0}),s.formatOptionLabel(ue.data,"menu"))},Ve;if(this.hasOptions())Ve=this.getCategorizedOptions().map(function(K){if(K.type==="group"){var ue=K.data,Te=K.options,Ce=K.index,Pe="".concat(s.getElementId("group"),"-").concat(Ce),xe="".concat(Pe,"-heading");return Y.createElement(c,Ie({},N,{key:Pe,data:ue,options:Te,Heading:f,headingProps:{id:xe,data:K.data},label:s.formatGroupLabel(K.data)}),K.options.map(function(Oe){return Ne(Oe,"".concat(Ce,"-").concat(Oe.index))}))}else if(K.type==="option")return Ne(K,"".concat(K.index))});else if(W){var ie=Q({inputValue:H});if(ie===null)return null;Ve=Y.createElement(E,N,ie)}else{var pe=P({inputValue:H});if(pe===null)return null;Ve=Y.createElement(S,N,pe)}var ae={minMenuHeight:$,maxMenuHeight:te,menuPlacement:T,menuPosition:A,menuShouldScrollIntoView:M},F=Y.createElement(Vb,Ie({},N,ae),function(K){var ue=K.ref,Te=K.placerProps,Ce=Te.placement,Pe=Te.maxHeight;return Y.createElement(h,Ie({},N,ae,{innerRef:ue,innerProps:{onMouseDown:s.onMenuMouseDown,onMouseMove:s.onMenuMouseMove},isLoading:W,placement:Ce}),Y.createElement(ux,{captureEnabled:B,onTopArrive:ze,onBottomArrive:De,lockEnabled:V},function(xe){return Y.createElement(y,Ie({},N,{innerRef:function(We){s.getMenuListRef(We),xe(We)},innerProps:{role:"listbox","aria-multiselectable":N.isMulti,id:s.getElementId("listbox")},isLoading:W,maxHeight:Pe,focusedOption:O}),Ve)}))});return x||A==="fixed"?Y.createElement(_,Ie({},N,{appendTo:x,controlElement:this.controlRef,menuPlacement:T,menuPosition:A}),F):F}},{key:"renderFormField",value:function(){var s=this,a=this.props,c=a.delimiter,f=a.isDisabled,h=a.isMulti,y=a.name,_=a.required,E=this.state.selectValue;if(_&&!this.hasValue()&&!f)return Y.createElement(dx,{name:y,onFocus:this.onValueInputFocus});if(!(!y||f))if(h)if(c){var S=E.map(function(O){return s.getOptionValue(O)}).join(c);return Y.createElement("input",{name:y,type:"hidden",value:S})}else{var k=E.length>0?E.map(function(O,b){return Y.createElement("input",{key:"i-".concat(b),name:y,type:"hidden",value:s.getOptionValue(O)})}):Y.createElement("input",{name:y,type:"hidden",value:""});return Y.createElement("div",null,k)}else{var N=E[0]?this.getOptionValue(E[0]):"";return Y.createElement("input",{name:y,type:"hidden",value:N})}}},{key:"renderLiveRegion",value:function(){var s=this.commonProps,a=this.state,c=a.ariaSelection,f=a.focusedOption,h=a.focusedValue,y=a.isFocused,_=a.selectValue,E=this.getFocusableOptions();return Y.createElement(YO,Ie({},s,{id:this.getElementId("live-region"),ariaSelection:c,focusedOption:f,focusedValue:h,isFocused:y,selectValue:_,focusableOptions:E,isAppleDevice:this.isAppleDevice}))}},{key:"render",value:function(){var s=this.getComponents(),a=s.Control,c=s.IndicatorsContainer,f=s.SelectContainer,h=s.ValueContainer,y=this.props,_=y.className,E=y.id,S=y.isDisabled,k=y.menuIsOpen,N=this.state.isFocused,O=this.commonProps=this.getCommonProps();return Y.createElement(f,Ie({},O,{className:_,innerProps:{id:E,onKeyDown:this.onKeyDown},isDisabled:S,isFocused:N}),this.renderLiveRegion(),Y.createElement(a,Ie({},O,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:S,isFocused:N,menuIsOpen:k}),Y.createElement(h,Ie({},O,{isDisabled:S}),this.renderPlaceholderOrValue(),this.renderInput()),Y.createElement(c,Ie({},O,{isDisabled:S}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(s,a){var c=a.prevProps,f=a.clearFocusValueOnUpdate,h=a.inputIsHiddenAfterUpdate,y=a.ariaSelection,_=a.isFocused,E=a.prevWasFocused,S=a.instancePrefix,k=s.options,N=s.value,O=s.menuIsOpen,b=s.inputValue,B=s.isMulti,H=Fc(N),W={};if(c&&(N!==c.value||k!==c.options||O!==c.menuIsOpen||b!==c.inputValue)){var Q=O?Cx(s,H):[],$=O?o_(mc(s,H),"".concat(S,"-option")):[],te=f?Ax(a,H):null,C=Rx(a,Q),T=hf($,C);W={selectValue:H,focusedOption:C,focusedOptionId:T,focusableOptionsWithIds:$,focusedValue:te,clearFocusValueOnUpdate:!1}}var A=h!=null&&s!==c?{inputIsHidden:h,inputIsHiddenAfterUpdate:void 0}:{},x=y,V=_&&E;return _&&!V&&(x={value:Ja(B,H,H[0]||null),options:H,action:"initial-input-focus"},V=!E),(y==null?void 0:y.action)==="initial-input-focus"&&(x=null),ye(ye(ye({},W),A),{},{prevProps:s,ariaSelection:x,prevWasFocused:V})}}]),t}(Y.Component);Yp.defaultProps=Sx;var kx=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];function _I(n){var e=n.defaultInputValue,t=e===void 0?"":e,i=n.defaultMenuIsOpen,s=i===void 0?!1:i,a=n.defaultValue,c=a===void 0?null:a,f=n.inputValue,h=n.menuIsOpen,y=n.onChange,_=n.onInputChange,E=n.onMenuClose,S=n.onMenuOpen,k=n.value,N=Er(n,kx),O=Y.useState(f!==void 0?f:t),b=Hr(O,2),B=b[0],H=b[1],W=Y.useState(h!==void 0?h:s),Q=Hr(W,2),$=Q[0],te=Q[1],C=Y.useState(k!==void 0?k:c),T=Hr(C,2),A=T[0],x=T[1],V=Y.useCallback(function(ie,pe){typeof y=="function"&&y(ie,pe),x(ie)},[y]),M=Y.useCallback(function(ie,pe){var ae;typeof _=="function"&&(ae=_(ie,pe)),H(ae!==void 0?ae:ie)},[_]),P=Y.useCallback(function(){typeof S=="function"&&S(),te(!0)},[S]),ze=Y.useCallback(function(){typeof E=="function"&&E(),te(!1)},[E]),De=f!==void 0?f:B,Ne=h!==void 0?h:$,Ve=k!==void 0?k:A;return ye(ye({},N),{},{inputValue:De,menuIsOpen:Ne,onChange:V,onInputChange:M,onMenuClose:ze,onMenuOpen:P,value:Ve})}var bx=["allowCreateWhileLoading","createOptionPosition","formatCreateLabel","isValidNewOption","getNewOptionData","onCreateOption","options","onChange"],u_=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,i=arguments.length>2?arguments[2]:void 0,s=String(e).toLowerCase(),a=String(i.getOptionValue(t)).toLowerCase(),c=String(i.getOptionLabel(t)).toLowerCase();return a===s||c===s},ff={formatCreateLabel:function(e){return'Create "'.concat(e,'"')},isValidNewOption:function(e,t,i,s){return!(!e||t.some(function(a){return u_(e,a,s)})||i.some(function(a){return u_(e,a,s)}))},getNewOptionData:function(e,t){return{label:t,value:e,__isNew__:!0}}};function Ox(n){var e=n.allowCreateWhileLoading,t=e===void 0?!1:e,i=n.createOptionPosition,s=i===void 0?"last":i,a=n.formatCreateLabel,c=a===void 0?ff.formatCreateLabel:a,f=n.isValidNewOption,h=f===void 0?ff.isValidNewOption:f,y=n.getNewOptionData,_=y===void 0?ff.getNewOptionData:y,E=n.onCreateOption,S=n.options,k=S===void 0?[]:S,N=n.onChange,O=Er(n,bx),b=O.getOptionValue,B=b===void 0?dI:b,H=O.getOptionLabel,W=H===void 0?cI:H,Q=O.inputValue,$=O.isLoading,te=O.isMulti,C=O.value,T=O.name,A=Y.useMemo(function(){return h(Q,Fc(C),k,{getOptionValue:B,getOptionLabel:W})?_(Q,c(Q)):void 0},[c,_,W,B,Q,h,k,C]),x=Y.useMemo(function(){return(t||!$)&&A?s==="first"?[A].concat(ko(k)):[].concat(ko(k),[A]):k},[t,s,$,A,k]),V=Y.useCallback(function(M,P){if(P.action!=="select-option")return N(M,P);var ze=Array.isArray(M)?M:[M];if(ze[ze.length-1]===A){if(E)E(Q);else{var De=_(Q,Q),Ne={action:"create-option",name:T,option:De};N(Ja(te,[].concat(ko(Fc(C)),[De]),De),Ne)}return}N(M,P)},[_,Q,te,T,A,E,N,C]);return ye(ye({},O),{},{options:x,onChange:V})}var xx=Y.forwardRef(function(n,e){var t=_I(n),i=Ox(t);return Y.createElement(Yp,Ie({ref:e},i))}),Dx=xx;const Vx=({addProduct:n,availableTags:e})=>{const[t,i]=Y.useState(""),[s,a]=Y.useState(""),[c,f]=Y.useState(""),[h,y]=Y.useState([]),[_,E]=Y.useState(""),[S,k]=Y.useState(""),N=O=>{O.preventDefault(),n({name:t,notes:s,purchaseDate:c,tags:h,warrantyLength:_,warrantyLengthUnit:S}),i(""),a(""),f(""),y([]),E(""),k("")};return re.jsxs("div",{style:{border:"1px solid black",padding:"0.25rem"},children:[re.jsx("h3",{children:"Add Product"}),re.jsxs("form",{style:{display:"flex",flexDirection:"column",width:"300px",alignItems:"flex-start"},onSubmit:N,children:[re.jsxs("label",{htmlFor:"name",children:["Name",re.jsx("sup",{children:"*"})]}),re.jsx("input",{type:"text",name:"name",required:!0,value:t,onChange:O=>i(O.target.value)}),re.jsx("label",{htmlFor:"purchaseDate",children:"Purchase Date"}),re.jsx("input",{type:"date",name:"purchaseDate",required:!0,value:c,onChange:O=>f(O.target.value)}),re.jsx("label",{htmlFor:"warrantyLength",children:"Warranty Length"}),re.jsx("input",{type:"text",name:"warrantyLength",required:!0,value:_,onChange:O=>E(O.target.value)}),re.jsx("label",{htmlFor:"warrantyLengthUnit",children:"Warranty Length Unit"}),re.jsxs("select",{name:"warrantyLengthUnit",required:!0,value:S,onChange:O=>k(O.target.value),children:[re.jsx("option",{value:"days",children:"Days"}),re.jsx("option",{value:"months",children:"Months"}),re.jsx("option",{value:"years",children:"Years"})]}),re.jsx("label",{htmlFor:"notes",children:"Notes"}),re.jsx("textarea",{name:"notes",value:s,onChange:O=>a(O.target.value)}),re.jsx(Dx,{isMulti:!0,options:e.map(O=>({value:O,label:O})),onChange:O=>{y(O.map(b=>b.value))}}),re.jsx("button",{type:"submit",children:"Add Product"})]})]})};var Nx=Y.forwardRef(function(n,e){var t=_I(n);return Y.createElement(Yp,Ie({ref:e},t))}),l_=Nx;const Lx=({db:n,uid:e})=>{const[t,i]=Y.useState([]),[s,a]=Y.useState([]),[c,f]=Y.useState([]),[h,y]=Y.useState(null),[_,E]=Y.useState(!1),[S,k]=Y.useState("createdAtDesc"),N=[{value:"createdAtDesc",label:"Newest First"},{value:"createdAtAsc",label:"Oldest First"}];Y.useEffect(()=>{const H=CR(mR(uv(n,`users/${e}/products`),gR("createdAt","desc")),W=>{W.docs.forEach($=>{console.log($.data().createdAt.toDate())}),f(W.docs.map($=>({id:$.id,...$.data()}))),a(W.docs.map($=>({id:$.id,...$.data()})));const Q=W.docs.flatMap($=>$.data().tags||[]);i([...new Set(Q)].sort())});return()=>{H()}},[]);const O=async H=>{console.log(H),await SR(uv(n,`users/${e}/products`),{...H,createdAt:AR()})},b=async H=>{H.preventDefault();const W=new FormData(H.target),Q=Object.fromEntries(W.entries());console.log(Q),await IR(hu(n,`users/${e}/products/${h.id}`),Q),y(null)},B=H=>{for(let W=0;W<5;W++)console.log(s[W].name);if(H){const W=s.filter(Q=>Q.name.toLowerCase().includes(H.toLowerCase()));f(W)}else f(s)};return re.jsxs("div",{children:[re.jsx("h2",{children:"Products"}),re.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[re.jsxs("div",{children:[re.jsx("label",{htmlFor:"sort",children:"Sort By:"}),re.jsx(l_,{name:"sort",options:N,onChange:H=>{console.log(H),console.log(c),k(H.value);const W=c.sort((Q,$)=>(console.log(Q.createdAt.seconds,$.createdAt.seconds),H.value==="createdAtDesc"?$.createdAt.toMillis()-Q.createdAt.toMillis():Q.createdAt.toMillis()-$.createdAt.toMillis()));console.log(W.map(Q=>Q.createdAt.toDate())),f(W)},value:N.find(H=>H.value===S)}),re.jsx("button",{style:{backgroundColor:_?"lightblue":"#f9f9f9"},onClick:()=>E(!_),children:"Filter"}),_&&re.jsx(l_,{isMulti:!0,options:t.map(H=>({value:H,label:H})),onChange:H=>{const W=H.map($=>$.value),Q=s.filter($=>W.every(te=>{var C;return(C=$.tags)==null?void 0:C.includes(te)}));f(Q)}})]}),re.jsx("input",{type:"text",placeholder:"Search",onChange:H=>{B(H.target.value)}})]}),re.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"1rem"},children:c.map(H=>{var W;return re.jsxs("div",{style:{border:"1px solid black",padding:"0.5rem",minWidth:"150px"},children:[re.jsx("button",{onClick:()=>y(H),children:"Edit"}),re.jsx("h3",{style:{width:"fit-content"},children:H.name}),re.jsx("p",{style:{width:"fit-content"},children:H.purchaseDate}),re.jsxs("p",{style:{width:"fit-content"},children:[H.warrantyLength," ",H.warrantyLengthUnit]}),re.jsx("p",{style:{width:"fit-content"},children:H.notes}),(W=H.tags)!=null&&W.length?re.jsxs(re.Fragment,{children:[re.jsx("p",{children:"Tags:"}),re.jsx("ul",{children:H.tags&&H.tags.map(Q=>re.jsx("li",{children:Q},Q))})]}):null,re.jsx("button",{onClick:()=>TR(hu(n,`users/${e}/products/${H.id}`)),children:"Delete"})]},H.id)})}),re.jsx("hr",{}),re.jsxs("div",{style:{display:"flex",justifyContent:"space-between",gap:"1rem"},children:[re.jsx(Vx,{addProduct:O,availableTags:t}),h&&re.jsx(B1,{editProduct:b,product:h})]})]})};function Mx(){const[n,e]=Y.useState(null),i=__({apiKey:"AIzaSyDg7tjgR-_qIJDyfGU-KdZDRhQ2ZZO_8LA",authDomain:"mmc6950-liptak-capstone.firebaseapp.com",projectId:"mmc6950-liptak-capstone",storageBucket:"mmc6950-liptak-capstone.firebasestorage.app",messagingSenderId:void 0,appId:"1:1003930205461:web:c2caf703a1659395eb7d1c",measurementId:"G-XCQRX5FYWZ"}),s=iR(i),a=F1(i);return CP(a,EE),PP(a,c=>{e(c)}),re.jsxs("div",{children:[!n&&re.jsx($1,{auth:a,db:s,setUser:e}),!!n&&re.jsx(re.Fragment,{children:re.jsxs("div",{children:[re.jsxs("h1",{children:["Welcome, ",n.email]}),re.jsx(Lx,{db:s,uid:n==null?void 0:n.uid})]})})]})}xT.createRoot(document.getElementById("root")).render(re.jsx(Y.StrictMode,{children:re.jsx(Mx,{})}));
