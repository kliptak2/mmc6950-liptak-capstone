function L4(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var Bv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function LR(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var CS={exports:{}},ig={},IS={exports:{}},_t={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zI;function V4(){if(zI)return _t;zI=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),a=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),_=Symbol.iterator;function S(ee){return ee===null||typeof ee!="object"?null:(ee=_&&ee[_]||ee["@@iterator"],typeof ee=="function"?ee:null)}var I={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,b={};function R(ee,de,Oe){this.props=ee,this.context=de,this.refs=b,this.updater=Oe||I}R.prototype.isReactComponent={},R.prototype.setState=function(ee,de){if(typeof ee!="object"&&typeof ee!="function"&&ee!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,ee,de,"setState")},R.prototype.forceUpdate=function(ee){this.updater.enqueueForceUpdate(this,ee,"forceUpdate")};function L(){}L.prototype=R.prototype;function q(ee,de,Oe){this.props=ee,this.context=de,this.refs=b,this.updater=Oe||I}var B=q.prototype=new L;B.constructor=q,x(B,R.prototype),B.isPureReactComponent=!0;var G=Array.isArray,V=Object.prototype.hasOwnProperty,Y={current:null},D={key:!0,ref:!0,__self:!0,__source:!0};function k(ee,de,Oe){var Ke,je={},Ye=null,ut=null;if(de!=null)for(Ke in de.ref!==void 0&&(ut=de.ref),de.key!==void 0&&(Ye=""+de.key),de)V.call(de,Ke)&&!D.hasOwnProperty(Ke)&&(je[Ke]=de[Ke]);var Je=arguments.length-2;if(Je===1)je.children=Oe;else if(1<Je){for(var mt=Array(Je),on=0;on<Je;on++)mt[on]=arguments[on+2];je.children=mt}if(ee&&ee.defaultProps)for(Ke in Je=ee.defaultProps,Je)je[Ke]===void 0&&(je[Ke]=Je[Ke]);return{$$typeof:t,type:ee,key:Ye,ref:ut,props:je,_owner:Y.current}}function F(ee,de){return{$$typeof:t,type:ee.type,key:de,ref:ee.ref,props:ee.props,_owner:ee._owner}}function A(ee){return typeof ee=="object"&&ee!==null&&ee.$$typeof===t}function W(ee){var de={"=":"=0",":":"=2"};return"$"+ee.replace(/[=:]/g,function(Oe){return de[Oe]})}var K=/\/+/g;function H(ee,de){return typeof ee=="object"&&ee!==null&&ee.key!=null?W(""+ee.key):de.toString(36)}function ce(ee,de,Oe,Ke,je){var Ye=typeof ee;(Ye==="undefined"||Ye==="boolean")&&(ee=null);var ut=!1;if(ee===null)ut=!0;else switch(Ye){case"string":case"number":ut=!0;break;case"object":switch(ee.$$typeof){case t:case e:ut=!0}}if(ut)return ut=ee,je=je(ut),ee=Ke===""?"."+H(ut,0):Ke,G(je)?(Oe="",ee!=null&&(Oe=ee.replace(K,"$&/")+"/"),ce(je,de,Oe,"",function(on){return on})):je!=null&&(A(je)&&(je=F(je,Oe+(!je.key||ut&&ut.key===je.key?"":(""+je.key).replace(K,"$&/")+"/")+ee)),de.push(je)),1;if(ut=0,Ke=Ke===""?".":Ke+":",G(ee))for(var Je=0;Je<ee.length;Je++){Ye=ee[Je];var mt=Ke+H(Ye,Je);ut+=ce(Ye,de,Oe,mt,je)}else if(mt=S(ee),typeof mt=="function")for(ee=mt.call(ee),Je=0;!(Ye=ee.next()).done;)Ye=Ye.value,mt=Ke+H(Ye,Je++),ut+=ce(Ye,de,Oe,mt,je);else if(Ye==="object")throw de=String(ee),Error("Objects are not valid as a React child (found: "+(de==="[object Object]"?"object with keys {"+Object.keys(ee).join(", ")+"}":de)+"). If you meant to render a collection of children, use an array instead.");return ut}function oe(ee,de,Oe){if(ee==null)return ee;var Ke=[],je=0;return ce(ee,Ke,"","",function(Ye){return de.call(Oe,Ye,je++)}),Ke}function _e(ee){if(ee._status===-1){var de=ee._result;de=de(),de.then(function(Oe){(ee._status===0||ee._status===-1)&&(ee._status=1,ee._result=Oe)},function(Oe){(ee._status===0||ee._status===-1)&&(ee._status=2,ee._result=Oe)}),ee._status===-1&&(ee._status=0,ee._result=de)}if(ee._status===1)return ee._result.default;throw ee._result}var ye={current:null},ae={transition:null},Ae={ReactCurrentDispatcher:ye,ReactCurrentBatchConfig:ae,ReactCurrentOwner:Y};function Ee(){throw Error("act(...) is not supported in production builds of React.")}return _t.Children={map:oe,forEach:function(ee,de,Oe){oe(ee,function(){de.apply(this,arguments)},Oe)},count:function(ee){var de=0;return oe(ee,function(){de++}),de},toArray:function(ee){return oe(ee,function(de){return de})||[]},only:function(ee){if(!A(ee))throw Error("React.Children.only expected to receive a single React element child.");return ee}},_t.Component=R,_t.Fragment=n,_t.Profiler=i,_t.PureComponent=q,_t.StrictMode=r,_t.Suspense=f,_t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ae,_t.act=Ee,_t.cloneElement=function(ee,de,Oe){if(ee==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+ee+".");var Ke=x({},ee.props),je=ee.key,Ye=ee.ref,ut=ee._owner;if(de!=null){if(de.ref!==void 0&&(Ye=de.ref,ut=Y.current),de.key!==void 0&&(je=""+de.key),ee.type&&ee.type.defaultProps)var Je=ee.type.defaultProps;for(mt in de)V.call(de,mt)&&!D.hasOwnProperty(mt)&&(Ke[mt]=de[mt]===void 0&&Je!==void 0?Je[mt]:de[mt])}var mt=arguments.length-2;if(mt===1)Ke.children=Oe;else if(1<mt){Je=Array(mt);for(var on=0;on<mt;on++)Je[on]=arguments[on+2];Ke.children=Je}return{$$typeof:t,type:ee.type,key:je,ref:Ye,props:Ke,_owner:ut}},_t.createContext=function(ee){return ee={$$typeof:a,_currentValue:ee,_currentValue2:ee,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},ee.Provider={$$typeof:s,_context:ee},ee.Consumer=ee},_t.createElement=k,_t.createFactory=function(ee){var de=k.bind(null,ee);return de.type=ee,de},_t.createRef=function(){return{current:null}},_t.forwardRef=function(ee){return{$$typeof:c,render:ee}},_t.isValidElement=A,_t.lazy=function(ee){return{$$typeof:g,_payload:{_status:-1,_result:ee},_init:_e}},_t.memo=function(ee,de){return{$$typeof:p,type:ee,compare:de===void 0?null:de}},_t.startTransition=function(ee){var de=ae.transition;ae.transition={};try{ee()}finally{ae.transition=de}},_t.unstable_act=Ee,_t.useCallback=function(ee,de){return ye.current.useCallback(ee,de)},_t.useContext=function(ee){return ye.current.useContext(ee)},_t.useDebugValue=function(){},_t.useDeferredValue=function(ee){return ye.current.useDeferredValue(ee)},_t.useEffect=function(ee,de){return ye.current.useEffect(ee,de)},_t.useId=function(){return ye.current.useId()},_t.useImperativeHandle=function(ee,de,Oe){return ye.current.useImperativeHandle(ee,de,Oe)},_t.useInsertionEffect=function(ee,de){return ye.current.useInsertionEffect(ee,de)},_t.useLayoutEffect=function(ee,de){return ye.current.useLayoutEffect(ee,de)},_t.useMemo=function(ee,de){return ye.current.useMemo(ee,de)},_t.useReducer=function(ee,de,Oe){return ye.current.useReducer(ee,de,Oe)},_t.useRef=function(ee){return ye.current.useRef(ee)},_t.useState=function(ee){return ye.current.useState(ee)},_t.useSyncExternalStore=function(ee,de,Oe){return ye.current.useSyncExternalStore(ee,de,Oe)},_t.useTransition=function(){return ye.current.useTransition()},_t.version="18.3.1",_t}var WI;function r1(){return WI||(WI=1,IS.exports=V4()),IS.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HI;function F4(){if(HI)return ig;HI=1;var t=r1(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function a(c,f,p){var g,_={},S=null,I=null;p!==void 0&&(S=""+p),f.key!==void 0&&(S=""+f.key),f.ref!==void 0&&(I=f.ref);for(g in f)r.call(f,g)&&!s.hasOwnProperty(g)&&(_[g]=f[g]);if(c&&c.defaultProps)for(g in f=c.defaultProps,f)_[g]===void 0&&(_[g]=f[g]);return{$$typeof:e,type:c,key:S,ref:I,props:_,_owner:i.current}}return ig.Fragment=n,ig.jsx=a,ig.jsxs=a,ig}var qI;function U4(){return qI||(qI=1,CS.exports=F4()),CS.exports}var j=U4(),M=r1();const NT=LR(M),MT=L4({__proto__:null,default:NT},[M]);var $v={},bS={exports:{}},zi={},AS={exports:{}},xS={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GI;function B4(){return GI||(GI=1,function(t){function e(ae,Ae){var Ee=ae.length;ae.push(Ae);e:for(;0<Ee;){var ee=Ee-1>>>1,de=ae[ee];if(0<i(de,Ae))ae[ee]=Ae,ae[Ee]=de,Ee=ee;else break e}}function n(ae){return ae.length===0?null:ae[0]}function r(ae){if(ae.length===0)return null;var Ae=ae[0],Ee=ae.pop();if(Ee!==Ae){ae[0]=Ee;e:for(var ee=0,de=ae.length,Oe=de>>>1;ee<Oe;){var Ke=2*(ee+1)-1,je=ae[Ke],Ye=Ke+1,ut=ae[Ye];if(0>i(je,Ee))Ye<de&&0>i(ut,je)?(ae[ee]=ut,ae[Ye]=Ee,ee=Ye):(ae[ee]=je,ae[Ke]=Ee,ee=Ke);else if(Ye<de&&0>i(ut,Ee))ae[ee]=ut,ae[Ye]=Ee,ee=Ye;else break e}}return Ae}function i(ae,Ae){var Ee=ae.sortIndex-Ae.sortIndex;return Ee!==0?Ee:ae.id-Ae.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,c=a.now();t.unstable_now=function(){return a.now()-c}}var f=[],p=[],g=1,_=null,S=3,I=!1,x=!1,b=!1,R=typeof setTimeout=="function"?setTimeout:null,L=typeof clearTimeout=="function"?clearTimeout:null,q=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function B(ae){for(var Ae=n(p);Ae!==null;){if(Ae.callback===null)r(p);else if(Ae.startTime<=ae)r(p),Ae.sortIndex=Ae.expirationTime,e(f,Ae);else break;Ae=n(p)}}function G(ae){if(b=!1,B(ae),!x)if(n(f)!==null)x=!0,_e(V);else{var Ae=n(p);Ae!==null&&ye(G,Ae.startTime-ae)}}function V(ae,Ae){x=!1,b&&(b=!1,L(k),k=-1),I=!0;var Ee=S;try{for(B(Ae),_=n(f);_!==null&&(!(_.expirationTime>Ae)||ae&&!W());){var ee=_.callback;if(typeof ee=="function"){_.callback=null,S=_.priorityLevel;var de=ee(_.expirationTime<=Ae);Ae=t.unstable_now(),typeof de=="function"?_.callback=de:_===n(f)&&r(f),B(Ae)}else r(f);_=n(f)}if(_!==null)var Oe=!0;else{var Ke=n(p);Ke!==null&&ye(G,Ke.startTime-Ae),Oe=!1}return Oe}finally{_=null,S=Ee,I=!1}}var Y=!1,D=null,k=-1,F=5,A=-1;function W(){return!(t.unstable_now()-A<F)}function K(){if(D!==null){var ae=t.unstable_now();A=ae;var Ae=!0;try{Ae=D(!0,ae)}finally{Ae?H():(Y=!1,D=null)}}else Y=!1}var H;if(typeof q=="function")H=function(){q(K)};else if(typeof MessageChannel<"u"){var ce=new MessageChannel,oe=ce.port2;ce.port1.onmessage=K,H=function(){oe.postMessage(null)}}else H=function(){R(K,0)};function _e(ae){D=ae,Y||(Y=!0,H())}function ye(ae,Ae){k=R(function(){ae(t.unstable_now())},Ae)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(ae){ae.callback=null},t.unstable_continueExecution=function(){x||I||(x=!0,_e(V))},t.unstable_forceFrameRate=function(ae){0>ae||125<ae?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<ae?Math.floor(1e3/ae):5},t.unstable_getCurrentPriorityLevel=function(){return S},t.unstable_getFirstCallbackNode=function(){return n(f)},t.unstable_next=function(ae){switch(S){case 1:case 2:case 3:var Ae=3;break;default:Ae=S}var Ee=S;S=Ae;try{return ae()}finally{S=Ee}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(ae,Ae){switch(ae){case 1:case 2:case 3:case 4:case 5:break;default:ae=3}var Ee=S;S=ae;try{return Ae()}finally{S=Ee}},t.unstable_scheduleCallback=function(ae,Ae,Ee){var ee=t.unstable_now();switch(typeof Ee=="object"&&Ee!==null?(Ee=Ee.delay,Ee=typeof Ee=="number"&&0<Ee?ee+Ee:ee):Ee=ee,ae){case 1:var de=-1;break;case 2:de=250;break;case 5:de=1073741823;break;case 4:de=1e4;break;default:de=5e3}return de=Ee+de,ae={id:g++,callback:Ae,priorityLevel:ae,startTime:Ee,expirationTime:de,sortIndex:-1},Ee>ee?(ae.sortIndex=Ee,e(p,ae),n(f)===null&&ae===n(p)&&(b?(L(k),k=-1):b=!0,ye(G,Ee-ee))):(ae.sortIndex=de,e(f,ae),x||I||(x=!0,_e(V))),ae},t.unstable_shouldYield=W,t.unstable_wrapCallback=function(ae){var Ae=S;return function(){var Ee=S;S=Ae;try{return ae.apply(this,arguments)}finally{S=Ee}}}}(xS)),xS}var KI;function $4(){return KI||(KI=1,AS.exports=B4()),AS.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YI;function j4(){if(YI)return zi;YI=1;var t=r1(),e=$4();function n(o){for(var u="https://reactjs.org/docs/error-decoder.html?invariant="+o,h=1;h<arguments.length;h++)u+="&args[]="+encodeURIComponent(arguments[h]);return"Minified React error #"+o+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function s(o,u){a(o,u),a(o+"Capture",u)}function a(o,u){for(i[o]=u,o=0;o<u.length;o++)r.add(u[o])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},_={};function S(o){return f.call(_,o)?!0:f.call(g,o)?!1:p.test(o)?_[o]=!0:(g[o]=!0,!1)}function I(o,u,h,y){if(h!==null&&h.type===0)return!1;switch(typeof u){case"function":case"symbol":return!0;case"boolean":return y?!1:h!==null?!h.acceptsBooleans:(o=o.toLowerCase().slice(0,5),o!=="data-"&&o!=="aria-");default:return!1}}function x(o,u,h,y){if(u===null||typeof u>"u"||I(o,u,h,y))return!0;if(y)return!1;if(h!==null)switch(h.type){case 3:return!u;case 4:return u===!1;case 5:return isNaN(u);case 6:return isNaN(u)||1>u}return!1}function b(o,u,h,y,w,E,N){this.acceptsBooleans=u===2||u===3||u===4,this.attributeName=y,this.attributeNamespace=w,this.mustUseProperty=h,this.propertyName=o,this.type=u,this.sanitizeURL=E,this.removeEmptyString=N}var R={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(o){R[o]=new b(o,0,!1,o,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(o){var u=o[0];R[u]=new b(u,1,!1,o[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(o){R[o]=new b(o,2,!1,o.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(o){R[o]=new b(o,2,!1,o,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(o){R[o]=new b(o,3,!1,o.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(o){R[o]=new b(o,3,!0,o,null,!1,!1)}),["capture","download"].forEach(function(o){R[o]=new b(o,4,!1,o,null,!1,!1)}),["cols","rows","size","span"].forEach(function(o){R[o]=new b(o,6,!1,o,null,!1,!1)}),["rowSpan","start"].forEach(function(o){R[o]=new b(o,5,!1,o.toLowerCase(),null,!1,!1)});var L=/[\-:]([a-z])/g;function q(o){return o[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(o){var u=o.replace(L,q);R[u]=new b(u,1,!1,o,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(o){var u=o.replace(L,q);R[u]=new b(u,1,!1,o,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(o){var u=o.replace(L,q);R[u]=new b(u,1,!1,o,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(o){R[o]=new b(o,1,!1,o.toLowerCase(),null,!1,!1)}),R.xlinkHref=new b("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(o){R[o]=new b(o,1,!1,o.toLowerCase(),null,!0,!0)});function B(o,u,h,y){var w=R.hasOwnProperty(u)?R[u]:null;(w!==null?w.type!==0:y||!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(x(u,h,w,y)&&(h=null),y||w===null?S(u)&&(h===null?o.removeAttribute(u):o.setAttribute(u,""+h)):w.mustUseProperty?o[w.propertyName]=h===null?w.type===3?!1:"":h:(u=w.attributeName,y=w.attributeNamespace,h===null?o.removeAttribute(u):(w=w.type,h=w===3||w===4&&h===!0?"":""+h,y?o.setAttributeNS(y,u,h):o.setAttribute(u,h))))}var G=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,V=Symbol.for("react.element"),Y=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),F=Symbol.for("react.profiler"),A=Symbol.for("react.provider"),W=Symbol.for("react.context"),K=Symbol.for("react.forward_ref"),H=Symbol.for("react.suspense"),ce=Symbol.for("react.suspense_list"),oe=Symbol.for("react.memo"),_e=Symbol.for("react.lazy"),ye=Symbol.for("react.offscreen"),ae=Symbol.iterator;function Ae(o){return o===null||typeof o!="object"?null:(o=ae&&o[ae]||o["@@iterator"],typeof o=="function"?o:null)}var Ee=Object.assign,ee;function de(o){if(ee===void 0)try{throw Error()}catch(h){var u=h.stack.trim().match(/\n( *(at )?)/);ee=u&&u[1]||""}return`
`+ee+o}var Oe=!1;function Ke(o,u){if(!o||Oe)return"";Oe=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(u)if(u=function(){throw Error()},Object.defineProperty(u.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(u,[])}catch(fe){var y=fe}Reflect.construct(o,[],u)}else{try{u.call()}catch(fe){y=fe}o.call(u.prototype)}else{try{throw Error()}catch(fe){y=fe}o()}}catch(fe){if(fe&&y&&typeof fe.stack=="string"){for(var w=fe.stack.split(`
`),E=y.stack.split(`
`),N=w.length-1,Q=E.length-1;1<=N&&0<=Q&&w[N]!==E[Q];)Q--;for(;1<=N&&0<=Q;N--,Q--)if(w[N]!==E[Q]){if(N!==1||Q!==1)do if(N--,Q--,0>Q||w[N]!==E[Q]){var Z=`
`+w[N].replace(" at new "," at ");return o.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",o.displayName)),Z}while(1<=N&&0<=Q);break}}}finally{Oe=!1,Error.prepareStackTrace=h}return(o=o?o.displayName||o.name:"")?de(o):""}function je(o){switch(o.tag){case 5:return de(o.type);case 16:return de("Lazy");case 13:return de("Suspense");case 19:return de("SuspenseList");case 0:case 2:case 15:return o=Ke(o.type,!1),o;case 11:return o=Ke(o.type.render,!1),o;case 1:return o=Ke(o.type,!0),o;default:return""}}function Ye(o){if(o==null)return null;if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case D:return"Fragment";case Y:return"Portal";case F:return"Profiler";case k:return"StrictMode";case H:return"Suspense";case ce:return"SuspenseList"}if(typeof o=="object")switch(o.$$typeof){case W:return(o.displayName||"Context")+".Consumer";case A:return(o._context.displayName||"Context")+".Provider";case K:var u=o.render;return o=o.displayName,o||(o=u.displayName||u.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case oe:return u=o.displayName||null,u!==null?u:Ye(o.type)||"Memo";case _e:u=o._payload,o=o._init;try{return Ye(o(u))}catch{}}return null}function ut(o){var u=o.type;switch(o.tag){case 24:return"Cache";case 9:return(u.displayName||"Context")+".Consumer";case 10:return(u._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return o=u.render,o=o.displayName||o.name||"",u.displayName||(o!==""?"ForwardRef("+o+")":"ForwardRef");case 7:return"Fragment";case 5:return u;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ye(u);case 8:return u===k?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u}return null}function Je(o){switch(typeof o){case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function mt(o){var u=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(u==="checkbox"||u==="radio")}function on(o){var u=mt(o)?"checked":"value",h=Object.getOwnPropertyDescriptor(o.constructor.prototype,u),y=""+o[u];if(!o.hasOwnProperty(u)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var w=h.get,E=h.set;return Object.defineProperty(o,u,{configurable:!0,get:function(){return w.call(this)},set:function(N){y=""+N,E.call(this,N)}}),Object.defineProperty(o,u,{enumerable:h.enumerable}),{getValue:function(){return y},setValue:function(N){y=""+N},stopTracking:function(){o._valueTracker=null,delete o[u]}}}}function Qn(o){o._valueTracker||(o._valueTracker=on(o))}function Ar(o){if(!o)return!1;var u=o._valueTracker;if(!u)return!0;var h=u.getValue(),y="";return o&&(y=mt(o)?o.checked?"true":"false":o.value),o=y,o!==h?(u.setValue(o),!0):!1}function sr(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}function an(o,u){var h=u.checked;return Ee({},u,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:h??o._wrapperState.initialChecked})}function jr(o,u){var h=u.defaultValue==null?"":u.defaultValue,y=u.checked!=null?u.checked:u.defaultChecked;h=Je(u.value!=null?u.value:h),o._wrapperState={initialChecked:y,initialValue:h,controlled:u.type==="checkbox"||u.type==="radio"?u.checked!=null:u.value!=null}}function qa(o,u){u=u.checked,u!=null&&B(o,"checked",u,!1)}function xr(o,u){qa(o,u);var h=Je(u.value),y=u.type;if(h!=null)y==="number"?(h===0&&o.value===""||o.value!=h)&&(o.value=""+h):o.value!==""+h&&(o.value=""+h);else if(y==="submit"||y==="reset"){o.removeAttribute("value");return}u.hasOwnProperty("value")?Ki(o,u.type,h):u.hasOwnProperty("defaultValue")&&Ki(o,u.type,Je(u.defaultValue)),u.checked==null&&u.defaultChecked!=null&&(o.defaultChecked=!!u.defaultChecked)}function Ga(o,u,h){if(u.hasOwnProperty("value")||u.hasOwnProperty("defaultValue")){var y=u.type;if(!(y!=="submit"&&y!=="reset"||u.value!==void 0&&u.value!==null))return;u=""+o._wrapperState.initialValue,h||u===o.value||(o.value=u),o.defaultValue=u}h=o.name,h!==""&&(o.name=""),o.defaultChecked=!!o._wrapperState.initialChecked,h!==""&&(o.name=h)}function Ki(o,u,h){(u!=="number"||sr(o.ownerDocument)!==o)&&(h==null?o.defaultValue=""+o._wrapperState.initialValue:o.defaultValue!==""+h&&(o.defaultValue=""+h))}var ci=Array.isArray;function Fn(o,u,h,y){if(o=o.options,u){u={};for(var w=0;w<h.length;w++)u["$"+h[w]]=!0;for(h=0;h<o.length;h++)w=u.hasOwnProperty("$"+o[h].value),o[h].selected!==w&&(o[h].selected=w),w&&y&&(o[h].defaultSelected=!0)}else{for(h=""+Je(h),u=null,w=0;w<o.length;w++){if(o[w].value===h){o[w].selected=!0,y&&(o[w].defaultSelected=!0);return}u!==null||o[w].disabled||(u=o[w])}u!==null&&(u.selected=!0)}}function ao(o,u){if(u.dangerouslySetInnerHTML!=null)throw Error(n(91));return Ee({},u,{value:void 0,defaultValue:void 0,children:""+o._wrapperState.initialValue})}function uo(o,u){var h=u.value;if(h==null){if(h=u.children,u=u.defaultValue,h!=null){if(u!=null)throw Error(n(92));if(ci(h)){if(1<h.length)throw Error(n(93));h=h[0]}u=h}u==null&&(u=""),h=u}o._wrapperState={initialValue:Je(h)}}function sl(o,u){var h=Je(u.value),y=Je(u.defaultValue);h!=null&&(h=""+h,h!==o.value&&(o.value=h),u.defaultValue==null&&o.defaultValue!==h&&(o.defaultValue=h)),y!=null&&(o.defaultValue=""+y)}function lo(o){var u=o.textContent;u===o._wrapperState.initialValue&&u!==""&&u!==null&&(o.value=u)}function Un(o){switch(o){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function un(o,u){return o==null||o==="http://www.w3.org/1999/xhtml"?Un(u):o==="http://www.w3.org/2000/svg"&&u==="foreignObject"?"http://www.w3.org/1999/xhtml":o}var zr,Ka=function(o){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(u,h,y,w){MSApp.execUnsafeLocalFunction(function(){return o(u,h,y,w)})}:o}(function(o,u){if(o.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in o)o.innerHTML=u;else{for(zr=zr||document.createElement("div"),zr.innerHTML="<svg>"+u.valueOf().toString()+"</svg>",u=zr.firstChild;o.firstChild;)o.removeChild(o.firstChild);for(;u.firstChild;)o.appendChild(u.firstChild)}});function Ps(o,u){if(u){var h=o.firstChild;if(h&&h===o.lastChild&&h.nodeType===3){h.nodeValue=u;return}}o.textContent=u}var co={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fo=["Webkit","ms","Moz","O"];Object.keys(co).forEach(function(o){fo.forEach(function(u){u=u+o.charAt(0).toUpperCase()+o.substring(1),co[u]=co[o]})});function Ya(o,u,h){return u==null||typeof u=="boolean"||u===""?"":h||typeof u!="number"||u===0||co.hasOwnProperty(o)&&co[o]?(""+u).trim():u+"px"}function Qa(o,u){o=o.style;for(var h in u)if(u.hasOwnProperty(h)){var y=h.indexOf("--")===0,w=Ya(h,u[h],y);h==="float"&&(h="cssFloat"),y?o.setProperty(h,w):o[h]=w}}var Xa=Ee({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Za(o,u){if(u){if(Xa[o]&&(u.children!=null||u.dangerouslySetInnerHTML!=null))throw Error(n(137,o));if(u.dangerouslySetInnerHTML!=null){if(u.children!=null)throw Error(n(60));if(typeof u.dangerouslySetInnerHTML!="object"||!("__html"in u.dangerouslySetInnerHTML))throw Error(n(61))}if(u.style!=null&&typeof u.style!="object")throw Error(n(62))}}function Ja(o,u){if(o.indexOf("-")===-1)return typeof u.is=="string";switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var eu=null;function ol(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var al=null,fi=null,Yi=null;function ul(o){if(o=vr(o)){if(typeof al!="function")throw Error(n(280));var u=o.stateNode;u&&(u=Bd(u),al(o.stateNode,o.type,u))}}function Rs(o){fi?Yi?Yi.push(o):Yi=[o]:fi=o}function Bc(){if(fi){var o=fi,u=Yi;if(Yi=fi=null,ul(o),u)for(o=0;o<u.length;o++)ul(u[o])}}function tu(o,u){return o(u)}function ll(){}var ho=!1;function $c(o,u,h){if(ho)return o(u,h);ho=!0;try{return tu(o,u,h)}finally{ho=!1,(fi!==null||Yi!==null)&&(ll(),Bc())}}function yn(o,u){var h=o.stateNode;if(h===null)return null;var y=Bd(h);if(y===null)return null;h=y[u];e:switch(u){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(y=!y.disabled)||(o=o.type,y=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!y;break e;default:o=!1}if(o)return null;if(h&&typeof h!="function")throw Error(n(231,u,typeof h));return h}var Yo=!1;if(c)try{var Qi={};Object.defineProperty(Qi,"passive",{get:function(){Yo=!0}}),window.addEventListener("test",Qi,Qi),window.removeEventListener("test",Qi,Qi)}catch{Yo=!1}function po(o,u,h,y,w,E,N,Q,Z){var fe=Array.prototype.slice.call(arguments,3);try{u.apply(h,fe)}catch(Ce){this.onError(Ce)}}var nu=!1,cl=null,Xi=!1,jc=null,Zp={onError:function(o){nu=!0,cl=o}};function fl(o,u,h,y,w,E,N,Q,Z){nu=!1,cl=null,po.apply(Zp,arguments)}function md(o,u,h,y,w,E,N,Q,Z){if(fl.apply(this,arguments),nu){if(nu){var fe=cl;nu=!1,cl=null}else throw Error(n(198));Xi||(Xi=!0,jc=fe)}}function Zi(o){var u=o,h=o;if(o.alternate)for(;u.return;)u=u.return;else{o=u;do u=o,u.flags&4098&&(h=u.return),o=u.return;while(o)}return u.tag===3?h:null}function Qo(o){if(o.tag===13){var u=o.memoizedState;if(u===null&&(o=o.alternate,o!==null&&(u=o.memoizedState)),u!==null)return u.dehydrated}return null}function Ji(o){if(Zi(o)!==o)throw Error(n(188))}function gd(o){var u=o.alternate;if(!u){if(u=Zi(o),u===null)throw Error(n(188));return u!==o?null:o}for(var h=o,y=u;;){var w=h.return;if(w===null)break;var E=w.alternate;if(E===null){if(y=w.return,y!==null){h=y;continue}break}if(w.child===E.child){for(E=w.child;E;){if(E===h)return Ji(w),o;if(E===y)return Ji(w),u;E=E.sibling}throw Error(n(188))}if(h.return!==y.return)h=w,y=E;else{for(var N=!1,Q=w.child;Q;){if(Q===h){N=!0,h=w,y=E;break}if(Q===y){N=!0,y=w,h=E;break}Q=Q.sibling}if(!N){for(Q=E.child;Q;){if(Q===h){N=!0,h=E,y=w;break}if(Q===y){N=!0,y=E,h=w;break}Q=Q.sibling}if(!N)throw Error(n(189))}}if(h.alternate!==y)throw Error(n(190))}if(h.tag!==3)throw Error(n(188));return h.stateNode.current===h?o:u}function zc(o){return o=gd(o),o!==null?dl(o):null}function dl(o){if(o.tag===5||o.tag===6)return o;for(o=o.child;o!==null;){var u=dl(o);if(u!==null)return u;o=o.sibling}return null}var hl=e.unstable_scheduleCallback,Wc=e.unstable_cancelCallback,ru=e.unstable_shouldYield,Jp=e.unstable_requestPaint,Mt=e.unstable_now,yd=e.unstable_getCurrentPriorityLevel,iu=e.unstable_ImmediatePriority,Xo=e.unstable_UserBlockingPriority,di=e.unstable_NormalPriority,pl=e.unstable_LowPriority,Hc=e.unstable_IdlePriority,su=null,hi=null;function vd(o){if(hi&&typeof hi.onCommitFiberRoot=="function")try{hi.onCommitFiberRoot(su,o,void 0,(o.current.flags&128)===128)}catch{}}var Pr=Math.clz32?Math.clz32:Gc,ml=Math.log,qc=Math.LN2;function Gc(o){return o>>>=0,o===0?32:31-(ml(o)/qc|0)|0}var Zo=64,gl=4194304;function mo(o){switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return o&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return o}}function ks(o,u){var h=o.pendingLanes;if(h===0)return 0;var y=0,w=o.suspendedLanes,E=o.pingedLanes,N=h&268435455;if(N!==0){var Q=N&~w;Q!==0?y=mo(Q):(E&=N,E!==0&&(y=mo(E)))}else N=h&~w,N!==0?y=mo(N):E!==0&&(y=mo(E));if(y===0)return 0;if(u!==0&&u!==y&&!(u&w)&&(w=y&-y,E=u&-u,w>=E||w===16&&(E&4194240)!==0))return u;if(y&4&&(y|=h&16),u=o.entangledLanes,u!==0)for(o=o.entanglements,u&=y;0<u;)h=31-Pr(u),w=1<<h,y|=o[h],u&=~w;return y}function _d(o,u){switch(o){case 1:case 2:case 4:return u+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function go(o,u){for(var h=o.suspendedLanes,y=o.pingedLanes,w=o.expirationTimes,E=o.pendingLanes;0<E;){var N=31-Pr(E),Q=1<<N,Z=w[N];Z===-1?(!(Q&h)||Q&y)&&(w[N]=_d(Q,u)):Z<=u&&(o.expiredLanes|=Q),E&=~Q}}function Wr(o){return o=o.pendingLanes&-1073741825,o!==0?o:o&1073741824?1073741824:0}function Jo(){var o=Zo;return Zo<<=1,!(Zo&4194240)&&(Zo=64),o}function Os(o){for(var u=[],h=0;31>h;h++)u.push(o);return u}function ea(o,u,h){o.pendingLanes|=u,u!==536870912&&(o.suspendedLanes=0,o.pingedLanes=0),o=o.eventTimes,u=31-Pr(u),o[u]=h}function $t(o,u){var h=o.pendingLanes&~u;o.pendingLanes=u,o.suspendedLanes=0,o.pingedLanes=0,o.expiredLanes&=u,o.mutableReadLanes&=u,o.entangledLanes&=u,u=o.entanglements;var y=o.eventTimes;for(o=o.expirationTimes;0<h;){var w=31-Pr(h),E=1<<w;u[w]=0,y[w]=-1,o[w]=-1,h&=~E}}function Ds(o,u){var h=o.entangledLanes|=u;for(o=o.entanglements;h;){var y=31-Pr(h),w=1<<y;w&u|o[y]&u&&(o[y]|=u),h&=~w}}var yt=0;function pi(o){return o&=-o,1<o?4<o?o&268435455?16:536870912:4:1}var Kc,ou,wd,Yc,Qc,yl=!1,es=[],or=null,ts=null,ns=null,yo=new Map,Ii=new Map,Ns=[],em="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sd(o,u){switch(o){case"focusin":case"focusout":or=null;break;case"dragenter":case"dragleave":ts=null;break;case"mouseover":case"mouseout":ns=null;break;case"pointerover":case"pointerout":yo.delete(u.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ii.delete(u.pointerId)}}function pr(o,u,h,y,w,E){return o===null||o.nativeEvent!==E?(o={blockedOn:u,domEventName:h,eventSystemFlags:y,nativeEvent:E,targetContainers:[w]},u!==null&&(u=vr(u),u!==null&&ou(u)),o):(o.eventSystemFlags|=y,u=o.targetContainers,w!==null&&u.indexOf(w)===-1&&u.push(w),o)}function tm(o,u,h,y,w){switch(u){case"focusin":return or=pr(or,o,u,h,y,w),!0;case"dragenter":return ts=pr(ts,o,u,h,y,w),!0;case"mouseover":return ns=pr(ns,o,u,h,y,w),!0;case"pointerover":var E=w.pointerId;return yo.set(E,pr(yo.get(E)||null,o,u,h,y,w)),!0;case"gotpointercapture":return E=w.pointerId,Ii.set(E,pr(Ii.get(E)||null,o,u,h,y,w)),!0}return!1}function Td(o){var u=Fs(o.target);if(u!==null){var h=Zi(u);if(h!==null){if(u=h.tag,u===13){if(u=Qo(h),u!==null){o.blockedOn=u,Qc(o.priority,function(){wd(h)});return}}else if(u===3&&h.stateNode.current.memoizedState.isDehydrated){o.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}o.blockedOn=null}function vo(o){if(o.blockedOn!==null)return!1;for(var u=o.targetContainers;0<u.length;){var h=lu(o.domEventName,o.eventSystemFlags,u[0],o.nativeEvent);if(h===null){h=o.nativeEvent;var y=new h.constructor(h.type,h);eu=y,h.target.dispatchEvent(y),eu=null}else return u=vr(h),u!==null&&ou(u),o.blockedOn=h,!1;u.shift()}return!0}function au(o,u,h){vo(o)&&h.delete(u)}function Ed(){yl=!1,or!==null&&vo(or)&&(or=null),ts!==null&&vo(ts)&&(ts=null),ns!==null&&vo(ns)&&(ns=null),yo.forEach(au),Ii.forEach(au)}function wt(o,u){o.blockedOn===u&&(o.blockedOn=null,yl||(yl=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Ed)))}function vt(o){function u(w){return wt(w,o)}if(0<es.length){wt(es[0],o);for(var h=1;h<es.length;h++){var y=es[h];y.blockedOn===o&&(y.blockedOn=null)}}for(or!==null&&wt(or,o),ts!==null&&wt(ts,o),ns!==null&&wt(ns,o),yo.forEach(u),Ii.forEach(u),h=0;h<Ns.length;h++)y=Ns[h],y.blockedOn===o&&(y.blockedOn=null);for(;0<Ns.length&&(h=Ns[0],h.blockedOn===null);)Td(h),h.blockedOn===null&&Ns.shift()}var _o=G.ReactCurrentBatchConfig,ta=!0;function tn(o,u,h,y){var w=yt,E=_o.transition;_o.transition=null;try{yt=1,Xc(o,u,h,y)}finally{yt=w,_o.transition=E}}function nm(o,u,h,y){var w=yt,E=_o.transition;_o.transition=null;try{yt=4,Xc(o,u,h,y)}finally{yt=w,_o.transition=E}}function Xc(o,u,h,y){if(ta){var w=lu(o,u,h,y);if(w===null)am(o,u,y,uu,h),Sd(o,y);else if(tm(w,o,u,h,y))y.stopPropagation();else if(Sd(o,y),u&4&&-1<em.indexOf(o)){for(;w!==null;){var E=vr(w);if(E!==null&&Kc(E),E=lu(o,u,h,y),E===null&&am(o,u,y,uu,h),E===w)break;w=E}w!==null&&y.stopPropagation()}else am(o,u,y,null,h)}}var uu=null;function lu(o,u,h,y){if(uu=null,o=ol(y),o=Fs(o),o!==null)if(u=Zi(o),u===null)o=null;else if(h=u.tag,h===13){if(o=Qo(u),o!==null)return o;o=null}else if(h===3){if(u.stateNode.current.memoizedState.isDehydrated)return u.tag===3?u.stateNode.containerInfo:null;o=null}else u!==o&&(o=null);return uu=o,null}function Zc(o){switch(o){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(yd()){case iu:return 1;case Xo:return 4;case di:case pl:return 16;case Hc:return 536870912;default:return 16}default:return 16}}var Lt=null,na=null,Cn=null;function vl(){if(Cn)return Cn;var o,u=na,h=u.length,y,w="value"in Lt?Lt.value:Lt.textContent,E=w.length;for(o=0;o<h&&u[o]===w[o];o++);var N=h-o;for(y=1;y<=N&&u[h-y]===w[E-y];y++);return Cn=w.slice(o,1<y?1-y:void 0)}function ra(o){var u=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&u===13&&(o=13)):o=u,o===10&&(o=13),32<=o||o===13?o:0}function vn(){return!0}function _l(){return!1}function Xn(o){function u(h,y,w,E,N){this._reactName=h,this._targetInst=w,this.type=y,this.nativeEvent=E,this.target=N,this.currentTarget=null;for(var Q in o)o.hasOwnProperty(Q)&&(h=o[Q],this[Q]=h?h(E):E[Q]);return this.isDefaultPrevented=(E.defaultPrevented!=null?E.defaultPrevented:E.returnValue===!1)?vn:_l,this.isPropagationStopped=_l,this}return Ee(u.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=vn)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=vn)},persist:function(){},isPersistent:vn}),u}var bi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cu=Xn(bi),rs=Ee({},bi,{view:0,detail:0}),Cd=Xn(rs),Zn,wo,Bn,fu=Ee({},rs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ms,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==Bn&&(Bn&&o.type==="mousemove"?(Zn=o.screenX-Bn.screenX,wo=o.screenY-Bn.screenY):wo=Zn=0,Bn=o),Zn)},movementY:function(o){return"movementY"in o?o.movementY:wo}}),du=Xn(fu),Ai=Ee({},fu,{dataTransfer:0}),hu=Xn(Ai),ia=Ee({},rs,{relatedTarget:0}),Vt=Xn(ia),is=Ee({},bi,{animationName:0,elapsedTime:0,pseudoElement:0}),ss=Xn(is),Id=Ee({},bi,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),wl=Xn(Id),bd=Ee({},bi,{data:0}),Jc=Xn(bd),Sl={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},mr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function So(o){var u=this.nativeEvent;return u.getModifierState?u.getModifierState(o):(o=pu[o])?!!u[o]:!1}function Ms(){return So}var m=Ee({},rs,{key:function(o){if(o.key){var u=Sl[o.key]||o.key;if(u!=="Unidentified")return u}return o.type==="keypress"?(o=ra(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?mr[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ms,charCode:function(o){return o.type==="keypress"?ra(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?ra(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),T=Xn(m),P=Ee({},fu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$=Xn(P),ie=Ee({},rs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ms}),he=Xn(ie),Pe=Ee({},bi,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ot=Xn(Pe),$n=Ee({},fu,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),St=Xn($n),Nt=[9,13,27,32],dn=c&&"CompositionEvent"in window,gr=null;c&&"documentMode"in document&&(gr=document.documentMode);var Hr=c&&"TextEvent"in window&&!gr,sa=c&&(!dn||gr&&8<gr&&11>=gr),Tl=" ",Fy=!1;function Uy(o,u){switch(o){case"keyup":return Nt.indexOf(u.keyCode)!==-1;case"keydown":return u.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function By(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var El=!1;function Cl(o,u){switch(o){case"compositionend":return By(u);case"keypress":return u.which!==32?null:(Fy=!0,Tl);case"textInput":return o=u.data,o===Tl&&Fy?null:o;default:return null}}function Bw(o,u){if(El)return o==="compositionend"||!dn&&Uy(o,u)?(o=vl(),Cn=na=Lt=null,El=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(u.ctrlKey||u.altKey||u.metaKey)||u.ctrlKey&&u.altKey){if(u.char&&1<u.char.length)return u.char;if(u.which)return String.fromCharCode(u.which)}return null;case"compositionend":return sa&&u.locale!=="ko"?null:u.data;default:return null}}var $w={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ad(o){var u=o&&o.nodeName&&o.nodeName.toLowerCase();return u==="input"?!!$w[o.type]:u==="textarea"}function rm(o,u,h,y){Rs(y),u=Ld(u,"onChange"),0<u.length&&(h=new cu("onChange","change",null,h,y),o.push({event:h,listeners:u}))}var xi=null,oa=null;function jw(o){Gy(o,0)}function xd(o){var u=ft(o);if(Ar(u))return o}function zw(o,u){if(o==="change")return u}var mu=!1;if(c){var mi;if(c){var Pd="oninput"in document;if(!Pd){var $y=document.createElement("div");$y.setAttribute("oninput","return;"),Pd=typeof $y.oninput=="function"}mi=Pd}else mi=!1;mu=mi&&(!document.documentMode||9<document.documentMode)}function jy(){xi&&(xi.detachEvent("onpropertychange",zy),oa=xi=null)}function zy(o){if(o.propertyName==="value"&&xd(oa)){var u=[];rm(u,oa,o,ol(o)),$c(jw,u)}}function Ww(o,u,h){o==="focusin"?(jy(),xi=u,oa=h,xi.attachEvent("onpropertychange",zy)):o==="focusout"&&jy()}function Hw(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return xd(oa)}function Il(o,u){if(o==="click")return xd(u)}function ne(o,u){if(o==="input"||o==="change")return xd(u)}function pe(o,u){return o===u&&(o!==0||1/o===1/u)||o!==o&&u!==u}var le=typeof Object.is=="function"?Object.is:pe;function De(o,u){if(le(o,u))return!0;if(typeof o!="object"||o===null||typeof u!="object"||u===null)return!1;var h=Object.keys(o),y=Object.keys(u);if(h.length!==y.length)return!1;for(y=0;y<h.length;y++){var w=h[y];if(!f.call(u,w)||!le(o[w],u[w]))return!1}return!0}function st(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function xt(o,u){var h=st(o);o=0;for(var y;h;){if(h.nodeType===3){if(y=o+h.textContent.length,o<=u&&y>=u)return{node:h,offset:u-o};o=y}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=st(h)}}function In(o,u){return o&&u?o===u?!0:o&&o.nodeType===3?!1:u&&u.nodeType===3?In(o,u.parentNode):"contains"in o?o.contains(u):o.compareDocumentPosition?!!(o.compareDocumentPosition(u)&16):!1:!1}function jt(){for(var o=window,u=sr();u instanceof o.HTMLIFrameElement;){try{var h=typeof u.contentWindow.location.href=="string"}catch{h=!1}if(h)o=u.contentWindow;else break;u=sr(o.document)}return u}function ef(o){var u=o&&o.nodeName&&o.nodeName.toLowerCase();return u&&(u==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||u==="textarea"||o.contentEditable==="true")}function qw(o){var u=jt(),h=o.focusedElem,y=o.selectionRange;if(u!==h&&h&&h.ownerDocument&&In(h.ownerDocument.documentElement,h)){if(y!==null&&ef(h)){if(u=y.start,o=y.end,o===void 0&&(o=u),"selectionStart"in h)h.selectionStart=u,h.selectionEnd=Math.min(o,h.value.length);else if(o=(u=h.ownerDocument||document)&&u.defaultView||window,o.getSelection){o=o.getSelection();var w=h.textContent.length,E=Math.min(y.start,w);y=y.end===void 0?E:Math.min(y.end,w),!o.extend&&E>y&&(w=y,y=E,E=w),w=xt(h,E);var N=xt(h,y);w&&N&&(o.rangeCount!==1||o.anchorNode!==w.node||o.anchorOffset!==w.offset||o.focusNode!==N.node||o.focusOffset!==N.offset)&&(u=u.createRange(),u.setStart(w.node,w.offset),o.removeAllRanges(),E>y?(o.addRange(u),o.extend(N.node,N.offset)):(u.setEnd(N.node,N.offset),o.addRange(u)))}}for(u=[],o=h;o=o.parentNode;)o.nodeType===1&&u.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof h.focus=="function"&&h.focus(),h=0;h<u.length;h++)o=u[h],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var Pi=c&&"documentMode"in document&&11>=document.documentMode,To=null,im=null,Ls=null,bl=!1;function tf(o,u,h){var y=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;bl||To==null||To!==sr(y)||(y=To,"selectionStart"in y&&ef(y)?y={start:y.selectionStart,end:y.selectionEnd}:(y=(y.ownerDocument&&y.ownerDocument.defaultView||window).getSelection(),y={anchorNode:y.anchorNode,anchorOffset:y.anchorOffset,focusNode:y.focusNode,focusOffset:y.focusOffset}),Ls&&De(Ls,y)||(Ls=y,y=Ld(im,"onSelect"),0<y.length&&(u=new cu("onSelect","select",null,u,h),o.push({event:u,listeners:y}),u.target=To)))}function Pt(o,u){var h={};return h[o.toLowerCase()]=u.toLowerCase(),h["Webkit"+o]="webkit"+u,h["Moz"+o]="moz"+u,h}var Al={animationend:Pt("Animation","AnimationEnd"),animationiteration:Pt("Animation","AnimationIteration"),animationstart:Pt("Animation","AnimationStart"),transitionend:Pt("Transition","TransitionEnd")},Rd={},nf={};c&&(nf=document.createElement("div").style,"AnimationEvent"in window||(delete Al.animationend.animation,delete Al.animationiteration.animation,delete Al.animationstart.animation),"TransitionEvent"in window||delete Al.transitionend.transition);function kd(o){if(Rd[o])return Rd[o];if(!Al[o])return o;var u=Al[o],h;for(h in u)if(u.hasOwnProperty(h)&&h in nf)return Rd[o]=u[h];return o}var Wy=kd("animationend"),Hy=kd("animationiteration"),rf=kd("animationstart"),Eo=kd("transitionend"),sf=new Map,sm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function os(o,u){sf.set(o,u),s(u,[o])}for(var Od=0;Od<sm.length;Od++){var Dd=sm[Od],Nd=Dd.toLowerCase(),qy=Dd[0].toUpperCase()+Dd.slice(1);os(Nd,"on"+qy)}os(Wy,"onAnimationEnd"),os(Hy,"onAnimationIteration"),os(rf,"onAnimationStart"),os("dblclick","onDoubleClick"),os("focusin","onFocus"),os("focusout","onBlur"),os(Eo,"onTransitionEnd"),a("onMouseEnter",["mouseout","mouseover"]),a("onMouseLeave",["mouseout","mouseover"]),a("onPointerEnter",["pointerout","pointerover"]),a("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Co="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),gu=new Set("cancel close invalid load scroll toggle".split(" ").concat(Co));function of(o,u,h){var y=o.type||"unknown-event";o.currentTarget=h,md(y,u,void 0,o),o.currentTarget=null}function Gy(o,u){u=(u&4)!==0;for(var h=0;h<o.length;h++){var y=o[h],w=y.event;y=y.listeners;e:{var E=void 0;if(u)for(var N=y.length-1;0<=N;N--){var Q=y[N],Z=Q.instance,fe=Q.currentTarget;if(Q=Q.listener,Z!==E&&w.isPropagationStopped())break e;of(w,Q,fe),E=Z}else for(N=0;N<y.length;N++){if(Q=y[N],Z=Q.instance,fe=Q.currentTarget,Q=Q.listener,Z!==E&&w.isPropagationStopped())break e;of(w,Q,fe),E=Z}}}if(Xi)throw o=jc,Xi=!1,jc=null,o}function Qt(o,u){var h=u[Ud];h===void 0&&(h=u[Ud]=new Set);var y=o+"__bubble";h.has(y)||(Md(u,o,2,!1),h.add(y))}function om(o,u,h){var y=0;u&&(y|=4),Md(h,o,y,u)}var yu="_reactListening"+Math.random().toString(36).slice(2);function aa(o){if(!o[yu]){o[yu]=!0,r.forEach(function(h){h!=="selectionchange"&&(gu.has(h)||om(h,!1,o),om(h,!0,o))});var u=o.nodeType===9?o:o.ownerDocument;u===null||u[yu]||(u[yu]=!0,om("selectionchange",!1,u))}}function Md(o,u,h,y){switch(Zc(u)){case 1:var w=tn;break;case 4:w=nm;break;default:w=Xc}h=w.bind(null,u,h,o),w=void 0,!Yo||u!=="touchstart"&&u!=="touchmove"&&u!=="wheel"||(w=!0),y?w!==void 0?o.addEventListener(u,h,{capture:!0,passive:w}):o.addEventListener(u,h,!0):w!==void 0?o.addEventListener(u,h,{passive:w}):o.addEventListener(u,h,!1)}function am(o,u,h,y,w){var E=y;if(!(u&1)&&!(u&2)&&y!==null)e:for(;;){if(y===null)return;var N=y.tag;if(N===3||N===4){var Q=y.stateNode.containerInfo;if(Q===w||Q.nodeType===8&&Q.parentNode===w)break;if(N===4)for(N=y.return;N!==null;){var Z=N.tag;if((Z===3||Z===4)&&(Z=N.stateNode.containerInfo,Z===w||Z.nodeType===8&&Z.parentNode===w))return;N=N.return}for(;Q!==null;){if(N=Fs(Q),N===null)return;if(Z=N.tag,Z===5||Z===6){y=E=N;continue e}Q=Q.parentNode}}y=y.return}$c(function(){var fe=E,Ce=ol(h),be=[];e:{var Te=sf.get(o);if(Te!==void 0){var Ne=cu,Ve=o;switch(o){case"keypress":if(ra(h)===0)break e;case"keydown":case"keyup":Ne=T;break;case"focusin":Ve="focus",Ne=Vt;break;case"focusout":Ve="blur",Ne=Vt;break;case"beforeblur":case"afterblur":Ne=Vt;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ne=du;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ne=hu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ne=he;break;case Wy:case Hy:case rf:Ne=ss;break;case Eo:Ne=Ot;break;case"scroll":Ne=Cd;break;case"wheel":Ne=St;break;case"copy":case"cut":case"paste":Ne=wl;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ne=$}var Ue=(u&4)!==0,pn=!Ue&&o==="scroll",se=Ue?Te!==null?Te+"Capture":null:Te;Ue=[];for(var te=fe,ue;te!==null;){ue=te;var xe=ue.stateNode;if(ue.tag===5&&xe!==null&&(ue=xe,se!==null&&(xe=yn(te,se),xe!=null&&Ue.push(xl(te,xe,ue)))),pn)break;te=te.return}0<Ue.length&&(Te=new Ne(Te,Ve,null,h,Ce),be.push({event:Te,listeners:Ue}))}}if(!(u&7)){e:{if(Te=o==="mouseover"||o==="pointerover",Ne=o==="mouseout"||o==="pointerout",Te&&h!==eu&&(Ve=h.relatedTarget||h.fromElement)&&(Fs(Ve)||Ve[gi]))break e;if((Ne||Te)&&(Te=Ce.window===Ce?Ce:(Te=Ce.ownerDocument)?Te.defaultView||Te.parentWindow:window,Ne?(Ve=h.relatedTarget||h.toElement,Ne=fe,Ve=Ve?Fs(Ve):null,Ve!==null&&(pn=Zi(Ve),Ve!==pn||Ve.tag!==5&&Ve.tag!==6)&&(Ve=null)):(Ne=null,Ve=fe),Ne!==Ve)){if(Ue=du,xe="onMouseLeave",se="onMouseEnter",te="mouse",(o==="pointerout"||o==="pointerover")&&(Ue=$,xe="onPointerLeave",se="onPointerEnter",te="pointer"),pn=Ne==null?Te:ft(Ne),ue=Ve==null?Te:ft(Ve),Te=new Ue(xe,te+"leave",Ne,h,Ce),Te.target=pn,Te.relatedTarget=ue,xe=null,Fs(Ce)===fe&&(Ue=new Ue(se,te+"enter",Ve,h,Ce),Ue.target=ue,Ue.relatedTarget=pn,xe=Ue),pn=xe,Ne&&Ve)t:{for(Ue=Ne,se=Ve,te=0,ue=Ue;ue;ue=Pl(ue))te++;for(ue=0,xe=se;xe;xe=Pl(xe))ue++;for(;0<te-ue;)Ue=Pl(Ue),te--;for(;0<ue-te;)se=Pl(se),ue--;for(;te--;){if(Ue===se||se!==null&&Ue===se.alternate)break t;Ue=Pl(Ue),se=Pl(se)}Ue=null}else Ue=null;Ne!==null&&bn(be,Te,Ne,Ue,!1),Ve!==null&&pn!==null&&bn(be,pn,Ve,Ue,!0)}}e:{if(Te=fe?ft(fe):window,Ne=Te.nodeName&&Te.nodeName.toLowerCase(),Ne==="select"||Ne==="input"&&Te.type==="file")var Be=zw;else if(Ad(Te))if(mu)Be=ne;else{Be=Hw;var ze=Ww}else(Ne=Te.nodeName)&&Ne.toLowerCase()==="input"&&(Te.type==="checkbox"||Te.type==="radio")&&(Be=Il);if(Be&&(Be=Be(o,fe))){rm(be,Be,h,Ce);break e}ze&&ze(o,Te,fe),o==="focusout"&&(ze=Te._wrapperState)&&ze.controlled&&Te.type==="number"&&Ki(Te,"number",Te.value)}switch(ze=fe?ft(fe):window,o){case"focusin":(Ad(ze)||ze.contentEditable==="true")&&(To=ze,im=fe,Ls=null);break;case"focusout":Ls=im=To=null;break;case"mousedown":bl=!0;break;case"contextmenu":case"mouseup":case"dragend":bl=!1,tf(be,h,Ce);break;case"selectionchange":if(Pi)break;case"keydown":case"keyup":tf(be,h,Ce)}var We;if(dn)e:{switch(o){case"compositionstart":var Xe="onCompositionStart";break e;case"compositionend":Xe="onCompositionEnd";break e;case"compositionupdate":Xe="onCompositionUpdate";break e}Xe=void 0}else El?Uy(o,h)&&(Xe="onCompositionEnd"):o==="keydown"&&h.keyCode===229&&(Xe="onCompositionStart");Xe&&(sa&&h.locale!=="ko"&&(El||Xe!=="onCompositionStart"?Xe==="onCompositionEnd"&&El&&(We=vl()):(Lt=Ce,na="value"in Lt?Lt.value:Lt.textContent,El=!0)),ze=Ld(fe,Xe),0<ze.length&&(Xe=new Jc(Xe,o,null,h,Ce),be.push({event:Xe,listeners:ze}),We?Xe.data=We:(We=By(h),We!==null&&(Xe.data=We)))),(We=Hr?Cl(o,h):Bw(o,h))&&(fe=Ld(fe,"onBeforeInput"),0<fe.length&&(Ce=new Jc("onBeforeInput","beforeinput",null,h,Ce),be.push({event:Ce,listeners:fe}),Ce.data=We))}Gy(be,u)})}function xl(o,u,h){return{instance:o,listener:u,currentTarget:h}}function Ld(o,u){for(var h=u+"Capture",y=[];o!==null;){var w=o,E=w.stateNode;w.tag===5&&E!==null&&(w=E,E=yn(o,h),E!=null&&y.unshift(xl(o,E,w)),E=yn(o,u),E!=null&&y.push(xl(o,E,w))),o=o.return}return y}function Pl(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5);return o||null}function bn(o,u,h,y,w){for(var E=u._reactName,N=[];h!==null&&h!==y;){var Q=h,Z=Q.alternate,fe=Q.stateNode;if(Z!==null&&Z===y)break;Q.tag===5&&fe!==null&&(Q=fe,w?(Z=yn(h,E),Z!=null&&N.unshift(xl(h,Z,Q))):w||(Z=yn(h,E),Z!=null&&N.push(xl(h,Z,Q)))),h=h.return}N.length!==0&&o.push({event:u,listeners:N})}var yr=/\r\n?/g,Gw=/\u0000|\uFFFD/g;function Ky(o){return(typeof o=="string"?o:""+o).replace(yr,`
`).replace(Gw,"")}function af(o,u,h){if(u=Ky(u),Ky(o)!==u&&h)throw Error(n(425))}function Vd(){}var uf=null,vu=null;function lf(o,u){return o==="textarea"||o==="noscript"||typeof u.children=="string"||typeof u.children=="number"||typeof u.dangerouslySetInnerHTML=="object"&&u.dangerouslySetInnerHTML!==null&&u.dangerouslySetInnerHTML.__html!=null}var ua=typeof setTimeout=="function"?setTimeout:void 0,cf=typeof clearTimeout=="function"?clearTimeout:void 0,Rl=typeof Promise=="function"?Promise:void 0,Fd=typeof queueMicrotask=="function"?queueMicrotask:typeof Rl<"u"?function(o){return Rl.resolve(null).then(o).catch(kl)}:ua;function kl(o){setTimeout(function(){throw o})}function um(o,u){var h=u,y=0;do{var w=h.nextSibling;if(o.removeChild(h),w&&w.nodeType===8)if(h=w.data,h==="/$"){if(y===0){o.removeChild(w),vt(u);return}y--}else h!=="$"&&h!=="$?"&&h!=="$!"||y++;h=w}while(h);vt(u)}function la(o){for(;o!=null;o=o.nextSibling){var u=o.nodeType;if(u===1||u===3)break;if(u===8){if(u=o.data,u==="$"||u==="$!"||u==="$?")break;if(u==="/$")return null}}return o}function Yy(o){o=o.previousSibling;for(var u=0;o;){if(o.nodeType===8){var h=o.data;if(h==="$"||h==="$!"||h==="$?"){if(u===0)return o;u--}else h==="/$"&&u++}o=o.previousSibling}return null}var Ol=Math.random().toString(36).slice(2),Vs="__reactFiber$"+Ol,ca="__reactProps$"+Ol,gi="__reactContainer$"+Ol,Ud="__reactEvents$"+Ol,U="__reactListeners$"+Ol,Dl="__reactHandles$"+Ol;function Fs(o){var u=o[Vs];if(u)return u;for(var h=o.parentNode;h;){if(u=h[gi]||h[Vs]){if(h=u.alternate,u.child!==null||h!==null&&h.child!==null)for(o=Yy(o);o!==null;){if(h=o[Vs])return h;o=Yy(o)}return u}o=h,h=o.parentNode}return null}function vr(o){return o=o[Vs]||o[gi],!o||o.tag!==5&&o.tag!==6&&o.tag!==13&&o.tag!==3?null:o}function ft(o){if(o.tag===5||o.tag===6)return o.stateNode;throw Error(n(33))}function Bd(o){return o[ca]||null}var lm=[],Nl=-1;function qr(o){return{current:o}}function Xt(o){0>Nl||(o.current=lm[Nl],lm[Nl]=null,Nl--)}function Kt(o,u){Nl++,lm[Nl]=o.current,o.current=u}var fa={},_r=qr(fa),Gr=qr(!1),Rr=fa;function Ml(o,u){var h=o.type.contextTypes;if(!h)return fa;var y=o.stateNode;if(y&&y.__reactInternalMemoizedUnmaskedChildContext===u)return y.__reactInternalMemoizedMaskedChildContext;var w={},E;for(E in h)w[E]=u[E];return y&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=u,o.__reactInternalMemoizedMaskedChildContext=w),w}function Kr(o){return o=o.childContextTypes,o!=null}function $d(){Xt(Gr),Xt(_r)}function Qy(o,u,h){if(_r.current!==fa)throw Error(n(168));Kt(_r,u),Kt(Gr,h)}function Xy(o,u,h){var y=o.stateNode;if(u=u.childContextTypes,typeof y.getChildContext!="function")return h;y=y.getChildContext();for(var w in y)if(!(w in u))throw Error(n(108,ut(o)||"Unknown",w));return Ee({},h,y)}function Ri(o){return o=(o=o.stateNode)&&o.__reactInternalMemoizedMergedChildContext||fa,Rr=_r.current,Kt(_r,o),Kt(Gr,Gr.current),!0}function Zy(o,u,h){var y=o.stateNode;if(!y)throw Error(n(169));h?(o=Xy(o,u,Rr),y.__reactInternalMemoizedMergedChildContext=o,Xt(Gr),Xt(_r),Kt(_r,o)):Xt(Gr),Kt(Gr,h)}var Io=null,jd=!1,cm=!1;function Jy(o){Io===null?Io=[o]:Io.push(o)}function _u(o){jd=!0,Jy(o)}function da(){if(!cm&&Io!==null){cm=!0;var o=0,u=yt;try{var h=Io;for(yt=1;o<h.length;o++){var y=h[o];do y=y(!0);while(y!==null)}Io=null,jd=!1}catch(w){throw Io!==null&&(Io=Io.slice(o+1)),hl(iu,da),w}finally{yt=u,cm=!1}}return null}var Ll=[],wr=0,zd=null,Wd=0,ki=[],Oi=0,wu=null,Us=1,Bs="";function Su(o,u){Ll[wr++]=Wd,Ll[wr++]=zd,zd=o,Wd=u}function ev(o,u,h){ki[Oi++]=Us,ki[Oi++]=Bs,ki[Oi++]=wu,wu=o;var y=Us;o=Bs;var w=32-Pr(y)-1;y&=~(1<<w),h+=1;var E=32-Pr(u)+w;if(30<E){var N=w-w%5;E=(y&(1<<N)-1).toString(32),y>>=N,w-=N,Us=1<<32-Pr(u)+w|h<<w|y,Bs=E+o}else Us=1<<E|h<<w|y,Bs=o}function ff(o){o.return!==null&&(Su(o,1),ev(o,1,0))}function Tu(o){for(;o===zd;)zd=Ll[--wr],Ll[wr]=null,Wd=Ll[--wr],Ll[wr]=null;for(;o===wu;)wu=ki[--Oi],ki[Oi]=null,Bs=ki[--Oi],ki[Oi]=null,Us=ki[--Oi],ki[Oi]=null}var Sr=null,yi=null,Zt=!1,as=null;function $s(o,u){var h=Ui(5,null,null,0);h.elementType="DELETED",h.stateNode=u,h.return=o,u=o.deletions,u===null?(o.deletions=[h],o.flags|=16):u.push(h)}function Hd(o,u){switch(o.tag){case 5:var h=o.type;return u=u.nodeType!==1||h.toLowerCase()!==u.nodeName.toLowerCase()?null:u,u!==null?(o.stateNode=u,Sr=o,yi=la(u.firstChild),!0):!1;case 6:return u=o.pendingProps===""||u.nodeType!==3?null:u,u!==null?(o.stateNode=u,Sr=o,yi=null,!0):!1;case 13:return u=u.nodeType!==8?null:u,u!==null?(h=wu!==null?{id:Us,overflow:Bs}:null,o.memoizedState={dehydrated:u,treeContext:h,retryLane:1073741824},h=Ui(18,null,null,0),h.stateNode=u,h.return=o,o.child=h,Sr=o,yi=null,!0):!1;default:return!1}}function bo(o){return(o.mode&1)!==0&&(o.flags&128)===0}function Yr(o){if(Zt){var u=yi;if(u){var h=u;if(!Hd(o,u)){if(bo(o))throw Error(n(418));u=la(h.nextSibling);var y=Sr;u&&Hd(o,u)?$s(y,h):(o.flags=o.flags&-4097|2,Zt=!1,Sr=o)}}else{if(bo(o))throw Error(n(418));o.flags=o.flags&-4097|2,Zt=!1,Sr=o}}}function tv(o){for(o=o.return;o!==null&&o.tag!==5&&o.tag!==3&&o.tag!==13;)o=o.return;Sr=o}function df(o){if(o!==Sr)return!1;if(!Zt)return tv(o),Zt=!0,!1;var u;if((u=o.tag!==3)&&!(u=o.tag!==5)&&(u=o.type,u=u!=="head"&&u!=="body"&&!lf(o.type,o.memoizedProps)),u&&(u=yi)){if(bo(o))throw fm(),Error(n(418));for(;u;)$s(o,u),u=la(u.nextSibling)}if(tv(o),o.tag===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(n(317));e:{for(o=o.nextSibling,u=0;o;){if(o.nodeType===8){var h=o.data;if(h==="/$"){if(u===0){yi=la(o.nextSibling);break e}u--}else h!=="$"&&h!=="$!"&&h!=="$?"||u++}o=o.nextSibling}yi=null}}else yi=Sr?la(o.stateNode.nextSibling):null;return!0}function fm(){for(var o=yi;o;)o=la(o.nextSibling)}function js(){yi=Sr=null,Zt=!1}function zs(o){as===null?as=[o]:as.push(o)}var nv=G.ReactCurrentBatchConfig;function hf(o,u,h){if(o=h.ref,o!==null&&typeof o!="function"&&typeof o!="object"){if(h._owner){if(h=h._owner,h){if(h.tag!==1)throw Error(n(309));var y=h.stateNode}if(!y)throw Error(n(147,o));var w=y,E=""+o;return u!==null&&u.ref!==null&&typeof u.ref=="function"&&u.ref._stringRef===E?u.ref:(u=function(N){var Q=w.refs;N===null?delete Q[E]:Q[E]=N},u._stringRef=E,u)}if(typeof o!="string")throw Error(n(284));if(!h._owner)throw Error(n(290,o))}return o}function Eu(o,u){throw o=Object.prototype.toString.call(u),Error(n(31,o==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":o))}function rv(o){var u=o._init;return u(o._payload)}function dm(o){function u(se,te){if(o){var ue=se.deletions;ue===null?(se.deletions=[te],se.flags|=16):ue.push(te)}}function h(se,te){if(!o)return null;for(;te!==null;)u(se,te),te=te.sibling;return null}function y(se,te){for(se=new Map;te!==null;)te.key!==null?se.set(te.key,te):se.set(te.index,te),te=te.sibling;return se}function w(se,te){return se=ps(se,te),se.index=0,se.sibling=null,se}function E(se,te,ue){return se.index=ue,o?(ue=se.alternate,ue!==null?(ue=ue.index,ue<te?(se.flags|=2,te):ue):(se.flags|=2,te)):(se.flags|=1048576,te)}function N(se){return o&&se.alternate===null&&(se.flags|=2),se}function Q(se,te,ue,xe){return te===null||te.tag!==6?(te=Zm(ue,se.mode,xe),te.return=se,te):(te=w(te,ue),te.return=se,te)}function Z(se,te,ue,xe){var Be=ue.type;return Be===D?Ce(se,te,ue.props.children,xe,ue.key):te!==null&&(te.elementType===Be||typeof Be=="object"&&Be!==null&&Be.$$typeof===_e&&rv(Be)===te.type)?(xe=w(te,ue.props),xe.ref=hf(se,te,ue),xe.return=se,xe):(xe=bh(ue.type,ue.key,ue.props,null,se.mode,xe),xe.ref=hf(se,te,ue),xe.return=se,xe)}function fe(se,te,ue,xe){return te===null||te.tag!==4||te.stateNode.containerInfo!==ue.containerInfo||te.stateNode.implementation!==ue.implementation?(te=Jm(ue,se.mode,xe),te.return=se,te):(te=w(te,ue.children||[]),te.return=se,te)}function Ce(se,te,ue,xe,Be){return te===null||te.tag!==7?(te=Nu(ue,se.mode,xe,Be),te.return=se,te):(te=w(te,ue),te.return=se,te)}function be(se,te,ue){if(typeof te=="string"&&te!==""||typeof te=="number")return te=Zm(""+te,se.mode,ue),te.return=se,te;if(typeof te=="object"&&te!==null){switch(te.$$typeof){case V:return ue=bh(te.type,te.key,te.props,null,se.mode,ue),ue.ref=hf(se,null,te),ue.return=se,ue;case Y:return te=Jm(te,se.mode,ue),te.return=se,te;case _e:var xe=te._init;return be(se,xe(te._payload),ue)}if(ci(te)||Ae(te))return te=Nu(te,se.mode,ue,null),te.return=se,te;Eu(se,te)}return null}function Te(se,te,ue,xe){var Be=te!==null?te.key:null;if(typeof ue=="string"&&ue!==""||typeof ue=="number")return Be!==null?null:Q(se,te,""+ue,xe);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case V:return ue.key===Be?Z(se,te,ue,xe):null;case Y:return ue.key===Be?fe(se,te,ue,xe):null;case _e:return Be=ue._init,Te(se,te,Be(ue._payload),xe)}if(ci(ue)||Ae(ue))return Be!==null?null:Ce(se,te,ue,xe,null);Eu(se,ue)}return null}function Ne(se,te,ue,xe,Be){if(typeof xe=="string"&&xe!==""||typeof xe=="number")return se=se.get(ue)||null,Q(te,se,""+xe,Be);if(typeof xe=="object"&&xe!==null){switch(xe.$$typeof){case V:return se=se.get(xe.key===null?ue:xe.key)||null,Z(te,se,xe,Be);case Y:return se=se.get(xe.key===null?ue:xe.key)||null,fe(te,se,xe,Be);case _e:var ze=xe._init;return Ne(se,te,ue,ze(xe._payload),Be)}if(ci(xe)||Ae(xe))return se=se.get(ue)||null,Ce(te,se,xe,Be,null);Eu(te,xe)}return null}function Ve(se,te,ue,xe){for(var Be=null,ze=null,We=te,Xe=te=0,Wn=null;We!==null&&Xe<ue.length;Xe++){We.index>Xe?(Wn=We,We=null):Wn=We.sibling;var Rt=Te(se,We,ue[Xe],xe);if(Rt===null){We===null&&(We=Wn);break}o&&We&&Rt.alternate===null&&u(se,We),te=E(Rt,te,Xe),ze===null?Be=Rt:ze.sibling=Rt,ze=Rt,We=Wn}if(Xe===ue.length)return h(se,We),Zt&&Su(se,Xe),Be;if(We===null){for(;Xe<ue.length;Xe++)We=be(se,ue[Xe],xe),We!==null&&(te=E(We,te,Xe),ze===null?Be=We:ze.sibling=We,ze=We);return Zt&&Su(se,Xe),Be}for(We=y(se,We);Xe<ue.length;Xe++)Wn=Ne(We,se,Xe,ue[Xe],xe),Wn!==null&&(o&&Wn.alternate!==null&&We.delete(Wn.key===null?Xe:Wn.key),te=E(Wn,te,Xe),ze===null?Be=Wn:ze.sibling=Wn,ze=Wn);return o&&We.forEach(function(Ca){return u(se,Ca)}),Zt&&Su(se,Xe),Be}function Ue(se,te,ue,xe){var Be=Ae(ue);if(typeof Be!="function")throw Error(n(150));if(ue=Be.call(ue),ue==null)throw Error(n(151));for(var ze=Be=null,We=te,Xe=te=0,Wn=null,Rt=ue.next();We!==null&&!Rt.done;Xe++,Rt=ue.next()){We.index>Xe?(Wn=We,We=null):Wn=We.sibling;var Ca=Te(se,We,Rt.value,xe);if(Ca===null){We===null&&(We=Wn);break}o&&We&&Ca.alternate===null&&u(se,We),te=E(Ca,te,Xe),ze===null?Be=Ca:ze.sibling=Ca,ze=Ca,We=Wn}if(Rt.done)return h(se,We),Zt&&Su(se,Xe),Be;if(We===null){for(;!Rt.done;Xe++,Rt=ue.next())Rt=be(se,Rt.value,xe),Rt!==null&&(te=E(Rt,te,Xe),ze===null?Be=Rt:ze.sibling=Rt,ze=Rt);return Zt&&Su(se,Xe),Be}for(We=y(se,We);!Rt.done;Xe++,Rt=ue.next())Rt=Ne(We,se,Xe,Rt.value,xe),Rt!==null&&(o&&Rt.alternate!==null&&We.delete(Rt.key===null?Xe:Rt.key),te=E(Rt,te,Xe),ze===null?Be=Rt:ze.sibling=Rt,ze=Rt);return o&&We.forEach(function(dS){return u(se,dS)}),Zt&&Su(se,Xe),Be}function pn(se,te,ue,xe){if(typeof ue=="object"&&ue!==null&&ue.type===D&&ue.key===null&&(ue=ue.props.children),typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case V:e:{for(var Be=ue.key,ze=te;ze!==null;){if(ze.key===Be){if(Be=ue.type,Be===D){if(ze.tag===7){h(se,ze.sibling),te=w(ze,ue.props.children),te.return=se,se=te;break e}}else if(ze.elementType===Be||typeof Be=="object"&&Be!==null&&Be.$$typeof===_e&&rv(Be)===ze.type){h(se,ze.sibling),te=w(ze,ue.props),te.ref=hf(se,ze,ue),te.return=se,se=te;break e}h(se,ze);break}else u(se,ze);ze=ze.sibling}ue.type===D?(te=Nu(ue.props.children,se.mode,xe,ue.key),te.return=se,se=te):(xe=bh(ue.type,ue.key,ue.props,null,se.mode,xe),xe.ref=hf(se,te,ue),xe.return=se,se=xe)}return N(se);case Y:e:{for(ze=ue.key;te!==null;){if(te.key===ze)if(te.tag===4&&te.stateNode.containerInfo===ue.containerInfo&&te.stateNode.implementation===ue.implementation){h(se,te.sibling),te=w(te,ue.children||[]),te.return=se,se=te;break e}else{h(se,te);break}else u(se,te);te=te.sibling}te=Jm(ue,se.mode,xe),te.return=se,se=te}return N(se);case _e:return ze=ue._init,pn(se,te,ze(ue._payload),xe)}if(ci(ue))return Ve(se,te,ue,xe);if(Ae(ue))return Ue(se,te,ue,xe);Eu(se,ue)}return typeof ue=="string"&&ue!==""||typeof ue=="number"?(ue=""+ue,te!==null&&te.tag===6?(h(se,te.sibling),te=w(te,ue),te.return=se,se=te):(h(se,te),te=Zm(ue,se.mode,xe),te.return=se,se=te),N(se)):h(se,te)}return pn}var hn=dm(!0),qd=dm(!1),pf=qr(null),vi=null,ha=null,Vl=null;function Ao(){Vl=ha=vi=null}function Gd(o){var u=pf.current;Xt(pf),o._currentValue=u}function ar(o,u,h){for(;o!==null;){var y=o.alternate;if((o.childLanes&u)!==u?(o.childLanes|=u,y!==null&&(y.childLanes|=u)):y!==null&&(y.childLanes&u)!==u&&(y.childLanes|=u),o===h)break;o=o.return}}function pa(o,u){vi=o,Vl=ha=null,o=o.dependencies,o!==null&&o.firstContext!==null&&(o.lanes&u&&(Or=!0),o.firstContext=null)}function Di(o){var u=o._currentValue;if(Vl!==o)if(o={context:o,memoizedValue:u,next:null},ha===null){if(vi===null)throw Error(n(308));ha=o,vi.dependencies={lanes:0,firstContext:o}}else ha=ha.next=o;return u}var Cu=null;function hm(o){Cu===null?Cu=[o]:Cu.push(o)}function Kd(o,u,h,y){var w=u.interleaved;return w===null?(h.next=h,hm(u)):(h.next=w.next,w.next=h),u.interleaved=h,xo(o,y)}function xo(o,u){o.lanes|=u;var h=o.alternate;for(h!==null&&(h.lanes|=u),h=o,o=o.return;o!==null;)o.childLanes|=u,h=o.alternate,h!==null&&(h.childLanes|=u),h=o,o=o.return;return h.tag===3?h.stateNode:null}var Ni=!1;function Yd(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function iv(o,u){o=o.updateQueue,u.updateQueue===o&&(u.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,effects:o.effects})}function Po(o,u){return{eventTime:o,lane:u,tag:0,payload:null,callback:null,next:null}}function Mi(o,u,h){var y=o.updateQueue;if(y===null)return null;if(y=y.shared,It&2){var w=y.pending;return w===null?u.next=u:(u.next=w.next,w.next=u),y.pending=u,xo(o,h)}return w=y.interleaved,w===null?(u.next=u,hm(y)):(u.next=w.next,w.next=u),y.interleaved=u,xo(o,h)}function Qd(o,u,h){if(u=u.updateQueue,u!==null&&(u=u.shared,(h&4194240)!==0)){var y=u.lanes;y&=o.pendingLanes,h|=y,u.lanes=h,Ds(o,h)}}function sv(o,u){var h=o.updateQueue,y=o.alternate;if(y!==null&&(y=y.updateQueue,h===y)){var w=null,E=null;if(h=h.firstBaseUpdate,h!==null){do{var N={eventTime:h.eventTime,lane:h.lane,tag:h.tag,payload:h.payload,callback:h.callback,next:null};E===null?w=E=N:E=E.next=N,h=h.next}while(h!==null);E===null?w=E=u:E=E.next=u}else w=E=u;h={baseState:y.baseState,firstBaseUpdate:w,lastBaseUpdate:E,shared:y.shared,effects:y.effects},o.updateQueue=h;return}o=h.lastBaseUpdate,o===null?h.firstBaseUpdate=u:o.next=u,h.lastBaseUpdate=u}function Fl(o,u,h,y){var w=o.updateQueue;Ni=!1;var E=w.firstBaseUpdate,N=w.lastBaseUpdate,Q=w.shared.pending;if(Q!==null){w.shared.pending=null;var Z=Q,fe=Z.next;Z.next=null,N===null?E=fe:N.next=fe,N=Z;var Ce=o.alternate;Ce!==null&&(Ce=Ce.updateQueue,Q=Ce.lastBaseUpdate,Q!==N&&(Q===null?Ce.firstBaseUpdate=fe:Q.next=fe,Ce.lastBaseUpdate=Z))}if(E!==null){var be=w.baseState;N=0,Ce=fe=Z=null,Q=E;do{var Te=Q.lane,Ne=Q.eventTime;if((y&Te)===Te){Ce!==null&&(Ce=Ce.next={eventTime:Ne,lane:0,tag:Q.tag,payload:Q.payload,callback:Q.callback,next:null});e:{var Ve=o,Ue=Q;switch(Te=u,Ne=h,Ue.tag){case 1:if(Ve=Ue.payload,typeof Ve=="function"){be=Ve.call(Ne,be,Te);break e}be=Ve;break e;case 3:Ve.flags=Ve.flags&-65537|128;case 0:if(Ve=Ue.payload,Te=typeof Ve=="function"?Ve.call(Ne,be,Te):Ve,Te==null)break e;be=Ee({},be,Te);break e;case 2:Ni=!0}}Q.callback!==null&&Q.lane!==0&&(o.flags|=64,Te=w.effects,Te===null?w.effects=[Q]:Te.push(Q))}else Ne={eventTime:Ne,lane:Te,tag:Q.tag,payload:Q.payload,callback:Q.callback,next:null},Ce===null?(fe=Ce=Ne,Z=be):Ce=Ce.next=Ne,N|=Te;if(Q=Q.next,Q===null){if(Q=w.shared.pending,Q===null)break;Te=Q,Q=Te.next,Te.next=null,w.lastBaseUpdate=Te,w.shared.pending=null}}while(!0);if(Ce===null&&(Z=be),w.baseState=Z,w.firstBaseUpdate=fe,w.lastBaseUpdate=Ce,u=w.shared.interleaved,u!==null){w=u;do N|=w.lane,w=w.next;while(w!==u)}else E===null&&(w.shared.lanes=0);_a|=N,o.lanes=N,o.memoizedState=be}}function pm(o,u,h){if(o=u.effects,u.effects=null,o!==null)for(u=0;u<o.length;u++){var y=o[u],w=y.callback;if(w!==null){if(y.callback=null,y=h,typeof w!="function")throw Error(n(191,w));w.call(y)}}}var mf={},Ws=qr(mf),gf=qr(mf),Ul=qr(mf);function Ro(o){if(o===mf)throw Error(n(174));return o}function mm(o,u){switch(Kt(Ul,u),Kt(gf,o),Kt(Ws,mf),o=u.nodeType,o){case 9:case 11:u=(u=u.documentElement)?u.namespaceURI:un(null,"");break;default:o=o===8?u.parentNode:u,u=o.namespaceURI||null,o=o.tagName,u=un(u,o)}Xt(Ws),Kt(Ws,u)}function ma(){Xt(Ws),Xt(gf),Xt(Ul)}function gm(o){Ro(Ul.current);var u=Ro(Ws.current),h=un(u,o.type);u!==h&&(Kt(gf,o),Kt(Ws,h))}function Xd(o){gf.current===o&&(Xt(Ws),Xt(gf))}var nn=qr(0);function Iu(o){for(var u=o;u!==null;){if(u.tag===13){var h=u.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||h.data==="$?"||h.data==="$!"))return u}else if(u.tag===19&&u.memoizedProps.revealOrder!==void 0){if(u.flags&128)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===o)break;for(;u.sibling===null;){if(u.return===null||u.return===o)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}var ym=[];function Zd(){for(var o=0;o<ym.length;o++)ym[o]._workInProgressVersionPrimary=null;ym.length=0}var yf=G.ReactCurrentDispatcher,vm=G.ReactCurrentBatchConfig,ga=0,ln=null,_n=null,jn=null,Bl=!1,vf=!1,bu=0,ht=0;function Tr(){throw Error(n(321))}function _m(o,u){if(u===null)return!1;for(var h=0;h<u.length&&h<o.length;h++)if(!le(o[h],u[h]))return!1;return!0}function Au(o,u,h,y,w,E){if(ga=E,ln=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,yf.current=o===null||o.memoizedState===null?Yw:sh,o=h(y,w),vf){E=0;do{if(vf=!1,bu=0,25<=E)throw Error(n(301));E+=1,jn=_n=null,u.updateQueue=null,yf.current=Wl,o=h(y,w)}while(vf)}if(yf.current=ih,u=_n!==null&&_n.next!==null,ga=0,jn=_n=ln=null,Bl=!1,u)throw Error(n(300));return o}function Jd(){var o=bu!==0;return bu=0,o}function Hs(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return jn===null?ln.memoizedState=jn=o:jn=jn.next=o,jn}function Li(){if(_n===null){var o=ln.alternate;o=o!==null?o.memoizedState:null}else o=_n.next;var u=jn===null?ln.memoizedState:jn.next;if(u!==null)jn=u,_n=o;else{if(o===null)throw Error(n(310));_n=o,o={memoizedState:_n.memoizedState,baseState:_n.baseState,baseQueue:_n.baseQueue,queue:_n.queue,next:null},jn===null?ln.memoizedState=jn=o:jn=jn.next=o}return jn}function Er(o,u){return typeof u=="function"?u(o):u}function wm(o){var u=Li(),h=u.queue;if(h===null)throw Error(n(311));h.lastRenderedReducer=o;var y=_n,w=y.baseQueue,E=h.pending;if(E!==null){if(w!==null){var N=w.next;w.next=E.next,E.next=N}y.baseQueue=w=E,h.pending=null}if(w!==null){E=w.next,y=y.baseState;var Q=N=null,Z=null,fe=E;do{var Ce=fe.lane;if((ga&Ce)===Ce)Z!==null&&(Z=Z.next={lane:0,action:fe.action,hasEagerState:fe.hasEagerState,eagerState:fe.eagerState,next:null}),y=fe.hasEagerState?fe.eagerState:o(y,fe.action);else{var be={lane:Ce,action:fe.action,hasEagerState:fe.hasEagerState,eagerState:fe.eagerState,next:null};Z===null?(Q=Z=be,N=y):Z=Z.next=be,ln.lanes|=Ce,_a|=Ce}fe=fe.next}while(fe!==null&&fe!==E);Z===null?N=y:Z.next=Q,le(y,u.memoizedState)||(Or=!0),u.memoizedState=y,u.baseState=N,u.baseQueue=Z,h.lastRenderedState=y}if(o=h.interleaved,o!==null){w=o;do E=w.lane,ln.lanes|=E,_a|=E,w=w.next;while(w!==o)}else w===null&&(h.lanes=0);return[u.memoizedState,h.dispatch]}function $l(o){var u=Li(),h=u.queue;if(h===null)throw Error(n(311));h.lastRenderedReducer=o;var y=h.dispatch,w=h.pending,E=u.memoizedState;if(w!==null){h.pending=null;var N=w=w.next;do E=o(E,N.action),N=N.next;while(N!==w);le(E,u.memoizedState)||(Or=!0),u.memoizedState=E,u.baseQueue===null&&(u.baseState=E),h.lastRenderedState=E}return[E,y]}function eh(){}function Sm(o,u){var h=ln,y=Li(),w=u(),E=!le(y.memoizedState,w);if(E&&(y.memoizedState=w,Or=!0),y=y.queue,qs(ko.bind(null,h,y,o),[o]),y.getSnapshot!==u||E||jn!==null&&jn.memoizedState.tag&1){if(h.flags|=2048,jl(9,Qr.bind(null,h,y,w,u),void 0,null),er===null)throw Error(n(349));ga&30||Tm(h,u,w)}return w}function Tm(o,u,h){o.flags|=16384,o={getSnapshot:u,value:h},u=ln.updateQueue,u===null?(u={lastEffect:null,stores:null},ln.updateQueue=u,u.stores=[o]):(h=u.stores,h===null?u.stores=[o]:h.push(o))}function Qr(o,u,h,y){u.value=h,u.getSnapshot=y,th(u)&&Em(o)}function ko(o,u,h){return h(function(){th(u)&&Em(o)})}function th(o){var u=o.getSnapshot;o=o.value;try{var h=u();return!le(o,h)}catch{return!0}}function Em(o){var u=xo(o,1);u!==null&&hs(u,o,1,-1)}function _f(o){var u=Hs();return typeof o=="function"&&(o=o()),u.memoizedState=u.baseState=o,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Er,lastRenderedState:o},u.queue=o,o=o.dispatch=fv.bind(null,ln,o),[u.memoizedState,o]}function jl(o,u,h,y){return o={tag:o,create:u,destroy:h,deps:y,next:null},u=ln.updateQueue,u===null?(u={lastEffect:null,stores:null},ln.updateQueue=u,u.lastEffect=o.next=o):(h=u.lastEffect,h===null?u.lastEffect=o.next=o:(y=h.next,h.next=o,o.next=y,u.lastEffect=o)),o}function nh(){return Li().memoizedState}function wf(o,u,h,y){var w=Hs();ln.flags|=o,w.memoizedState=jl(1|u,h,void 0,y===void 0?null:y)}function zl(o,u,h,y){var w=Li();y=y===void 0?null:y;var E=void 0;if(_n!==null){var N=_n.memoizedState;if(E=N.destroy,y!==null&&_m(y,N.deps)){w.memoizedState=jl(u,h,E,y);return}}ln.flags|=o,w.memoizedState=jl(1|u,h,E,y)}function rh(o,u){return wf(8390656,8,o,u)}function qs(o,u){return zl(2048,8,o,u)}function ov(o,u){return zl(4,2,o,u)}function Oo(o,u){return zl(4,4,o,u)}function Cm(o,u){if(typeof u=="function")return o=o(),u(o),function(){u(null)};if(u!=null)return o=o(),u.current=o,function(){u.current=null}}function Im(o,u,h){return h=h!=null?h.concat([o]):null,zl(4,4,Cm.bind(null,u,o),h)}function Sf(){}function av(o,u){var h=Li();u=u===void 0?null:u;var y=h.memoizedState;return y!==null&&u!==null&&_m(u,y[1])?y[0]:(h.memoizedState=[o,u],o)}function uv(o,u){var h=Li();u=u===void 0?null:u;var y=h.memoizedState;return y!==null&&u!==null&&_m(u,y[1])?y[0]:(o=o(),h.memoizedState=[o,u],o)}function lv(o,u,h){return ga&21?(le(h,u)||(h=Jo(),ln.lanes|=h,_a|=h,o.baseState=!0),u):(o.baseState&&(o.baseState=!1,Or=!0),o.memoizedState=h)}function cv(o,u){var h=yt;yt=h!==0&&4>h?h:4,o(!0);var y=vm.transition;vm.transition={};try{o(!1),u()}finally{yt=h,vm.transition=y}}function bm(){return Li().memoizedState}function Kw(o,u,h){var y=Ta(o);if(h={lane:y,action:h,hasEagerState:!1,eagerState:null,next:null},Am(o))kr(u,h);else if(h=Kd(o,u,h,y),h!==null){var w=Mr();hs(h,o,y,w),us(h,u,y)}}function fv(o,u,h){var y=Ta(o),w={lane:y,action:h,hasEagerState:!1,eagerState:null,next:null};if(Am(o))kr(u,w);else{var E=o.alternate;if(o.lanes===0&&(E===null||E.lanes===0)&&(E=u.lastRenderedReducer,E!==null))try{var N=u.lastRenderedState,Q=E(N,h);if(w.hasEagerState=!0,w.eagerState=Q,le(Q,N)){var Z=u.interleaved;Z===null?(w.next=w,hm(u)):(w.next=Z.next,Z.next=w),u.interleaved=w;return}}catch{}finally{}h=Kd(o,u,w,y),h!==null&&(w=Mr(),hs(h,o,y,w),us(h,u,y))}}function Am(o){var u=o.alternate;return o===ln||u!==null&&u===ln}function kr(o,u){vf=Bl=!0;var h=o.pending;h===null?u.next=u:(u.next=h.next,h.next=u),o.pending=u}function us(o,u,h){if(h&4194240){var y=u.lanes;y&=o.pendingLanes,h|=y,u.lanes=h,Ds(o,h)}}var ih={readContext:Di,useCallback:Tr,useContext:Tr,useEffect:Tr,useImperativeHandle:Tr,useInsertionEffect:Tr,useLayoutEffect:Tr,useMemo:Tr,useReducer:Tr,useRef:Tr,useState:Tr,useDebugValue:Tr,useDeferredValue:Tr,useTransition:Tr,useMutableSource:Tr,useSyncExternalStore:Tr,useId:Tr,unstable_isNewReconciler:!1},Yw={readContext:Di,useCallback:function(o,u){return Hs().memoizedState=[o,u===void 0?null:u],o},useContext:Di,useEffect:rh,useImperativeHandle:function(o,u,h){return h=h!=null?h.concat([o]):null,wf(4194308,4,Cm.bind(null,u,o),h)},useLayoutEffect:function(o,u){return wf(4194308,4,o,u)},useInsertionEffect:function(o,u){return wf(4,2,o,u)},useMemo:function(o,u){var h=Hs();return u=u===void 0?null:u,o=o(),h.memoizedState=[o,u],o},useReducer:function(o,u,h){var y=Hs();return u=h!==void 0?h(u):u,y.memoizedState=y.baseState=u,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:u},y.queue=o,o=o.dispatch=Kw.bind(null,ln,o),[y.memoizedState,o]},useRef:function(o){var u=Hs();return o={current:o},u.memoizedState=o},useState:_f,useDebugValue:Sf,useDeferredValue:function(o){return Hs().memoizedState=o},useTransition:function(){var o=_f(!1),u=o[0];return o=cv.bind(null,o[1]),Hs().memoizedState=o,[u,o]},useMutableSource:function(){},useSyncExternalStore:function(o,u,h){var y=ln,w=Hs();if(Zt){if(h===void 0)throw Error(n(407));h=h()}else{if(h=u(),er===null)throw Error(n(349));ga&30||Tm(y,u,h)}w.memoizedState=h;var E={value:h,getSnapshot:u};return w.queue=E,rh(ko.bind(null,y,E,o),[o]),y.flags|=2048,jl(9,Qr.bind(null,y,E,h,u),void 0,null),h},useId:function(){var o=Hs(),u=er.identifierPrefix;if(Zt){var h=Bs,y=Us;h=(y&~(1<<32-Pr(y)-1)).toString(32)+h,u=":"+u+"R"+h,h=bu++,0<h&&(u+="H"+h.toString(32)),u+=":"}else h=ht++,u=":"+u+"r"+h.toString(32)+":";return o.memoizedState=u},unstable_isNewReconciler:!1},sh={readContext:Di,useCallback:av,useContext:Di,useEffect:qs,useImperativeHandle:Im,useInsertionEffect:ov,useLayoutEffect:Oo,useMemo:uv,useReducer:wm,useRef:nh,useState:function(){return wm(Er)},useDebugValue:Sf,useDeferredValue:function(o){var u=Li();return lv(u,_n.memoizedState,o)},useTransition:function(){var o=wm(Er)[0],u=Li().memoizedState;return[o,u]},useMutableSource:eh,useSyncExternalStore:Sm,useId:bm,unstable_isNewReconciler:!1},Wl={readContext:Di,useCallback:av,useContext:Di,useEffect:qs,useImperativeHandle:Im,useInsertionEffect:ov,useLayoutEffect:Oo,useMemo:uv,useReducer:$l,useRef:nh,useState:function(){return $l(Er)},useDebugValue:Sf,useDeferredValue:function(o){var u=Li();return _n===null?u.memoizedState=o:lv(u,_n.memoizedState,o)},useTransition:function(){var o=$l(Er)[0],u=Li().memoizedState;return[o,u]},useMutableSource:eh,useSyncExternalStore:Sm,useId:bm,unstable_isNewReconciler:!1};function Vi(o,u){if(o&&o.defaultProps){u=Ee({},u),o=o.defaultProps;for(var h in o)u[h]===void 0&&(u[h]=o[h]);return u}return u}function oh(o,u,h,y){u=o.memoizedState,h=h(y,u),h=h==null?u:Ee({},u,h),o.memoizedState=h,o.lanes===0&&(o.updateQueue.baseState=h)}var ah={isMounted:function(o){return(o=o._reactInternals)?Zi(o)===o:!1},enqueueSetState:function(o,u,h){o=o._reactInternals;var y=Mr(),w=Ta(o),E=Po(y,w);E.payload=u,h!=null&&(E.callback=h),u=Mi(o,E,w),u!==null&&(hs(u,o,w,y),Qd(u,o,w))},enqueueReplaceState:function(o,u,h){o=o._reactInternals;var y=Mr(),w=Ta(o),E=Po(y,w);E.tag=1,E.payload=u,h!=null&&(E.callback=h),u=Mi(o,E,w),u!==null&&(hs(u,o,w,y),Qd(u,o,w))},enqueueForceUpdate:function(o,u){o=o._reactInternals;var h=Mr(),y=Ta(o),w=Po(h,y);w.tag=2,u!=null&&(w.callback=u),u=Mi(o,w,y),u!==null&&(hs(u,o,y,h),Qd(u,o,y))}};function xm(o,u,h,y,w,E,N){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(y,E,N):u.prototype&&u.prototype.isPureReactComponent?!De(h,y)||!De(w,E):!0}function xu(o,u,h){var y=!1,w=fa,E=u.contextType;return typeof E=="object"&&E!==null?E=Di(E):(w=Kr(u)?Rr:_r.current,y=u.contextTypes,E=(y=y!=null)?Ml(o,w):fa),u=new u(h,E),o.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=ah,o.stateNode=u,u._reactInternals=o,y&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=w,o.__reactInternalMemoizedMaskedChildContext=E),u}function Hl(o,u,h,y){o=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(h,y),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(h,y),u.state!==o&&ah.enqueueReplaceState(u,u.state,null)}function Pm(o,u,h,y){var w=o.stateNode;w.props=h,w.state=o.memoizedState,w.refs={},Yd(o);var E=u.contextType;typeof E=="object"&&E!==null?w.context=Di(E):(E=Kr(u)?Rr:_r.current,w.context=Ml(o,E)),w.state=o.memoizedState,E=u.getDerivedStateFromProps,typeof E=="function"&&(oh(o,u,E,h),w.state=o.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof w.getSnapshotBeforeUpdate=="function"||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(u=w.state,typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount(),u!==w.state&&ah.enqueueReplaceState(w,w.state,null),Fl(o,h,w,y),w.state=o.memoizedState),typeof w.componentDidMount=="function"&&(o.flags|=4194308)}function Pu(o,u){try{var h="",y=u;do h+=je(y),y=y.return;while(y);var w=h}catch(E){w=`
Error generating stack: `+E.message+`
`+E.stack}return{value:o,source:u,stack:w,digest:null}}function uh(o,u,h){return{value:o,source:null,stack:h??null,digest:u??null}}function ql(o,u){try{console.error(u.value)}catch(h){setTimeout(function(){throw h})}}var dv=typeof WeakMap=="function"?WeakMap:Map;function Tf(o,u,h){h=Po(-1,h),h.tag=3,h.payload={element:null};var y=u.value;return h.callback=function(){_h||(_h=!0,Hm=y),ql(o,u)},h}function lh(o,u,h){h=Po(-1,h),h.tag=3;var y=o.type.getDerivedStateFromError;if(typeof y=="function"){var w=u.value;h.payload=function(){return y(w)},h.callback=function(){ql(o,u)}}var E=o.stateNode;return E!==null&&typeof E.componentDidCatch=="function"&&(h.callback=function(){ql(o,u),typeof y!="function"&&(wa===null?wa=new Set([this]):wa.add(this));var N=u.stack;this.componentDidCatch(u.value,{componentStack:N!==null?N:""})}),h}function Ef(o,u,h){var y=o.pingCache;if(y===null){y=o.pingCache=new dv;var w=new Set;y.set(u,w)}else w=y.get(u),w===void 0&&(w=new Set,y.set(u,w));w.has(h)||(w.add(h),o=rS.bind(null,o,u,h),u.then(o,o))}function hv(o){do{var u;if((u=o.tag===13)&&(u=o.memoizedState,u=u!==null?u.dehydrated!==null:!0),u)return o;o=o.return}while(o!==null);return null}function Rm(o,u,h,y,w){return o.mode&1?(o.flags|=65536,o.lanes=w,o):(o===u?o.flags|=65536:(o.flags|=128,h.flags|=131072,h.flags&=-52805,h.tag===1&&(h.alternate===null?h.tag=17:(u=Po(-1,1),u.tag=2,Mi(h,u,1))),h.lanes|=1),o)}var ch=G.ReactCurrentOwner,Or=!1;function ur(o,u,h,y){u.child=o===null?qd(u,null,h,y):hn(u,o.child,h,y)}function pv(o,u,h,y,w){h=h.render;var E=u.ref;return pa(u,w),y=Au(o,u,h,y,E,w),h=Jd(),o!==null&&!Or?(u.updateQueue=o.updateQueue,u.flags&=-2053,o.lanes&=~w,ls(o,u,w)):(Zt&&h&&ff(u),u.flags|=1,ur(o,u,y,w),u.child)}function km(o,u,h,y,w){if(o===null){var E=h.type;return typeof E=="function"&&!Ih(E)&&E.defaultProps===void 0&&h.compare===null&&h.defaultProps===void 0?(u.tag=15,u.type=E,Gs(o,u,E,y,w)):(o=bh(h.type,null,y,u,u.mode,w),o.ref=u.ref,o.return=u,u.child=o)}if(E=o.child,!(o.lanes&w)){var N=E.memoizedProps;if(h=h.compare,h=h!==null?h:De,h(N,y)&&o.ref===u.ref)return ls(o,u,w)}return u.flags|=1,o=ps(E,y),o.ref=u.ref,o.return=u,u.child=o}function Gs(o,u,h,y,w){if(o!==null){var E=o.memoizedProps;if(De(E,y)&&o.ref===u.ref)if(Or=!1,u.pendingProps=y=E,(o.lanes&w)!==0)o.flags&131072&&(Or=!0);else return u.lanes=o.lanes,ls(o,u,w)}return Nm(o,u,h,y,w)}function Om(o,u,h){var y=u.pendingProps,w=y.children,E=o!==null?o.memoizedState:null;if(y.mode==="hidden")if(!(u.mode&1))u.memoizedState={baseLanes:0,cachePool:null,transitions:null},Kt(Ql,wi),wi|=h;else{if(!(h&1073741824))return o=E!==null?E.baseLanes|h:h,u.lanes=u.childLanes=1073741824,u.memoizedState={baseLanes:o,cachePool:null,transitions:null},u.updateQueue=null,Kt(Ql,wi),wi|=o,null;u.memoizedState={baseLanes:0,cachePool:null,transitions:null},y=E!==null?E.baseLanes:h,Kt(Ql,wi),wi|=y}else E!==null?(y=E.baseLanes|h,u.memoizedState=null):y=h,Kt(Ql,wi),wi|=y;return ur(o,u,w,h),u.child}function Dm(o,u){var h=u.ref;(o===null&&h!==null||o!==null&&o.ref!==h)&&(u.flags|=512,u.flags|=2097152)}function Nm(o,u,h,y,w){var E=Kr(h)?Rr:_r.current;return E=Ml(u,E),pa(u,w),h=Au(o,u,h,y,E,w),y=Jd(),o!==null&&!Or?(u.updateQueue=o.updateQueue,u.flags&=-2053,o.lanes&=~w,ls(o,u,w)):(Zt&&y&&ff(u),u.flags|=1,ur(o,u,h,w),u.child)}function Mm(o,u,h,y,w){if(Kr(h)){var E=!0;Ri(u)}else E=!1;if(pa(u,w),u.stateNode===null)dh(o,u),xu(u,h,y),Pm(u,h,y,w),y=!0;else if(o===null){var N=u.stateNode,Q=u.memoizedProps;N.props=Q;var Z=N.context,fe=h.contextType;typeof fe=="object"&&fe!==null?fe=Di(fe):(fe=Kr(h)?Rr:_r.current,fe=Ml(u,fe));var Ce=h.getDerivedStateFromProps,be=typeof Ce=="function"||typeof N.getSnapshotBeforeUpdate=="function";be||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(Q!==y||Z!==fe)&&Hl(u,N,y,fe),Ni=!1;var Te=u.memoizedState;N.state=Te,Fl(u,y,N,w),Z=u.memoizedState,Q!==y||Te!==Z||Gr.current||Ni?(typeof Ce=="function"&&(oh(u,h,Ce,y),Z=u.memoizedState),(Q=Ni||xm(u,h,Q,y,Te,Z,fe))?(be||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount()),typeof N.componentDidMount=="function"&&(u.flags|=4194308)):(typeof N.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=y,u.memoizedState=Z),N.props=y,N.state=Z,N.context=fe,y=Q):(typeof N.componentDidMount=="function"&&(u.flags|=4194308),y=!1)}else{N=u.stateNode,iv(o,u),Q=u.memoizedProps,fe=u.type===u.elementType?Q:Vi(u.type,Q),N.props=fe,be=u.pendingProps,Te=N.context,Z=h.contextType,typeof Z=="object"&&Z!==null?Z=Di(Z):(Z=Kr(h)?Rr:_r.current,Z=Ml(u,Z));var Ne=h.getDerivedStateFromProps;(Ce=typeof Ne=="function"||typeof N.getSnapshotBeforeUpdate=="function")||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(Q!==be||Te!==Z)&&Hl(u,N,y,Z),Ni=!1,Te=u.memoizedState,N.state=Te,Fl(u,y,N,w);var Ve=u.memoizedState;Q!==be||Te!==Ve||Gr.current||Ni?(typeof Ne=="function"&&(oh(u,h,Ne,y),Ve=u.memoizedState),(fe=Ni||xm(u,h,fe,y,Te,Ve,Z)||!1)?(Ce||typeof N.UNSAFE_componentWillUpdate!="function"&&typeof N.componentWillUpdate!="function"||(typeof N.componentWillUpdate=="function"&&N.componentWillUpdate(y,Ve,Z),typeof N.UNSAFE_componentWillUpdate=="function"&&N.UNSAFE_componentWillUpdate(y,Ve,Z)),typeof N.componentDidUpdate=="function"&&(u.flags|=4),typeof N.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof N.componentDidUpdate!="function"||Q===o.memoizedProps&&Te===o.memoizedState||(u.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||Q===o.memoizedProps&&Te===o.memoizedState||(u.flags|=1024),u.memoizedProps=y,u.memoizedState=Ve),N.props=y,N.state=Ve,N.context=Z,y=fe):(typeof N.componentDidUpdate!="function"||Q===o.memoizedProps&&Te===o.memoizedState||(u.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||Q===o.memoizedProps&&Te===o.memoizedState||(u.flags|=1024),y=!1)}return Lm(o,u,h,y,E,w)}function Lm(o,u,h,y,w,E){Dm(o,u);var N=(u.flags&128)!==0;if(!y&&!N)return w&&Zy(u,h,!1),ls(o,u,E);y=u.stateNode,ch.current=u;var Q=N&&typeof h.getDerivedStateFromError!="function"?null:y.render();return u.flags|=1,o!==null&&N?(u.child=hn(u,o.child,null,E),u.child=hn(u,null,Q,E)):ur(o,u,Q,E),u.memoizedState=y.state,w&&Zy(u,h,!0),u.child}function mv(o){var u=o.stateNode;u.pendingContext?Qy(o,u.pendingContext,u.pendingContext!==u.context):u.context&&Qy(o,u.context,!1),mm(o,u.containerInfo)}function Ks(o,u,h,y,w){return js(),zs(w),u.flags|=256,ur(o,u,h,y),u.child}var Cf={dehydrated:null,treeContext:null,retryLane:0};function If(o){return{baseLanes:o,cachePool:null,transitions:null}}function fh(o,u,h){var y=u.pendingProps,w=nn.current,E=!1,N=(u.flags&128)!==0,Q;if((Q=N)||(Q=o!==null&&o.memoizedState===null?!1:(w&2)!==0),Q?(E=!0,u.flags&=-129):(o===null||o.memoizedState!==null)&&(w|=1),Kt(nn,w&1),o===null)return Yr(u),o=u.memoizedState,o!==null&&(o=o.dehydrated,o!==null)?(u.mode&1?o.data==="$!"?u.lanes=8:u.lanes=1073741824:u.lanes=1,null):(N=y.children,o=y.fallback,E?(y=u.mode,E=u.child,N={mode:"hidden",children:N},!(y&1)&&E!==null?(E.childLanes=0,E.pendingProps=N):E=Ah(N,y,0,null),o=Nu(o,y,h,null),E.return=u,o.return=u,E.sibling=o,u.child=E,u.child.memoizedState=If(h),u.memoizedState=Cf,o):Gl(u,N));if(w=o.memoizedState,w!==null&&(Q=w.dehydrated,Q!==null))return Qe(o,u,N,y,Q,w,h);if(E){E=y.fallback,N=u.mode,w=o.child,Q=w.sibling;var Z={mode:"hidden",children:y.children};return!(N&1)&&u.child!==w?(y=u.child,y.childLanes=0,y.pendingProps=Z,u.deletions=null):(y=ps(w,Z),y.subtreeFlags=w.subtreeFlags&14680064),Q!==null?E=ps(Q,E):(E=Nu(E,N,h,null),E.flags|=2),E.return=u,y.return=u,y.sibling=E,u.child=y,y=E,E=u.child,N=o.child.memoizedState,N=N===null?If(h):{baseLanes:N.baseLanes|h,cachePool:null,transitions:N.transitions},E.memoizedState=N,E.childLanes=o.childLanes&~h,u.memoizedState=Cf,y}return E=o.child,o=E.sibling,y=ps(E,{mode:"visible",children:y.children}),!(u.mode&1)&&(y.lanes=h),y.return=u,y.sibling=null,o!==null&&(h=u.deletions,h===null?(u.deletions=[o],u.flags|=16):h.push(o)),u.child=y,u.memoizedState=null,y}function Gl(o,u){return u=Ah({mode:"visible",children:u},o.mode,0,null),u.return=o,o.child=u}function Do(o,u,h,y){return y!==null&&zs(y),hn(u,o.child,null,h),o=Gl(u,u.pendingProps.children),o.flags|=2,u.memoizedState=null,o}function Qe(o,u,h,y,w,E,N){if(h)return u.flags&256?(u.flags&=-257,y=uh(Error(n(422))),Do(o,u,N,y)):u.memoizedState!==null?(u.child=o.child,u.flags|=128,null):(E=y.fallback,w=u.mode,y=Ah({mode:"visible",children:y.children},w,0,null),E=Nu(E,w,N,null),E.flags|=2,y.return=u,E.return=u,y.sibling=E,u.child=y,u.mode&1&&hn(u,o.child,null,N),u.child.memoizedState=If(N),u.memoizedState=Cf,E);if(!(u.mode&1))return Do(o,u,N,null);if(w.data==="$!"){if(y=w.nextSibling&&w.nextSibling.dataset,y)var Q=y.dgst;return y=Q,E=Error(n(419)),y=uh(E,y,void 0),Do(o,u,N,y)}if(Q=(N&o.childLanes)!==0,Or||Q){if(y=er,y!==null){switch(N&-N){case 4:w=2;break;case 16:w=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:w=32;break;case 536870912:w=268435456;break;default:w=0}w=w&(y.suspendedLanes|N)?0:w,w!==0&&w!==E.retryLane&&(E.retryLane=w,xo(o,w),hs(y,o,w,-1))}return Xm(),y=uh(Error(n(421))),Do(o,u,N,y)}return w.data==="$?"?(u.flags|=128,u.child=o.child,u=iS.bind(null,o),w._reactRetry=u,null):(o=E.treeContext,yi=la(w.nextSibling),Sr=u,Zt=!0,as=null,o!==null&&(ki[Oi++]=Us,ki[Oi++]=Bs,ki[Oi++]=wu,Us=o.id,Bs=o.overflow,wu=u),u=Gl(u,y.children),u.flags|=4096,u)}function bf(o,u,h){o.lanes|=u;var y=o.alternate;y!==null&&(y.lanes|=u),ar(o.return,u,h)}function Af(o,u,h,y,w){var E=o.memoizedState;E===null?o.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:y,tail:h,tailMode:w}:(E.isBackwards=u,E.rendering=null,E.renderingStartTime=0,E.last=y,E.tail=h,E.tailMode=w)}function ya(o,u,h){var y=u.pendingProps,w=y.revealOrder,E=y.tail;if(ur(o,u,y.children,h),y=nn.current,y&2)y=y&1|2,u.flags|=128;else{if(o!==null&&o.flags&128)e:for(o=u.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&bf(o,h,u);else if(o.tag===19)bf(o,h,u);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===u)break e;for(;o.sibling===null;){if(o.return===null||o.return===u)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}y&=1}if(Kt(nn,y),!(u.mode&1))u.memoizedState=null;else switch(w){case"forwards":for(h=u.child,w=null;h!==null;)o=h.alternate,o!==null&&Iu(o)===null&&(w=h),h=h.sibling;h=w,h===null?(w=u.child,u.child=null):(w=h.sibling,h.sibling=null),Af(u,!1,w,h,E);break;case"backwards":for(h=null,w=u.child,u.child=null;w!==null;){if(o=w.alternate,o!==null&&Iu(o)===null){u.child=w;break}o=w.sibling,w.sibling=h,h=w,w=o}Af(u,!0,h,null,E);break;case"together":Af(u,!1,null,null,void 0);break;default:u.memoizedState=null}return u.child}function dh(o,u){!(u.mode&1)&&o!==null&&(o.alternate=null,u.alternate=null,u.flags|=2)}function ls(o,u,h){if(o!==null&&(u.dependencies=o.dependencies),_a|=u.lanes,!(h&u.childLanes))return null;if(o!==null&&u.child!==o.child)throw Error(n(153));if(u.child!==null){for(o=u.child,h=ps(o,o.pendingProps),u.child=h,h.return=u;o.sibling!==null;)o=o.sibling,h=h.sibling=ps(o,o.pendingProps),h.return=u;h.sibling=null}return u.child}function gv(o,u,h){switch(u.tag){case 3:mv(u),js();break;case 5:gm(u);break;case 1:Kr(u.type)&&Ri(u);break;case 4:mm(u,u.stateNode.containerInfo);break;case 10:var y=u.type._context,w=u.memoizedProps.value;Kt(pf,y._currentValue),y._currentValue=w;break;case 13:if(y=u.memoizedState,y!==null)return y.dehydrated!==null?(Kt(nn,nn.current&1),u.flags|=128,null):h&u.child.childLanes?fh(o,u,h):(Kt(nn,nn.current&1),o=ls(o,u,h),o!==null?o.sibling:null);Kt(nn,nn.current&1);break;case 19:if(y=(h&u.childLanes)!==0,o.flags&128){if(y)return ya(o,u,h);u.flags|=128}if(w=u.memoizedState,w!==null&&(w.rendering=null,w.tail=null,w.lastEffect=null),Kt(nn,nn.current),y)break;return null;case 22:case 23:return u.lanes=0,Om(o,u,h)}return ls(o,u,h)}var lr,Vm,yv,Fm;lr=function(o,u){for(var h=u.child;h!==null;){if(h.tag===5||h.tag===6)o.appendChild(h.stateNode);else if(h.tag!==4&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===u)break;for(;h.sibling===null;){if(h.return===null||h.return===u)return;h=h.return}h.sibling.return=h.return,h=h.sibling}},Vm=function(){},yv=function(o,u,h,y){var w=o.memoizedProps;if(w!==y){o=u.stateNode,Ro(Ws.current);var E=null;switch(h){case"input":w=an(o,w),y=an(o,y),E=[];break;case"select":w=Ee({},w,{value:void 0}),y=Ee({},y,{value:void 0}),E=[];break;case"textarea":w=ao(o,w),y=ao(o,y),E=[];break;default:typeof w.onClick!="function"&&typeof y.onClick=="function"&&(o.onclick=Vd)}Za(h,y);var N;h=null;for(fe in w)if(!y.hasOwnProperty(fe)&&w.hasOwnProperty(fe)&&w[fe]!=null)if(fe==="style"){var Q=w[fe];for(N in Q)Q.hasOwnProperty(N)&&(h||(h={}),h[N]="")}else fe!=="dangerouslySetInnerHTML"&&fe!=="children"&&fe!=="suppressContentEditableWarning"&&fe!=="suppressHydrationWarning"&&fe!=="autoFocus"&&(i.hasOwnProperty(fe)?E||(E=[]):(E=E||[]).push(fe,null));for(fe in y){var Z=y[fe];if(Q=w!=null?w[fe]:void 0,y.hasOwnProperty(fe)&&Z!==Q&&(Z!=null||Q!=null))if(fe==="style")if(Q){for(N in Q)!Q.hasOwnProperty(N)||Z&&Z.hasOwnProperty(N)||(h||(h={}),h[N]="");for(N in Z)Z.hasOwnProperty(N)&&Q[N]!==Z[N]&&(h||(h={}),h[N]=Z[N])}else h||(E||(E=[]),E.push(fe,h)),h=Z;else fe==="dangerouslySetInnerHTML"?(Z=Z?Z.__html:void 0,Q=Q?Q.__html:void 0,Z!=null&&Q!==Z&&(E=E||[]).push(fe,Z)):fe==="children"?typeof Z!="string"&&typeof Z!="number"||(E=E||[]).push(fe,""+Z):fe!=="suppressContentEditableWarning"&&fe!=="suppressHydrationWarning"&&(i.hasOwnProperty(fe)?(Z!=null&&fe==="onScroll"&&Qt("scroll",o),E||Q===Z||(E=[])):(E=E||[]).push(fe,Z))}h&&(E=E||[]).push("style",h);var fe=E;(u.updateQueue=fe)&&(u.flags|=4)}},Fm=function(o,u,h,y){h!==y&&(u.flags|=4)};function xf(o,u){if(!Zt)switch(o.tailMode){case"hidden":u=o.tail;for(var h=null;u!==null;)u.alternate!==null&&(h=u),u=u.sibling;h===null?o.tail=null:h.sibling=null;break;case"collapsed":h=o.tail;for(var y=null;h!==null;)h.alternate!==null&&(y=h),h=h.sibling;y===null?u||o.tail===null?o.tail=null:o.tail.sibling=null:y.sibling=null}}function cr(o){var u=o.alternate!==null&&o.alternate.child===o.child,h=0,y=0;if(u)for(var w=o.child;w!==null;)h|=w.lanes|w.childLanes,y|=w.subtreeFlags&14680064,y|=w.flags&14680064,w.return=o,w=w.sibling;else for(w=o.child;w!==null;)h|=w.lanes|w.childLanes,y|=w.subtreeFlags,y|=w.flags,w.return=o,w=w.sibling;return o.subtreeFlags|=y,o.childLanes=h,u}function Qw(o,u,h){var y=u.pendingProps;switch(Tu(u),u.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return cr(u),null;case 1:return Kr(u.type)&&$d(),cr(u),null;case 3:return y=u.stateNode,ma(),Xt(Gr),Xt(_r),Zd(),y.pendingContext&&(y.context=y.pendingContext,y.pendingContext=null),(o===null||o.child===null)&&(df(u)?u.flags|=4:o===null||o.memoizedState.isDehydrated&&!(u.flags&256)||(u.flags|=1024,as!==null&&(Km(as),as=null))),Vm(o,u),cr(u),null;case 5:Xd(u);var w=Ro(Ul.current);if(h=u.type,o!==null&&u.stateNode!=null)yv(o,u,h,y,w),o.ref!==u.ref&&(u.flags|=512,u.flags|=2097152);else{if(!y){if(u.stateNode===null)throw Error(n(166));return cr(u),null}if(o=Ro(Ws.current),df(u)){y=u.stateNode,h=u.type;var E=u.memoizedProps;switch(y[Vs]=u,y[ca]=E,o=(u.mode&1)!==0,h){case"dialog":Qt("cancel",y),Qt("close",y);break;case"iframe":case"object":case"embed":Qt("load",y);break;case"video":case"audio":for(w=0;w<Co.length;w++)Qt(Co[w],y);break;case"source":Qt("error",y);break;case"img":case"image":case"link":Qt("error",y),Qt("load",y);break;case"details":Qt("toggle",y);break;case"input":jr(y,E),Qt("invalid",y);break;case"select":y._wrapperState={wasMultiple:!!E.multiple},Qt("invalid",y);break;case"textarea":uo(y,E),Qt("invalid",y)}Za(h,E),w=null;for(var N in E)if(E.hasOwnProperty(N)){var Q=E[N];N==="children"?typeof Q=="string"?y.textContent!==Q&&(E.suppressHydrationWarning!==!0&&af(y.textContent,Q,o),w=["children",Q]):typeof Q=="number"&&y.textContent!==""+Q&&(E.suppressHydrationWarning!==!0&&af(y.textContent,Q,o),w=["children",""+Q]):i.hasOwnProperty(N)&&Q!=null&&N==="onScroll"&&Qt("scroll",y)}switch(h){case"input":Qn(y),Ga(y,E,!0);break;case"textarea":Qn(y),lo(y);break;case"select":case"option":break;default:typeof E.onClick=="function"&&(y.onclick=Vd)}y=w,u.updateQueue=y,y!==null&&(u.flags|=4)}else{N=w.nodeType===9?w:w.ownerDocument,o==="http://www.w3.org/1999/xhtml"&&(o=Un(h)),o==="http://www.w3.org/1999/xhtml"?h==="script"?(o=N.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild)):typeof y.is=="string"?o=N.createElement(h,{is:y.is}):(o=N.createElement(h),h==="select"&&(N=o,y.multiple?N.multiple=!0:y.size&&(N.size=y.size))):o=N.createElementNS(o,h),o[Vs]=u,o[ca]=y,lr(o,u,!1,!1),u.stateNode=o;e:{switch(N=Ja(h,y),h){case"dialog":Qt("cancel",o),Qt("close",o),w=y;break;case"iframe":case"object":case"embed":Qt("load",o),w=y;break;case"video":case"audio":for(w=0;w<Co.length;w++)Qt(Co[w],o);w=y;break;case"source":Qt("error",o),w=y;break;case"img":case"image":case"link":Qt("error",o),Qt("load",o),w=y;break;case"details":Qt("toggle",o),w=y;break;case"input":jr(o,y),w=an(o,y),Qt("invalid",o);break;case"option":w=y;break;case"select":o._wrapperState={wasMultiple:!!y.multiple},w=Ee({},y,{value:void 0}),Qt("invalid",o);break;case"textarea":uo(o,y),w=ao(o,y),Qt("invalid",o);break;default:w=y}Za(h,w),Q=w;for(E in Q)if(Q.hasOwnProperty(E)){var Z=Q[E];E==="style"?Qa(o,Z):E==="dangerouslySetInnerHTML"?(Z=Z?Z.__html:void 0,Z!=null&&Ka(o,Z)):E==="children"?typeof Z=="string"?(h!=="textarea"||Z!=="")&&Ps(o,Z):typeof Z=="number"&&Ps(o,""+Z):E!=="suppressContentEditableWarning"&&E!=="suppressHydrationWarning"&&E!=="autoFocus"&&(i.hasOwnProperty(E)?Z!=null&&E==="onScroll"&&Qt("scroll",o):Z!=null&&B(o,E,Z,N))}switch(h){case"input":Qn(o),Ga(o,y,!1);break;case"textarea":Qn(o),lo(o);break;case"option":y.value!=null&&o.setAttribute("value",""+Je(y.value));break;case"select":o.multiple=!!y.multiple,E=y.value,E!=null?Fn(o,!!y.multiple,E,!1):y.defaultValue!=null&&Fn(o,!!y.multiple,y.defaultValue,!0);break;default:typeof w.onClick=="function"&&(o.onclick=Vd)}switch(h){case"button":case"input":case"select":case"textarea":y=!!y.autoFocus;break e;case"img":y=!0;break e;default:y=!1}}y&&(u.flags|=4)}u.ref!==null&&(u.flags|=512,u.flags|=2097152)}return cr(u),null;case 6:if(o&&u.stateNode!=null)Fm(o,u,o.memoizedProps,y);else{if(typeof y!="string"&&u.stateNode===null)throw Error(n(166));if(h=Ro(Ul.current),Ro(Ws.current),df(u)){if(y=u.stateNode,h=u.memoizedProps,y[Vs]=u,(E=y.nodeValue!==h)&&(o=Sr,o!==null))switch(o.tag){case 3:af(y.nodeValue,h,(o.mode&1)!==0);break;case 5:o.memoizedProps.suppressHydrationWarning!==!0&&af(y.nodeValue,h,(o.mode&1)!==0)}E&&(u.flags|=4)}else y=(h.nodeType===9?h:h.ownerDocument).createTextNode(y),y[Vs]=u,u.stateNode=y}return cr(u),null;case 13:if(Xt(nn),y=u.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(Zt&&yi!==null&&u.mode&1&&!(u.flags&128))fm(),js(),u.flags|=98560,E=!1;else if(E=df(u),y!==null&&y.dehydrated!==null){if(o===null){if(!E)throw Error(n(318));if(E=u.memoizedState,E=E!==null?E.dehydrated:null,!E)throw Error(n(317));E[Vs]=u}else js(),!(u.flags&128)&&(u.memoizedState=null),u.flags|=4;cr(u),E=!1}else as!==null&&(Km(as),as=null),E=!0;if(!E)return u.flags&65536?u:null}return u.flags&128?(u.lanes=h,u):(y=y!==null,y!==(o!==null&&o.memoizedState!==null)&&y&&(u.child.flags|=8192,u.mode&1&&(o===null||nn.current&1?zn===0&&(zn=3):Xm())),u.updateQueue!==null&&(u.flags|=4),cr(u),null);case 4:return ma(),Vm(o,u),o===null&&aa(u.stateNode.containerInfo),cr(u),null;case 10:return Gd(u.type._context),cr(u),null;case 17:return Kr(u.type)&&$d(),cr(u),null;case 19:if(Xt(nn),E=u.memoizedState,E===null)return cr(u),null;if(y=(u.flags&128)!==0,N=E.rendering,N===null)if(y)xf(E,!1);else{if(zn!==0||o!==null&&o.flags&128)for(o=u.child;o!==null;){if(N=Iu(o),N!==null){for(u.flags|=128,xf(E,!1),y=N.updateQueue,y!==null&&(u.updateQueue=y,u.flags|=4),u.subtreeFlags=0,y=h,h=u.child;h!==null;)E=h,o=y,E.flags&=14680066,N=E.alternate,N===null?(E.childLanes=0,E.lanes=o,E.child=null,E.subtreeFlags=0,E.memoizedProps=null,E.memoizedState=null,E.updateQueue=null,E.dependencies=null,E.stateNode=null):(E.childLanes=N.childLanes,E.lanes=N.lanes,E.child=N.child,E.subtreeFlags=0,E.deletions=null,E.memoizedProps=N.memoizedProps,E.memoizedState=N.memoizedState,E.updateQueue=N.updateQueue,E.type=N.type,o=N.dependencies,E.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),h=h.sibling;return Kt(nn,nn.current&1|2),u.child}o=o.sibling}E.tail!==null&&Mt()>Ru&&(u.flags|=128,y=!0,xf(E,!1),u.lanes=4194304)}else{if(!y)if(o=Iu(N),o!==null){if(u.flags|=128,y=!0,h=o.updateQueue,h!==null&&(u.updateQueue=h,u.flags|=4),xf(E,!0),E.tail===null&&E.tailMode==="hidden"&&!N.alternate&&!Zt)return cr(u),null}else 2*Mt()-E.renderingStartTime>Ru&&h!==1073741824&&(u.flags|=128,y=!0,xf(E,!1),u.lanes=4194304);E.isBackwards?(N.sibling=u.child,u.child=N):(h=E.last,h!==null?h.sibling=N:u.child=N,E.last=N)}return E.tail!==null?(u=E.tail,E.rendering=u,E.tail=u.sibling,E.renderingStartTime=Mt(),u.sibling=null,h=nn.current,Kt(nn,y?h&1|2:h&1),u):(cr(u),null);case 22:case 23:return Qm(),y=u.memoizedState!==null,o!==null&&o.memoizedState!==null!==y&&(u.flags|=8192),y&&u.mode&1?wi&1073741824&&(cr(u),u.subtreeFlags&6&&(u.flags|=8192)):cr(u),null;case 24:return null;case 25:return null}throw Error(n(156,u.tag))}function Xw(o,u){switch(Tu(u),u.tag){case 1:return Kr(u.type)&&$d(),o=u.flags,o&65536?(u.flags=o&-65537|128,u):null;case 3:return ma(),Xt(Gr),Xt(_r),Zd(),o=u.flags,o&65536&&!(o&128)?(u.flags=o&-65537|128,u):null;case 5:return Xd(u),null;case 13:if(Xt(nn),o=u.memoizedState,o!==null&&o.dehydrated!==null){if(u.alternate===null)throw Error(n(340));js()}return o=u.flags,o&65536?(u.flags=o&-65537|128,u):null;case 19:return Xt(nn),null;case 4:return ma(),null;case 10:return Gd(u.type._context),null;case 22:case 23:return Qm(),null;case 24:return null;default:return null}}var hh=!1,rn=!1,Dr=typeof WeakSet=="function"?WeakSet:Set,Me=null;function Kl(o,u){var h=o.ref;if(h!==null)if(typeof h=="function")try{h(null)}catch(y){cn(o,u,y)}else h.current=null}function Pf(o,u,h){try{h()}catch(y){cn(o,u,y)}}var vv=!1;function Zw(o,u){if(uf=ta,o=jt(),ef(o)){if("selectionStart"in o)var h={start:o.selectionStart,end:o.selectionEnd};else e:{h=(h=o.ownerDocument)&&h.defaultView||window;var y=h.getSelection&&h.getSelection();if(y&&y.rangeCount!==0){h=y.anchorNode;var w=y.anchorOffset,E=y.focusNode;y=y.focusOffset;try{h.nodeType,E.nodeType}catch{h=null;break e}var N=0,Q=-1,Z=-1,fe=0,Ce=0,be=o,Te=null;t:for(;;){for(var Ne;be!==h||w!==0&&be.nodeType!==3||(Q=N+w),be!==E||y!==0&&be.nodeType!==3||(Z=N+y),be.nodeType===3&&(N+=be.nodeValue.length),(Ne=be.firstChild)!==null;)Te=be,be=Ne;for(;;){if(be===o)break t;if(Te===h&&++fe===w&&(Q=N),Te===E&&++Ce===y&&(Z=N),(Ne=be.nextSibling)!==null)break;be=Te,Te=be.parentNode}be=Ne}h=Q===-1||Z===-1?null:{start:Q,end:Z}}else h=null}h=h||{start:0,end:0}}else h=null;for(vu={focusedElem:o,selectionRange:h},ta=!1,Me=u;Me!==null;)if(u=Me,o=u.child,(u.subtreeFlags&1028)!==0&&o!==null)o.return=u,Me=o;else for(;Me!==null;){u=Me;try{var Ve=u.alternate;if(u.flags&1024)switch(u.tag){case 0:case 11:case 15:break;case 1:if(Ve!==null){var Ue=Ve.memoizedProps,pn=Ve.memoizedState,se=u.stateNode,te=se.getSnapshotBeforeUpdate(u.elementType===u.type?Ue:Vi(u.type,Ue),pn);se.__reactInternalSnapshotBeforeUpdate=te}break;case 3:var ue=u.stateNode.containerInfo;ue.nodeType===1?ue.textContent="":ue.nodeType===9&&ue.documentElement&&ue.removeChild(ue.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(xe){cn(u,u.return,xe)}if(o=u.sibling,o!==null){o.return=u.return,Me=o;break}Me=u.return}return Ve=vv,vv=!1,Ve}function No(o,u,h){var y=u.updateQueue;if(y=y!==null?y.lastEffect:null,y!==null){var w=y=y.next;do{if((w.tag&o)===o){var E=w.destroy;w.destroy=void 0,E!==void 0&&Pf(u,h,E)}w=w.next}while(w!==y)}}function Rf(o,u){if(u=u.updateQueue,u=u!==null?u.lastEffect:null,u!==null){var h=u=u.next;do{if((h.tag&o)===o){var y=h.create;h.destroy=y()}h=h.next}while(h!==u)}}function ph(o){var u=o.ref;if(u!==null){var h=o.stateNode;switch(o.tag){case 5:o=h;break;default:o=h}typeof u=="function"?u(o):u.current=o}}function _v(o){var u=o.alternate;u!==null&&(o.alternate=null,_v(u)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(u=o.stateNode,u!==null&&(delete u[Vs],delete u[ca],delete u[Ud],delete u[U],delete u[Dl])),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}function wv(o){return o.tag===5||o.tag===3||o.tag===4}function Sv(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||wv(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function Um(o,u,h){var y=o.tag;if(y===5||y===6)o=o.stateNode,u?h.nodeType===8?h.parentNode.insertBefore(o,u):h.insertBefore(o,u):(h.nodeType===8?(u=h.parentNode,u.insertBefore(o,h)):(u=h,u.appendChild(o)),h=h._reactRootContainer,h!=null||u.onclick!==null||(u.onclick=Vd));else if(y!==4&&(o=o.child,o!==null))for(Um(o,u,h),o=o.sibling;o!==null;)Um(o,u,h),o=o.sibling}function mh(o,u,h){var y=o.tag;if(y===5||y===6)o=o.stateNode,u?h.insertBefore(o,u):h.appendChild(o);else if(y!==4&&(o=o.child,o!==null))for(mh(o,u,h),o=o.sibling;o!==null;)mh(o,u,h),o=o.sibling}var Jn=null,cs=!1;function Ys(o,u,h){for(h=h.child;h!==null;)Bm(o,u,h),h=h.sibling}function Bm(o,u,h){if(hi&&typeof hi.onCommitFiberUnmount=="function")try{hi.onCommitFiberUnmount(su,h)}catch{}switch(h.tag){case 5:rn||Kl(h,u);case 6:var y=Jn,w=cs;Jn=null,Ys(o,u,h),Jn=y,cs=w,Jn!==null&&(cs?(o=Jn,h=h.stateNode,o.nodeType===8?o.parentNode.removeChild(h):o.removeChild(h)):Jn.removeChild(h.stateNode));break;case 18:Jn!==null&&(cs?(o=Jn,h=h.stateNode,o.nodeType===8?um(o.parentNode,h):o.nodeType===1&&um(o,h),vt(o)):um(Jn,h.stateNode));break;case 4:y=Jn,w=cs,Jn=h.stateNode.containerInfo,cs=!0,Ys(o,u,h),Jn=y,cs=w;break;case 0:case 11:case 14:case 15:if(!rn&&(y=h.updateQueue,y!==null&&(y=y.lastEffect,y!==null))){w=y=y.next;do{var E=w,N=E.destroy;E=E.tag,N!==void 0&&(E&2||E&4)&&Pf(h,u,N),w=w.next}while(w!==y)}Ys(o,u,h);break;case 1:if(!rn&&(Kl(h,u),y=h.stateNode,typeof y.componentWillUnmount=="function"))try{y.props=h.memoizedProps,y.state=h.memoizedState,y.componentWillUnmount()}catch(Q){cn(h,u,Q)}Ys(o,u,h);break;case 21:Ys(o,u,h);break;case 22:h.mode&1?(rn=(y=rn)||h.memoizedState!==null,Ys(o,u,h),rn=y):Ys(o,u,h);break;default:Ys(o,u,h)}}function Yl(o){var u=o.updateQueue;if(u!==null){o.updateQueue=null;var h=o.stateNode;h===null&&(h=o.stateNode=new Dr),u.forEach(function(y){var w=sS.bind(null,o,y);h.has(y)||(h.add(y),y.then(w,w))})}}function _i(o,u){var h=u.deletions;if(h!==null)for(var y=0;y<h.length;y++){var w=h[y];try{var E=o,N=u,Q=N;e:for(;Q!==null;){switch(Q.tag){case 5:Jn=Q.stateNode,cs=!1;break e;case 3:Jn=Q.stateNode.containerInfo,cs=!0;break e;case 4:Jn=Q.stateNode.containerInfo,cs=!0;break e}Q=Q.return}if(Jn===null)throw Error(n(160));Bm(E,N,w),Jn=null,cs=!1;var Z=w.alternate;Z!==null&&(Z.return=null),w.return=null}catch(fe){cn(w,u,fe)}}if(u.subtreeFlags&12854)for(u=u.child;u!==null;)$m(u,o),u=u.sibling}function $m(o,u){var h=o.alternate,y=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:if(_i(u,o),fs(o),y&4){try{No(3,o,o.return),Rf(3,o)}catch(Ue){cn(o,o.return,Ue)}try{No(5,o,o.return)}catch(Ue){cn(o,o.return,Ue)}}break;case 1:_i(u,o),fs(o),y&512&&h!==null&&Kl(h,h.return);break;case 5:if(_i(u,o),fs(o),y&512&&h!==null&&Kl(h,h.return),o.flags&32){var w=o.stateNode;try{Ps(w,"")}catch(Ue){cn(o,o.return,Ue)}}if(y&4&&(w=o.stateNode,w!=null)){var E=o.memoizedProps,N=h!==null?h.memoizedProps:E,Q=o.type,Z=o.updateQueue;if(o.updateQueue=null,Z!==null)try{Q==="input"&&E.type==="radio"&&E.name!=null&&qa(w,E),Ja(Q,N);var fe=Ja(Q,E);for(N=0;N<Z.length;N+=2){var Ce=Z[N],be=Z[N+1];Ce==="style"?Qa(w,be):Ce==="dangerouslySetInnerHTML"?Ka(w,be):Ce==="children"?Ps(w,be):B(w,Ce,be,fe)}switch(Q){case"input":xr(w,E);break;case"textarea":sl(w,E);break;case"select":var Te=w._wrapperState.wasMultiple;w._wrapperState.wasMultiple=!!E.multiple;var Ne=E.value;Ne!=null?Fn(w,!!E.multiple,Ne,!1):Te!==!!E.multiple&&(E.defaultValue!=null?Fn(w,!!E.multiple,E.defaultValue,!0):Fn(w,!!E.multiple,E.multiple?[]:"",!1))}w[ca]=E}catch(Ue){cn(o,o.return,Ue)}}break;case 6:if(_i(u,o),fs(o),y&4){if(o.stateNode===null)throw Error(n(162));w=o.stateNode,E=o.memoizedProps;try{w.nodeValue=E}catch(Ue){cn(o,o.return,Ue)}}break;case 3:if(_i(u,o),fs(o),y&4&&h!==null&&h.memoizedState.isDehydrated)try{vt(u.containerInfo)}catch(Ue){cn(o,o.return,Ue)}break;case 4:_i(u,o),fs(o);break;case 13:_i(u,o),fs(o),w=o.child,w.flags&8192&&(E=w.memoizedState!==null,w.stateNode.isHidden=E,!E||w.alternate!==null&&w.alternate.memoizedState!==null||(Wm=Mt())),y&4&&Yl(o);break;case 22:if(Ce=h!==null&&h.memoizedState!==null,o.mode&1?(rn=(fe=rn)||Ce,_i(u,o),rn=fe):_i(u,o),fs(o),y&8192){if(fe=o.memoizedState!==null,(o.stateNode.isHidden=fe)&&!Ce&&o.mode&1)for(Me=o,Ce=o.child;Ce!==null;){for(be=Me=Ce;Me!==null;){switch(Te=Me,Ne=Te.child,Te.tag){case 0:case 11:case 14:case 15:No(4,Te,Te.return);break;case 1:Kl(Te,Te.return);var Ve=Te.stateNode;if(typeof Ve.componentWillUnmount=="function"){y=Te,h=Te.return;try{u=y,Ve.props=u.memoizedProps,Ve.state=u.memoizedState,Ve.componentWillUnmount()}catch(Ue){cn(y,h,Ue)}}break;case 5:Kl(Te,Te.return);break;case 22:if(Te.memoizedState!==null){va(be);continue}}Ne!==null?(Ne.return=Te,Me=Ne):va(be)}Ce=Ce.sibling}e:for(Ce=null,be=o;;){if(be.tag===5){if(Ce===null){Ce=be;try{w=be.stateNode,fe?(E=w.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none"):(Q=be.stateNode,Z=be.memoizedProps.style,N=Z!=null&&Z.hasOwnProperty("display")?Z.display:null,Q.style.display=Ya("display",N))}catch(Ue){cn(o,o.return,Ue)}}}else if(be.tag===6){if(Ce===null)try{be.stateNode.nodeValue=fe?"":be.memoizedProps}catch(Ue){cn(o,o.return,Ue)}}else if((be.tag!==22&&be.tag!==23||be.memoizedState===null||be===o)&&be.child!==null){be.child.return=be,be=be.child;continue}if(be===o)break e;for(;be.sibling===null;){if(be.return===null||be.return===o)break e;Ce===be&&(Ce=null),be=be.return}Ce===be&&(Ce=null),be.sibling.return=be.return,be=be.sibling}}break;case 19:_i(u,o),fs(o),y&4&&Yl(o);break;case 21:break;default:_i(u,o),fs(o)}}function fs(o){var u=o.flags;if(u&2){try{e:{for(var h=o.return;h!==null;){if(wv(h)){var y=h;break e}h=h.return}throw Error(n(160))}switch(y.tag){case 5:var w=y.stateNode;y.flags&32&&(Ps(w,""),y.flags&=-33);var E=Sv(o);mh(o,E,w);break;case 3:case 4:var N=y.stateNode.containerInfo,Q=Sv(o);Um(o,Q,N);break;default:throw Error(n(161))}}catch(Z){cn(o,o.return,Z)}o.flags&=-3}u&4096&&(o.flags&=-4097)}function gh(o,u,h){Me=o,jm(o)}function jm(o,u,h){for(var y=(o.mode&1)!==0;Me!==null;){var w=Me,E=w.child;if(w.tag===22&&y){var N=w.memoizedState!==null||hh;if(!N){var Q=w.alternate,Z=Q!==null&&Q.memoizedState!==null||rn;Q=hh;var fe=rn;if(hh=N,(rn=Z)&&!fe)for(Me=w;Me!==null;)N=Me,Z=N.child,N.tag===22&&N.memoizedState!==null?Tv(w):Z!==null?(Z.return=N,Me=Z):Tv(w);for(;E!==null;)Me=E,jm(E),E=E.sibling;Me=w,hh=Q,rn=fe}ds(o)}else w.subtreeFlags&8772&&E!==null?(E.return=w,Me=E):ds(o)}}function ds(o){for(;Me!==null;){var u=Me;if(u.flags&8772){var h=u.alternate;try{if(u.flags&8772)switch(u.tag){case 0:case 11:case 15:rn||Rf(5,u);break;case 1:var y=u.stateNode;if(u.flags&4&&!rn)if(h===null)y.componentDidMount();else{var w=u.elementType===u.type?h.memoizedProps:Vi(u.type,h.memoizedProps);y.componentDidUpdate(w,h.memoizedState,y.__reactInternalSnapshotBeforeUpdate)}var E=u.updateQueue;E!==null&&pm(u,E,y);break;case 3:var N=u.updateQueue;if(N!==null){if(h=null,u.child!==null)switch(u.child.tag){case 5:h=u.child.stateNode;break;case 1:h=u.child.stateNode}pm(u,N,h)}break;case 5:var Q=u.stateNode;if(h===null&&u.flags&4){h=Q;var Z=u.memoizedProps;switch(u.type){case"button":case"input":case"select":case"textarea":Z.autoFocus&&h.focus();break;case"img":Z.src&&(h.src=Z.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(u.memoizedState===null){var fe=u.alternate;if(fe!==null){var Ce=fe.memoizedState;if(Ce!==null){var be=Ce.dehydrated;be!==null&&vt(be)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}rn||u.flags&512&&ph(u)}catch(Te){cn(u,u.return,Te)}}if(u===o){Me=null;break}if(h=u.sibling,h!==null){h.return=u.return,Me=h;break}Me=u.return}}function va(o){for(;Me!==null;){var u=Me;if(u===o){Me=null;break}var h=u.sibling;if(h!==null){h.return=u.return,Me=h;break}Me=u.return}}function Tv(o){for(;Me!==null;){var u=Me;try{switch(u.tag){case 0:case 11:case 15:var h=u.return;try{Rf(4,u)}catch(Z){cn(u,h,Z)}break;case 1:var y=u.stateNode;if(typeof y.componentDidMount=="function"){var w=u.return;try{y.componentDidMount()}catch(Z){cn(u,w,Z)}}var E=u.return;try{ph(u)}catch(Z){cn(u,E,Z)}break;case 5:var N=u.return;try{ph(u)}catch(Z){cn(u,N,Z)}}}catch(Z){cn(u,u.return,Z)}if(u===o){Me=null;break}var Q=u.sibling;if(Q!==null){Q.return=u.return,Me=Q;break}Me=u.return}}var Ev=Math.ceil,yh=G.ReactCurrentDispatcher,zm=G.ReactCurrentOwner,Fi=G.ReactCurrentBatchConfig,It=0,er=null,An=null,fr=0,wi=0,Ql=qr(0),zn=0,kf=null,_a=0,Of=0,vh=0,Df=null,Xr=null,Wm=0,Ru=1/0,Mo=null,_h=!1,Hm=null,wa=null,wh=!1,Sa=null,Nr=0,Nf=0,qm=null,Sh=-1,Mf=0;function Mr(){return It&6?Mt():Sh!==-1?Sh:Sh=Mt()}function Ta(o){return o.mode&1?It&2&&fr!==0?fr&-fr:nv.transition!==null?(Mf===0&&(Mf=Jo()),Mf):(o=yt,o!==0||(o=window.event,o=o===void 0?16:Zc(o.type)),o):1}function hs(o,u,h,y){if(50<Nf)throw Nf=0,qm=null,Error(n(185));ea(o,h,y),(!(It&2)||o!==er)&&(o===er&&(!(It&2)&&(Of|=h),zn===4&&Ea(o,fr)),Zr(o,y),h===1&&It===0&&!(u.mode&1)&&(Ru=Mt()+500,jd&&da()))}function Zr(o,u){var h=o.callbackNode;go(o,u);var y=ks(o,o===er?fr:0);if(y===0)h!==null&&Wc(h),o.callbackNode=null,o.callbackPriority=0;else if(u=y&-y,o.callbackPriority!==u){if(h!=null&&Wc(h),u===1)o.tag===0?_u(Cv.bind(null,o)):Jy(Cv.bind(null,o)),Fd(function(){!(It&6)&&da()}),h=null;else{switch(pi(y)){case 1:h=iu;break;case 4:h=Xo;break;case 16:h=di;break;case 536870912:h=Hc;break;default:h=di}h=kv(h,Th.bind(null,o))}o.callbackPriority=u,o.callbackNode=h}}function Th(o,u){if(Sh=-1,Mf=0,It&6)throw Error(n(327));var h=o.callbackNode;if(Xl()&&o.callbackNode!==h)return null;var y=ks(o,o===er?fr:0);if(y===0)return null;if(y&30||y&o.expiredLanes||u)u=Eh(o,y);else{u=y;var w=It;It|=2;var E=bv();(er!==o||fr!==u)&&(Mo=null,Ru=Mt()+500,Ou(o,u));do try{tS();break}catch(Q){Iv(o,Q)}while(!0);Ao(),yh.current=E,It=w,An!==null?u=0:(er=null,fr=0,u=zn)}if(u!==0){if(u===2&&(w=Wr(o),w!==0&&(y=w,u=Gm(o,w))),u===1)throw h=kf,Ou(o,0),Ea(o,y),Zr(o,Mt()),h;if(u===6)Ea(o,y);else{if(w=o.current.alternate,!(y&30)&&!Jw(w)&&(u=Eh(o,y),u===2&&(E=Wr(o),E!==0&&(y=E,u=Gm(o,E))),u===1))throw h=kf,Ou(o,0),Ea(o,y),Zr(o,Mt()),h;switch(o.finishedWork=w,o.finishedLanes=y,u){case 0:case 1:throw Error(n(345));case 2:Du(o,Xr,Mo);break;case 3:if(Ea(o,y),(y&130023424)===y&&(u=Wm+500-Mt(),10<u)){if(ks(o,0)!==0)break;if(w=o.suspendedLanes,(w&y)!==y){Mr(),o.pingedLanes|=o.suspendedLanes&w;break}o.timeoutHandle=ua(Du.bind(null,o,Xr,Mo),u);break}Du(o,Xr,Mo);break;case 4:if(Ea(o,y),(y&4194240)===y)break;for(u=o.eventTimes,w=-1;0<y;){var N=31-Pr(y);E=1<<N,N=u[N],N>w&&(w=N),y&=~E}if(y=w,y=Mt()-y,y=(120>y?120:480>y?480:1080>y?1080:1920>y?1920:3e3>y?3e3:4320>y?4320:1960*Ev(y/1960))-y,10<y){o.timeoutHandle=ua(Du.bind(null,o,Xr,Mo),y);break}Du(o,Xr,Mo);break;case 5:Du(o,Xr,Mo);break;default:throw Error(n(329))}}}return Zr(o,Mt()),o.callbackNode===h?Th.bind(null,o):null}function Gm(o,u){var h=Df;return o.current.memoizedState.isDehydrated&&(Ou(o,u).flags|=256),o=Eh(o,u),o!==2&&(u=Xr,Xr=h,u!==null&&Km(u)),o}function Km(o){Xr===null?Xr=o:Xr.push.apply(Xr,o)}function Jw(o){for(var u=o;;){if(u.flags&16384){var h=u.updateQueue;if(h!==null&&(h=h.stores,h!==null))for(var y=0;y<h.length;y++){var w=h[y],E=w.getSnapshot;w=w.value;try{if(!le(E(),w))return!1}catch{return!1}}}if(h=u.child,u.subtreeFlags&16384&&h!==null)h.return=u,u=h;else{if(u===o)break;for(;u.sibling===null;){if(u.return===null||u.return===o)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function Ea(o,u){for(u&=~vh,u&=~Of,o.suspendedLanes|=u,o.pingedLanes&=~u,o=o.expirationTimes;0<u;){var h=31-Pr(u),y=1<<h;o[h]=-1,u&=~y}}function Cv(o){if(It&6)throw Error(n(327));Xl();var u=ks(o,0);if(!(u&1))return Zr(o,Mt()),null;var h=Eh(o,u);if(o.tag!==0&&h===2){var y=Wr(o);y!==0&&(u=y,h=Gm(o,y))}if(h===1)throw h=kf,Ou(o,0),Ea(o,u),Zr(o,Mt()),h;if(h===6)throw Error(n(345));return o.finishedWork=o.current.alternate,o.finishedLanes=u,Du(o,Xr,Mo),Zr(o,Mt()),null}function Ym(o,u){var h=It;It|=1;try{return o(u)}finally{It=h,It===0&&(Ru=Mt()+500,jd&&da())}}function ku(o){Sa!==null&&Sa.tag===0&&!(It&6)&&Xl();var u=It;It|=1;var h=Fi.transition,y=yt;try{if(Fi.transition=null,yt=1,o)return o()}finally{yt=y,Fi.transition=h,It=u,!(It&6)&&da()}}function Qm(){wi=Ql.current,Xt(Ql)}function Ou(o,u){o.finishedWork=null,o.finishedLanes=0;var h=o.timeoutHandle;if(h!==-1&&(o.timeoutHandle=-1,cf(h)),An!==null)for(h=An.return;h!==null;){var y=h;switch(Tu(y),y.tag){case 1:y=y.type.childContextTypes,y!=null&&$d();break;case 3:ma(),Xt(Gr),Xt(_r),Zd();break;case 5:Xd(y);break;case 4:ma();break;case 13:Xt(nn);break;case 19:Xt(nn);break;case 10:Gd(y.type._context);break;case 22:case 23:Qm()}h=h.return}if(er=o,An=o=ps(o.current,null),fr=wi=u,zn=0,kf=null,vh=Of=_a=0,Xr=Df=null,Cu!==null){for(u=0;u<Cu.length;u++)if(h=Cu[u],y=h.interleaved,y!==null){h.interleaved=null;var w=y.next,E=h.pending;if(E!==null){var N=E.next;E.next=w,y.next=N}h.pending=y}Cu=null}return o}function Iv(o,u){do{var h=An;try{if(Ao(),yf.current=ih,Bl){for(var y=ln.memoizedState;y!==null;){var w=y.queue;w!==null&&(w.pending=null),y=y.next}Bl=!1}if(ga=0,jn=_n=ln=null,vf=!1,bu=0,zm.current=null,h===null||h.return===null){zn=1,kf=u,An=null;break}e:{var E=o,N=h.return,Q=h,Z=u;if(u=fr,Q.flags|=32768,Z!==null&&typeof Z=="object"&&typeof Z.then=="function"){var fe=Z,Ce=Q,be=Ce.tag;if(!(Ce.mode&1)&&(be===0||be===11||be===15)){var Te=Ce.alternate;Te?(Ce.updateQueue=Te.updateQueue,Ce.memoizedState=Te.memoizedState,Ce.lanes=Te.lanes):(Ce.updateQueue=null,Ce.memoizedState=null)}var Ne=hv(N);if(Ne!==null){Ne.flags&=-257,Rm(Ne,N,Q,E,u),Ne.mode&1&&Ef(E,fe,u),u=Ne,Z=fe;var Ve=u.updateQueue;if(Ve===null){var Ue=new Set;Ue.add(Z),u.updateQueue=Ue}else Ve.add(Z);break e}else{if(!(u&1)){Ef(E,fe,u),Xm();break e}Z=Error(n(426))}}else if(Zt&&Q.mode&1){var pn=hv(N);if(pn!==null){!(pn.flags&65536)&&(pn.flags|=256),Rm(pn,N,Q,E,u),zs(Pu(Z,Q));break e}}E=Z=Pu(Z,Q),zn!==4&&(zn=2),Df===null?Df=[E]:Df.push(E),E=N;do{switch(E.tag){case 3:E.flags|=65536,u&=-u,E.lanes|=u;var se=Tf(E,Z,u);sv(E,se);break e;case 1:Q=Z;var te=E.type,ue=E.stateNode;if(!(E.flags&128)&&(typeof te.getDerivedStateFromError=="function"||ue!==null&&typeof ue.componentDidCatch=="function"&&(wa===null||!wa.has(ue)))){E.flags|=65536,u&=-u,E.lanes|=u;var xe=lh(E,Q,u);sv(E,xe);break e}}E=E.return}while(E!==null)}xv(h)}catch(Be){u=Be,An===h&&h!==null&&(An=h=h.return);continue}break}while(!0)}function bv(){var o=yh.current;return yh.current=ih,o===null?ih:o}function Xm(){(zn===0||zn===3||zn===2)&&(zn=4),er===null||!(_a&268435455)&&!(Of&268435455)||Ea(er,fr)}function Eh(o,u){var h=It;It|=2;var y=bv();(er!==o||fr!==u)&&(Mo=null,Ou(o,u));do try{eS();break}catch(w){Iv(o,w)}while(!0);if(Ao(),It=h,yh.current=y,An!==null)throw Error(n(261));return er=null,fr=0,zn}function eS(){for(;An!==null;)Av(An)}function tS(){for(;An!==null&&!ru();)Av(An)}function Av(o){var u=Rv(o.alternate,o,wi);o.memoizedProps=o.pendingProps,u===null?xv(o):An=u,zm.current=null}function xv(o){var u=o;do{var h=u.alternate;if(o=u.return,u.flags&32768){if(h=Xw(h,u),h!==null){h.flags&=32767,An=h;return}if(o!==null)o.flags|=32768,o.subtreeFlags=0,o.deletions=null;else{zn=6,An=null;return}}else if(h=Qw(h,u,wi),h!==null){An=h;return}if(u=u.sibling,u!==null){An=u;return}An=u=o}while(u!==null);zn===0&&(zn=5)}function Du(o,u,h){var y=yt,w=Fi.transition;try{Fi.transition=null,yt=1,nS(o,u,h,y)}finally{Fi.transition=w,yt=y}return null}function nS(o,u,h,y){do Xl();while(Sa!==null);if(It&6)throw Error(n(327));h=o.finishedWork;var w=o.finishedLanes;if(h===null)return null;if(o.finishedWork=null,o.finishedLanes=0,h===o.current)throw Error(n(177));o.callbackNode=null,o.callbackPriority=0;var E=h.lanes|h.childLanes;if($t(o,E),o===er&&(An=er=null,fr=0),!(h.subtreeFlags&2064)&&!(h.flags&2064)||wh||(wh=!0,kv(di,function(){return Xl(),null})),E=(h.flags&15990)!==0,h.subtreeFlags&15990||E){E=Fi.transition,Fi.transition=null;var N=yt;yt=1;var Q=It;It|=4,zm.current=null,Zw(o,h),$m(h,o),qw(vu),ta=!!uf,vu=uf=null,o.current=h,gh(h),Jp(),It=Q,yt=N,Fi.transition=E}else o.current=h;if(wh&&(wh=!1,Sa=o,Nr=w),E=o.pendingLanes,E===0&&(wa=null),vd(h.stateNode),Zr(o,Mt()),u!==null)for(y=o.onRecoverableError,h=0;h<u.length;h++)w=u[h],y(w.value,{componentStack:w.stack,digest:w.digest});if(_h)throw _h=!1,o=Hm,Hm=null,o;return Nr&1&&o.tag!==0&&Xl(),E=o.pendingLanes,E&1?o===qm?Nf++:(Nf=0,qm=o):Nf=0,da(),null}function Xl(){if(Sa!==null){var o=pi(Nr),u=Fi.transition,h=yt;try{if(Fi.transition=null,yt=16>o?16:o,Sa===null)var y=!1;else{if(o=Sa,Sa=null,Nr=0,It&6)throw Error(n(331));var w=It;for(It|=4,Me=o.current;Me!==null;){var E=Me,N=E.child;if(Me.flags&16){var Q=E.deletions;if(Q!==null){for(var Z=0;Z<Q.length;Z++){var fe=Q[Z];for(Me=fe;Me!==null;){var Ce=Me;switch(Ce.tag){case 0:case 11:case 15:No(8,Ce,E)}var be=Ce.child;if(be!==null)be.return=Ce,Me=be;else for(;Me!==null;){Ce=Me;var Te=Ce.sibling,Ne=Ce.return;if(_v(Ce),Ce===fe){Me=null;break}if(Te!==null){Te.return=Ne,Me=Te;break}Me=Ne}}}var Ve=E.alternate;if(Ve!==null){var Ue=Ve.child;if(Ue!==null){Ve.child=null;do{var pn=Ue.sibling;Ue.sibling=null,Ue=pn}while(Ue!==null)}}Me=E}}if(E.subtreeFlags&2064&&N!==null)N.return=E,Me=N;else e:for(;Me!==null;){if(E=Me,E.flags&2048)switch(E.tag){case 0:case 11:case 15:No(9,E,E.return)}var se=E.sibling;if(se!==null){se.return=E.return,Me=se;break e}Me=E.return}}var te=o.current;for(Me=te;Me!==null;){N=Me;var ue=N.child;if(N.subtreeFlags&2064&&ue!==null)ue.return=N,Me=ue;else e:for(N=te;Me!==null;){if(Q=Me,Q.flags&2048)try{switch(Q.tag){case 0:case 11:case 15:Rf(9,Q)}}catch(Be){cn(Q,Q.return,Be)}if(Q===N){Me=null;break e}var xe=Q.sibling;if(xe!==null){xe.return=Q.return,Me=xe;break e}Me=Q.return}}if(It=w,da(),hi&&typeof hi.onPostCommitFiberRoot=="function")try{hi.onPostCommitFiberRoot(su,o)}catch{}y=!0}return y}finally{yt=h,Fi.transition=u}}return!1}function Ch(o,u,h){u=Pu(h,u),u=Tf(o,u,1),o=Mi(o,u,1),u=Mr(),o!==null&&(ea(o,1,u),Zr(o,u))}function cn(o,u,h){if(o.tag===3)Ch(o,o,h);else for(;u!==null;){if(u.tag===3){Ch(u,o,h);break}else if(u.tag===1){var y=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof y.componentDidCatch=="function"&&(wa===null||!wa.has(y))){o=Pu(h,o),o=lh(u,o,1),u=Mi(u,o,1),o=Mr(),u!==null&&(ea(u,1,o),Zr(u,o));break}}u=u.return}}function rS(o,u,h){var y=o.pingCache;y!==null&&y.delete(u),u=Mr(),o.pingedLanes|=o.suspendedLanes&h,er===o&&(fr&h)===h&&(zn===4||zn===3&&(fr&130023424)===fr&&500>Mt()-Wm?Ou(o,0):vh|=h),Zr(o,u)}function Pv(o,u){u===0&&(o.mode&1?(u=gl,gl<<=1,!(gl&130023424)&&(gl=4194304)):u=1);var h=Mr();o=xo(o,u),o!==null&&(ea(o,u,h),Zr(o,h))}function iS(o){var u=o.memoizedState,h=0;u!==null&&(h=u.retryLane),Pv(o,h)}function sS(o,u){var h=0;switch(o.tag){case 13:var y=o.stateNode,w=o.memoizedState;w!==null&&(h=w.retryLane);break;case 19:y=o.stateNode;break;default:throw Error(n(314))}y!==null&&y.delete(u),Pv(o,h)}var Rv;Rv=function(o,u,h){if(o!==null)if(o.memoizedProps!==u.pendingProps||Gr.current)Or=!0;else{if(!(o.lanes&h)&&!(u.flags&128))return Or=!1,gv(o,u,h);Or=!!(o.flags&131072)}else Or=!1,Zt&&u.flags&1048576&&ev(u,Wd,u.index);switch(u.lanes=0,u.tag){case 2:var y=u.type;dh(o,u),o=u.pendingProps;var w=Ml(u,_r.current);pa(u,h),w=Au(null,u,y,o,w,h);var E=Jd();return u.flags|=1,typeof w=="object"&&w!==null&&typeof w.render=="function"&&w.$$typeof===void 0?(u.tag=1,u.memoizedState=null,u.updateQueue=null,Kr(y)?(E=!0,Ri(u)):E=!1,u.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,Yd(u),w.updater=ah,u.stateNode=w,w._reactInternals=u,Pm(u,y,o,h),u=Lm(null,u,y,!0,E,h)):(u.tag=0,Zt&&E&&ff(u),ur(null,u,w,h),u=u.child),u;case 16:y=u.elementType;e:{switch(dh(o,u),o=u.pendingProps,w=y._init,y=w(y._payload),u.type=y,w=u.tag=aS(y),o=Vi(y,o),w){case 0:u=Nm(null,u,y,o,h);break e;case 1:u=Mm(null,u,y,o,h);break e;case 11:u=pv(null,u,y,o,h);break e;case 14:u=km(null,u,y,Vi(y.type,o),h);break e}throw Error(n(306,y,""))}return u;case 0:return y=u.type,w=u.pendingProps,w=u.elementType===y?w:Vi(y,w),Nm(o,u,y,w,h);case 1:return y=u.type,w=u.pendingProps,w=u.elementType===y?w:Vi(y,w),Mm(o,u,y,w,h);case 3:e:{if(mv(u),o===null)throw Error(n(387));y=u.pendingProps,E=u.memoizedState,w=E.element,iv(o,u),Fl(u,y,null,h);var N=u.memoizedState;if(y=N.element,E.isDehydrated)if(E={element:y,isDehydrated:!1,cache:N.cache,pendingSuspenseBoundaries:N.pendingSuspenseBoundaries,transitions:N.transitions},u.updateQueue.baseState=E,u.memoizedState=E,u.flags&256){w=Pu(Error(n(423)),u),u=Ks(o,u,y,h,w);break e}else if(y!==w){w=Pu(Error(n(424)),u),u=Ks(o,u,y,h,w);break e}else for(yi=la(u.stateNode.containerInfo.firstChild),Sr=u,Zt=!0,as=null,h=qd(u,null,y,h),u.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling;else{if(js(),y===w){u=ls(o,u,h);break e}ur(o,u,y,h)}u=u.child}return u;case 5:return gm(u),o===null&&Yr(u),y=u.type,w=u.pendingProps,E=o!==null?o.memoizedProps:null,N=w.children,lf(y,w)?N=null:E!==null&&lf(y,E)&&(u.flags|=32),Dm(o,u),ur(o,u,N,h),u.child;case 6:return o===null&&Yr(u),null;case 13:return fh(o,u,h);case 4:return mm(u,u.stateNode.containerInfo),y=u.pendingProps,o===null?u.child=hn(u,null,y,h):ur(o,u,y,h),u.child;case 11:return y=u.type,w=u.pendingProps,w=u.elementType===y?w:Vi(y,w),pv(o,u,y,w,h);case 7:return ur(o,u,u.pendingProps,h),u.child;case 8:return ur(o,u,u.pendingProps.children,h),u.child;case 12:return ur(o,u,u.pendingProps.children,h),u.child;case 10:e:{if(y=u.type._context,w=u.pendingProps,E=u.memoizedProps,N=w.value,Kt(pf,y._currentValue),y._currentValue=N,E!==null)if(le(E.value,N)){if(E.children===w.children&&!Gr.current){u=ls(o,u,h);break e}}else for(E=u.child,E!==null&&(E.return=u);E!==null;){var Q=E.dependencies;if(Q!==null){N=E.child;for(var Z=Q.firstContext;Z!==null;){if(Z.context===y){if(E.tag===1){Z=Po(-1,h&-h),Z.tag=2;var fe=E.updateQueue;if(fe!==null){fe=fe.shared;var Ce=fe.pending;Ce===null?Z.next=Z:(Z.next=Ce.next,Ce.next=Z),fe.pending=Z}}E.lanes|=h,Z=E.alternate,Z!==null&&(Z.lanes|=h),ar(E.return,h,u),Q.lanes|=h;break}Z=Z.next}}else if(E.tag===10)N=E.type===u.type?null:E.child;else if(E.tag===18){if(N=E.return,N===null)throw Error(n(341));N.lanes|=h,Q=N.alternate,Q!==null&&(Q.lanes|=h),ar(N,h,u),N=E.sibling}else N=E.child;if(N!==null)N.return=E;else for(N=E;N!==null;){if(N===u){N=null;break}if(E=N.sibling,E!==null){E.return=N.return,N=E;break}N=N.return}E=N}ur(o,u,w.children,h),u=u.child}return u;case 9:return w=u.type,y=u.pendingProps.children,pa(u,h),w=Di(w),y=y(w),u.flags|=1,ur(o,u,y,h),u.child;case 14:return y=u.type,w=Vi(y,u.pendingProps),w=Vi(y.type,w),km(o,u,y,w,h);case 15:return Gs(o,u,u.type,u.pendingProps,h);case 17:return y=u.type,w=u.pendingProps,w=u.elementType===y?w:Vi(y,w),dh(o,u),u.tag=1,Kr(y)?(o=!0,Ri(u)):o=!1,pa(u,h),xu(u,y,w),Pm(u,y,w,h),Lm(null,u,y,!0,o,h);case 19:return ya(o,u,h);case 22:return Om(o,u,h)}throw Error(n(156,u.tag))};function kv(o,u){return hl(o,u)}function oS(o,u,h,y){this.tag=o,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=y,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ui(o,u,h,y){return new oS(o,u,h,y)}function Ih(o){return o=o.prototype,!(!o||!o.isReactComponent)}function aS(o){if(typeof o=="function")return Ih(o)?1:0;if(o!=null){if(o=o.$$typeof,o===K)return 11;if(o===oe)return 14}return 2}function ps(o,u){var h=o.alternate;return h===null?(h=Ui(o.tag,u,o.key,o.mode),h.elementType=o.elementType,h.type=o.type,h.stateNode=o.stateNode,h.alternate=o,o.alternate=h):(h.pendingProps=u,h.type=o.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=o.flags&14680064,h.childLanes=o.childLanes,h.lanes=o.lanes,h.child=o.child,h.memoizedProps=o.memoizedProps,h.memoizedState=o.memoizedState,h.updateQueue=o.updateQueue,u=o.dependencies,h.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},h.sibling=o.sibling,h.index=o.index,h.ref=o.ref,h}function bh(o,u,h,y,w,E){var N=2;if(y=o,typeof o=="function")Ih(o)&&(N=1);else if(typeof o=="string")N=5;else e:switch(o){case D:return Nu(h.children,w,E,u);case k:N=8,w|=8;break;case F:return o=Ui(12,h,u,w|2),o.elementType=F,o.lanes=E,o;case H:return o=Ui(13,h,u,w),o.elementType=H,o.lanes=E,o;case ce:return o=Ui(19,h,u,w),o.elementType=ce,o.lanes=E,o;case ye:return Ah(h,w,E,u);default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case A:N=10;break e;case W:N=9;break e;case K:N=11;break e;case oe:N=14;break e;case _e:N=16,y=null;break e}throw Error(n(130,o==null?o:typeof o,""))}return u=Ui(N,h,u,w),u.elementType=o,u.type=y,u.lanes=E,u}function Nu(o,u,h,y){return o=Ui(7,o,y,u),o.lanes=h,o}function Ah(o,u,h,y){return o=Ui(22,o,y,u),o.elementType=ye,o.lanes=h,o.stateNode={isHidden:!1},o}function Zm(o,u,h){return o=Ui(6,o,null,u),o.lanes=h,o}function Jm(o,u,h){return u=Ui(4,o.children!==null?o.children:[],o.key,u),u.lanes=h,u.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},u}function uS(o,u,h,y,w){this.tag=u,this.containerInfo=o,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Os(0),this.expirationTimes=Os(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Os(0),this.identifierPrefix=y,this.onRecoverableError=w,this.mutableSourceEagerHydrationData=null}function eg(o,u,h,y,w,E,N,Q,Z){return o=new uS(o,u,h,Q,Z),u===1?(u=1,E===!0&&(u|=8)):u=0,E=Ui(3,null,null,u),o.current=E,E.stateNode=o,E.memoizedState={element:y,isDehydrated:h,cache:null,transitions:null,pendingSuspenseBoundaries:null},Yd(E),o}function lS(o,u,h){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Y,key:y==null?null:""+y,children:o,containerInfo:u,implementation:h}}function Ov(o){if(!o)return fa;o=o._reactInternals;e:{if(Zi(o)!==o||o.tag!==1)throw Error(n(170));var u=o;do{switch(u.tag){case 3:u=u.stateNode.context;break e;case 1:if(Kr(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break e}}u=u.return}while(u!==null);throw Error(n(171))}if(o.tag===1){var h=o.type;if(Kr(h))return Xy(o,h,u)}return u}function Dv(o,u,h,y,w,E,N,Q,Z){return o=eg(h,y,!0,o,w,E,N,Q,Z),o.context=Ov(null),h=o.current,y=Mr(),w=Ta(h),E=Po(y,w),E.callback=u??null,Mi(h,E,w),o.current.lanes=w,ea(o,w,y),Zr(o,y),o}function xh(o,u,h,y){var w=u.current,E=Mr(),N=Ta(w);return h=Ov(h),u.context===null?u.context=h:u.pendingContext=h,u=Po(E,N),u.payload={element:o},y=y===void 0?null:y,y!==null&&(u.callback=y),o=Mi(w,u,N),o!==null&&(hs(o,w,N,E),Qd(o,w,N)),N}function Ph(o){if(o=o.current,!o.child)return null;switch(o.child.tag){case 5:return o.child.stateNode;default:return o.child.stateNode}}function Nv(o,u){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var h=o.retryLane;o.retryLane=h!==0&&h<u?h:u}}function tg(o,u){Nv(o,u),(o=o.alternate)&&Nv(o,u)}var Mv=typeof reportError=="function"?reportError:function(o){console.error(o)};function ng(o){this._internalRoot=o}Lf.prototype.render=ng.prototype.render=function(o){var u=this._internalRoot;if(u===null)throw Error(n(409));xh(o,u,null,null)},Lf.prototype.unmount=ng.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var u=o.containerInfo;ku(function(){xh(null,o,null,null)}),u[gi]=null}};function Lf(o){this._internalRoot=o}Lf.prototype.unstable_scheduleHydration=function(o){if(o){var u=Yc();o={blockedOn:null,target:o,priority:u};for(var h=0;h<Ns.length&&u!==0&&u<Ns[h].priority;h++);Ns.splice(h,0,o),h===0&&Td(o)}};function Rh(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function kh(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11&&(o.nodeType!==8||o.nodeValue!==" react-mount-point-unstable "))}function Lv(){}function cS(o,u,h,y,w){if(w){if(typeof y=="function"){var E=y;y=function(){var fe=Ph(N);E.call(fe)}}var N=Dv(u,y,o,0,null,!1,!1,"",Lv);return o._reactRootContainer=N,o[gi]=N.current,aa(o.nodeType===8?o.parentNode:o),ku(),N}for(;w=o.lastChild;)o.removeChild(w);if(typeof y=="function"){var Q=y;y=function(){var fe=Ph(Z);Q.call(fe)}}var Z=eg(o,0,!1,null,null,!1,!1,"",Lv);return o._reactRootContainer=Z,o[gi]=Z.current,aa(o.nodeType===8?o.parentNode:o),ku(function(){xh(u,Z,h,y)}),Z}function Oh(o,u,h,y,w){var E=h._reactRootContainer;if(E){var N=E;if(typeof w=="function"){var Q=w;w=function(){var Z=Ph(N);Q.call(Z)}}xh(u,N,o,w)}else N=cS(h,u,o,w,y);return Ph(N)}Kc=function(o){switch(o.tag){case 3:var u=o.stateNode;if(u.current.memoizedState.isDehydrated){var h=mo(u.pendingLanes);h!==0&&(Ds(u,h|1),Zr(u,Mt()),!(It&6)&&(Ru=Mt()+500,da()))}break;case 13:ku(function(){var y=xo(o,1);if(y!==null){var w=Mr();hs(y,o,1,w)}}),tg(o,1)}},ou=function(o){if(o.tag===13){var u=xo(o,134217728);if(u!==null){var h=Mr();hs(u,o,134217728,h)}tg(o,134217728)}},wd=function(o){if(o.tag===13){var u=Ta(o),h=xo(o,u);if(h!==null){var y=Mr();hs(h,o,u,y)}tg(o,u)}},Yc=function(){return yt},Qc=function(o,u){var h=yt;try{return yt=o,u()}finally{yt=h}},al=function(o,u,h){switch(u){case"input":if(xr(o,h),u=h.name,h.type==="radio"&&u!=null){for(h=o;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll("input[name="+JSON.stringify(""+u)+'][type="radio"]'),u=0;u<h.length;u++){var y=h[u];if(y!==o&&y.form===o.form){var w=Bd(y);if(!w)throw Error(n(90));Ar(y),xr(y,w)}}}break;case"textarea":sl(o,h);break;case"select":u=h.value,u!=null&&Fn(o,!!h.multiple,u,!1)}},tu=Ym,ll=ku;var Dh={usingClientEntryPoint:!1,Events:[vr,ft,Bd,Rs,Bc,Ym]},Vf={findFiberByHostInstance:Fs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},fS={bundleType:Vf.bundleType,version:Vf.version,rendererPackageName:Vf.rendererPackageName,rendererConfig:Vf.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:G.ReactCurrentDispatcher,findHostInstanceByFiber:function(o){return o=zc(o),o===null?null:o.stateNode},findFiberByHostInstance:Vf.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Nh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Nh.isDisabled&&Nh.supportsFiber)try{su=Nh.inject(fS),hi=Nh}catch{}}return zi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Dh,zi.createPortal=function(o,u){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Rh(u))throw Error(n(200));return lS(o,u,null,h)},zi.createRoot=function(o,u){if(!Rh(o))throw Error(n(299));var h=!1,y="",w=Mv;return u!=null&&(u.unstable_strictMode===!0&&(h=!0),u.identifierPrefix!==void 0&&(y=u.identifierPrefix),u.onRecoverableError!==void 0&&(w=u.onRecoverableError)),u=eg(o,1,!1,null,null,h,!1,y,w),o[gi]=u.current,aa(o.nodeType===8?o.parentNode:o),new ng(u)},zi.findDOMNode=function(o){if(o==null)return null;if(o.nodeType===1)return o;var u=o._reactInternals;if(u===void 0)throw typeof o.render=="function"?Error(n(188)):(o=Object.keys(o).join(","),Error(n(268,o)));return o=zc(u),o=o===null?null:o.stateNode,o},zi.flushSync=function(o){return ku(o)},zi.hydrate=function(o,u,h){if(!kh(u))throw Error(n(200));return Oh(null,o,u,!0,h)},zi.hydrateRoot=function(o,u,h){if(!Rh(o))throw Error(n(405));var y=h!=null&&h.hydratedSources||null,w=!1,E="",N=Mv;if(h!=null&&(h.unstable_strictMode===!0&&(w=!0),h.identifierPrefix!==void 0&&(E=h.identifierPrefix),h.onRecoverableError!==void 0&&(N=h.onRecoverableError)),u=Dv(u,null,o,1,h??null,w,!1,E,N),o[gi]=u.current,aa(o),y)for(o=0;o<y.length;o++)h=y[o],w=h._getVersion,w=w(h._source),u.mutableSourceEagerHydrationData==null?u.mutableSourceEagerHydrationData=[h,w]:u.mutableSourceEagerHydrationData.push(h,w);return new Lf(u)},zi.render=function(o,u,h){if(!kh(u))throw Error(n(200));return Oh(null,o,u,!1,h)},zi.unmountComponentAtNode=function(o){if(!kh(o))throw Error(n(40));return o._reactRootContainer?(ku(function(){Oh(null,null,o,!1,function(){o._reactRootContainer=null,o[gi]=null})}),!0):!1},zi.unstable_batchedUpdates=Ym,zi.unstable_renderSubtreeIntoContainer=function(o,u,h,y){if(!kh(h))throw Error(n(200));if(o==null||o._reactInternals===void 0)throw Error(n(38));return Oh(o,u,h,!1,y)},zi.version="18.3.1-next-f1338f8080-20240426",zi}var QI;function VR(){if(QI)return bS.exports;QI=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),bS.exports=j4(),bS.exports}var XI;function z4(){if(XI)return $v;XI=1;var t=VR();return $v.createRoot=t.createRoot,$v.hydrateRoot=t.hydrateRoot,$v}var W4=z4(),ZI={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FR=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},H4=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],a=t[n++],c=t[n++],f=((i&7)<<18|(s&63)<<12|(a&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const s=t[n++],a=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|a&63)}}return e.join("")},UR={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],a=i+1<t.length,c=a?t[i+1]:0,f=i+2<t.length,p=f?t[i+2]:0,g=s>>2,_=(s&3)<<4|c>>4;let S=(c&15)<<2|p>>6,I=p&63;f||(I=64,a||(S=64)),r.push(n[g],n[_],n[S],n[I])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(FR(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):H4(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],c=i<t.length?n[t.charAt(i)]:0;++i;const p=i<t.length?n[t.charAt(i)]:64;++i;const _=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||c==null||p==null||_==null)throw new q4;const S=s<<2|c>>4;if(r.push(S),p!==64){const I=c<<4&240|p>>2;if(r.push(I),_!==64){const x=p<<6&192|_;r.push(x)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class q4 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const G4=function(t){const e=FR(t);return UR.encodeByteArray(e,!0)},W_=function(t){return G4(t).replace(/\./g,"")},BR=function(t){try{return UR.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K4(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y4=()=>K4().__FIREBASE_DEFAULTS__,Q4=()=>{if(typeof process>"u"||typeof ZI>"u")return;const t=ZI.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},X4=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&BR(t[1]);return e&&JSON.parse(e)},N0=()=>{try{return Y4()||Q4()||X4()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},$R=t=>{var e,n;return(n=(e=N0())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},jR=t=>{const e=$R(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},zR=()=>{var t;return(t=N0())===null||t===void 0?void 0:t.config},WR=t=>{var e;return(e=N0())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z4{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HR(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[W_(JSON.stringify(n)),W_(JSON.stringify(a)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function li(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function J4(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(li())}function eU(){var t;const e=(t=N0())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function tU(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function nU(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function rU(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function iU(){const t=li();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function sU(){return!eU()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function oU(){try{return typeof indexedDB=="object"}catch{return!1}}function aU(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uU="FirebaseError";class za extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=uU,Object.setPrototypeOf(this,za.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,dy.prototype.create)}}class dy{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],a=s?lU(s,r):"Error",c=`${this.serviceName}: ${a} (${i}).`;return new za(i,c,r)}}function lU(t,e){return t.replace(cU,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const cU=/\{\$([^}]+)}/g;function fU(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function H_(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],a=e[i];if(JI(s)&&JI(a)){if(!H_(s,a))return!1}else if(s!==a)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function JI(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hy(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function dg(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function hg(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function dU(t,e){const n=new hU(t,e);return n.subscribe.bind(n)}class hU{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");pU(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=PS),i.error===void 0&&(i.error=PS),i.complete===void 0&&(i.complete=PS);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function pU(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function PS(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gn(t){return t&&t._delegate?t._delegate:t}class _c{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jf="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mU{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Z4;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(yU(e))try{this.getOrInitializeService({instanceIdentifier:jf})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=jf){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=jf){return this.instances.has(e)}getOptions(e=jf){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,a]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(s);r===c&&a.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const a=this.instances.get(i);return a&&e(a,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:gU(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=jf){return this.component?this.component.multipleInstances?e:jf:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function gU(t){return t===jf?void 0:t}function yU(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vU{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new mU(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Et;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Et||(Et={}));const _U={debug:Et.DEBUG,verbose:Et.VERBOSE,info:Et.INFO,warn:Et.WARN,error:Et.ERROR,silent:Et.SILENT},wU=Et.INFO,SU={[Et.DEBUG]:"log",[Et.VERBOSE]:"log",[Et.INFO]:"info",[Et.WARN]:"warn",[Et.ERROR]:"error"},TU=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=SU[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class i1{constructor(e){this.name=e,this._logLevel=wU,this._logHandler=TU,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Et))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?_U[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Et.DEBUG,...e),this._logHandler(this,Et.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Et.VERBOSE,...e),this._logHandler(this,Et.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Et.INFO,...e),this._logHandler(this,Et.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Et.WARN,...e),this._logHandler(this,Et.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Et.ERROR,...e),this._logHandler(this,Et.ERROR,...e)}}const EU=(t,e)=>e.some(n=>t instanceof n);let eb,tb;function CU(){return eb||(eb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function IU(){return tb||(tb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const qR=new WeakMap,LT=new WeakMap,GR=new WeakMap,RS=new WeakMap,s1=new WeakMap;function bU(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",a)},s=()=>{n(dc(t.result)),i()},a=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&qR.set(n,t)}).catch(()=>{}),s1.set(e,t),e}function AU(t){if(LT.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",a),t.removeEventListener("abort",a)},s=()=>{n(),i()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",a),t.addEventListener("abort",a)});LT.set(t,e)}let VT={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return LT.get(t);if(e==="objectStoreNames")return t.objectStoreNames||GR.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return dc(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function xU(t){VT=t(VT)}function PU(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(kS(this),e,...n);return GR.set(r,e.sort?e.sort():[e]),dc(r)}:IU().includes(t)?function(...e){return t.apply(kS(this),e),dc(qR.get(this))}:function(...e){return dc(t.apply(kS(this),e))}}function RU(t){return typeof t=="function"?PU(t):(t instanceof IDBTransaction&&AU(t),EU(t,CU())?new Proxy(t,VT):t)}function dc(t){if(t instanceof IDBRequest)return bU(t);if(RS.has(t))return RS.get(t);const e=RU(t);return e!==t&&(RS.set(t,e),s1.set(e,t)),e}const kS=t=>s1.get(t);function kU(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const a=indexedDB.open(t,e),c=dc(a);return r&&a.addEventListener("upgradeneeded",f=>{r(dc(a.result),f.oldVersion,f.newVersion,dc(a.transaction),f)}),n&&a.addEventListener("blocked",f=>n(f.oldVersion,f.newVersion,f)),c.then(f=>{s&&f.addEventListener("close",()=>s()),i&&f.addEventListener("versionchange",p=>i(p.oldVersion,p.newVersion,p))}).catch(()=>{}),c}const OU=["get","getKey","getAll","getAllKeys","count"],DU=["put","add","delete","clear"],OS=new Map;function nb(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(OS.get(e))return OS.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=DU.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||OU.includes(n)))return;const s=async function(a,...c){const f=this.transaction(a,i?"readwrite":"readonly");let p=f.store;return r&&(p=p.index(c.shift())),(await Promise.all([p[n](...c),i&&f.done]))[0]};return OS.set(e,s),s}xU(t=>({...t,get:(e,n,r)=>nb(e,n)||t.get(e,n,r),has:(e,n)=>!!nb(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NU{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(MU(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function MU(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const FT="@firebase/app",rb="0.10.18";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ku=new i1("@firebase/app"),LU="@firebase/app-compat",VU="@firebase/analytics-compat",FU="@firebase/analytics",UU="@firebase/app-check-compat",BU="@firebase/app-check",$U="@firebase/auth",jU="@firebase/auth-compat",zU="@firebase/database",WU="@firebase/data-connect",HU="@firebase/database-compat",qU="@firebase/functions",GU="@firebase/functions-compat",KU="@firebase/installations",YU="@firebase/installations-compat",QU="@firebase/messaging",XU="@firebase/messaging-compat",ZU="@firebase/performance",JU="@firebase/performance-compat",e5="@firebase/remote-config",t5="@firebase/remote-config-compat",n5="@firebase/storage",r5="@firebase/storage-compat",i5="@firebase/firestore",s5="@firebase/vertexai",o5="@firebase/firestore-compat",a5="firebase",u5="11.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UT="[DEFAULT]",l5={[FT]:"fire-core",[LU]:"fire-core-compat",[FU]:"fire-analytics",[VU]:"fire-analytics-compat",[BU]:"fire-app-check",[UU]:"fire-app-check-compat",[$U]:"fire-auth",[jU]:"fire-auth-compat",[zU]:"fire-rtdb",[WU]:"fire-data-connect",[HU]:"fire-rtdb-compat",[qU]:"fire-fn",[GU]:"fire-fn-compat",[KU]:"fire-iid",[YU]:"fire-iid-compat",[QU]:"fire-fcm",[XU]:"fire-fcm-compat",[ZU]:"fire-perf",[JU]:"fire-perf-compat",[e5]:"fire-rc",[t5]:"fire-rc-compat",[n5]:"fire-gcs",[r5]:"fire-gcs-compat",[i5]:"fire-fst",[o5]:"fire-fst-compat",[s5]:"fire-vertex","fire-js":"fire-js",[a5]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q_=new Map,c5=new Map,BT=new Map;function ib(t,e){try{t.container.addComponent(e)}catch(n){Ku.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Qf(t){const e=t.name;if(BT.has(e))return Ku.debug(`There were multiple attempts to register component ${e}.`),!1;BT.set(e,t);for(const n of q_.values())ib(n,t);for(const n of c5.values())ib(n,t);return!0}function M0(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Ra(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f5={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},hc=new dy("app","Firebase",f5);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d5{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new _c("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw hc.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ud=u5;function KR(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:UT,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw hc.create("bad-app-name",{appName:String(i)});if(n||(n=zR()),!n)throw hc.create("no-options");const s=q_.get(i);if(s){if(H_(n,s.options)&&H_(r,s.config))return s;throw hc.create("duplicate-app",{appName:i})}const a=new vU(i);for(const f of BT.values())a.addComponent(f);const c=new d5(n,r,a);return q_.set(i,c),c}function o1(t=UT){const e=q_.get(t);if(!e&&t===UT&&zR())return KR();if(!e)throw hc.create("no-app",{appName:t});return e}function Oa(t,e,n){var r;let i=(r=l5[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),a=e.match(/\s|\//);if(s||a){const c=[`Unable to register library "${i}" with version "${e}":`];s&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&a&&c.push("and"),a&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ku.warn(c.join(" "));return}Qf(new _c(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h5="firebase-heartbeat-database",p5=1,Ug="firebase-heartbeat-store";let DS=null;function YR(){return DS||(DS=kU(h5,p5,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ug)}catch(n){console.warn(n)}}}}).catch(t=>{throw hc.create("idb-open",{originalErrorMessage:t.message})})),DS}async function m5(t){try{const n=(await YR()).transaction(Ug),r=await n.objectStore(Ug).get(QR(t));return await n.done,r}catch(e){if(e instanceof za)Ku.warn(e.message);else{const n=hc.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ku.warn(n.message)}}}async function sb(t,e){try{const r=(await YR()).transaction(Ug,"readwrite");await r.objectStore(Ug).put(e,QR(t)),await r.done}catch(n){if(n instanceof za)Ku.warn(n.message);else{const r=hc.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ku.warn(r.message)}}}function QR(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g5=1024,y5=30*24*60*60*1e3;class v5{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new w5(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=ob();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(a=>{const c=new Date(a.date).valueOf();return Date.now()-c<=y5}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Ku.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=ob(),{heartbeatsToSend:r,unsentEntries:i}=_5(this._heartbeatsCache.heartbeats),s=W_(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Ku.warn(n),""}}}function ob(){return new Date().toISOString().substring(0,10)}function _5(t,e=g5){const n=[];let r=t.slice();for(const i of t){const s=n.find(a=>a.agent===i.agent);if(s){if(s.dates.push(i.date),ab(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),ab(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class w5{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return oU()?aU().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await m5(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return sb(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return sb(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function ab(t){return W_(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S5(t){Qf(new _c("platform-logger",e=>new NU(e),"PRIVATE")),Qf(new _c("heartbeat",e=>new v5(e),"PRIVATE")),Oa(FT,rb,t),Oa(FT,rb,"esm2017"),Oa("fire-js","")}S5("");var Pa=function(){return Pa=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Pa.apply(this,arguments)};function py(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function T5(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}function XR(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const E5=XR,ZR=new dy("auth","Firebase",XR());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G_=new i1("@firebase/auth");function C5(t,...e){G_.logLevel<=Et.WARN&&G_.warn(`Auth (${ud}): ${t}`,...e)}function __(t,...e){G_.logLevel<=Et.ERROR&&G_.error(`Auth (${ud}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wo(t,...e){throw a1(t,...e)}function Da(t,...e){return a1(t,...e)}function JR(t,e,n){const r=Object.assign(Object.assign({},E5()),{[e]:n});return new dy("auth","Firebase",r).create(e,{appName:t.name})}function Wu(t){return JR(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function a1(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return ZR.create(t,...e)}function it(t,e,...n){if(!t)throw a1(e,...n)}function Bu(t){const e="INTERNAL ASSERTION FAILED: "+t;throw __(e),new Error(e)}function Yu(t,e){t||Bu(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $T(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function I5(){return ub()==="http:"||ub()==="https:"}function ub(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b5(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(I5()||nU()||"connection"in navigator)?navigator.onLine:!0}function A5(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class my{constructor(e,n){this.shortDelay=e,this.longDelay=n,Yu(n>e,"Short delay should be less than long delay!"),this.isMobile=J4()||rU()}get(){return b5()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u1(t,e){Yu(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ek{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Bu("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Bu("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Bu("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x5={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P5=new my(3e4,6e4);function Dc(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Nc(t,e,n,r,i={}){return tk(t,i,async()=>{let s={},a={};r&&(e==="GET"?a=r:s={body:JSON.stringify(r)});const c=hy(Object.assign({key:t.config.apiKey},a)).slice(1),f=await t._getAdditionalHeaders();f["Content-Type"]="application/json",t.languageCode&&(f["X-Firebase-Locale"]=t.languageCode);const p=Object.assign({method:e,headers:f},s);return tU()||(p.referrerPolicy="no-referrer"),ek.fetch()(nk(t,t.config.apiHost,n,c),p)})}async function tk(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},x5),e);try{const i=new k5(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const a=await s.json();if("needConfirmation"in a)throw jv(t,"account-exists-with-different-credential",a);if(s.ok&&!("errorMessage"in a))return a;{const c=s.ok?a.errorMessage:a.error.message,[f,p]=c.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw jv(t,"credential-already-in-use",a);if(f==="EMAIL_EXISTS")throw jv(t,"email-already-in-use",a);if(f==="USER_DISABLED")throw jv(t,"user-disabled",a);const g=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw JR(t,g,p);Wo(t,g)}}catch(i){if(i instanceof za)throw i;Wo(t,"network-request-failed",{message:String(i)})}}async function gy(t,e,n,r,i={}){const s=await Nc(t,e,n,r,i);return"mfaPendingCredential"in s&&Wo(t,"multi-factor-auth-required",{_serverResponse:s}),s}function nk(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?u1(t.config,i):`${t.config.apiScheme}://${i}`}function R5(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class k5{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Da(this.auth,"network-request-failed")),P5.get())})}}function jv(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Da(t,e,r);return i.customData._tokenResponse=n,i}function lb(t){return t!==void 0&&t.enterprise!==void 0}class O5{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return R5(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function D5(t,e){return Nc(t,"GET","/v2/recaptchaConfig",Dc(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function N5(t,e){return Nc(t,"POST","/v1/accounts:delete",e)}async function rk(t,e){return Nc(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ag(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function M5(t,e=!1){const n=gn(t),r=await n.getIdToken(e),i=l1(r);it(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,a=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Ag(NS(i.auth_time)),issuedAtTime:Ag(NS(i.iat)),expirationTime:Ag(NS(i.exp)),signInProvider:a||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function NS(t){return Number(t)*1e3}function l1(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return __("JWT malformed, contained fewer than 3 sections"),null;try{const i=BR(n);return i?JSON.parse(i):(__("Failed to decode base64 JWT payload"),null)}catch(i){return __("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function cb(t){const e=l1(t);return it(e,"internal-error"),it(typeof e.exp<"u","internal-error"),it(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bg(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof za&&L5(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function L5({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V5{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jT{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ag(this.lastLoginAt),this.creationTime=Ag(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function K_(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Bg(t,rk(n,{idToken:r}));it(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const a=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?ik(s.providerUserInfo):[],c=U5(t.providerData,a),f=t.isAnonymous,p=!(t.email&&s.passwordHash)&&!(c!=null&&c.length),g=f?p:!1,_={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:c,metadata:new jT(s.createdAt,s.lastLoginAt),isAnonymous:g};Object.assign(t,_)}async function F5(t){const e=gn(t);await K_(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function U5(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function ik(t){return t.map(e=>{var{providerId:n}=e,r=py(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function B5(t,e){const n=await tk(t,{},async()=>{const r=hy({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,a=nk(t,i,"/v1/token",`key=${s}`),c=await t._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",ek.fetch()(a,{method:"POST",headers:c,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function $5(t,e){return Nc(t,"POST","/v2/accounts:revokeToken",Dc(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class up{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){it(e.idToken,"internal-error"),it(typeof e.idToken<"u","internal-error"),it(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):cb(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){it(e.length!==0,"internal-error");const n=cb(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(it(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await B5(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,a=new up;return r&&(it(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),i&&(it(typeof i=="string","internal-error",{appName:e}),a.accessToken=i),s&&(it(typeof s=="number","internal-error",{appName:e}),a.expirationTime=s),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new up,this.toJSON())}_performRefresh(){return Bu("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jl(t,e){it(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class $u{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=py(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new V5(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new jT(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Bg(this,this.stsTokenManager.getToken(this.auth,e));return it(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return M5(this,e)}reload(){return F5(this)}_assign(e){this!==e&&(it(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new $u(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){it(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await K_(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ra(this.auth.app))return Promise.reject(Wu(this.auth));const e=await this.getIdToken();return await Bg(this,N5(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,a,c,f,p,g;const _=(r=n.displayName)!==null&&r!==void 0?r:void 0,S=(i=n.email)!==null&&i!==void 0?i:void 0,I=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,x=(a=n.photoURL)!==null&&a!==void 0?a:void 0,b=(c=n.tenantId)!==null&&c!==void 0?c:void 0,R=(f=n._redirectEventId)!==null&&f!==void 0?f:void 0,L=(p=n.createdAt)!==null&&p!==void 0?p:void 0,q=(g=n.lastLoginAt)!==null&&g!==void 0?g:void 0,{uid:B,emailVerified:G,isAnonymous:V,providerData:Y,stsTokenManager:D}=n;it(B&&D,e,"internal-error");const k=up.fromJSON(this.name,D);it(typeof B=="string",e,"internal-error"),Jl(_,e.name),Jl(S,e.name),it(typeof G=="boolean",e,"internal-error"),it(typeof V=="boolean",e,"internal-error"),Jl(I,e.name),Jl(x,e.name),Jl(b,e.name),Jl(R,e.name),Jl(L,e.name),Jl(q,e.name);const F=new $u({uid:B,auth:e,email:S,emailVerified:G,displayName:_,isAnonymous:V,photoURL:x,phoneNumber:I,tenantId:b,stsTokenManager:k,createdAt:L,lastLoginAt:q});return Y&&Array.isArray(Y)&&(F.providerData=Y.map(A=>Object.assign({},A))),R&&(F._redirectEventId=R),F}static async _fromIdTokenResponse(e,n,r=!1){const i=new up;i.updateFromServerResponse(n);const s=new $u({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await K_(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];it(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?ik(i.providerUserInfo):[],a=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),c=new up;c.updateFromIdToken(r);const f=new $u({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:a}),p={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new jT(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(f,p),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fb=new Map;function ju(t){Yu(t instanceof Function,"Expected a class definition");let e=fb.get(t);return e?(Yu(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,fb.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sk{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}sk.type="NONE";const db=sk;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w_(t,e,n){return`firebase:${t}:${e}:${n}`}class lp{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=w_(this.userKey,i.apiKey,s),this.fullPersistenceKey=w_("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?$u._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new lp(ju(db),e,r);const i=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let s=i[0]||ju(db);const a=w_(r,e.config.apiKey,e.name);let c=null;for(const p of n)try{const g=await p._get(a);if(g){const _=$u._fromJSON(e,g);p!==s&&(c=_),s=p;break}}catch{}const f=i.filter(p=>p._shouldAllowMigration);return!s._shouldAllowMigration||!f.length?new lp(s,e,r):(s=f[0],c&&await s._set(a,c.toJSON()),await Promise.all(n.map(async p=>{if(p!==s)try{await p._remove(a)}catch{}})),new lp(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hb(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(lk(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(ok(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(fk(e))return"Blackberry";if(dk(e))return"Webos";if(ak(e))return"Safari";if((e.includes("chrome/")||uk(e))&&!e.includes("edge/"))return"Chrome";if(ck(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function ok(t=li()){return/firefox\//i.test(t)}function ak(t=li()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function uk(t=li()){return/crios\//i.test(t)}function lk(t=li()){return/iemobile/i.test(t)}function ck(t=li()){return/android/i.test(t)}function fk(t=li()){return/blackberry/i.test(t)}function dk(t=li()){return/webos/i.test(t)}function c1(t=li()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function j5(t=li()){var e;return c1(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function z5(){return iU()&&document.documentMode===10}function hk(t=li()){return c1(t)||ck(t)||dk(t)||fk(t)||/windows phone/i.test(t)||lk(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pk(t,e=[]){let n;switch(t){case"Browser":n=hb(li());break;case"Worker":n=`${hb(li())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ud}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W5{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((a,c)=>{try{const f=e(s);a(f)}catch(f){c(f)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function H5(t,e={}){return Nc(t,"GET","/v2/passwordPolicy",Dc(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q5=6;class G5{constructor(e){var n,r,i,s;const a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=a.minPasswordLength)!==null&&n!==void 0?n:q5,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,a,c;const f={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,f),this.validatePasswordCharacterOptions(e,f),f.isValid&&(f.isValid=(n=f.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),f.isValid&&(f.isValid=(r=f.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),f.isValid&&(f.isValid=(i=f.containsLowercaseLetter)!==null&&i!==void 0?i:!0),f.isValid&&(f.isValid=(s=f.containsUppercaseLetter)!==null&&s!==void 0?s:!0),f.isValid&&(f.isValid=(a=f.containsNumericCharacter)!==null&&a!==void 0?a:!0),f.isValid&&(f.isValid=(c=f.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),f}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K5{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new pb(this),this.idTokenSubscription=new pb(this),this.beforeStateQueue=new W5(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ZR,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ju(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await lp.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await rk(this,{idToken:e}),r=await $u._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Ra(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(c,c))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,c=i==null?void 0:i._redirectEventId,f=await this.tryRedirectSignIn(e);(!a||a===c)&&(f!=null&&f.user)&&(i=f.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(a){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return it(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await K_(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=A5()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ra(this.app))return Promise.reject(Wu(this));const n=e?gn(e):null;return n&&it(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&it(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ra(this.app)?Promise.reject(Wu(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ra(this.app)?Promise.reject(Wu(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ju(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await H5(this),n=new G5(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new dy("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await $5(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ju(e)||this._popupRedirectResolver;it(n,this,"argument-error"),this.redirectPersistenceManager=await lp.create(this,[ju(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let a=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(it(c,this,"internal-error"),c.then(()=>{a||s(this.currentUser)}),typeof n=="function"){const f=e.addObserver(n,r,i);return()=>{a=!0,f()}}else{const f=e.addObserver(n);return()=>{a=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return it(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=pk(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&C5(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function ld(t){return gn(t)}class pb{constructor(e){this.auth=e,this.observer=null,this.addObserver=dU(n=>this.observer=n)}get next(){return it(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let L0={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Y5(t){L0=t}function mk(t){return L0.loadJS(t)}function Q5(){return L0.recaptchaEnterpriseScript}function X5(){return L0.gapiScript}function Z5(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class J5{constructor(){this.enterprise=new e3}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class e3{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const t3="recaptcha-enterprise",gk="NO_RECAPTCHA";class n3{constructor(e){this.type=t3,this.auth=ld(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(a,c)=>{D5(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const p=new O5(f);return s.tenantId==null?s._agentRecaptchaConfig=p:s._tenantRecaptchaConfigs[s.tenantId]=p,a(p.siteKey)}}).catch(f=>{c(f)})})}function i(s,a,c){const f=window.grecaptcha;lb(f)?f.enterprise.ready(()=>{f.enterprise.execute(s,{action:e}).then(p=>{a(p)}).catch(()=>{a(gk)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new J5().execute("siteKey",{action:"verify"}):new Promise((s,a)=>{r(this.auth).then(c=>{if(!n&&lb(window.grecaptcha))i(c,s,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let f=Q5();f.length!==0&&(f+=c),mk(f).then(()=>{i(c,s,a)}).catch(p=>{a(p)})}}).catch(c=>{a(c)})})}}async function mb(t,e,n,r=!1,i=!1){const s=new n3(t);let a;if(i)a=gk;else try{a=await s.verify(n)}catch{a=await s.verify(n,!0)}const c=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in c){const f=c.phoneEnrollmentInfo.phoneNumber,p=c.phoneEnrollmentInfo.recaptchaToken;Object.assign(c,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:p,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in c){const f=c.phoneSignInInfo.recaptchaToken;Object.assign(c,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return c}return r?Object.assign(c,{captchaResp:a}):Object.assign(c,{captchaResponse:a}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c}async function zT(t,e,n,r,i){var s;if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await mb(t,e,n,n==="getOobCode");return r(t,a)}else return r(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await mb(t,e,n,n==="getOobCode");return r(t,c)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r3(t,e){const n=M0(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(H_(s,e??{}))return i;Wo(i,"already-initialized")}return n.initialize({options:e})}function i3(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ju);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function s3(t,e,n){const r=ld(t);it(r._canInitEmulator,r,"emulator-config-failed"),it(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=yk(e),{host:a,port:c}=o3(e),f=c===null?"":`:${c}`;r.config.emulator={url:`${s}//${a}${f}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:a,port:c,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),a3()}function yk(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function o3(t){const e=yk(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:gb(r.substr(s.length+1))}}else{const[s,a]=r.split(":");return{host:s,port:gb(a)}}}function gb(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function a3(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f1{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Bu("not implemented")}_getIdTokenResponse(e){return Bu("not implemented")}_linkToIdToken(e,n){return Bu("not implemented")}_getReauthenticationResolver(e){return Bu("not implemented")}}async function u3(t,e){return Nc(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function l3(t,e){return gy(t,"POST","/v1/accounts:signInWithPassword",Dc(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c3(t,e){return gy(t,"POST","/v1/accounts:signInWithEmailLink",Dc(t,e))}async function f3(t,e){return gy(t,"POST","/v1/accounts:signInWithEmailLink",Dc(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $g extends f1{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new $g(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new $g(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return zT(e,n,"signInWithPassword",l3);case"emailLink":return c3(e,{email:this._email,oobCode:this._password});default:Wo(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return zT(e,r,"signUpPassword",u3);case"emailLink":return f3(e,{idToken:n,email:this._email,oobCode:this._password});default:Wo(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cp(t,e){return gy(t,"POST","/v1/accounts:signInWithIdp",Dc(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d3="http://localhost";class Xf extends f1{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Xf(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Wo("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=py(n,["providerId","signInMethod"]);if(!r||!i)return null;const a=new Xf(r,i);return a.idToken=s.idToken||void 0,a.accessToken=s.accessToken||void 0,a.secret=s.secret,a.nonce=s.nonce,a.pendingToken=s.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return cp(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,cp(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,cp(e,n)}buildRequest(){const e={requestUri:d3,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=hy(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h3(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function p3(t){const e=dg(hg(t)).link,n=e?dg(hg(e)).deep_link_id:null,r=dg(hg(t)).deep_link_id;return(r?dg(hg(r)).link:null)||r||n||e||t}class d1{constructor(e){var n,r,i,s,a,c;const f=dg(hg(e)),p=(n=f.apiKey)!==null&&n!==void 0?n:null,g=(r=f.oobCode)!==null&&r!==void 0?r:null,_=h3((i=f.mode)!==null&&i!==void 0?i:null);it(p&&g&&_,"argument-error"),this.apiKey=p,this.operation=_,this.code=g,this.continueUrl=(s=f.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(a=f.languageCode)!==null&&a!==void 0?a:null,this.tenantId=(c=f.tenantId)!==null&&c!==void 0?c:null}static parseLink(e){const n=p3(e);try{return new d1(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vp{constructor(){this.providerId=Vp.PROVIDER_ID}static credential(e,n){return $g._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=d1.parseLink(n);return it(r,"argument-error"),$g._fromEmailAndCode(e,r.code,r.tenantId)}}Vp.PROVIDER_ID="password";Vp.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Vp.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vk{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yy extends vk{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sc extends yy{constructor(){super("facebook.com")}static credential(e){return Xf._fromParams({providerId:sc.PROVIDER_ID,signInMethod:sc.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return sc.credentialFromTaggedObject(e)}static credentialFromError(e){return sc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return sc.credential(e.oauthAccessToken)}catch{return null}}}sc.FACEBOOK_SIGN_IN_METHOD="facebook.com";sc.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oc extends yy{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Xf._fromParams({providerId:oc.PROVIDER_ID,signInMethod:oc.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return oc.credentialFromTaggedObject(e)}static credentialFromError(e){return oc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return oc.credential(n,r)}catch{return null}}}oc.GOOGLE_SIGN_IN_METHOD="google.com";oc.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ac extends yy{constructor(){super("github.com")}static credential(e){return Xf._fromParams({providerId:ac.PROVIDER_ID,signInMethod:ac.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ac.credentialFromTaggedObject(e)}static credentialFromError(e){return ac.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ac.credential(e.oauthAccessToken)}catch{return null}}}ac.GITHUB_SIGN_IN_METHOD="github.com";ac.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uc extends yy{constructor(){super("twitter.com")}static credential(e,n){return Xf._fromParams({providerId:uc.PROVIDER_ID,signInMethod:uc.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return uc.credentialFromTaggedObject(e)}static credentialFromError(e){return uc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return uc.credential(n,r)}catch{return null}}}uc.TWITTER_SIGN_IN_METHOD="twitter.com";uc.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m3(t,e){return gy(t,"POST","/v1/accounts:signUp",Dc(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zf{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await $u._fromIdTokenResponse(e,r,i),a=yb(r);return new Zf({user:s,providerId:a,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=yb(r);return new Zf({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function yb(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y_ extends za{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Y_.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Y_(e,n,r,i)}}function _k(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Y_._fromErrorAndOperation(t,s,e,r):s})}async function g3(t,e,n=!1){const r=await Bg(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Zf._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function y3(t,e,n=!1){const{auth:r}=t;if(Ra(r.app))return Promise.reject(Wu(r));const i="reauthenticate";try{const s=await Bg(t,_k(r,i,e,t),n);it(s.idToken,r,"internal-error");const a=l1(s.idToken);it(a,r,"internal-error");const{sub:c}=a;return it(t.uid===c,r,"user-mismatch"),Zf._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Wo(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wk(t,e,n=!1){if(Ra(t.app))return Promise.reject(Wu(t));const r="signIn",i=await _k(t,r,e),s=await Zf._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function v3(t,e){return wk(ld(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sk(t){const e=ld(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function _3(t,e,n){if(Ra(t.app))return Promise.reject(Wu(t));const r=ld(t),a=await zT(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",m3).catch(f=>{throw f.code==="auth/password-does-not-meet-requirements"&&Sk(t),f}),c=await Zf._fromIdTokenResponse(r,"signIn",a);return await r._updateCurrentUser(c.user),c}function w3(t,e,n){return Ra(t.app)?Promise.reject(Wu(t)):v3(gn(t),Vp.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Sk(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S3(t,e){return gn(t).setPersistence(e)}function T3(t,e,n,r){return gn(t).onIdTokenChanged(e,n,r)}function E3(t,e,n){return gn(t).beforeAuthStateChanged(e,n)}function C3(t,e,n,r){return gn(t).onAuthStateChanged(e,n,r)}const Q_="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tk{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Q_,"1"),this.storage.removeItem(Q_),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I3=1e3,b3=10;class Ek extends Tk{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=hk(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,c,f)=>{this.notifyListeners(a,f)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const a=this.storage.getItem(r);!n&&this.localCache[r]===a||this.notifyListeners(r,a)},s=this.storage.getItem(r);z5()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,b3):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},I3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Ek.type="LOCAL";const Ck=Ek;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ik extends Tk{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Ik.type="SESSION";const bk=Ik;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A3(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V0{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new V0(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,a=this.handlersMap[i];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const c=Array.from(a).map(async p=>p(n.origin,s)),f=await A3(c);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:f})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}V0.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h1(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x3{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,a;return new Promise((c,f)=>{const p=h1("",20);i.port1.start();const g=setTimeout(()=>{f(new Error("unsupported_event"))},r);a={messageChannel:i,onMessage(_){const S=_;if(S.data.eventId===p)switch(S.data.status){case"ack":clearTimeout(g),s=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),c(S.data.response);break;default:clearTimeout(g),clearTimeout(s),f(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Na(){return window}function P3(t){Na().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ak(){return typeof Na().WorkerGlobalScope<"u"&&typeof Na().importScripts=="function"}async function R3(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function k3(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function O3(){return Ak()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xk="firebaseLocalStorageDb",D3=1,X_="firebaseLocalStorage",Pk="fbase_key";class vy{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function F0(t,e){return t.transaction([X_],e?"readwrite":"readonly").objectStore(X_)}function N3(){const t=indexedDB.deleteDatabase(xk);return new vy(t).toPromise()}function WT(){const t=indexedDB.open(xk,D3);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(X_,{keyPath:Pk})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(X_)?e(r):(r.close(),await N3(),e(await WT()))})})}async function vb(t,e,n){const r=F0(t,!0).put({[Pk]:e,value:n});return new vy(r).toPromise()}async function M3(t,e){const n=F0(t,!1).get(e),r=await new vy(n).toPromise();return r===void 0?null:r.value}function _b(t,e){const n=F0(t,!0).delete(e);return new vy(n).toPromise()}const L3=800,V3=3;class Rk{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await WT(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>V3)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Ak()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=V0._getInstance(O3()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await R3(),!this.activeServiceWorker)return;this.sender=new x3(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||k3()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await WT();return await vb(e,Q_,"1"),await _b(e,Q_),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>vb(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>M3(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>_b(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=F0(i,!1).getAll();return new vy(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),L3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Rk.type="LOCAL";const F3=Rk;new my(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U3(t,e){return e?ju(e):(it(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p1 extends f1{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return cp(e,this._buildIdpRequest())}_linkToIdToken(e,n){return cp(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return cp(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function B3(t){return wk(t.auth,new p1(t),t.bypassAuthState)}function $3(t){const{auth:e,user:n}=t;return it(n,e,"internal-error"),y3(n,new p1(t),t.bypassAuthState)}async function j3(t){const{auth:e,user:n}=t;return it(n,e,"internal-error"),g3(n,new p1(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kk{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:a,type:c}=e;if(a){this.reject(a);return}const f={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(f))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return B3;case"linkViaPopup":case"linkViaRedirect":return j3;case"reauthViaPopup":case"reauthViaRedirect":return $3;default:Wo(this.auth,"internal-error")}}resolve(e){Yu(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Yu(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z3=new my(2e3,1e4);class ep extends kk{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,ep.currentPopupAction&&ep.currentPopupAction.cancel(),ep.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return it(e,this.auth,"internal-error"),e}async onExecution(){Yu(this.filter.length===1,"Popup operations only handle one event");const e=h1();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Da(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Da(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ep.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Da(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,z3.get())};e()}}ep.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W3="pendingRedirect",S_=new Map;class H3 extends kk{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=S_.get(this.auth._key());if(!e){try{const r=await q3(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}S_.set(this.auth._key(),e)}return this.bypassAuthState||S_.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function q3(t,e){const n=Y3(e),r=K3(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function G3(t,e){S_.set(t._key(),e)}function K3(t){return ju(t._redirectPersistence)}function Y3(t){return w_(W3,t.config.apiKey,t.name)}async function Q3(t,e,n=!1){if(Ra(t.app))return Promise.reject(Wu(t));const r=ld(t),i=U3(r,e),a=await new H3(r,i,n).execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X3=10*60*1e3;class Z3{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!J3(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!Ok(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Da(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=X3&&this.cachedEventUids.clear(),this.cachedEventUids.has(wb(e))}saveEventToCache(e){this.cachedEventUids.add(wb(e)),this.lastProcessedEventTime=Date.now()}}function wb(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Ok({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function J3(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ok(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function e6(t,e={}){return Nc(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t6=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,n6=/^https?/;async function r6(t){if(t.config.emulator)return;const{authorizedDomains:e}=await e6(t);for(const n of e)try{if(i6(n))return}catch{}Wo(t,"unauthorized-domain")}function i6(t){const e=$T(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===r}if(!n6.test(n))return!1;if(t6.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s6=new my(3e4,6e4);function Sb(){const t=Na().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function o6(t){return new Promise((e,n)=>{var r,i,s;function a(){Sb(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Sb(),n(Da(t,"network-request-failed"))},timeout:s6.get()})}if(!((i=(r=Na().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Na().gapi)===null||s===void 0)&&s.load)a();else{const c=Z5("iframefcb");return Na()[c]=()=>{gapi.load?a():n(Da(t,"network-request-failed"))},mk(`${X5()}?onload=${c}`).catch(f=>n(f))}}).catch(e=>{throw T_=null,e})}let T_=null;function a6(t){return T_=T_||o6(t),T_}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u6=new my(5e3,15e3),l6="__/auth/iframe",c6="emulator/auth/iframe",f6={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},d6=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function h6(t){const e=t.config;it(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?u1(e,c6):`https://${t.config.authDomain}/${l6}`,r={apiKey:e.apiKey,appName:t.name,v:ud},i=d6.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${hy(r).slice(1)}`}async function p6(t){const e=await a6(t),n=Na().gapi;return it(n,t,"internal-error"),e.open({where:document.body,url:h6(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:f6,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const a=Da(t,"network-request-failed"),c=Na().setTimeout(()=>{s(a)},u6.get());function f(){Na().clearTimeout(c),i(r)}r.ping(f).then(f,()=>{s(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m6={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},g6=500,y6=600,v6="_blank",_6="http://localhost";class Tb{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function w6(t,e,n,r=g6,i=y6){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const f=Object.assign(Object.assign({},m6),{width:r.toString(),height:i.toString(),top:s,left:a}),p=li().toLowerCase();n&&(c=uk(p)?v6:n),ok(p)&&(e=e||_6,f.scrollbars="yes");const g=Object.entries(f).reduce((S,[I,x])=>`${S}${I}=${x},`,"");if(j5(p)&&c!=="_self")return S6(e||"",c),new Tb(null);const _=window.open(e||"",c,g);it(_,t,"popup-blocked");try{_.focus()}catch{}return new Tb(_)}function S6(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T6="__/auth/handler",E6="emulator/auth/handler",C6=encodeURIComponent("fac");async function Eb(t,e,n,r,i,s){it(t.config.authDomain,t,"auth-domain-config-required"),it(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ud,eventId:i};if(e instanceof vk){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",fU(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,_]of Object.entries({}))a[g]=_}if(e instanceof yy){const g=e.getScopes().filter(_=>_!=="");g.length>0&&(a.scopes=g.join(","))}t.tenantId&&(a.tid=t.tenantId);const c=a;for(const g of Object.keys(c))c[g]===void 0&&delete c[g];const f=await t._getAppCheckToken(),p=f?`#${C6}=${encodeURIComponent(f)}`:"";return`${I6(t)}?${hy(c).slice(1)}${p}`}function I6({config:t}){return t.emulator?u1(t,E6):`https://${t.authDomain}/${T6}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MS="webStorageSupport";class b6{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=bk,this._completeRedirectFn=Q3,this._overrideRedirectResult=G3}async _openPopup(e,n,r,i){var s;Yu((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const a=await Eb(e,n,r,$T(),i);return w6(e,a,h1())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await Eb(e,n,r,$T(),i);return P3(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Yu(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await p6(e),r=new Z3(e);return n.register("authEvent",i=>(it(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(MS,{type:MS},i=>{var s;const a=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[MS];a!==void 0&&n(!!a),Wo(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=r6(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return hk()||ak()||c1()}}const A6=b6;var Cb="@firebase/auth",Ib="1.8.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x6{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){it(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P6(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function R6(t){Qf(new _c("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:c}=r.options;it(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:a,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:pk(t)},p=new K5(r,i,s,f);return i3(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Qf(new _c("auth-internal",e=>{const n=ld(e.getProvider("auth").getImmediate());return(r=>new x6(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Oa(Cb,Ib,P6(t)),Oa(Cb,Ib,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k6=5*60,O6=WR("authIdTokenMaxAge")||k6;let bb=null;const D6=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>O6)return;const i=n==null?void 0:n.token;bb!==i&&(bb=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function N6(t=o1()){const e=M0(t,"auth");if(e.isInitialized())return e.getImmediate();const n=r3(t,{popupRedirectResolver:A6,persistence:[F3,Ck,bk]}),r=WR("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const a=D6(s.toString());E3(n,a,()=>a(n.currentUser)),T3(n,c=>a(c))}}const i=$R("auth");return i&&s3(n,`http://${i}`),n}function M6(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}Y5({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Da("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",M6().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});R6("Browser");const Ab=t=>{let e;const n=new Set,r=(p,g)=>{const _=typeof p=="function"?p(e):p;if(!Object.is(_,e)){const S=e;e=g??(typeof _!="object"||_===null)?_:Object.assign({},e,_),n.forEach(I=>I(e,S))}},i=()=>e,c={setState:r,getState:i,getInitialState:()=>f,subscribe:p=>(n.add(p),()=>n.delete(p))},f=e=t(r,i,c);return c},L6=t=>t?Ab(t):Ab,V6=t=>t;function F6(t,e=V6){const n=NT.useSyncExternalStore(t.subscribe,()=>e(t.getState()),()=>e(t.getInitialState()));return NT.useDebugValue(n),n}const xb=t=>{const e=L6(t),n=r=>F6(e,r);return Object.assign(n,e),n},Dk=t=>t?xb(t):xb;function m1(t,e){let n;try{n=t()}catch{return}return{getItem:i=>{var s;const a=f=>f===null?null:JSON.parse(f,void 0),c=(s=n.getItem(i))!=null?s:null;return c instanceof Promise?c.then(a):a(c)},setItem:(i,s)=>n.setItem(i,JSON.stringify(s,void 0)),removeItem:i=>n.removeItem(i)}}const HT=t=>e=>{try{const n=t(e);return n instanceof Promise?n:{then(r){return HT(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return HT(r)(n)}}}},U6=(t,e)=>(n,r,i)=>{let s={storage:m1(()=>localStorage),partialize:b=>b,version:0,merge:(b,R)=>({...R,...b}),...e},a=!1;const c=new Set,f=new Set;let p=s.storage;if(!p)return t((...b)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),n(...b)},r,i);const g=()=>{const b=s.partialize({...r()});return p.setItem(s.name,{state:b,version:s.version})},_=i.setState;i.setState=(b,R)=>{_(b,R),g()};const S=t((...b)=>{n(...b),g()},r,i);i.getInitialState=()=>S;let I;const x=()=>{var b,R;if(!p)return;a=!1,c.forEach(q=>{var B;return q((B=r())!=null?B:S)});const L=((R=s.onRehydrateStorage)==null?void 0:R.call(s,(b=r())!=null?b:S))||void 0;return HT(p.getItem.bind(p))(s.name).then(q=>{if(q)if(typeof q.version=="number"&&q.version!==s.version){if(s.migrate){const B=s.migrate(q.state,q.version);return B instanceof Promise?B.then(G=>[!0,G]):[!0,B]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,q.state];return[!1,void 0]}).then(q=>{var B;const[G,V]=q;if(I=s.merge(V,(B=r())!=null?B:S),n(I,!0),G)return g()}).then(()=>{L==null||L(I,void 0),I=r(),a=!0,f.forEach(q=>q(I))}).catch(q=>{L==null||L(void 0,q)})};return i.persist={setOptions:b=>{s={...s,...b},b.storage&&(p=b.storage)},clearStorage:()=>{p==null||p.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>x(),hasHydrated:()=>a,onHydrate:b=>(c.add(b),()=>{c.delete(b)}),onFinishHydration:b=>(f.add(b),()=>{f.delete(b)})},s.skipHydration||x(),I||S},Nk=U6;var Mk=Symbol.for("immer-nothing"),Pb=Symbol.for("immer-draftable"),As=Symbol.for("immer-state");function $o(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var _p=Object.getPrototypeOf;function wp(t){return!!t&&!!t[As]}function Jf(t){var e;return t?Lk(t)||Array.isArray(t)||!!t[Pb]||!!((e=t.constructor)!=null&&e[Pb])||B0(t)||$0(t):!1}var B6=Object.prototype.constructor.toString();function Lk(t){if(!t||typeof t!="object")return!1;const e=_p(t);if(e===null)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===B6}function Z_(t,e){U0(t)===0?Reflect.ownKeys(t).forEach(n=>{e(n,t[n],t)}):t.forEach((n,r)=>e(r,n,t))}function U0(t){const e=t[As];return e?e.type_:Array.isArray(t)?1:B0(t)?2:$0(t)?3:0}function qT(t,e){return U0(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function Vk(t,e,n){const r=U0(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function $6(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function B0(t){return t instanceof Map}function $0(t){return t instanceof Set}function zf(t){return t.copy_||t.base_}function GT(t,e){if(B0(t))return new Map(t);if($0(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=Lk(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[As];let i=Reflect.ownKeys(r);for(let s=0;s<i.length;s++){const a=i[s],c=r[a];c.writable===!1&&(c.writable=!0,c.configurable=!0),(c.get||c.set)&&(r[a]={configurable:!0,writable:!0,enumerable:c.enumerable,value:t[a]})}return Object.create(_p(t),r)}else{const r=_p(t);if(r!==null&&n)return{...t};const i=Object.create(r);return Object.assign(i,t)}}function g1(t,e=!1){return j0(t)||wp(t)||!Jf(t)||(U0(t)>1&&(t.set=t.add=t.clear=t.delete=j6),Object.freeze(t),e&&Object.entries(t).forEach(([n,r])=>g1(r,!0))),t}function j6(){$o(2)}function j0(t){return Object.isFrozen(t)}var z6={};function ed(t){const e=z6[t];return e||$o(0,t),e}var jg;function Fk(){return jg}function W6(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Rb(t,e){e&&(ed("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function KT(t){YT(t),t.drafts_.forEach(H6),t.drafts_=null}function YT(t){t===jg&&(jg=t.parent_)}function kb(t){return jg=W6(jg,t)}function H6(t){const e=t[As];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function Ob(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[As].modified_&&(KT(e),$o(4)),Jf(t)&&(t=J_(e,t),e.parent_||e0(e,t)),e.patches_&&ed("Patches").generateReplacementPatches_(n[As].base_,t,e.patches_,e.inversePatches_)):t=J_(e,n,[]),KT(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==Mk?t:void 0}function J_(t,e,n){if(j0(e))return e;const r=e[As];if(!r)return Z_(e,(i,s)=>Db(t,r,e,i,s,n)),e;if(r.scope_!==t)return e;if(!r.modified_)return e0(t,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let s=i,a=!1;r.type_===3&&(s=new Set(i),i.clear(),a=!0),Z_(s,(c,f)=>Db(t,r,i,c,f,n,a)),e0(t,i,!1),n&&t.patches_&&ed("Patches").generatePatches_(r,n,t.patches_,t.inversePatches_)}return r.copy_}function Db(t,e,n,r,i,s,a){if(wp(i)){const c=s&&e&&e.type_!==3&&!qT(e.assigned_,r)?s.concat(r):void 0,f=J_(t,i,c);if(Vk(n,r,f),wp(f))t.canAutoFreeze_=!1;else return}else a&&n.add(i);if(Jf(i)&&!j0(i)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;J_(t,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&Object.prototype.propertyIsEnumerable.call(n,r)&&e0(t,i)}}function e0(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&g1(e,n)}function q6(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:Fk(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,s=y1;n&&(i=[r],s=zg);const{revoke:a,proxy:c}=Proxy.revocable(i,s);return r.draft_=c,r.revoke_=a,c}var y1={get(t,e){if(e===As)return t;const n=zf(t);if(!qT(n,e))return G6(t,n,e);const r=n[e];return t.finalized_||!Jf(r)?r:r===LS(t.base_,e)?(VS(t),t.copy_[e]=XT(r,t)):r},has(t,e){return e in zf(t)},ownKeys(t){return Reflect.ownKeys(zf(t))},set(t,e,n){const r=Uk(zf(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=LS(zf(t),e),s=i==null?void 0:i[As];if(s&&s.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if($6(n,i)&&(n!==void 0||qT(t.base_,e)))return!0;VS(t),QT(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return LS(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,VS(t),QT(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=zf(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){$o(11)},getPrototypeOf(t){return _p(t.base_)},setPrototypeOf(){$o(12)}},zg={};Z_(y1,(t,e)=>{zg[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});zg.deleteProperty=function(t,e){return zg.set.call(this,t,e,void 0)};zg.set=function(t,e,n){return y1.set.call(this,t[0],e,n,t[0])};function LS(t,e){const n=t[As];return(n?zf(n):t)[e]}function G6(t,e,n){var i;const r=Uk(e,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(t.draft_):void 0}function Uk(t,e){if(!(e in t))return;let n=_p(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=_p(n)}}function QT(t){t.modified_||(t.modified_=!0,t.parent_&&QT(t.parent_))}function VS(t){t.copy_||(t.copy_=GT(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var K6=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const s=n;n=e;const a=this;return function(f=s,...p){return a.produce(f,g=>n.call(this,g,...p))}}typeof n!="function"&&$o(6),r!==void 0&&typeof r!="function"&&$o(7);let i;if(Jf(e)){const s=kb(this),a=XT(e,void 0);let c=!0;try{i=n(a),c=!1}finally{c?KT(s):YT(s)}return Rb(s,r),Ob(i,s)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===Mk&&(i=void 0),this.autoFreeze_&&g1(i,!0),r){const s=[],a=[];ed("Patches").generateReplacementPatches_(e,i,s,a),r(s,a)}return i}else $o(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(a,...c)=>this.produceWithPatches(a,f=>e(f,...c));let r,i;return[this.produce(e,n,(a,c)=>{r=a,i=c}),r,i]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){Jf(t)||$o(8),wp(t)&&(t=Y6(t));const e=kb(this),n=XT(t,void 0);return n[As].isManual_=!0,YT(e),n}finishDraft(t,e){const n=t&&t[As];(!n||!n.isManual_)&&$o(9);const{scope_:r}=n;return Rb(r,e),Ob(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=ed("Patches").applyPatches_;return wp(t)?r(t,e):this.produce(t,i=>r(i,e))}};function XT(t,e){const n=B0(t)?ed("MapSet").proxyMap_(t,e):$0(t)?ed("MapSet").proxySet_(t,e):q6(t,e);return(e?e.scope_:Fk()).drafts_.push(n),n}function Y6(t){return wp(t)||$o(10,t),Bk(t)}function Bk(t){if(!Jf(t)||j0(t))return t;const e=t[As];let n;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=GT(t,e.scope_.immer_.useStrictShallowCopy_)}else n=GT(t,!0);return Z_(n,(r,i)=>{Vk(n,r,Bk(i))}),e&&(e.finalized_=!1),n}var xs=new K6,Q6=xs.produce;xs.produceWithPatches.bind(xs);xs.setAutoFreeze.bind(xs);xs.setUseStrictShallowCopy.bind(xs);xs.applyPatches.bind(xs);xs.createDraft.bind(xs);xs.finishDraft.bind(xs);const X6={user:null,products:[],productSort:"createdAtDesc"},qi=Dk(Nk(t=>({...X6,clearProducts:()=>t({products:[]}),setProducts:e=>t(Q6(n=>{n.products=e})),setProductSort:e=>t({productSort:e}),setUser:e=>t({user:e})}),{name:"product-keeper-user-storage",getStorage:()=>m1()}));var Z6="firebase",J6="11.2.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Oa(Z6,J6,"app");var Nb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var pc,$k;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,k){function F(){}F.prototype=k.prototype,D.D=k.prototype,D.prototype=new F,D.prototype.constructor=D,D.C=function(A,W,K){for(var H=Array(arguments.length-2),ce=2;ce<arguments.length;ce++)H[ce-2]=arguments[ce];return k.prototype[W].apply(A,H)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(D,k,F){F||(F=0);var A=Array(16);if(typeof k=="string")for(var W=0;16>W;++W)A[W]=k.charCodeAt(F++)|k.charCodeAt(F++)<<8|k.charCodeAt(F++)<<16|k.charCodeAt(F++)<<24;else for(W=0;16>W;++W)A[W]=k[F++]|k[F++]<<8|k[F++]<<16|k[F++]<<24;k=D.g[0],F=D.g[1],W=D.g[2];var K=D.g[3],H=k+(K^F&(W^K))+A[0]+3614090360&4294967295;k=F+(H<<7&4294967295|H>>>25),H=K+(W^k&(F^W))+A[1]+3905402710&4294967295,K=k+(H<<12&4294967295|H>>>20),H=W+(F^K&(k^F))+A[2]+606105819&4294967295,W=K+(H<<17&4294967295|H>>>15),H=F+(k^W&(K^k))+A[3]+3250441966&4294967295,F=W+(H<<22&4294967295|H>>>10),H=k+(K^F&(W^K))+A[4]+4118548399&4294967295,k=F+(H<<7&4294967295|H>>>25),H=K+(W^k&(F^W))+A[5]+1200080426&4294967295,K=k+(H<<12&4294967295|H>>>20),H=W+(F^K&(k^F))+A[6]+2821735955&4294967295,W=K+(H<<17&4294967295|H>>>15),H=F+(k^W&(K^k))+A[7]+4249261313&4294967295,F=W+(H<<22&4294967295|H>>>10),H=k+(K^F&(W^K))+A[8]+1770035416&4294967295,k=F+(H<<7&4294967295|H>>>25),H=K+(W^k&(F^W))+A[9]+2336552879&4294967295,K=k+(H<<12&4294967295|H>>>20),H=W+(F^K&(k^F))+A[10]+4294925233&4294967295,W=K+(H<<17&4294967295|H>>>15),H=F+(k^W&(K^k))+A[11]+2304563134&4294967295,F=W+(H<<22&4294967295|H>>>10),H=k+(K^F&(W^K))+A[12]+1804603682&4294967295,k=F+(H<<7&4294967295|H>>>25),H=K+(W^k&(F^W))+A[13]+4254626195&4294967295,K=k+(H<<12&4294967295|H>>>20),H=W+(F^K&(k^F))+A[14]+2792965006&4294967295,W=K+(H<<17&4294967295|H>>>15),H=F+(k^W&(K^k))+A[15]+1236535329&4294967295,F=W+(H<<22&4294967295|H>>>10),H=k+(W^K&(F^W))+A[1]+4129170786&4294967295,k=F+(H<<5&4294967295|H>>>27),H=K+(F^W&(k^F))+A[6]+3225465664&4294967295,K=k+(H<<9&4294967295|H>>>23),H=W+(k^F&(K^k))+A[11]+643717713&4294967295,W=K+(H<<14&4294967295|H>>>18),H=F+(K^k&(W^K))+A[0]+3921069994&4294967295,F=W+(H<<20&4294967295|H>>>12),H=k+(W^K&(F^W))+A[5]+3593408605&4294967295,k=F+(H<<5&4294967295|H>>>27),H=K+(F^W&(k^F))+A[10]+38016083&4294967295,K=k+(H<<9&4294967295|H>>>23),H=W+(k^F&(K^k))+A[15]+3634488961&4294967295,W=K+(H<<14&4294967295|H>>>18),H=F+(K^k&(W^K))+A[4]+3889429448&4294967295,F=W+(H<<20&4294967295|H>>>12),H=k+(W^K&(F^W))+A[9]+568446438&4294967295,k=F+(H<<5&4294967295|H>>>27),H=K+(F^W&(k^F))+A[14]+3275163606&4294967295,K=k+(H<<9&4294967295|H>>>23),H=W+(k^F&(K^k))+A[3]+4107603335&4294967295,W=K+(H<<14&4294967295|H>>>18),H=F+(K^k&(W^K))+A[8]+1163531501&4294967295,F=W+(H<<20&4294967295|H>>>12),H=k+(W^K&(F^W))+A[13]+2850285829&4294967295,k=F+(H<<5&4294967295|H>>>27),H=K+(F^W&(k^F))+A[2]+4243563512&4294967295,K=k+(H<<9&4294967295|H>>>23),H=W+(k^F&(K^k))+A[7]+1735328473&4294967295,W=K+(H<<14&4294967295|H>>>18),H=F+(K^k&(W^K))+A[12]+2368359562&4294967295,F=W+(H<<20&4294967295|H>>>12),H=k+(F^W^K)+A[5]+4294588738&4294967295,k=F+(H<<4&4294967295|H>>>28),H=K+(k^F^W)+A[8]+2272392833&4294967295,K=k+(H<<11&4294967295|H>>>21),H=W+(K^k^F)+A[11]+1839030562&4294967295,W=K+(H<<16&4294967295|H>>>16),H=F+(W^K^k)+A[14]+4259657740&4294967295,F=W+(H<<23&4294967295|H>>>9),H=k+(F^W^K)+A[1]+2763975236&4294967295,k=F+(H<<4&4294967295|H>>>28),H=K+(k^F^W)+A[4]+1272893353&4294967295,K=k+(H<<11&4294967295|H>>>21),H=W+(K^k^F)+A[7]+4139469664&4294967295,W=K+(H<<16&4294967295|H>>>16),H=F+(W^K^k)+A[10]+3200236656&4294967295,F=W+(H<<23&4294967295|H>>>9),H=k+(F^W^K)+A[13]+681279174&4294967295,k=F+(H<<4&4294967295|H>>>28),H=K+(k^F^W)+A[0]+3936430074&4294967295,K=k+(H<<11&4294967295|H>>>21),H=W+(K^k^F)+A[3]+3572445317&4294967295,W=K+(H<<16&4294967295|H>>>16),H=F+(W^K^k)+A[6]+76029189&4294967295,F=W+(H<<23&4294967295|H>>>9),H=k+(F^W^K)+A[9]+3654602809&4294967295,k=F+(H<<4&4294967295|H>>>28),H=K+(k^F^W)+A[12]+3873151461&4294967295,K=k+(H<<11&4294967295|H>>>21),H=W+(K^k^F)+A[15]+530742520&4294967295,W=K+(H<<16&4294967295|H>>>16),H=F+(W^K^k)+A[2]+3299628645&4294967295,F=W+(H<<23&4294967295|H>>>9),H=k+(W^(F|~K))+A[0]+4096336452&4294967295,k=F+(H<<6&4294967295|H>>>26),H=K+(F^(k|~W))+A[7]+1126891415&4294967295,K=k+(H<<10&4294967295|H>>>22),H=W+(k^(K|~F))+A[14]+2878612391&4294967295,W=K+(H<<15&4294967295|H>>>17),H=F+(K^(W|~k))+A[5]+4237533241&4294967295,F=W+(H<<21&4294967295|H>>>11),H=k+(W^(F|~K))+A[12]+1700485571&4294967295,k=F+(H<<6&4294967295|H>>>26),H=K+(F^(k|~W))+A[3]+2399980690&4294967295,K=k+(H<<10&4294967295|H>>>22),H=W+(k^(K|~F))+A[10]+4293915773&4294967295,W=K+(H<<15&4294967295|H>>>17),H=F+(K^(W|~k))+A[1]+2240044497&4294967295,F=W+(H<<21&4294967295|H>>>11),H=k+(W^(F|~K))+A[8]+1873313359&4294967295,k=F+(H<<6&4294967295|H>>>26),H=K+(F^(k|~W))+A[15]+4264355552&4294967295,K=k+(H<<10&4294967295|H>>>22),H=W+(k^(K|~F))+A[6]+2734768916&4294967295,W=K+(H<<15&4294967295|H>>>17),H=F+(K^(W|~k))+A[13]+1309151649&4294967295,F=W+(H<<21&4294967295|H>>>11),H=k+(W^(F|~K))+A[4]+4149444226&4294967295,k=F+(H<<6&4294967295|H>>>26),H=K+(F^(k|~W))+A[11]+3174756917&4294967295,K=k+(H<<10&4294967295|H>>>22),H=W+(k^(K|~F))+A[2]+718787259&4294967295,W=K+(H<<15&4294967295|H>>>17),H=F+(K^(W|~k))+A[9]+3951481745&4294967295,D.g[0]=D.g[0]+k&4294967295,D.g[1]=D.g[1]+(W+(H<<21&4294967295|H>>>11))&4294967295,D.g[2]=D.g[2]+W&4294967295,D.g[3]=D.g[3]+K&4294967295}r.prototype.u=function(D,k){k===void 0&&(k=D.length);for(var F=k-this.blockSize,A=this.B,W=this.h,K=0;K<k;){if(W==0)for(;K<=F;)i(this,D,K),K+=this.blockSize;if(typeof D=="string"){for(;K<k;)if(A[W++]=D.charCodeAt(K++),W==this.blockSize){i(this,A),W=0;break}}else for(;K<k;)if(A[W++]=D[K++],W==this.blockSize){i(this,A),W=0;break}}this.h=W,this.o+=k},r.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var k=1;k<D.length-8;++k)D[k]=0;var F=8*this.o;for(k=D.length-8;k<D.length;++k)D[k]=F&255,F/=256;for(this.u(D),D=Array(16),k=F=0;4>k;++k)for(var A=0;32>A;A+=8)D[F++]=this.g[k]>>>A&255;return D};function s(D,k){var F=c;return Object.prototype.hasOwnProperty.call(F,D)?F[D]:F[D]=k(D)}function a(D,k){this.h=k;for(var F=[],A=!0,W=D.length-1;0<=W;W--){var K=D[W]|0;A&&K==k||(F[W]=K,A=!1)}this.g=F}var c={};function f(D){return-128<=D&&128>D?s(D,function(k){return new a([k|0],0>k?-1:0)}):new a([D|0],0>D?-1:0)}function p(D){if(isNaN(D)||!isFinite(D))return _;if(0>D)return R(p(-D));for(var k=[],F=1,A=0;D>=F;A++)k[A]=D/F|0,F*=4294967296;return new a(k,0)}function g(D,k){if(D.length==0)throw Error("number format error: empty string");if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(D.charAt(0)=="-")return R(g(D.substring(1),k));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var F=p(Math.pow(k,8)),A=_,W=0;W<D.length;W+=8){var K=Math.min(8,D.length-W),H=parseInt(D.substring(W,W+K),k);8>K?(K=p(Math.pow(k,K)),A=A.j(K).add(p(H))):(A=A.j(F),A=A.add(p(H)))}return A}var _=f(0),S=f(1),I=f(16777216);t=a.prototype,t.m=function(){if(b(this))return-R(this).m();for(var D=0,k=1,F=0;F<this.g.length;F++){var A=this.i(F);D+=(0<=A?A:4294967296+A)*k,k*=4294967296}return D},t.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(x(this))return"0";if(b(this))return"-"+R(this).toString(D);for(var k=p(Math.pow(D,6)),F=this,A="";;){var W=G(F,k).g;F=L(F,W.j(k));var K=((0<F.g.length?F.g[0]:F.h)>>>0).toString(D);if(F=W,x(F))return K+A;for(;6>K.length;)K="0"+K;A=K+A}},t.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function x(D){if(D.h!=0)return!1;for(var k=0;k<D.g.length;k++)if(D.g[k]!=0)return!1;return!0}function b(D){return D.h==-1}t.l=function(D){return D=L(this,D),b(D)?-1:x(D)?0:1};function R(D){for(var k=D.g.length,F=[],A=0;A<k;A++)F[A]=~D.g[A];return new a(F,~D.h).add(S)}t.abs=function(){return b(this)?R(this):this},t.add=function(D){for(var k=Math.max(this.g.length,D.g.length),F=[],A=0,W=0;W<=k;W++){var K=A+(this.i(W)&65535)+(D.i(W)&65535),H=(K>>>16)+(this.i(W)>>>16)+(D.i(W)>>>16);A=H>>>16,K&=65535,H&=65535,F[W]=H<<16|K}return new a(F,F[F.length-1]&-2147483648?-1:0)};function L(D,k){return D.add(R(k))}t.j=function(D){if(x(this)||x(D))return _;if(b(this))return b(D)?R(this).j(R(D)):R(R(this).j(D));if(b(D))return R(this.j(R(D)));if(0>this.l(I)&&0>D.l(I))return p(this.m()*D.m());for(var k=this.g.length+D.g.length,F=[],A=0;A<2*k;A++)F[A]=0;for(A=0;A<this.g.length;A++)for(var W=0;W<D.g.length;W++){var K=this.i(A)>>>16,H=this.i(A)&65535,ce=D.i(W)>>>16,oe=D.i(W)&65535;F[2*A+2*W]+=H*oe,q(F,2*A+2*W),F[2*A+2*W+1]+=K*oe,q(F,2*A+2*W+1),F[2*A+2*W+1]+=H*ce,q(F,2*A+2*W+1),F[2*A+2*W+2]+=K*ce,q(F,2*A+2*W+2)}for(A=0;A<k;A++)F[A]=F[2*A+1]<<16|F[2*A];for(A=k;A<2*k;A++)F[A]=0;return new a(F,0)};function q(D,k){for(;(D[k]&65535)!=D[k];)D[k+1]+=D[k]>>>16,D[k]&=65535,k++}function B(D,k){this.g=D,this.h=k}function G(D,k){if(x(k))throw Error("division by zero");if(x(D))return new B(_,_);if(b(D))return k=G(R(D),k),new B(R(k.g),R(k.h));if(b(k))return k=G(D,R(k)),new B(R(k.g),k.h);if(30<D.g.length){if(b(D)||b(k))throw Error("slowDivide_ only works with positive integers.");for(var F=S,A=k;0>=A.l(D);)F=V(F),A=V(A);var W=Y(F,1),K=Y(A,1);for(A=Y(A,2),F=Y(F,2);!x(A);){var H=K.add(A);0>=H.l(D)&&(W=W.add(F),K=H),A=Y(A,1),F=Y(F,1)}return k=L(D,W.j(k)),new B(W,k)}for(W=_;0<=D.l(k);){for(F=Math.max(1,Math.floor(D.m()/k.m())),A=Math.ceil(Math.log(F)/Math.LN2),A=48>=A?1:Math.pow(2,A-48),K=p(F),H=K.j(k);b(H)||0<H.l(D);)F-=A,K=p(F),H=K.j(k);x(K)&&(K=S),W=W.add(K),D=L(D,H)}return new B(W,D)}t.A=function(D){return G(this,D).h},t.and=function(D){for(var k=Math.max(this.g.length,D.g.length),F=[],A=0;A<k;A++)F[A]=this.i(A)&D.i(A);return new a(F,this.h&D.h)},t.or=function(D){for(var k=Math.max(this.g.length,D.g.length),F=[],A=0;A<k;A++)F[A]=this.i(A)|D.i(A);return new a(F,this.h|D.h)},t.xor=function(D){for(var k=Math.max(this.g.length,D.g.length),F=[],A=0;A<k;A++)F[A]=this.i(A)^D.i(A);return new a(F,this.h^D.h)};function V(D){for(var k=D.g.length+1,F=[],A=0;A<k;A++)F[A]=D.i(A)<<1|D.i(A-1)>>>31;return new a(F,D.h)}function Y(D,k){var F=k>>5;k%=32;for(var A=D.g.length-F,W=[],K=0;K<A;K++)W[K]=0<k?D.i(K+F)>>>k|D.i(K+F+1)<<32-k:D.i(K+F);return new a(W,D.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,$k=r,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=p,a.fromString=g,pc=a}).apply(typeof Nb<"u"?Nb:typeof self<"u"?self:typeof window<"u"?window:{});var zv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var jk,pg,zk,E_,ZT,Wk,Hk,qk;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(m,T,P){return m==Array.prototype||m==Object.prototype||(m[T]=P.value),m};function n(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof zv=="object"&&zv];for(var T=0;T<m.length;++T){var P=m[T];if(P&&P.Math==Math)return P}throw Error("Cannot find global object")}var r=n(this);function i(m,T){if(T)e:{var P=r;m=m.split(".");for(var $=0;$<m.length-1;$++){var ie=m[$];if(!(ie in P))break e;P=P[ie]}m=m[m.length-1],$=P[m],T=T($),T!=$&&T!=null&&e(P,m,{configurable:!0,writable:!0,value:T})}}function s(m,T){m instanceof String&&(m+="");var P=0,$=!1,ie={next:function(){if(!$&&P<m.length){var he=P++;return{value:T(he,m[he]),done:!1}}return $=!0,{done:!0,value:void 0}}};return ie[Symbol.iterator]=function(){return ie},ie}i("Array.prototype.values",function(m){return m||function(){return s(this,function(T,P){return P})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},c=this||self;function f(m){var T=typeof m;return T=T!="object"?T:m?Array.isArray(m)?"array":T:"null",T=="array"||T=="object"&&typeof m.length=="number"}function p(m){var T=typeof m;return T=="object"&&m!=null||T=="function"}function g(m,T,P){return m.call.apply(m.bind,arguments)}function _(m,T,P){if(!m)throw Error();if(2<arguments.length){var $=Array.prototype.slice.call(arguments,2);return function(){var ie=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(ie,$),m.apply(T,ie)}}return function(){return m.apply(T,arguments)}}function S(m,T,P){return S=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?g:_,S.apply(null,arguments)}function I(m,T){var P=Array.prototype.slice.call(arguments,1);return function(){var $=P.slice();return $.push.apply($,arguments),m.apply(this,$)}}function x(m,T){function P(){}P.prototype=T.prototype,m.aa=T.prototype,m.prototype=new P,m.prototype.constructor=m,m.Qb=function($,ie,he){for(var Pe=Array(arguments.length-2),Ot=2;Ot<arguments.length;Ot++)Pe[Ot-2]=arguments[Ot];return T.prototype[ie].apply($,Pe)}}function b(m){const T=m.length;if(0<T){const P=Array(T);for(let $=0;$<T;$++)P[$]=m[$];return P}return[]}function R(m,T){for(let P=1;P<arguments.length;P++){const $=arguments[P];if(f($)){const ie=m.length||0,he=$.length||0;m.length=ie+he;for(let Pe=0;Pe<he;Pe++)m[ie+Pe]=$[Pe]}else m.push($)}}class L{constructor(T,P){this.i=T,this.j=P,this.h=0,this.g=null}get(){let T;return 0<this.h?(this.h--,T=this.g,this.g=T.next,T.next=null):T=this.i(),T}}function q(m){return/^[\s\xa0]*$/.test(m)}function B(){var m=c.navigator;return m&&(m=m.userAgent)?m:""}function G(m){return G[" "](m),m}G[" "]=function(){};var V=B().indexOf("Gecko")!=-1&&!(B().toLowerCase().indexOf("webkit")!=-1&&B().indexOf("Edge")==-1)&&!(B().indexOf("Trident")!=-1||B().indexOf("MSIE")!=-1)&&B().indexOf("Edge")==-1;function Y(m,T,P){for(const $ in m)T.call(P,m[$],$,m)}function D(m,T){for(const P in m)T.call(void 0,m[P],P,m)}function k(m){const T={};for(const P in m)T[P]=m[P];return T}const F="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function A(m,T){let P,$;for(let ie=1;ie<arguments.length;ie++){$=arguments[ie];for(P in $)m[P]=$[P];for(let he=0;he<F.length;he++)P=F[he],Object.prototype.hasOwnProperty.call($,P)&&(m[P]=$[P])}}function W(m){var T=1;m=m.split(":");const P=[];for(;0<T&&m.length;)P.push(m.shift()),T--;return m.length&&P.push(m.join(":")),P}function K(m){c.setTimeout(()=>{throw m},0)}function H(){var m=Ae;let T=null;return m.g&&(T=m.g,m.g=m.g.next,m.g||(m.h=null),T.next=null),T}class ce{constructor(){this.h=this.g=null}add(T,P){const $=oe.get();$.set(T,P),this.h?this.h.next=$:this.g=$,this.h=$}}var oe=new L(()=>new _e,m=>m.reset());class _e{constructor(){this.next=this.g=this.h=null}set(T,P){this.h=T,this.g=P,this.next=null}reset(){this.next=this.g=this.h=null}}let ye,ae=!1,Ae=new ce,Ee=()=>{const m=c.Promise.resolve(void 0);ye=()=>{m.then(ee)}};var ee=()=>{for(var m;m=H();){try{m.h.call(m.g)}catch(P){K(P)}var T=oe;T.j(m),100>T.h&&(T.h++,m.next=T.g,T.g=m)}ae=!1};function de(){this.s=this.s,this.C=this.C}de.prototype.s=!1,de.prototype.ma=function(){this.s||(this.s=!0,this.N())},de.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Oe(m,T){this.type=m,this.g=this.target=T,this.defaultPrevented=!1}Oe.prototype.h=function(){this.defaultPrevented=!0};var Ke=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var m=!1,T=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const P=()=>{};c.addEventListener("test",P,T),c.removeEventListener("test",P,T)}catch{}return m}();function je(m,T){if(Oe.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m){var P=this.type=m.type,$=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;if(this.target=m.target||m.srcElement,this.g=T,T=m.relatedTarget){if(V){e:{try{G(T.nodeName);var ie=!0;break e}catch{}ie=!1}ie||(T=null)}}else P=="mouseover"?T=m.fromElement:P=="mouseout"&&(T=m.toElement);this.relatedTarget=T,$?(this.clientX=$.clientX!==void 0?$.clientX:$.pageX,this.clientY=$.clientY!==void 0?$.clientY:$.pageY,this.screenX=$.screenX||0,this.screenY=$.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=typeof m.pointerType=="string"?m.pointerType:Ye[m.pointerType]||"",this.state=m.state,this.i=m,m.defaultPrevented&&je.aa.h.call(this)}}x(je,Oe);var Ye={2:"touch",3:"pen",4:"mouse"};je.prototype.h=function(){je.aa.h.call(this);var m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var ut="closure_listenable_"+(1e6*Math.random()|0),Je=0;function mt(m,T,P,$,ie){this.listener=m,this.proxy=null,this.src=T,this.type=P,this.capture=!!$,this.ha=ie,this.key=++Je,this.da=this.fa=!1}function on(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function Qn(m){this.src=m,this.g={},this.h=0}Qn.prototype.add=function(m,T,P,$,ie){var he=m.toString();m=this.g[he],m||(m=this.g[he]=[],this.h++);var Pe=sr(m,T,$,ie);return-1<Pe?(T=m[Pe],P||(T.fa=!1)):(T=new mt(T,this.src,he,!!$,ie),T.fa=P,m.push(T)),T};function Ar(m,T){var P=T.type;if(P in m.g){var $=m.g[P],ie=Array.prototype.indexOf.call($,T,void 0),he;(he=0<=ie)&&Array.prototype.splice.call($,ie,1),he&&(on(T),m.g[P].length==0&&(delete m.g[P],m.h--))}}function sr(m,T,P,$){for(var ie=0;ie<m.length;++ie){var he=m[ie];if(!he.da&&he.listener==T&&he.capture==!!P&&he.ha==$)return ie}return-1}var an="closure_lm_"+(1e6*Math.random()|0),jr={};function qa(m,T,P,$,ie){if(Array.isArray(T)){for(var he=0;he<T.length;he++)qa(m,T[he],P,$,ie);return null}return P=lo(P),m&&m[ut]?m.K(T,P,p($)?!!$.capture:!1,ie):xr(m,T,P,!1,$,ie)}function xr(m,T,P,$,ie,he){if(!T)throw Error("Invalid event type");var Pe=p(ie)?!!ie.capture:!!ie,Ot=uo(m);if(Ot||(m[an]=Ot=new Qn(m)),P=Ot.add(T,P,$,Pe,he),P.proxy)return P;if($=Ga(),P.proxy=$,$.src=m,$.listener=P,m.addEventListener)Ke||(ie=Pe),ie===void 0&&(ie=!1),m.addEventListener(T.toString(),$,ie);else if(m.attachEvent)m.attachEvent(Fn(T.toString()),$);else if(m.addListener&&m.removeListener)m.addListener($);else throw Error("addEventListener and attachEvent are unavailable.");return P}function Ga(){function m(P){return T.call(m.src,m.listener,P)}const T=ao;return m}function Ki(m,T,P,$,ie){if(Array.isArray(T))for(var he=0;he<T.length;he++)Ki(m,T[he],P,$,ie);else $=p($)?!!$.capture:!!$,P=lo(P),m&&m[ut]?(m=m.i,T=String(T).toString(),T in m.g&&(he=m.g[T],P=sr(he,P,$,ie),-1<P&&(on(he[P]),Array.prototype.splice.call(he,P,1),he.length==0&&(delete m.g[T],m.h--)))):m&&(m=uo(m))&&(T=m.g[T.toString()],m=-1,T&&(m=sr(T,P,$,ie)),(P=-1<m?T[m]:null)&&ci(P))}function ci(m){if(typeof m!="number"&&m&&!m.da){var T=m.src;if(T&&T[ut])Ar(T.i,m);else{var P=m.type,$=m.proxy;T.removeEventListener?T.removeEventListener(P,$,m.capture):T.detachEvent?T.detachEvent(Fn(P),$):T.addListener&&T.removeListener&&T.removeListener($),(P=uo(T))?(Ar(P,m),P.h==0&&(P.src=null,T[an]=null)):on(m)}}}function Fn(m){return m in jr?jr[m]:jr[m]="on"+m}function ao(m,T){if(m.da)m=!0;else{T=new je(T,this);var P=m.listener,$=m.ha||m.src;m.fa&&ci(m),m=P.call($,T)}return m}function uo(m){return m=m[an],m instanceof Qn?m:null}var sl="__closure_events_fn_"+(1e9*Math.random()>>>0);function lo(m){return typeof m=="function"?m:(m[sl]||(m[sl]=function(T){return m.handleEvent(T)}),m[sl])}function Un(){de.call(this),this.i=new Qn(this),this.M=this,this.F=null}x(Un,de),Un.prototype[ut]=!0,Un.prototype.removeEventListener=function(m,T,P,$){Ki(this,m,T,P,$)};function un(m,T){var P,$=m.F;if($)for(P=[];$;$=$.F)P.push($);if(m=m.M,$=T.type||T,typeof T=="string")T=new Oe(T,m);else if(T instanceof Oe)T.target=T.target||m;else{var ie=T;T=new Oe($,m),A(T,ie)}if(ie=!0,P)for(var he=P.length-1;0<=he;he--){var Pe=T.g=P[he];ie=zr(Pe,$,!0,T)&&ie}if(Pe=T.g=m,ie=zr(Pe,$,!0,T)&&ie,ie=zr(Pe,$,!1,T)&&ie,P)for(he=0;he<P.length;he++)Pe=T.g=P[he],ie=zr(Pe,$,!1,T)&&ie}Un.prototype.N=function(){if(Un.aa.N.call(this),this.i){var m=this.i,T;for(T in m.g){for(var P=m.g[T],$=0;$<P.length;$++)on(P[$]);delete m.g[T],m.h--}}this.F=null},Un.prototype.K=function(m,T,P,$){return this.i.add(String(m),T,!1,P,$)},Un.prototype.L=function(m,T,P,$){return this.i.add(String(m),T,!0,P,$)};function zr(m,T,P,$){if(T=m.i.g[String(T)],!T)return!0;T=T.concat();for(var ie=!0,he=0;he<T.length;++he){var Pe=T[he];if(Pe&&!Pe.da&&Pe.capture==P){var Ot=Pe.listener,$n=Pe.ha||Pe.src;Pe.fa&&Ar(m.i,Pe),ie=Ot.call($n,$)!==!1&&ie}}return ie&&!$.defaultPrevented}function Ka(m,T,P){if(typeof m=="function")P&&(m=S(m,P));else if(m&&typeof m.handleEvent=="function")m=S(m.handleEvent,m);else throw Error("Invalid listener argument");return 2147483647<Number(T)?-1:c.setTimeout(m,T||0)}function Ps(m){m.g=Ka(()=>{m.g=null,m.i&&(m.i=!1,Ps(m))},m.l);const T=m.h;m.h=null,m.m.apply(null,T)}class co extends de{constructor(T,P){super(),this.m=T,this.l=P,this.h=null,this.i=!1,this.g=null}j(T){this.h=arguments,this.g?this.i=!0:Ps(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function fo(m){de.call(this),this.h=m,this.g={}}x(fo,de);var Ya=[];function Qa(m){Y(m.g,function(T,P){this.g.hasOwnProperty(P)&&ci(T)},m),m.g={}}fo.prototype.N=function(){fo.aa.N.call(this),Qa(this)},fo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Xa=c.JSON.stringify,Za=c.JSON.parse,Ja=class{stringify(m){return c.JSON.stringify(m,void 0)}parse(m){return c.JSON.parse(m,void 0)}};function eu(){}eu.prototype.h=null;function ol(m){return m.h||(m.h=m.i())}function al(){}var fi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Yi(){Oe.call(this,"d")}x(Yi,Oe);function ul(){Oe.call(this,"c")}x(ul,Oe);var Rs={},Bc=null;function tu(){return Bc=Bc||new Un}Rs.La="serverreachability";function ll(m){Oe.call(this,Rs.La,m)}x(ll,Oe);function ho(m){const T=tu();un(T,new ll(T))}Rs.STAT_EVENT="statevent";function $c(m,T){Oe.call(this,Rs.STAT_EVENT,m),this.stat=T}x($c,Oe);function yn(m){const T=tu();un(T,new $c(T,m))}Rs.Ma="timingevent";function Yo(m,T){Oe.call(this,Rs.Ma,m),this.size=T}x(Yo,Oe);function Qi(m,T){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){m()},T)}function po(){this.g=!0}po.prototype.xa=function(){this.g=!1};function nu(m,T,P,$,ie,he){m.info(function(){if(m.g)if(he)for(var Pe="",Ot=he.split("&"),$n=0;$n<Ot.length;$n++){var St=Ot[$n].split("=");if(1<St.length){var Nt=St[0];St=St[1];var dn=Nt.split("_");Pe=2<=dn.length&&dn[1]=="type"?Pe+(Nt+"="+St+"&"):Pe+(Nt+"=redacted&")}}else Pe=null;else Pe=he;return"XMLHTTP REQ ("+$+") [attempt "+ie+"]: "+T+`
`+P+`
`+Pe})}function cl(m,T,P,$,ie,he,Pe){m.info(function(){return"XMLHTTP RESP ("+$+") [ attempt "+ie+"]: "+T+`
`+P+`
`+he+" "+Pe})}function Xi(m,T,P,$){m.info(function(){return"XMLHTTP TEXT ("+T+"): "+Zp(m,P)+($?" "+$:"")})}function jc(m,T){m.info(function(){return"TIMEOUT: "+T})}po.prototype.info=function(){};function Zp(m,T){if(!m.g)return T;if(!T)return null;try{var P=JSON.parse(T);if(P){for(m=0;m<P.length;m++)if(Array.isArray(P[m])){var $=P[m];if(!(2>$.length)){var ie=$[1];if(Array.isArray(ie)&&!(1>ie.length)){var he=ie[0];if(he!="noop"&&he!="stop"&&he!="close")for(var Pe=1;Pe<ie.length;Pe++)ie[Pe]=""}}}}return Xa(P)}catch{return T}}var fl={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},md={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Zi;function Qo(){}x(Qo,eu),Qo.prototype.g=function(){return new XMLHttpRequest},Qo.prototype.i=function(){return{}},Zi=new Qo;function Ji(m,T,P,$){this.j=m,this.i=T,this.l=P,this.R=$||1,this.U=new fo(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new gd}function gd(){this.i=null,this.g="",this.h=!1}var zc={},dl={};function hl(m,T,P){m.L=1,m.v=Ds(Wr(T)),m.m=P,m.P=!0,Wc(m,null)}function Wc(m,T){m.F=Date.now(),Mt(m),m.A=Wr(m.v);var P=m.A,$=m.R;Array.isArray($)||($=[String($)]),yo(P.i,"t",$),m.C=0,P=m.j.J,m.h=new gd,m.g=bd(m.j,P?T:null,!m.m),0<m.O&&(m.M=new co(S(m.Y,m,m.g),m.O)),T=m.U,P=m.g,$=m.ca;var ie="readystatechange";Array.isArray(ie)||(ie&&(Ya[0]=ie.toString()),ie=Ya);for(var he=0;he<ie.length;he++){var Pe=qa(P,ie[he],$||T.handleEvent,!1,T.h||T);if(!Pe)break;T.g[Pe.key]=Pe}T=m.H?k(m.H):{},m.m?(m.u||(m.u="POST"),T["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.A,m.u,m.m,T)):(m.u="GET",m.g.ea(m.A,m.u,null,T)),ho(),nu(m.i,m.u,m.A,m.l,m.R,m.m)}Ji.prototype.ca=function(m){m=m.target;const T=this.M;T&&Cn(m)==3?T.j():this.Y(m)},Ji.prototype.Y=function(m){try{if(m==this.g)e:{const dn=Cn(this.g);var T=this.g.Ba();const gr=this.g.Z();if(!(3>dn)&&(dn!=3||this.g&&(this.h.h||this.g.oa()||vl(this.g)))){this.J||dn!=4||T==7||(T==8||0>=gr?ho(3):ho(2)),iu(this);var P=this.g.Z();this.X=P;t:if(ru(this)){var $=vl(this.g);m="";var ie=$.length,he=Cn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){di(this),Xo(this);var Pe="";break t}this.h.i=new c.TextDecoder}for(T=0;T<ie;T++)this.h.h=!0,m+=this.h.i.decode($[T],{stream:!(he&&T==ie-1)});$.length=0,this.h.g+=m,this.C=0,Pe=this.h.g}else Pe=this.g.oa();if(this.o=P==200,cl(this.i,this.u,this.A,this.l,this.R,dn,P),this.o){if(this.T&&!this.K){t:{if(this.g){var Ot,$n=this.g;if((Ot=$n.g?$n.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!q(Ot)){var St=Ot;break t}}St=null}if(P=St)Xi(this.i,this.l,P,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,pl(this,P);else{this.o=!1,this.s=3,yn(12),di(this),Xo(this);break e}}if(this.P){P=!0;let Hr;for(;!this.J&&this.C<Pe.length;)if(Hr=Jp(this,Pe),Hr==dl){dn==4&&(this.s=4,yn(14),P=!1),Xi(this.i,this.l,null,"[Incomplete Response]");break}else if(Hr==zc){this.s=4,yn(15),Xi(this.i,this.l,Pe,"[Invalid Chunk]"),P=!1;break}else Xi(this.i,this.l,Hr,null),pl(this,Hr);if(ru(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),dn!=4||Pe.length!=0||this.h.h||(this.s=1,yn(16),P=!1),this.o=this.o&&P,!P)Xi(this.i,this.l,Pe,"[Invalid Chunked Response]"),di(this),Xo(this);else if(0<Pe.length&&!this.W){this.W=!0;var Nt=this.j;Nt.g==this&&Nt.ba&&!Nt.M&&(Nt.j.info("Great, no buffering proxy detected. Bytes received: "+Pe.length),Ai(Nt),Nt.M=!0,yn(11))}}else Xi(this.i,this.l,Pe,null),pl(this,Pe);dn==4&&di(this),this.o&&!this.J&&(dn==4?Vt(this.j,this):(this.o=!1,Mt(this)))}else ra(this.g),P==400&&0<Pe.indexOf("Unknown SID")?(this.s=3,yn(12)):(this.s=0,yn(13)),di(this),Xo(this)}}}catch{}finally{}};function ru(m){return m.g?m.u=="GET"&&m.L!=2&&m.j.Ca:!1}function Jp(m,T){var P=m.C,$=T.indexOf(`
`,P);return $==-1?dl:(P=Number(T.substring(P,$)),isNaN(P)?zc:($+=1,$+P>T.length?dl:(T=T.slice($,$+P),m.C=$+P,T)))}Ji.prototype.cancel=function(){this.J=!0,di(this)};function Mt(m){m.S=Date.now()+m.I,yd(m,m.I)}function yd(m,T){if(m.B!=null)throw Error("WatchDog timer not null");m.B=Qi(S(m.ba,m),T)}function iu(m){m.B&&(c.clearTimeout(m.B),m.B=null)}Ji.prototype.ba=function(){this.B=null;const m=Date.now();0<=m-this.S?(jc(this.i,this.A),this.L!=2&&(ho(),yn(17)),di(this),this.s=2,Xo(this)):yd(this,this.S-m)};function Xo(m){m.j.G==0||m.J||Vt(m.j,m)}function di(m){iu(m);var T=m.M;T&&typeof T.ma=="function"&&T.ma(),m.M=null,Qa(m.U),m.g&&(T=m.g,m.g=null,T.abort(),T.ma())}function pl(m,T){try{var P=m.j;if(P.G!=0&&(P.g==m||Pr(P.h,m))){if(!m.K&&Pr(P.h,m)&&P.G==3){try{var $=P.Da.g.parse(T)}catch{$=null}if(Array.isArray($)&&$.length==3){var ie=$;if(ie[0]==0){e:if(!P.u){if(P.g)if(P.g.F+3e3<m.F)ia(P),bi(P);else break e;du(P),yn(18)}}else P.za=ie[1],0<P.za-P.T&&37500>ie[2]&&P.F&&P.v==0&&!P.C&&(P.C=Qi(S(P.Za,P),6e3));if(1>=vd(P.h)&&P.ca){try{P.ca()}catch{}P.ca=void 0}}else ss(P,11)}else if((m.K||P.g==m)&&ia(P),!q(T))for(ie=P.Da.g.parse(T),T=0;T<ie.length;T++){let St=ie[T];if(P.T=St[0],St=St[1],P.G==2)if(St[0]=="c"){P.K=St[1],P.ia=St[2];const Nt=St[3];Nt!=null&&(P.la=Nt,P.j.info("VER="+P.la));const dn=St[4];dn!=null&&(P.Aa=dn,P.j.info("SVER="+P.Aa));const gr=St[5];gr!=null&&typeof gr=="number"&&0<gr&&($=1.5*gr,P.L=$,P.j.info("backChannelRequestTimeoutMs_="+$)),$=P;const Hr=m.g;if(Hr){const sa=Hr.g?Hr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(sa){var he=$.h;he.g||sa.indexOf("spdy")==-1&&sa.indexOf("quic")==-1&&sa.indexOf("h2")==-1||(he.j=he.l,he.g=new Set,he.h&&(ml(he,he.h),he.h=null))}if($.D){const Tl=Hr.g?Hr.g.getResponseHeader("X-HTTP-Session-Id"):null;Tl&&($.ya=Tl,$t($.I,$.D,Tl))}}P.G=3,P.l&&P.l.ua(),P.ba&&(P.R=Date.now()-m.F,P.j.info("Handshake RTT: "+P.R+"ms")),$=P;var Pe=m;if($.qa=wl($,$.J?$.ia:null,$.W),Pe.K){qc($.h,Pe);var Ot=Pe,$n=$.L;$n&&(Ot.I=$n),Ot.B&&(iu(Ot),Mt(Ot)),$.g=Pe}else fu($);0<P.i.length&&rs(P)}else St[0]!="stop"&&St[0]!="close"||ss(P,7);else P.G==3&&(St[0]=="stop"||St[0]=="close"?St[0]=="stop"?ss(P,7):Xn(P):St[0]!="noop"&&P.l&&P.l.ta(St),P.v=0)}}ho(4)}catch{}}var Hc=class{constructor(m,T){this.g=m,this.map=T}};function su(m){this.l=m||10,c.PerformanceNavigationTiming?(m=c.performance.getEntriesByType("navigation"),m=0<m.length&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function hi(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function vd(m){return m.h?1:m.g?m.g.size:0}function Pr(m,T){return m.h?m.h==T:m.g?m.g.has(T):!1}function ml(m,T){m.g?m.g.add(T):m.h=T}function qc(m,T){m.h&&m.h==T?m.h=null:m.g&&m.g.has(T)&&m.g.delete(T)}su.prototype.cancel=function(){if(this.i=Gc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function Gc(m){if(m.h!=null)return m.i.concat(m.h.D);if(m.g!=null&&m.g.size!==0){let T=m.i;for(const P of m.g.values())T=T.concat(P.D);return T}return b(m.i)}function Zo(m){if(m.V&&typeof m.V=="function")return m.V();if(typeof Map<"u"&&m instanceof Map||typeof Set<"u"&&m instanceof Set)return Array.from(m.values());if(typeof m=="string")return m.split("");if(f(m)){for(var T=[],P=m.length,$=0;$<P;$++)T.push(m[$]);return T}T=[],P=0;for($ in m)T[P++]=m[$];return T}function gl(m){if(m.na&&typeof m.na=="function")return m.na();if(!m.V||typeof m.V!="function"){if(typeof Map<"u"&&m instanceof Map)return Array.from(m.keys());if(!(typeof Set<"u"&&m instanceof Set)){if(f(m)||typeof m=="string"){var T=[];m=m.length;for(var P=0;P<m;P++)T.push(P);return T}T=[],P=0;for(const $ in m)T[P++]=$;return T}}}function mo(m,T){if(m.forEach&&typeof m.forEach=="function")m.forEach(T,void 0);else if(f(m)||typeof m=="string")Array.prototype.forEach.call(m,T,void 0);else for(var P=gl(m),$=Zo(m),ie=$.length,he=0;he<ie;he++)T.call(void 0,$[he],P&&P[he],m)}var ks=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function _d(m,T){if(m){m=m.split("&");for(var P=0;P<m.length;P++){var $=m[P].indexOf("="),ie=null;if(0<=$){var he=m[P].substring(0,$);ie=m[P].substring($+1)}else he=m[P];T(he,ie?decodeURIComponent(ie.replace(/\+/g," ")):"")}}}function go(m){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,m instanceof go){this.h=m.h,Jo(this,m.j),this.o=m.o,this.g=m.g,Os(this,m.s),this.l=m.l;var T=m.i,P=new es;P.i=T.i,T.g&&(P.g=new Map(T.g),P.h=T.h),ea(this,P),this.m=m.m}else m&&(T=String(m).match(ks))?(this.h=!1,Jo(this,T[1]||"",!0),this.o=yt(T[2]||""),this.g=yt(T[3]||"",!0),Os(this,T[4]),this.l=yt(T[5]||"",!0),ea(this,T[6]||"",!0),this.m=yt(T[7]||"")):(this.h=!1,this.i=new es(null,this.h))}go.prototype.toString=function(){var m=[],T=this.j;T&&m.push(pi(T,ou,!0),":");var P=this.g;return(P||T=="file")&&(m.push("//"),(T=this.o)&&m.push(pi(T,ou,!0),"@"),m.push(encodeURIComponent(String(P)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),P=this.s,P!=null&&m.push(":",String(P))),(P=this.l)&&(this.g&&P.charAt(0)!="/"&&m.push("/"),m.push(pi(P,P.charAt(0)=="/"?Yc:wd,!0))),(P=this.i.toString())&&m.push("?",P),(P=this.m)&&m.push("#",pi(P,yl)),m.join("")};function Wr(m){return new go(m)}function Jo(m,T,P){m.j=P?yt(T,!0):T,m.j&&(m.j=m.j.replace(/:$/,""))}function Os(m,T){if(T){if(T=Number(T),isNaN(T)||0>T)throw Error("Bad port number "+T);m.s=T}else m.s=null}function ea(m,T,P){T instanceof es?(m.i=T,Ns(m.i,m.h)):(P||(T=pi(T,Qc)),m.i=new es(T,m.h))}function $t(m,T,P){m.i.set(T,P)}function Ds(m){return $t(m,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),m}function yt(m,T){return m?T?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function pi(m,T,P){return typeof m=="string"?(m=encodeURI(m).replace(T,Kc),P&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function Kc(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var ou=/[#\/\?@]/g,wd=/[#\?:]/g,Yc=/[#\?]/g,Qc=/[#\?@]/g,yl=/#/g;function es(m,T){this.h=this.g=null,this.i=m||null,this.j=!!T}function or(m){m.g||(m.g=new Map,m.h=0,m.i&&_d(m.i,function(T,P){m.add(decodeURIComponent(T.replace(/\+/g," ")),P)}))}t=es.prototype,t.add=function(m,T){or(this),this.i=null,m=Ii(this,m);var P=this.g.get(m);return P||this.g.set(m,P=[]),P.push(T),this.h+=1,this};function ts(m,T){or(m),T=Ii(m,T),m.g.has(T)&&(m.i=null,m.h-=m.g.get(T).length,m.g.delete(T))}function ns(m,T){return or(m),T=Ii(m,T),m.g.has(T)}t.forEach=function(m,T){or(this),this.g.forEach(function(P,$){P.forEach(function(ie){m.call(T,ie,$,this)},this)},this)},t.na=function(){or(this);const m=Array.from(this.g.values()),T=Array.from(this.g.keys()),P=[];for(let $=0;$<T.length;$++){const ie=m[$];for(let he=0;he<ie.length;he++)P.push(T[$])}return P},t.V=function(m){or(this);let T=[];if(typeof m=="string")ns(this,m)&&(T=T.concat(this.g.get(Ii(this,m))));else{m=Array.from(this.g.values());for(let P=0;P<m.length;P++)T=T.concat(m[P])}return T},t.set=function(m,T){return or(this),this.i=null,m=Ii(this,m),ns(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[T]),this.h+=1,this},t.get=function(m,T){return m?(m=this.V(m),0<m.length?String(m[0]):T):T};function yo(m,T,P){ts(m,T),0<P.length&&(m.i=null,m.g.set(Ii(m,T),b(P)),m.h+=P.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],T=Array.from(this.g.keys());for(var P=0;P<T.length;P++){var $=T[P];const he=encodeURIComponent(String($)),Pe=this.V($);for($=0;$<Pe.length;$++){var ie=he;Pe[$]!==""&&(ie+="="+encodeURIComponent(String(Pe[$]))),m.push(ie)}}return this.i=m.join("&")};function Ii(m,T){return T=String(T),m.j&&(T=T.toLowerCase()),T}function Ns(m,T){T&&!m.j&&(or(m),m.i=null,m.g.forEach(function(P,$){var ie=$.toLowerCase();$!=ie&&(ts(this,$),yo(this,ie,P))},m)),m.j=T}function em(m,T){const P=new po;if(c.Image){const $=new Image;$.onload=I(pr,P,"TestLoadImage: loaded",!0,T,$),$.onerror=I(pr,P,"TestLoadImage: error",!1,T,$),$.onabort=I(pr,P,"TestLoadImage: abort",!1,T,$),$.ontimeout=I(pr,P,"TestLoadImage: timeout",!1,T,$),c.setTimeout(function(){$.ontimeout&&$.ontimeout()},1e4),$.src=m}else T(!1)}function Sd(m,T){const P=new po,$=new AbortController,ie=setTimeout(()=>{$.abort(),pr(P,"TestPingServer: timeout",!1,T)},1e4);fetch(m,{signal:$.signal}).then(he=>{clearTimeout(ie),he.ok?pr(P,"TestPingServer: ok",!0,T):pr(P,"TestPingServer: server error",!1,T)}).catch(()=>{clearTimeout(ie),pr(P,"TestPingServer: error",!1,T)})}function pr(m,T,P,$,ie){try{ie&&(ie.onload=null,ie.onerror=null,ie.onabort=null,ie.ontimeout=null),$(P)}catch{}}function tm(){this.g=new Ja}function Td(m,T,P){const $=P||"";try{mo(m,function(ie,he){let Pe=ie;p(ie)&&(Pe=Xa(ie)),T.push($+he+"="+encodeURIComponent(Pe))})}catch(ie){throw T.push($+"type="+encodeURIComponent("_badmap")),ie}}function vo(m){this.l=m.Ub||null,this.j=m.eb||!1}x(vo,eu),vo.prototype.g=function(){return new au(this.l,this.j)},vo.prototype.i=function(m){return function(){return m}}({});function au(m,T){Un.call(this),this.D=m,this.o=T,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}x(au,Un),t=au.prototype,t.open=function(m,T){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=m,this.A=T,this.readyState=1,vt(this)},t.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const T={headers:this.u,method:this.B,credentials:this.m,cache:void 0};m&&(T.body=m),(this.D||c).fetch(new Request(this.A,T)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,wt(this)),this.readyState=0},t.Sa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,vt(this)),this.g&&(this.readyState=3,vt(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ed(this)}else m.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ed(m){m.j.read().then(m.Pa.bind(m)).catch(m.ga.bind(m))}t.Pa=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var T=m.value?m.value:new Uint8Array(0);(T=this.v.decode(T,{stream:!m.done}))&&(this.response=this.responseText+=T)}m.done?wt(this):vt(this),this.readyState==3&&Ed(this)}},t.Ra=function(m){this.g&&(this.response=this.responseText=m,wt(this))},t.Qa=function(m){this.g&&(this.response=m,wt(this))},t.ga=function(){this.g&&wt(this)};function wt(m){m.readyState=4,m.l=null,m.j=null,m.v=null,vt(m)}t.setRequestHeader=function(m,T){this.u.append(m,T)},t.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],T=this.h.entries();for(var P=T.next();!P.done;)P=P.value,m.push(P[0]+": "+P[1]),P=T.next();return m.join(`\r
`)};function vt(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(au.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function _o(m){let T="";return Y(m,function(P,$){T+=$,T+=":",T+=P,T+=`\r
`}),T}function ta(m,T,P){e:{for($ in P){var $=!1;break e}$=!0}$||(P=_o(P),typeof m=="string"?P!=null&&encodeURIComponent(String(P)):$t(m,T,P))}function tn(m){Un.call(this),this.headers=new Map,this.o=m||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}x(tn,Un);var nm=/^https?$/i,Xc=["POST","PUT"];t=tn.prototype,t.Ha=function(m){this.J=m},t.ea=function(m,T,P,$){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);T=T?T.toUpperCase():"GET",this.D=m,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Zi.g(),this.v=this.o?ol(this.o):ol(Zi),this.g.onreadystatechange=S(this.Ea,this);try{this.B=!0,this.g.open(T,String(m),!0),this.B=!1}catch(he){uu(this,he);return}if(m=P||"",P=new Map(this.headers),$)if(Object.getPrototypeOf($)===Object.prototype)for(var ie in $)P.set(ie,$[ie]);else if(typeof $.keys=="function"&&typeof $.get=="function")for(const he of $.keys())P.set(he,$.get(he));else throw Error("Unknown input type for opt_headers: "+String($));$=Array.from(P.keys()).find(he=>he.toLowerCase()=="content-type"),ie=c.FormData&&m instanceof c.FormData,!(0<=Array.prototype.indexOf.call(Xc,T,void 0))||$||ie||P.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[he,Pe]of P)this.g.setRequestHeader(he,Pe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{na(this),this.u=!0,this.g.send(m),this.u=!1}catch(he){uu(this,he)}};function uu(m,T){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=T,m.m=5,lu(m),Lt(m)}function lu(m){m.A||(m.A=!0,un(m,"complete"),un(m,"error"))}t.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=m||7,un(this,"complete"),un(this,"abort"),Lt(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Lt(this,!0)),tn.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Zc(this):this.bb())},t.bb=function(){Zc(this)};function Zc(m){if(m.h&&typeof a<"u"&&(!m.v[1]||Cn(m)!=4||m.Z()!=2)){if(m.u&&Cn(m)==4)Ka(m.Ea,0,m);else if(un(m,"readystatechange"),Cn(m)==4){m.h=!1;try{const Pe=m.Z();e:switch(Pe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var T=!0;break e;default:T=!1}var P;if(!(P=T)){var $;if($=Pe===0){var ie=String(m.D).match(ks)[1]||null;!ie&&c.self&&c.self.location&&(ie=c.self.location.protocol.slice(0,-1)),$=!nm.test(ie?ie.toLowerCase():"")}P=$}if(P)un(m,"complete"),un(m,"success");else{m.m=6;try{var he=2<Cn(m)?m.g.statusText:""}catch{he=""}m.l=he+" ["+m.Z()+"]",lu(m)}}finally{Lt(m)}}}}function Lt(m,T){if(m.g){na(m);const P=m.g,$=m.v[0]?()=>{}:null;m.g=null,m.v=null,T||un(m,"ready");try{P.onreadystatechange=$}catch{}}}function na(m){m.I&&(c.clearTimeout(m.I),m.I=null)}t.isActive=function(){return!!this.g};function Cn(m){return m.g?m.g.readyState:0}t.Z=function(){try{return 2<Cn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(m){if(this.g){var T=this.g.responseText;return m&&T.indexOf(m)==0&&(T=T.substring(m.length)),Za(T)}};function vl(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.H){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function ra(m){const T={};m=(m.g&&2<=Cn(m)&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let $=0;$<m.length;$++){if(q(m[$]))continue;var P=W(m[$]);const ie=P[0];if(P=P[1],typeof P!="string")continue;P=P.trim();const he=T[ie]||[];T[ie]=he,he.push(P)}D(T,function($){return $.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function vn(m,T,P){return P&&P.internalChannelParams&&P.internalChannelParams[m]||T}function _l(m){this.Aa=0,this.i=[],this.j=new po,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=vn("failFast",!1,m),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=vn("baseRetryDelayMs",5e3,m),this.cb=vn("retryDelaySeedMs",1e4,m),this.Wa=vn("forwardChannelMaxRetries",2,m),this.wa=vn("forwardChannelRequestTimeoutMs",2e4,m),this.pa=m&&m.xmlHttpFactory||void 0,this.Xa=m&&m.Tb||void 0,this.Ca=m&&m.useFetchStreams||!1,this.L=void 0,this.J=m&&m.supportsCrossDomainXhr||!1,this.K="",this.h=new su(m&&m.concurrentRequestLimit),this.Da=new tm,this.P=m&&m.fastHandshake||!1,this.O=m&&m.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=m&&m.Rb||!1,m&&m.xa&&this.j.xa(),m&&m.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&m&&m.detectBufferingProxy||!1,this.ja=void 0,m&&m.longPollingTimeout&&0<m.longPollingTimeout&&(this.ja=m.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=_l.prototype,t.la=8,t.G=1,t.connect=function(m,T,P,$){yn(0),this.W=m,this.H=T||{},P&&$!==void 0&&(this.H.OSID=P,this.H.OAID=$),this.F=this.X,this.I=wl(this,null,this.W),rs(this)};function Xn(m){if(cu(m),m.G==3){var T=m.U++,P=Wr(m.I);if($t(P,"SID",m.K),$t(P,"RID",T),$t(P,"TYPE","terminate"),wo(m,P),T=new Ji(m,m.j,T),T.L=2,T.v=Ds(Wr(P)),P=!1,c.navigator&&c.navigator.sendBeacon)try{P=c.navigator.sendBeacon(T.v.toString(),"")}catch{}!P&&c.Image&&(new Image().src=T.v,P=!0),P||(T.g=bd(T.j,null),T.g.ea(T.v)),T.F=Date.now(),Mt(T)}Id(m)}function bi(m){m.g&&(Ai(m),m.g.cancel(),m.g=null)}function cu(m){bi(m),m.u&&(c.clearTimeout(m.u),m.u=null),ia(m),m.h.cancel(),m.s&&(typeof m.s=="number"&&c.clearTimeout(m.s),m.s=null)}function rs(m){if(!hi(m.h)&&!m.s){m.s=!0;var T=m.Ga;ye||Ee(),ae||(ye(),ae=!0),Ae.add(T,m),m.B=0}}function Cd(m,T){return vd(m.h)>=m.h.j-(m.s?1:0)?!1:m.s?(m.i=T.D.concat(m.i),!0):m.G==1||m.G==2||m.B>=(m.Va?0:m.Wa)?!1:(m.s=Qi(S(m.Ga,m,T),is(m,m.B)),m.B++,!0)}t.Ga=function(m){if(this.s)if(this.s=null,this.G==1){if(!m){this.U=Math.floor(1e5*Math.random()),m=this.U++;const ie=new Ji(this,this.j,m);let he=this.o;if(this.S&&(he?(he=k(he),A(he,this.S)):he=this.S),this.m!==null||this.O||(ie.H=he,he=null),this.P)e:{for(var T=0,P=0;P<this.i.length;P++){t:{var $=this.i[P];if("__data__"in $.map&&($=$.map.__data__,typeof $=="string")){$=$.length;break t}$=void 0}if($===void 0)break;if(T+=$,4096<T){T=P;break e}if(T===4096||P===this.i.length-1){T=P+1;break e}}T=1e3}else T=1e3;T=Bn(this,ie,T),P=Wr(this.I),$t(P,"RID",m),$t(P,"CVER",22),this.D&&$t(P,"X-HTTP-Session-Id",this.D),wo(this,P),he&&(this.O?T="headers="+encodeURIComponent(String(_o(he)))+"&"+T:this.m&&ta(P,this.m,he)),ml(this.h,ie),this.Ua&&$t(P,"TYPE","init"),this.P?($t(P,"$req",T),$t(P,"SID","null"),ie.T=!0,hl(ie,P,null)):hl(ie,P,T),this.G=2}}else this.G==3&&(m?Zn(this,m):this.i.length==0||hi(this.h)||Zn(this))};function Zn(m,T){var P;T?P=T.l:P=m.U++;const $=Wr(m.I);$t($,"SID",m.K),$t($,"RID",P),$t($,"AID",m.T),wo(m,$),m.m&&m.o&&ta($,m.m,m.o),P=new Ji(m,m.j,P,m.B+1),m.m===null&&(P.H=m.o),T&&(m.i=T.D.concat(m.i)),T=Bn(m,P,1e3),P.I=Math.round(.5*m.wa)+Math.round(.5*m.wa*Math.random()),ml(m.h,P),hl(P,$,T)}function wo(m,T){m.H&&Y(m.H,function(P,$){$t(T,$,P)}),m.l&&mo({},function(P,$){$t(T,$,P)})}function Bn(m,T,P){P=Math.min(m.i.length,P);var $=m.l?S(m.l.Na,m.l,m):null;e:{var ie=m.i;let he=-1;for(;;){const Pe=["count="+P];he==-1?0<P?(he=ie[0].g,Pe.push("ofs="+he)):he=0:Pe.push("ofs="+he);let Ot=!0;for(let $n=0;$n<P;$n++){let St=ie[$n].g;const Nt=ie[$n].map;if(St-=he,0>St)he=Math.max(0,ie[$n].g-100),Ot=!1;else try{Td(Nt,Pe,"req"+St+"_")}catch{$&&$(Nt)}}if(Ot){$=Pe.join("&");break e}}}return m=m.i.splice(0,P),T.D=m,$}function fu(m){if(!m.g&&!m.u){m.Y=1;var T=m.Fa;ye||Ee(),ae||(ye(),ae=!0),Ae.add(T,m),m.v=0}}function du(m){return m.g||m.u||3<=m.v?!1:(m.Y++,m.u=Qi(S(m.Fa,m),is(m,m.v)),m.v++,!0)}t.Fa=function(){if(this.u=null,hu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var m=2*this.R;this.j.info("BP detection timer enabled: "+m),this.A=Qi(S(this.ab,this),m)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,yn(10),bi(this),hu(this))};function Ai(m){m.A!=null&&(c.clearTimeout(m.A),m.A=null)}function hu(m){m.g=new Ji(m,m.j,"rpc",m.Y),m.m===null&&(m.g.H=m.o),m.g.O=0;var T=Wr(m.qa);$t(T,"RID","rpc"),$t(T,"SID",m.K),$t(T,"AID",m.T),$t(T,"CI",m.F?"0":"1"),!m.F&&m.ja&&$t(T,"TO",m.ja),$t(T,"TYPE","xmlhttp"),wo(m,T),m.m&&m.o&&ta(T,m.m,m.o),m.L&&(m.g.I=m.L);var P=m.g;m=m.ia,P.L=1,P.v=Ds(Wr(T)),P.m=null,P.P=!0,Wc(P,m)}t.Za=function(){this.C!=null&&(this.C=null,bi(this),du(this),yn(19))};function ia(m){m.C!=null&&(c.clearTimeout(m.C),m.C=null)}function Vt(m,T){var P=null;if(m.g==T){ia(m),Ai(m),m.g=null;var $=2}else if(Pr(m.h,T))P=T.D,qc(m.h,T),$=1;else return;if(m.G!=0){if(T.o)if($==1){P=T.m?T.m.length:0,T=Date.now()-T.F;var ie=m.B;$=tu(),un($,new Yo($,P)),rs(m)}else fu(m);else if(ie=T.s,ie==3||ie==0&&0<T.X||!($==1&&Cd(m,T)||$==2&&du(m)))switch(P&&0<P.length&&(T=m.h,T.i=T.i.concat(P)),ie){case 1:ss(m,5);break;case 4:ss(m,10);break;case 3:ss(m,6);break;default:ss(m,2)}}}function is(m,T){let P=m.Ta+Math.floor(Math.random()*m.cb);return m.isActive()||(P*=2),P*T}function ss(m,T){if(m.j.info("Error code "+T),T==2){var P=S(m.fb,m),$=m.Xa;const ie=!$;$=new go($||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Jo($,"https"),Ds($),ie?em($.toString(),P):Sd($.toString(),P)}else yn(2);m.G=0,m.l&&m.l.sa(T),Id(m),cu(m)}t.fb=function(m){m?(this.j.info("Successfully pinged google.com"),yn(2)):(this.j.info("Failed to ping google.com"),yn(1))};function Id(m){if(m.G=0,m.ka=[],m.l){const T=Gc(m.h);(T.length!=0||m.i.length!=0)&&(R(m.ka,T),R(m.ka,m.i),m.h.i.length=0,b(m.i),m.i.length=0),m.l.ra()}}function wl(m,T,P){var $=P instanceof go?Wr(P):new go(P);if($.g!="")T&&($.g=T+"."+$.g),Os($,$.s);else{var ie=c.location;$=ie.protocol,T=T?T+"."+ie.hostname:ie.hostname,ie=+ie.port;var he=new go(null);$&&Jo(he,$),T&&(he.g=T),ie&&Os(he,ie),P&&(he.l=P),$=he}return P=m.D,T=m.ya,P&&T&&$t($,P,T),$t($,"VER",m.la),wo(m,$),$}function bd(m,T,P){if(T&&!m.J)throw Error("Can't create secondary domain capable XhrIo object.");return T=m.Ca&&!m.pa?new tn(new vo({eb:P})):new tn(m.pa),T.Ha(m.J),T}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Jc(){}t=Jc.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Sl(){}Sl.prototype.g=function(m,T){return new mr(m,T)};function mr(m,T){Un.call(this),this.g=new _l(T),this.l=m,this.h=T&&T.messageUrlParams||null,m=T&&T.messageHeaders||null,T&&T.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=T&&T.initMessageHeaders||null,T&&T.messageContentType&&(m?m["X-WebChannel-Content-Type"]=T.messageContentType:m={"X-WebChannel-Content-Type":T.messageContentType}),T&&T.va&&(m?m["X-WebChannel-Client-Profile"]=T.va:m={"X-WebChannel-Client-Profile":T.va}),this.g.S=m,(m=T&&T.Sb)&&!q(m)&&(this.g.m=m),this.v=T&&T.supportsCrossDomainXhr||!1,this.u=T&&T.sendRawJson||!1,(T=T&&T.httpSessionIdParam)&&!q(T)&&(this.g.D=T,m=this.h,m!==null&&T in m&&(m=this.h,T in m&&delete m[T])),this.j=new Ms(this)}x(mr,Un),mr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},mr.prototype.close=function(){Xn(this.g)},mr.prototype.o=function(m){var T=this.g;if(typeof m=="string"){var P={};P.__data__=m,m=P}else this.u&&(P={},P.__data__=Xa(m),m=P);T.i.push(new Hc(T.Ya++,m)),T.G==3&&rs(T)},mr.prototype.N=function(){this.g.l=null,delete this.j,Xn(this.g),delete this.g,mr.aa.N.call(this)};function pu(m){Yi.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var T=m.__sm__;if(T){e:{for(const P in T){m=P;break e}m=void 0}(this.i=m)&&(m=this.i,T=T!==null&&m in T?T[m]:void 0),this.data=T}else this.data=m}x(pu,Yi);function So(){ul.call(this),this.status=1}x(So,ul);function Ms(m){this.g=m}x(Ms,Jc),Ms.prototype.ua=function(){un(this.g,"a")},Ms.prototype.ta=function(m){un(this.g,new pu(m))},Ms.prototype.sa=function(m){un(this.g,new So)},Ms.prototype.ra=function(){un(this.g,"b")},Sl.prototype.createWebChannel=Sl.prototype.g,mr.prototype.send=mr.prototype.o,mr.prototype.open=mr.prototype.m,mr.prototype.close=mr.prototype.close,qk=function(){return new Sl},Hk=function(){return tu()},Wk=Rs,ZT={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},fl.NO_ERROR=0,fl.TIMEOUT=8,fl.HTTP_ERROR=6,E_=fl,md.COMPLETE="complete",zk=md,al.EventType=fi,fi.OPEN="a",fi.CLOSE="b",fi.ERROR="c",fi.MESSAGE="d",Un.prototype.listen=Un.prototype.K,pg=al,tn.prototype.listenOnce=tn.prototype.L,tn.prototype.getLastError=tn.prototype.Ka,tn.prototype.getLastErrorCode=tn.prototype.Ba,tn.prototype.getStatus=tn.prototype.Z,tn.prototype.getResponseJson=tn.prototype.Oa,tn.prototype.getResponseText=tn.prototype.oa,tn.prototype.send=tn.prototype.ea,tn.prototype.setWithCredentials=tn.prototype.Ha,jk=tn}).apply(typeof zv<"u"?zv:typeof self<"u"?self:typeof window<"u"?window:{});const Mb="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ni{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ni.UNAUTHENTICATED=new ni(null),ni.GOOGLE_CREDENTIALS=new ni("google-credentials-uid"),ni.FIRST_PARTY=new ni("first-party-uid"),ni.MOCK_USER=new ni("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fp="11.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const td=new i1("@firebase/firestore");function Yh(){return td.logLevel}function Le(t,...e){if(td.logLevel<=Et.DEBUG){const n=e.map(v1);td.debug(`Firestore (${Fp}): ${t}`,...n)}}function Qu(t,...e){if(td.logLevel<=Et.ERROR){const n=e.map(v1);td.error(`Firestore (${Fp}): ${t}`,...n)}}function Sp(t,...e){if(td.logLevel<=Et.WARN){const n=e.map(v1);td.warn(`Firestore (${Fp}): ${t}`,...n)}}function v1(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ot(t="Unexpected state"){const e=`FIRESTORE (${Fp}) INTERNAL ASSERTION FAILED: `+t;throw Qu(e),new Error(e)}function Gt(t,e){t||ot()}function ct(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Se={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Fe extends za{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mc{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gk{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class eB{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(ni.UNAUTHENTICATED))}shutdown(){}}class tB{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class nB{constructor(e){this.t=e,this.currentUser=ni.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Gt(this.o===void 0);let r=this.i;const i=f=>this.i!==r?(r=this.i,n(f)):Promise.resolve();let s=new mc;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new mc,e.enqueueRetryable(()=>i(this.currentUser))};const a=()=>{const f=s;e.enqueueRetryable(async()=>{await f.promise,await i(this.currentUser)})},c=f=>{Le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(f=>c(f)),setTimeout(()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?c(f):(Le("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new mc)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Gt(typeof r.accessToken=="string"),new Gk(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Gt(e===null||typeof e=="string"),new ni(e)}}class rB{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=ni.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class iB{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new rB(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(ni.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class sB{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class oB{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Gt(this.o===void 0);const r=s=>{s.error!=null&&Le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const a=s.token!==this.R;return this.R=s.token,Le("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{Le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):Le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Gt(typeof n.token=="string"),this.R=n.token,new sB(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aB(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kk{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=aB(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function At(t,e){return t<e?-1:t>e?1:0}function Tp(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dr{static now(){return dr.fromMillis(Date.now())}static fromDate(e){return dr.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new dr(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Fe(Se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Fe(Se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Fe(Se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Fe(Se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?At(this.nanoseconds,e.nanoseconds):At(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lt{static fromTimestamp(e){return new lt(e)}static min(){return new lt(new dr(0,0))}static max(){return new lt(new dr(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ba{constructor(e,n,r){n===void 0?n=0:n>e.length&&ot(),r===void 0?r=e.length-n:r>e.length-n&&ot(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return ba.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ba?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=ba.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return Math.sign(e.length-n.length)}static compareSegments(e,n){const r=ba.isNumericId(e),i=ba.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?ba.extractNumericId(e).compare(ba.extractNumericId(n)):e<n?-1:e>n?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return pc.fromString(e.substring(4,e.length-2))}}class fn extends ba{construct(e,n,r){return new fn(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Fe(Se.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new fn(n)}static emptyPath(){return new fn([])}}const uB=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Br extends ba{construct(e,n,r){return new Br(e,n,r)}static isValidIdentifier(e){return uB.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Br.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Br(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new Fe(Se.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let a=!1;for(;i<e.length;){const c=e[i];if(c==="\\"){if(i+1===e.length)throw new Fe(Se.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[i+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new Fe(Se.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,i+=2}else c==="`"?(a=!a,i++):c!=="."||a?(r+=c,i++):(s(),i++)}if(s(),a)throw new Fe(Se.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Br(n)}static emptyPath(){return new Br([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{constructor(e){this.path=e}static fromPath(e){return new Ge(fn.fromString(e))}static fromName(e){return new Ge(fn.fromString(e).popFirst(5))}static empty(){return new Ge(fn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&fn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return fn.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ge(new fn(e.slice()))}}function lB(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=lt.fromTimestamp(r===1e9?new dr(n+1,0):new dr(n,r));return new wc(i,Ge.empty(),e)}function cB(t){return new wc(t.readTime,t.key,-1)}class wc{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new wc(lt.min(),Ge.empty(),-1)}static max(){return new wc(lt.max(),Ge.empty(),-1)}}function fB(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ge.comparator(t.documentKey,e.documentKey),n!==0?n:At(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dB="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class hB{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Up(t){if(t.code!==Se.FAILED_PRECONDITION||t.message!==dB)throw t;Le("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ot(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new we((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof we?n:we.resolve(n)}catch(n){return we.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):we.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):we.reject(n)}static resolve(e){return new we((n,r)=>{n(e)})}static reject(e){return new we((n,r)=>{r(e)})}static waitFor(e){return new we((n,r)=>{let i=0,s=0,a=!1;e.forEach(c=>{++i,c.next(()=>{++s,a&&s===i&&n()},f=>r(f))}),a=!0,s===i&&n()})}static or(e){let n=we.resolve(!1);for(const r of e)n=n.next(i=>i?we.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new we((r,i)=>{const s=e.length,a=new Array(s);let c=0;for(let f=0;f<s;f++){const p=f;n(e[p]).next(g=>{a[p]=g,++c,c===s&&r(a)},g=>i(g))}})}static doWhile(e,n){return new we((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function pB(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Bp(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z0{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}z0.oe=-1;function W0(t){return t==null}function t0(t){return t===0&&1/t==-1/0}function mB(t){return typeof t=="number"&&Number.isInteger(t)&&!t0(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gB(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Lb(e)),e=yB(t.get(n),e);return Lb(e)}function yB(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case"":n+="";break;default:n+=s}}return n}function Lb(t){return t+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vb(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Mc(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Yk(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e,n){this.comparator=e,this.root=n||Fr.EMPTY}insert(e,n){return new En(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Fr.BLACK,null,null))}remove(e){return new En(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Fr.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Wv(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Wv(this.root,e,this.comparator,!1)}getReverseIterator(){return new Wv(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Wv(this.root,e,this.comparator,!0)}}class Wv{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Fr{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Fr.RED,this.left=i??Fr.EMPTY,this.right=s??Fr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Fr(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Fr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Fr.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Fr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Fr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ot();const e=this.left.check();if(e!==this.right.check())throw ot();return e+(this.isRed()?0:1)}}Fr.EMPTY=null,Fr.RED=!0,Fr.BLACK=!1;Fr.EMPTY=new class{constructor(){this.size=0}get key(){throw ot()}get value(){throw ot()}get color(){throw ot()}get left(){throw ot()}get right(){throw ot()}copy(e,n,r,i,s){return this}insert(e,n,r){return new Fr(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hr{constructor(e){this.comparator=e,this.data=new En(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Fb(this.data.getIterator())}getIteratorFrom(e){return new Fb(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof hr)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new hr(this.comparator);return n.data=e,n}}class Fb{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws{constructor(e){this.fields=e,e.sort(Br.comparator)}static empty(){return new ws([])}unionWith(e){let n=new hr(Br.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new ws(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Tp(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qk extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new Qk("Invalid base64 string: "+s):s}}(e);return new $r(n)}static fromUint8Array(e){const n=function(i){let s="";for(let a=0;a<i.length;++a)s+=String.fromCharCode(i[a]);return s}(e);return new $r(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return At(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}$r.EMPTY_BYTE_STRING=new $r("");const vB=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Sc(t){if(Gt(!!t),typeof t=="string"){let e=0;const n=vB.exec(t);if(Gt(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Kn(t.seconds),nanos:Kn(t.nanos)}}function Kn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Tc(t){return typeof t=="string"?$r.fromBase64String(t):$r.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _1(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function H0(t){const e=t.mapValue.fields.__previous_value__;return _1(e)?H0(e):e}function Wg(t){const e=Sc(t.mapValue.fields.__local_write_time__.timestampValue);return new dr(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _B{constructor(e,n,r,i,s,a,c,f,p){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=a,this.autoDetectLongPolling=c,this.longPollingOptions=f,this.useFetchStreams=p}}class Hg{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Hg("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Hg&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hv={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Ec(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?_1(t)?4:SB(t)?9007199254740991:wB(t)?10:11:ot()}function $a(t,e){if(t===e)return!0;const n=Ec(t);if(n!==Ec(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Wg(t).isEqual(Wg(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const a=Sc(i.timestampValue),c=Sc(s.timestampValue);return a.seconds===c.seconds&&a.nanos===c.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Tc(i.bytesValue).isEqual(Tc(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Kn(i.geoPointValue.latitude)===Kn(s.geoPointValue.latitude)&&Kn(i.geoPointValue.longitude)===Kn(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Kn(i.integerValue)===Kn(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const a=Kn(i.doubleValue),c=Kn(s.doubleValue);return a===c?t0(a)===t0(c):isNaN(a)&&isNaN(c)}return!1}(t,e);case 9:return Tp(t.arrayValue.values||[],e.arrayValue.values||[],$a);case 10:case 11:return function(i,s){const a=i.mapValue.fields||{},c=s.mapValue.fields||{};if(Vb(a)!==Vb(c))return!1;for(const f in a)if(a.hasOwnProperty(f)&&(c[f]===void 0||!$a(a[f],c[f])))return!1;return!0}(t,e);default:return ot()}}function qg(t,e){return(t.values||[]).find(n=>$a(n,e))!==void 0}function Ep(t,e){if(t===e)return 0;const n=Ec(t),r=Ec(e);if(n!==r)return At(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return At(t.booleanValue,e.booleanValue);case 2:return function(s,a){const c=Kn(s.integerValue||s.doubleValue),f=Kn(a.integerValue||a.doubleValue);return c<f?-1:c>f?1:c===f?0:isNaN(c)?isNaN(f)?0:-1:1}(t,e);case 3:return Ub(t.timestampValue,e.timestampValue);case 4:return Ub(Wg(t),Wg(e));case 5:return At(t.stringValue,e.stringValue);case 6:return function(s,a){const c=Tc(s),f=Tc(a);return c.compareTo(f)}(t.bytesValue,e.bytesValue);case 7:return function(s,a){const c=s.split("/"),f=a.split("/");for(let p=0;p<c.length&&p<f.length;p++){const g=At(c[p],f[p]);if(g!==0)return g}return At(c.length,f.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,a){const c=At(Kn(s.latitude),Kn(a.latitude));return c!==0?c:At(Kn(s.longitude),Kn(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Bb(t.arrayValue,e.arrayValue);case 10:return function(s,a){var c,f,p,g;const _=s.fields||{},S=a.fields||{},I=(c=_.value)===null||c===void 0?void 0:c.arrayValue,x=(f=S.value)===null||f===void 0?void 0:f.arrayValue,b=At(((p=I==null?void 0:I.values)===null||p===void 0?void 0:p.length)||0,((g=x==null?void 0:x.values)===null||g===void 0?void 0:g.length)||0);return b!==0?b:Bb(I,x)}(t.mapValue,e.mapValue);case 11:return function(s,a){if(s===Hv.mapValue&&a===Hv.mapValue)return 0;if(s===Hv.mapValue)return 1;if(a===Hv.mapValue)return-1;const c=s.fields||{},f=Object.keys(c),p=a.fields||{},g=Object.keys(p);f.sort(),g.sort();for(let _=0;_<f.length&&_<g.length;++_){const S=At(f[_],g[_]);if(S!==0)return S;const I=Ep(c[f[_]],p[g[_]]);if(I!==0)return I}return At(f.length,g.length)}(t.mapValue,e.mapValue);default:throw ot()}}function Ub(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return At(t,e);const n=Sc(t),r=Sc(e),i=At(n.seconds,r.seconds);return i!==0?i:At(n.nanos,r.nanos)}function Bb(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=Ep(n[i],r[i]);if(s)return s}return At(n.length,r.length)}function Cp(t){return JT(t)}function JT(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Sc(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Tc(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Ge.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=JT(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const a of r)s?s=!1:i+=",",i+=`${a}:${JT(n.fields[a])}`;return i+"}"}(t.mapValue):ot()}function C_(t){switch(Ec(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=H0(t);return e?16+C_(e):16;case 5:return 2*t.stringValue.length;case 6:return Tc(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+C_(s),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return Mc(r.fields,(s,a)=>{i+=s.length+C_(a)}),i}(t.mapValue);default:throw ot()}}function $b(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function eE(t){return!!t&&"integerValue"in t}function w1(t){return!!t&&"arrayValue"in t}function jb(t){return!!t&&"nullValue"in t}function zb(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function I_(t){return!!t&&"mapValue"in t}function wB(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function xg(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Mc(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=xg(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=xg(t.arrayValue.values[n]);return e}return Object.assign({},t)}function SB(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi{constructor(e){this.value=e}static empty(){return new Hi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!I_(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=xg(n)}setAll(e){let n=Br.emptyPath(),r={},i=[];e.forEach((a,c)=>{if(!n.isImmediateParentOf(c)){const f=this.getFieldsMap(n);this.applyChanges(f,r,i),r={},i=[],n=c.popLast()}a?r[c.lastSegment()]=xg(a):i.push(c.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());I_(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return $a(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];I_(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Mc(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Hi(xg(this.value))}}function Xk(t){const e=[];return Mc(t.fields,(n,r)=>{const i=new Br([n]);if(I_(r)){const s=Xk(r.mapValue).fields;if(s.length===0)e.push(i);else for(const a of s)e.push(i.child(a))}else e.push(i)}),new ws(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ii{constructor(e,n,r,i,s,a,c){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=a,this.documentState=c}static newInvalidDocument(e){return new ii(e,0,lt.min(),lt.min(),lt.min(),Hi.empty(),0)}static newFoundDocument(e,n,r,i){return new ii(e,1,n,lt.min(),r,i,0)}static newNoDocument(e,n){return new ii(e,2,n,lt.min(),lt.min(),Hi.empty(),0)}static newUnknownDocument(e,n){return new ii(e,3,n,lt.min(),lt.min(),Hi.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(lt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Hi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Hi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=lt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ii&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ii(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n0{constructor(e,n){this.position=e,this.inclusive=n}}function Wb(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],a=t.position[i];if(s.field.isKeyField()?r=Ge.comparator(Ge.fromName(a.referenceValue),n.key):r=Ep(a,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function Hb(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!$a(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gg{constructor(e,n="asc"){this.field=e,this.dir=n}}function TB(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zk{}class ir extends Zk{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new CB(e,n,r):n==="array-contains"?new AB(e,r):n==="in"?new xB(e,r):n==="not-in"?new PB(e,r):n==="array-contains-any"?new RB(e,r):new ir(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new IB(e,r):new bB(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Ep(n,this.value)):n!==null&&Ec(this.value)===Ec(n)&&this.matchesComparison(Ep(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ot()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ho extends Zk{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Ho(e,n)}matches(e){return Jk(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Jk(t){return t.op==="and"}function eO(t){return EB(t)&&Jk(t)}function EB(t){for(const e of t.filters)if(e instanceof Ho)return!1;return!0}function tE(t){if(t instanceof ir)return t.field.canonicalString()+t.op.toString()+Cp(t.value);if(eO(t))return t.filters.map(e=>tE(e)).join(",");{const e=t.filters.map(n=>tE(n)).join(",");return`${t.op}(${e})`}}function tO(t,e){return t instanceof ir?function(r,i){return i instanceof ir&&r.op===i.op&&r.field.isEqual(i.field)&&$a(r.value,i.value)}(t,e):t instanceof Ho?function(r,i){return i instanceof Ho&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,a,c)=>s&&tO(a,i.filters[c]),!0):!1}(t,e):void ot()}function nO(t){return t instanceof ir?function(n){return`${n.field.canonicalString()} ${n.op} ${Cp(n.value)}`}(t):t instanceof Ho?function(n){return n.op.toString()+" {"+n.getFilters().map(nO).join(" ,")+"}"}(t):"Filter"}class CB extends ir{constructor(e,n,r){super(e,n,r),this.key=Ge.fromName(r.referenceValue)}matches(e){const n=Ge.comparator(e.key,this.key);return this.matchesComparison(n)}}class IB extends ir{constructor(e,n){super(e,"in",n),this.keys=rO("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class bB extends ir{constructor(e,n){super(e,"not-in",n),this.keys=rO("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function rO(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Ge.fromName(r.referenceValue))}class AB extends ir{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return w1(n)&&qg(n.arrayValue,this.value)}}class xB extends ir{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&qg(this.value.arrayValue,n)}}class PB extends ir{constructor(e,n){super(e,"not-in",n)}matches(e){if(qg(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!qg(this.value.arrayValue,n)}}class RB extends ir{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!w1(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>qg(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kB{constructor(e,n=null,r=[],i=[],s=null,a=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=a,this.endAt=c,this.ue=null}}function qb(t,e=null,n=[],r=[],i=null,s=null,a=null){return new kB(t,e,n,r,i,s,a)}function S1(t){const e=ct(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>tE(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),W0(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Cp(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Cp(r)).join(",")),e.ue=n}return e.ue}function T1(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!TB(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!tO(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Hb(t.startAt,e.startAt)&&Hb(t.endAt,e.endAt)}function nE(t){return Ge.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $p{constructor(e,n=null,r=[],i=[],s=null,a="F",c=null,f=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=a,this.startAt=c,this.endAt=f,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function OB(t,e,n,r,i,s,a,c){return new $p(t,e,n,r,i,s,a,c)}function q0(t){return new $p(t)}function Gb(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function iO(t){return t.collectionGroup!==null}function Pg(t){const e=ct(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let c=new hr(Br.comparator);return a.filters.forEach(f=>{f.getFlattenedFilters().forEach(p=>{p.isInequality()&&(c=c.add(p.field))})}),c})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new Gg(s,r))}),n.has(Br.keyField().canonicalString())||e.ce.push(new Gg(Br.keyField(),r))}return e.ce}function Ma(t){const e=ct(t);return e.le||(e.le=DB(e,Pg(t))),e.le}function DB(t,e){if(t.limitType==="F")return qb(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Gg(i.field,s)});const n=t.endAt?new n0(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new n0(t.startAt.position,t.startAt.inclusive):null;return qb(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function rE(t,e){const n=t.filters.concat([e]);return new $p(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function iE(t,e,n){return new $p(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function G0(t,e){return T1(Ma(t),Ma(e))&&t.limitType===e.limitType}function sO(t){return`${S1(Ma(t))}|lt:${t.limitType}`}function Qh(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>nO(i)).join(", ")}]`),W0(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Cp(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Cp(i)).join(",")),`Target(${r})`}(Ma(t))}; limitType=${t.limitType})`}function K0(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):Ge.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of Pg(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(a,c,f){const p=Wb(a,c,f);return a.inclusive?p<=0:p<0}(r.startAt,Pg(r),i)||r.endAt&&!function(a,c,f){const p=Wb(a,c,f);return a.inclusive?p>=0:p>0}(r.endAt,Pg(r),i))}(t,e)}function NB(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function oO(t){return(e,n)=>{let r=!1;for(const i of Pg(t)){const s=MB(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function MB(t,e,n){const r=t.field.isKeyField()?Ge.comparator(e.key,n.key):function(s,a,c){const f=a.data.field(s),p=c.data.field(s);return f!==null&&p!==null?Ep(f,p):ot()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ot()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cd{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Mc(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return Yk(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LB=new En(Ge.comparator);function Xu(){return LB}const aO=new En(Ge.comparator);function mg(...t){let e=aO;for(const n of t)e=e.insert(n.key,n);return e}function uO(t){let e=aO;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Hf(){return Rg()}function lO(){return Rg()}function Rg(){return new cd(t=>t.toString(),(t,e)=>t.isEqual(e))}const VB=new En(Ge.comparator),FB=new hr(Ge.comparator);function Ct(...t){let e=FB;for(const n of t)e=e.add(n);return e}const UB=new hr(At);function BB(){return UB}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E1(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:t0(e)?"-0":e}}function cO(t){return{integerValue:""+t}}function $B(t,e){return mB(e)?cO(e):E1(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y0{constructor(){this._=void 0}}function jB(t,e,n){return t instanceof Kg?function(i,s){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&_1(s)&&(s=H0(s)),s&&(a.fields.__previous_value__=s),{mapValue:a}}(n,e):t instanceof Yg?dO(t,e):t instanceof Qg?hO(t,e):function(i,s){const a=fO(i,s),c=Kb(a)+Kb(i.Pe);return eE(a)&&eE(i.Pe)?cO(c):E1(i.serializer,c)}(t,e)}function zB(t,e,n){return t instanceof Yg?dO(t,e):t instanceof Qg?hO(t,e):n}function fO(t,e){return t instanceof r0?function(r){return eE(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Kg extends Y0{}class Yg extends Y0{constructor(e){super(),this.elements=e}}function dO(t,e){const n=pO(e);for(const r of t.elements)n.some(i=>$a(i,r))||n.push(r);return{arrayValue:{values:n}}}class Qg extends Y0{constructor(e){super(),this.elements=e}}function hO(t,e){let n=pO(e);for(const r of t.elements)n=n.filter(i=>!$a(i,r));return{arrayValue:{values:n}}}class r0 extends Y0{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function Kb(t){return Kn(t.integerValue||t.doubleValue)}function pO(t){return w1(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WB{constructor(e,n){this.field=e,this.transform=n}}function HB(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Yg&&i instanceof Yg||r instanceof Qg&&i instanceof Qg?Tp(r.elements,i.elements,$a):r instanceof r0&&i instanceof r0?$a(r.Pe,i.Pe):r instanceof Kg&&i instanceof Kg}(t.transform,e.transform)}class qB{constructor(e,n){this.version=e,this.transformResults=n}}class ro{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ro}static exists(e){return new ro(void 0,e)}static updateTime(e){return new ro(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function b_(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Q0{}function mO(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new C1(t.key,ro.none()):new _y(t.key,t.data,ro.none());{const n=t.data,r=Hi.empty();let i=new hr(Br.comparator);for(let s of e.fields)if(!i.has(s)){let a=n.field(s);a===null&&s.length>1&&(s=s.popLast(),a=n.field(s)),a===null?r.delete(s):r.set(s,a),i=i.add(s)}return new Lc(t.key,r,new ws(i.toArray()),ro.none())}}function GB(t,e,n){t instanceof _y?function(i,s,a){const c=i.value.clone(),f=Qb(i.fieldTransforms,s,a.transformResults);c.setAll(f),s.convertToFoundDocument(a.version,c).setHasCommittedMutations()}(t,e,n):t instanceof Lc?function(i,s,a){if(!b_(i.precondition,s))return void s.convertToUnknownDocument(a.version);const c=Qb(i.fieldTransforms,s,a.transformResults),f=s.data;f.setAll(gO(i)),f.setAll(c),s.convertToFoundDocument(a.version,f).setHasCommittedMutations()}(t,e,n):function(i,s,a){s.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,n)}function kg(t,e,n,r){return t instanceof _y?function(s,a,c,f){if(!b_(s.precondition,a))return c;const p=s.value.clone(),g=Xb(s.fieldTransforms,f,a);return p.setAll(g),a.convertToFoundDocument(a.version,p).setHasLocalMutations(),null}(t,e,n,r):t instanceof Lc?function(s,a,c,f){if(!b_(s.precondition,a))return c;const p=Xb(s.fieldTransforms,f,a),g=a.data;return g.setAll(gO(s)),g.setAll(p),a.convertToFoundDocument(a.version,g).setHasLocalMutations(),c===null?null:c.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(_=>_.field))}(t,e,n,r):function(s,a,c){return b_(s.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):c}(t,e,n)}function KB(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=fO(r.transform,i||null);s!=null&&(n===null&&(n=Hi.empty()),n.set(r.field,s))}return n||null}function Yb(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Tp(r,i,(s,a)=>HB(s,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class _y extends Q0{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Lc extends Q0{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function gO(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Qb(t,e,n){const r=new Map;Gt(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],a=s.transform,c=e.data.field(s.field);r.set(s.field,zB(a,c,n[i]))}return r}function Xb(t,e,n){const r=new Map;for(const i of t){const s=i.transform,a=n.data.field(i.field);r.set(i.field,jB(s,a,e))}return r}class C1 extends Q0{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class YB extends Q0{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QB{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&GB(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=kg(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=kg(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=lO();return this.mutations.forEach(i=>{const s=e.get(i.key),a=s.overlayedDocument;let c=this.applyToLocalView(a,s.mutatedFields);c=n.has(i.key)?null:c;const f=mO(a,c);f!==null&&r.set(i.key,f),a.isValidDocument()||a.convertToNoDocument(lt.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ct())}isEqual(e){return this.batchId===e.batchId&&Tp(this.mutations,e.mutations,(n,r)=>Yb(n,r))&&Tp(this.baseMutations,e.baseMutations,(n,r)=>Yb(n,r))}}class I1{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Gt(e.mutations.length===r.length);let i=function(){return VB}();const s=e.mutations;for(let a=0;a<s.length;a++)i=i.insert(s[a].key,r[a].version);return new I1(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XB{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZB{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tr,kt;function JB(t){switch(t){default:return ot();case Se.CANCELLED:case Se.UNKNOWN:case Se.DEADLINE_EXCEEDED:case Se.RESOURCE_EXHAUSTED:case Se.INTERNAL:case Se.UNAVAILABLE:case Se.UNAUTHENTICATED:return!1;case Se.INVALID_ARGUMENT:case Se.NOT_FOUND:case Se.ALREADY_EXISTS:case Se.PERMISSION_DENIED:case Se.FAILED_PRECONDITION:case Se.ABORTED:case Se.OUT_OF_RANGE:case Se.UNIMPLEMENTED:case Se.DATA_LOSS:return!0}}function yO(t){if(t===void 0)return Qu("GRPC error has no .code"),Se.UNKNOWN;switch(t){case tr.OK:return Se.OK;case tr.CANCELLED:return Se.CANCELLED;case tr.UNKNOWN:return Se.UNKNOWN;case tr.DEADLINE_EXCEEDED:return Se.DEADLINE_EXCEEDED;case tr.RESOURCE_EXHAUSTED:return Se.RESOURCE_EXHAUSTED;case tr.INTERNAL:return Se.INTERNAL;case tr.UNAVAILABLE:return Se.UNAVAILABLE;case tr.UNAUTHENTICATED:return Se.UNAUTHENTICATED;case tr.INVALID_ARGUMENT:return Se.INVALID_ARGUMENT;case tr.NOT_FOUND:return Se.NOT_FOUND;case tr.ALREADY_EXISTS:return Se.ALREADY_EXISTS;case tr.PERMISSION_DENIED:return Se.PERMISSION_DENIED;case tr.FAILED_PRECONDITION:return Se.FAILED_PRECONDITION;case tr.ABORTED:return Se.ABORTED;case tr.OUT_OF_RANGE:return Se.OUT_OF_RANGE;case tr.UNIMPLEMENTED:return Se.UNIMPLEMENTED;case tr.DATA_LOSS:return Se.DATA_LOSS;default:return ot()}}(kt=tr||(tr={}))[kt.OK=0]="OK",kt[kt.CANCELLED=1]="CANCELLED",kt[kt.UNKNOWN=2]="UNKNOWN",kt[kt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",kt[kt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",kt[kt.NOT_FOUND=5]="NOT_FOUND",kt[kt.ALREADY_EXISTS=6]="ALREADY_EXISTS",kt[kt.PERMISSION_DENIED=7]="PERMISSION_DENIED",kt[kt.UNAUTHENTICATED=16]="UNAUTHENTICATED",kt[kt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",kt[kt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",kt[kt.ABORTED=10]="ABORTED",kt[kt.OUT_OF_RANGE=11]="OUT_OF_RANGE",kt[kt.UNIMPLEMENTED=12]="UNIMPLEMENTED",kt[kt.INTERNAL=13]="INTERNAL",kt[kt.UNAVAILABLE=14]="UNAVAILABLE",kt[kt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e$(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t$=new pc([4294967295,4294967295],0);function Zb(t){const e=e$().encode(t),n=new $k;return n.update(e),new Uint8Array(n.digest())}function Jb(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new pc([n,r],0),new pc([i,s],0)]}class b1{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new gg(`Invalid padding: ${n}`);if(r<0)throw new gg(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new gg(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new gg(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ie=pc.fromNumber(this.Te)}de(e,n,r){let i=e.add(n.multiply(pc.fromNumber(r)));return i.compare(t$)===1&&(i=new pc([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ie).toNumber()}Ee(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=Zb(e),[r,i]=Jb(n);for(let s=0;s<this.hashCount;s++){const a=this.de(r,i,s);if(!this.Ee(a))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),a=new b1(s,i,n);return r.forEach(c=>a.insert(c)),a}insert(e){if(this.Te===0)return;const n=Zb(e),[r,i]=Jb(n);for(let s=0;s<this.hashCount;s++){const a=this.de(r,i,s);this.Ae(a)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class gg extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X0{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,wy.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new X0(lt.min(),i,new En(At),Xu(),Ct())}}class wy{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new wy(r,n,Ct(),Ct(),Ct())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A_{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class vO{constructor(e,n){this.targetId=e,this.me=n}}class _O{constructor(e,n,r=$r.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class eA{constructor(){this.fe=0,this.ge=tA(),this.pe=$r.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Ct(),n=Ct(),r=Ct();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ot()}}),new wy(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=tA()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Gt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class n${constructor(e){this.Be=e,this.Le=new Map,this.ke=Xu(),this.qe=qv(),this.Qe=qv(),this.Ke=new En(At)}$e(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(n,e.Ve):this.We(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.We(n,e.key,e.Ve)}Ge(e){this.forEachTarget(e,n=>{const r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.je(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.De(e.resumeToken));break;default:ot()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Le.forEach((r,i)=>{this.je(i)&&n(i)})}Je(e){const n=e.targetId,r=e.me.count,i=this.Ye(n);if(i){const s=i.target;if(nE(s))if(r===0){const a=new Ge(s.path);this.We(n,a,ii.newNoDocument(a,lt.min()))}else Gt(r===1);else{const a=this.Ze(n);if(a!==r){const c=this.Xe(e),f=c?this.et(c,e,a):1;if(f!==0){this.He(n);const p=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,p)}}}}}Xe(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let a,c;try{a=Tc(r).toUint8Array()}catch(f){if(f instanceof Qk)return Sp("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{c=new b1(a,i,s)}catch(f){return Sp(f instanceof gg?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return c.Te===0?null:c}et(e,n,r){return n.me.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){const r=this.Be.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const a=this.Be.nt(),c=`projects/${a.projectId}/databases/${a.database}/documents/${s.path.canonicalString()}`;e.mightContain(c)||(this.We(n,s,null),i++)}),i}it(e){const n=new Map;this.Le.forEach((s,a)=>{const c=this.Ye(a);if(c){if(s.current&&nE(c.target)){const f=new Ge(c.target.path);this.st(f).has(a)||this.ot(a,f)||this.We(a,f,ii.newNoDocument(f,e))}s.be&&(n.set(a,s.ve()),s.Ce())}});let r=Ct();this.Qe.forEach((s,a)=>{let c=!0;a.forEachWhile(f=>{const p=this.Ye(f);return!p||p.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(r=r.add(s))}),this.ke.forEach((s,a)=>a.setReadTime(e));const i=new X0(e,n,this.Ke,this.ke,r);return this.ke=Xu(),this.qe=qv(),this.Qe=qv(),this.Ke=new En(At),i}Ue(e,n){if(!this.je(e))return;const r=this.ot(e,n.key)?2:0;this.ze(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e)),this.Qe=this.Qe.insert(n.key,this._t(n.key).add(e))}We(e,n,r){if(!this.je(e))return;const i=this.ze(e);this.ot(e,n)?i.Fe(n,1):i.Me(n),this.Qe=this.Qe.insert(n,this._t(n).delete(e)),this.Qe=this.Qe.insert(n,this._t(n).add(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Le.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Be.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let n=this.Le.get(e);return n||(n=new eA,this.Le.set(e,n)),n}_t(e){let n=this.Qe.get(e);return n||(n=new hr(At),this.Qe=this.Qe.insert(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new hr(At),this.qe=this.qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||Le("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.Le.get(e);return n&&n.Se?null:this.Be.ut(e)}He(e){this.Le.set(e,new eA),this.Be.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}ot(e,n){return this.Be.getRemoteKeysForTarget(e).has(n)}}function qv(){return new En(Ge.comparator)}function tA(){return new En(Ge.comparator)}const r$={asc:"ASCENDING",desc:"DESCENDING"},i$={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},s$={and:"AND",or:"OR"};class o${constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function sE(t,e){return t.useProto3Json||W0(e)?e:{value:e}}function i0(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function wO(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function a$(t,e){return i0(t,e.toTimestamp())}function La(t){return Gt(!!t),lt.fromTimestamp(function(n){const r=Sc(n);return new dr(r.seconds,r.nanos)}(t))}function A1(t,e){return oE(t,e).canonicalString()}function oE(t,e){const n=function(i){return new fn(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function SO(t){const e=fn.fromString(t);return Gt(bO(e)),e}function aE(t,e){return A1(t.databaseId,e.path)}function FS(t,e){const n=SO(e);if(n.get(1)!==t.databaseId.projectId)throw new Fe(Se.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Fe(Se.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ge(EO(n))}function TO(t,e){return A1(t.databaseId,e)}function u$(t){const e=SO(t);return e.length===4?fn.emptyPath():EO(e)}function uE(t){return new fn(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function EO(t){return Gt(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function nA(t,e,n){return{name:aE(t,e),fields:n.value.mapValue.fields}}function l$(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:ot()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(p,g){return p.useProto3Json?(Gt(g===void 0||typeof g=="string"),$r.fromBase64String(g||"")):(Gt(g===void 0||g instanceof Buffer||g instanceof Uint8Array),$r.fromUint8Array(g||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,c=a&&function(p){const g=p.code===void 0?Se.UNKNOWN:yO(p.code);return new Fe(g,p.message||"")}(a);n=new _O(r,i,s,c||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=FS(t,r.document.name),s=La(r.document.updateTime),a=r.document.createTime?La(r.document.createTime):lt.min(),c=new Hi({mapValue:{fields:r.document.fields}}),f=ii.newFoundDocument(i,s,a,c),p=r.targetIds||[],g=r.removedTargetIds||[];n=new A_(p,g,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=FS(t,r.document),s=r.readTime?La(r.readTime):lt.min(),a=ii.newNoDocument(i,s),c=r.removedTargetIds||[];n=new A_([],c,a.key,a)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=FS(t,r.document),s=r.removedTargetIds||[];n=new A_([],s,i,null)}else{if(!("filter"in e))return ot();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,a=new ZB(i,s),c=r.targetId;n=new vO(c,a)}}return n}function c$(t,e){let n;if(e instanceof _y)n={update:nA(t,e.key,e.value)};else if(e instanceof C1)n={delete:aE(t,e.key)};else if(e instanceof Lc)n={update:nA(t,e.key,e.data),updateMask:_$(e.fieldMask)};else{if(!(e instanceof YB))return ot();n={verify:aE(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,a){const c=a.transform;if(c instanceof Kg)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Yg)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Qg)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof r0)return{fieldPath:a.field.canonicalString(),increment:c.Pe};throw ot()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:a$(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:ot()}(t,e.precondition)),n}function f$(t,e){return t&&t.length>0?(Gt(e!==void 0),t.map(n=>function(i,s){let a=i.updateTime?La(i.updateTime):La(s);return a.isEqual(lt.min())&&(a=La(s)),new qB(a,i.transformResults||[])}(n,e))):[]}function d$(t,e){return{documents:[TO(t,e.path)]}}function h$(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=TO(t,i);const s=function(p){if(p.length!==0)return IO(Ho.create(p,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const a=function(p){if(p.length!==0)return p.map(g=>function(S){return{field:Xh(S.field),direction:g$(S.dir)}}(g))}(e.orderBy);a&&(n.structuredQuery.orderBy=a);const c=sE(t,e.limit);return c!==null&&(n.structuredQuery.limit=c),e.startAt&&(n.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{ct:n,parent:i}}function p$(t){let e=u$(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Gt(r===1);const g=n.from[0];g.allDescendants?i=g.collectionId:e=e.child(g.collectionId)}let s=[];n.where&&(s=function(_){const S=CO(_);return S instanceof Ho&&eO(S)?S.getFilters():[S]}(n.where));let a=[];n.orderBy&&(a=function(_){return _.map(S=>function(x){return new Gg(Zh(x.field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction))}(S))}(n.orderBy));let c=null;n.limit&&(c=function(_){let S;return S=typeof _=="object"?_.value:_,W0(S)?null:S}(n.limit));let f=null;n.startAt&&(f=function(_){const S=!!_.before,I=_.values||[];return new n0(I,S)}(n.startAt));let p=null;return n.endAt&&(p=function(_){const S=!_.before,I=_.values||[];return new n0(I,S)}(n.endAt)),OB(e,i,a,s,c,"F",f,p)}function m$(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ot()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function CO(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Zh(n.unaryFilter.field);return ir.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Zh(n.unaryFilter.field);return ir.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Zh(n.unaryFilter.field);return ir.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=Zh(n.unaryFilter.field);return ir.create(a,"!=",{nullValue:"NULL_VALUE"});default:return ot()}}(t):t.fieldFilter!==void 0?function(n){return ir.create(Zh(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ot()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Ho.create(n.compositeFilter.filters.map(r=>CO(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ot()}}(n.compositeFilter.op))}(t):ot()}function g$(t){return r$[t]}function y$(t){return i$[t]}function v$(t){return s$[t]}function Xh(t){return{fieldPath:t.canonicalString()}}function Zh(t){return Br.fromServerFormat(t.fieldPath)}function IO(t){return t instanceof ir?function(n){if(n.op==="=="){if(zb(n.value))return{unaryFilter:{field:Xh(n.field),op:"IS_NAN"}};if(jb(n.value))return{unaryFilter:{field:Xh(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(zb(n.value))return{unaryFilter:{field:Xh(n.field),op:"IS_NOT_NAN"}};if(jb(n.value))return{unaryFilter:{field:Xh(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Xh(n.field),op:y$(n.op),value:n.value}}}(t):t instanceof Ho?function(n){const r=n.getFilters().map(i=>IO(i));return r.length===1?r[0]:{compositeFilter:{op:v$(n.op),filters:r}}}(t):ot()}function _$(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function bO(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc{constructor(e,n,r,i,s=lt.min(),a=lt.min(),c=$r.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=c,this.expectedCount=f}withSequenceNumber(e){return new fc(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new fc(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new fc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new fc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w${constructor(e){this.ht=e}}function S$(t){const e=p$({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?iE(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T${constructor(){this.ln=new E$}addToCollectionParentIndex(e,n){return this.ln.add(n),we.resolve()}getCollectionParents(e,n){return we.resolve(this.ln.getEntries(n))}addFieldIndex(e,n){return we.resolve()}deleteFieldIndex(e,n){return we.resolve()}deleteAllFieldIndexes(e){return we.resolve()}createTargetIndexes(e,n){return we.resolve()}getDocumentsMatchingTarget(e,n){return we.resolve(null)}getIndexType(e,n){return we.resolve(0)}getFieldIndexes(e,n){return we.resolve([])}getNextCollectionGroupToUpdate(e){return we.resolve(null)}getMinOffset(e,n){return we.resolve(wc.min())}getMinOffsetFromCollectionGroup(e,n){return we.resolve(wc.min())}updateCollectionGroup(e,n,r){return we.resolve()}updateIndexEntries(e,n){return we.resolve()}}class E${constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new hr(fn.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new hr(fn.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rA={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Wi{static withCacheSize(e){return new Wi(e,Wi.DEFAULT_COLLECTION_PERCENTILE,Wi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Wi.DEFAULT_COLLECTION_PERCENTILE=10,Wi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Wi.DEFAULT=new Wi(41943040,Wi.DEFAULT_COLLECTION_PERCENTILE,Wi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Wi.DISABLED=new Wi(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ip{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new Ip(0)}static Qn(){return new Ip(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iA([t,e],[n,r]){const i=At(t,n);return i===0?At(e,r):i}class C${constructor(e){this.Gn=e,this.buffer=new hr(iA),this.zn=0}jn(){return++this.zn}Hn(e){const n=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();iA(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class I${constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){Le("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Bp(n)?Le("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await Up(n)}await this.Yn(3e5)})}}class b${constructor(e,n){this.Zn=e,this.params=n}calculateTargetCount(e,n){return this.Zn.Xn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return we.resolve(z0.oe);const r=new C$(n);return this.Zn.forEachTarget(e,i=>r.Hn(i.sequenceNumber)).next(()=>this.Zn.er(e,i=>r.Hn(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Zn.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Zn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Le("LruGarbageCollector","Garbage collection skipped; disabled"),we.resolve(rA)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Le("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),rA):this.tr(e,n))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,n){let r,i,s,a,c,f,p;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(_=>(_>this.params.maximumSequenceNumbersToCollect?(Le("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),i=this.params.maximumSequenceNumbersToCollect):i=_,a=Date.now(),this.nthSequenceNumber(e,i))).next(_=>(r=_,c=Date.now(),this.removeTargets(e,r,n))).next(_=>(s=_,f=Date.now(),this.removeOrphanedDocuments(e,r))).next(_=>(p=Date.now(),Yh()<=Et.DEBUG&&Le("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-g}ms
	Determined least recently used ${i} in `+(c-a)+`ms
	Removed ${s} targets in `+(f-c)+`ms
	Removed ${_} documents in `+(p-f)+`ms
Total Duration: ${p-g}ms`),we.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:_})))}}function A$(t,e){return new b$(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x${constructor(){this.changes=new cd(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,ii.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?we.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P${constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R${constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&kg(r.mutation,i,ws.empty(),dr.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ct()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ct()){const i=Hf();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let a=mg();return s.forEach((c,f)=>{a=a.insert(c,f.overlayedDocument)}),a}))}getOverlayedDocuments(e,n){const r=Hf();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ct()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((a,c)=>{n.set(a,c)})})}computeViews(e,n,r,i){let s=Xu();const a=Rg(),c=function(){return Rg()}();return n.forEach((f,p)=>{const g=r.get(p.key);i.has(p.key)&&(g===void 0||g.mutation instanceof Lc)?s=s.insert(p.key,p):g!==void 0?(a.set(p.key,g.mutation.getFieldMask()),kg(g.mutation,p,g.mutation.getFieldMask(),dr.now())):a.set(p.key,ws.empty())}),this.recalculateAndSaveOverlays(e,s).next(f=>(f.forEach((p,g)=>a.set(p,g)),n.forEach((p,g)=>{var _;return c.set(p,new P$(g,(_=a.get(p))!==null&&_!==void 0?_:null))}),c))}recalculateAndSaveOverlays(e,n){const r=Rg();let i=new En((a,c)=>a-c),s=Ct();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(a=>{for(const c of a)c.keys().forEach(f=>{const p=n.get(f);if(p===null)return;let g=r.get(f)||ws.empty();g=c.applyToLocalView(p,g),r.set(f,g);const _=(i.get(c.batchId)||Ct()).add(f);i=i.insert(c.batchId,_)})}).next(()=>{const a=[],c=i.getReverseIterator();for(;c.hasNext();){const f=c.getNext(),p=f.key,g=f.value,_=lO();g.forEach(S=>{if(!s.has(S)){const I=mO(n.get(S),r.get(S));I!==null&&_.set(S,I),s=s.add(S)}}),a.push(this.documentOverlayCache.saveOverlays(e,p,_))}return we.waitFor(a)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(a){return Ge.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):iO(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const a=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):we.resolve(Hf());let c=-1,f=s;return a.next(p=>we.forEach(p,(g,_)=>(c<_.largestBatchId&&(c=_.largestBatchId),s.get(g)?we.resolve():this.remoteDocumentCache.getEntry(e,g).next(S=>{f=f.insert(g,S)}))).next(()=>this.populateOverlays(e,p,s)).next(()=>this.computeViews(e,f,p,Ct())).next(g=>({batchId:c,changes:uO(g)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ge(n)).next(r=>{let i=mg();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let a=mg();return this.indexManager.getCollectionParents(e,s).next(c=>we.forEach(c,f=>{const p=function(_,S){return new $p(S,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)}(n,f.child(s));return this.getDocumentsMatchingCollectionQuery(e,p,r,i).next(g=>{g.forEach((_,S)=>{a=a.insert(_,S)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(a=>(s=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(a=>{s.forEach((f,p)=>{const g=p.getKey();a.get(g)===null&&(a=a.insert(g,ii.newInvalidDocument(g)))});let c=mg();return a.forEach((f,p)=>{const g=s.get(f);g!==void 0&&kg(g.mutation,p,ws.empty(),dr.now()),K0(n,p)&&(c=c.insert(f,p))}),c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k${constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,n){return we.resolve(this.Tr.get(n))}saveBundleMetadata(e,n){return this.Tr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:La(i.createTime)}}(n)),we.resolve()}getNamedQuery(e,n){return we.resolve(this.Ir.get(n))}saveNamedQuery(e,n){return this.Ir.set(n.name,function(i){return{name:i.name,query:S$(i.bundledQuery),readTime:La(i.readTime)}}(n)),we.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O${constructor(){this.overlays=new En(Ge.comparator),this.dr=new Map}getOverlay(e,n){return we.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Hf();return we.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.Tt(e,n,s)}),we.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.dr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.dr.delete(r)),we.resolve()}getOverlaysForCollection(e,n,r){const i=Hf(),s=n.length+1,a=new Ge(n.child("")),c=this.overlays.getIteratorFrom(a);for(;c.hasNext();){const f=c.getNext().value,p=f.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===s&&f.largestBatchId>r&&i.set(f.getKey(),f)}return we.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new En((p,g)=>p-g);const a=this.overlays.getIterator();for(;a.hasNext();){const p=a.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>r){let g=s.get(p.largestBatchId);g===null&&(g=Hf(),s=s.insert(p.largestBatchId,g)),g.set(p.getKey(),p)}}const c=Hf(),f=s.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach((p,g)=>c.set(p,g)),!(c.size()>=i)););return we.resolve(c)}Tt(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const a=this.dr.get(i.largestBatchId).delete(r.key);this.dr.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new XB(n,r));let s=this.dr.get(n);s===void 0&&(s=Ct(),this.dr.set(n,s)),this.dr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D${constructor(){this.sessionToken=$r.EMPTY_BYTE_STRING}getSessionToken(e){return we.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,we.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x1{constructor(){this.Er=new hr(br.Ar),this.Rr=new hr(br.Vr)}isEmpty(){return this.Er.isEmpty()}addReference(e,n){const r=new br(e,n);this.Er=this.Er.add(r),this.Rr=this.Rr.add(r)}mr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.gr(new br(e,n))}pr(e,n){e.forEach(r=>this.removeReference(r,n))}yr(e){const n=new Ge(new fn([])),r=new br(n,e),i=new br(n,e+1),s=[];return this.Rr.forEachInRange([r,i],a=>{this.gr(a),s.push(a.key)}),s}wr(){this.Er.forEach(e=>this.gr(e))}gr(e){this.Er=this.Er.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const n=new Ge(new fn([])),r=new br(n,e),i=new br(n,e+1);let s=Ct();return this.Rr.forEachInRange([r,i],a=>{s=s.add(a.key)}),s}containsKey(e){const n=new br(e,0),r=this.Er.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class br{constructor(e,n){this.key=e,this.br=n}static Ar(e,n){return Ge.comparator(e.key,n.key)||At(e.br,n.br)}static Vr(e,n){return At(e.br,n.br)||Ge.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N${constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Dr=1,this.vr=new hr(br.Ar)}checkEmpty(e){return we.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new QB(s,n,r,i);this.mutationQueue.push(a);for(const c of i)this.vr=this.vr.add(new br(c.key,s)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return we.resolve(a)}lookupMutationBatch(e,n){return we.resolve(this.Cr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Fr(r),s=i<0?0:i;return we.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return we.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return we.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new br(n,0),i=new br(n,Number.POSITIVE_INFINITY),s=[];return this.vr.forEachInRange([r,i],a=>{const c=this.Cr(a.br);s.push(c)}),we.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new hr(At);return n.forEach(i=>{const s=new br(i,0),a=new br(i,Number.POSITIVE_INFINITY);this.vr.forEachInRange([s,a],c=>{r=r.add(c.br)})}),we.resolve(this.Mr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;Ge.isDocumentKey(s)||(s=s.child(""));const a=new br(new Ge(s),0);let c=new hr(At);return this.vr.forEachWhile(f=>{const p=f.key.path;return!!r.isPrefixOf(p)&&(p.length===i&&(c=c.add(f.br)),!0)},a),we.resolve(this.Mr(c))}Mr(e){const n=[];return e.forEach(r=>{const i=this.Cr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Gt(this.Or(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.vr;return we.forEach(n.mutations,i=>{const s=new br(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.vr=r})}Bn(e){}containsKey(e,n){const r=new br(n,0),i=this.vr.firstAfterOrEqual(r);return we.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,we.resolve()}Or(e,n){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){const n=this.Fr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M${constructor(e){this.Nr=e,this.docs=function(){return new En(Ge.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,a=this.Nr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:a}),this.size+=a-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return we.resolve(r?r.document.mutableCopy():ii.newInvalidDocument(n))}getEntries(e,n){let r=Xu();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():ii.newInvalidDocument(i))}),we.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Xu();const a=n.path,c=new Ge(a.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(c);for(;f.hasNext();){const{key:p,value:{document:g}}=f.getNext();if(!a.isPrefixOf(p.path))break;p.path.length>a.length+1||fB(cB(g),r)<=0||(i.has(g.key)||K0(n,g))&&(s=s.insert(g.key,g.mutableCopy()))}return we.resolve(s)}getAllFromCollectionGroup(e,n,r,i){ot()}Br(e,n){return we.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new L$(this)}getSize(e){return we.resolve(this.size)}}class L$ extends x${constructor(e){super(),this.hr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.hr.addEntry(e,i)):this.hr.removeEntry(r)}),we.waitFor(n)}getFromCache(e,n){return this.hr.getEntry(e,n)}getAllFromCache(e,n){return this.hr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V${constructor(e){this.persistence=e,this.Lr=new cd(n=>S1(n),T1),this.lastRemoteSnapshotVersion=lt.min(),this.highestTargetId=0,this.kr=0,this.qr=new x1,this.targetCount=0,this.Qr=Ip.qn()}forEachTarget(e,n){return this.Lr.forEach((r,i)=>n(i)),we.resolve()}getLastRemoteSnapshotVersion(e){return we.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return we.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),we.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.kr&&(this.kr=n),we.resolve()}Un(e){this.Lr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Qr=new Ip(n),this.highestTargetId=n),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,n){return this.Un(n),this.targetCount+=1,we.resolve()}updateTargetData(e,n){return this.Un(n),we.resolve()}removeTargetData(e,n){return this.Lr.delete(n.target),this.qr.yr(n.targetId),this.targetCount-=1,we.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Lr.forEach((a,c)=>{c.sequenceNumber<=n&&r.get(c.targetId)===null&&(this.Lr.delete(a),s.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)}),we.waitFor(s).next(()=>i)}getTargetCount(e){return we.resolve(this.targetCount)}getTargetData(e,n){const r=this.Lr.get(n)||null;return we.resolve(r)}addMatchingKeys(e,n,r){return this.qr.mr(n,r),we.resolve()}removeMatchingKeys(e,n,r){this.qr.pr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(a=>{s.push(i.markPotentiallyOrphaned(e,a))}),we.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.qr.yr(n),we.resolve()}getMatchingKeysForTargetId(e,n){const r=this.qr.Sr(n);return we.resolve(r)}containsKey(e,n){return we.resolve(this.qr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AO{constructor(e,n){this.Kr={},this.overlays={},this.$r=new z0(0),this.Ur=!1,this.Ur=!0,this.Wr=new D$,this.referenceDelegate=e(this),this.Gr=new V$(this),this.indexManager=new T$,this.remoteDocumentCache=function(i){return new M$(i)}(r=>this.referenceDelegate.zr(r)),this.serializer=new w$(n),this.jr=new k$(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new O$,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Kr[e.toKey()];return r||(r=new N$(n,this.referenceDelegate),this.Kr[e.toKey()]=r),r}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,n,r){Le("MemoryPersistence","Starting transaction:",e);const i=new F$(this.$r.next());return this.referenceDelegate.Hr(),r(i).next(s=>this.referenceDelegate.Jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Yr(e,n){return we.or(Object.values(this.Kr).map(r=>()=>r.containsKey(e,n)))}}class F$ extends hB{constructor(e){super(),this.currentSequenceNumber=e}}class P1{constructor(e){this.persistence=e,this.Zr=new x1,this.Xr=null}static ei(e){return new P1(e)}get ti(){if(this.Xr)return this.Xr;throw ot()}addReference(e,n,r){return this.Zr.addReference(r,n),this.ti.delete(r.toString()),we.resolve()}removeReference(e,n,r){return this.Zr.removeReference(r,n),this.ti.add(r.toString()),we.resolve()}markPotentiallyOrphaned(e,n){return this.ti.add(n.toString()),we.resolve()}removeTarget(e,n){this.Zr.yr(n.targetId).forEach(i=>this.ti.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.ti.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Hr(){this.Xr=new Set}Jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return we.forEach(this.ti,r=>{const i=Ge.fromPath(r);return this.ni(e,i).next(s=>{s||n.removeEntry(i,lt.min())})}).next(()=>(this.Xr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ni(e,n).next(r=>{r?this.ti.delete(n.toString()):this.ti.add(n.toString())})}zr(e){return 0}ni(e,n){return we.or([()=>we.resolve(this.Zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Yr(e,n)])}}class s0{constructor(e,n){this.persistence=e,this.ri=new cd(r=>gB(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=A$(this,n)}static ei(e,n){return new s0(e,n)}Hr(){}Jr(e){return we.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}Xn(e){const n=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}nr(e){let n=0;return this.er(e,r=>{n++}).next(()=>n)}er(e,n){return we.forEach(this.ri,(r,i)=>this.ir(e,r,i).next(s=>s?we.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.Br(e,a=>this.ir(e,a,n).next(c=>{c||(r++,s.removeEntry(a,lt.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.ri.set(n,e.currentSequenceNumber),we.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.ri.set(r,e.currentSequenceNumber),we.resolve()}removeReference(e,n,r){return this.ri.set(r,e.currentSequenceNumber),we.resolve()}updateLimboDocument(e,n){return this.ri.set(n,e.currentSequenceNumber),we.resolve()}zr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=C_(e.data.value)),n}ir(e,n,r){return we.or([()=>this.persistence.Yr(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.ri.get(n);return we.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R1{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Wi=r,this.Gi=i}static zi(e,n){let r=Ct(),i=Ct();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new R1(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U${constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B${constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return sU()?8:pB(li())>0?6:4}()}initialize(e,n){this.Zi=e,this.indexManager=n,this.ji=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.Xi(e,n).next(a=>{s.result=a}).next(()=>{if(!s.result)return this.es(e,n,i,r).next(a=>{s.result=a})}).next(()=>{if(s.result)return;const a=new U$;return this.ts(e,n,a).next(c=>{if(s.result=c,this.Hi)return this.ns(e,n,a,c.size)})}).next(()=>s.result)}ns(e,n,r,i){return r.documentReadCount<this.Ji?(Yh()<=Et.DEBUG&&Le("QueryEngine","SDK will not create cache indexes for query:",Qh(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),we.resolve()):(Yh()<=Et.DEBUG&&Le("QueryEngine","Query:",Qh(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Yi*i?(Yh()<=Et.DEBUG&&Le("QueryEngine","The SDK decides to create cache indexes for query:",Qh(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ma(n))):we.resolve())}Xi(e,n){if(Gb(n))return we.resolve(null);let r=Ma(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=iE(n,null,"F"),r=Ma(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const a=Ct(...s);return this.Zi.getDocuments(e,a).next(c=>this.indexManager.getMinOffset(e,r).next(f=>{const p=this.rs(n,c);return this.ss(n,p,a,f.readTime)?this.Xi(e,iE(n,null,"F")):this.os(e,p,n,f)}))})))}es(e,n,r,i){return Gb(n)||i.isEqual(lt.min())?we.resolve(null):this.Zi.getDocuments(e,r).next(s=>{const a=this.rs(n,s);return this.ss(n,a,r,i)?we.resolve(null):(Yh()<=Et.DEBUG&&Le("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Qh(n)),this.os(e,a,n,lB(i,-1)).next(c=>c))})}rs(e,n){let r=new hr(oO(e));return n.forEach((i,s)=>{K0(e,s)&&(r=r.add(s))}),r}ss(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}ts(e,n,r){return Yh()<=Et.DEBUG&&Le("QueryEngine","Using full collection scan to execute query:",Qh(n)),this.Zi.getDocumentsMatchingQuery(e,n,wc.min(),r)}os(e,n,r,i){return this.Zi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(a=>{s=s.insert(a.key,a)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $${constructor(e,n,r,i){this.persistence=e,this._s=n,this.serializer=i,this.us=new En(At),this.cs=new cd(s=>S1(s),T1),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(r)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new R$(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.us))}}function j$(t,e,n,r){return new $$(t,e,n,r)}async function xO(t,e){const n=ct(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.Ps(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const a=[],c=[];let f=Ct();for(const p of i){a.push(p.batchId);for(const g of p.mutations)f=f.add(g.key)}for(const p of s){c.push(p.batchId);for(const g of p.mutations)f=f.add(g.key)}return n.localDocuments.getDocuments(r,f).next(p=>({Ts:p,removedBatchIds:a,addedBatchIds:c}))})})}function z$(t,e){const n=ct(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.hs.newChangeBuffer({trackRemovals:!0});return function(c,f,p,g){const _=p.batch,S=_.keys();let I=we.resolve();return S.forEach(x=>{I=I.next(()=>g.getEntry(f,x)).next(b=>{const R=p.docVersions.get(x);Gt(R!==null),b.version.compareTo(R)<0&&(_.applyToRemoteDocument(b,p),b.isValidDocument()&&(b.setReadTime(p.commitVersion),g.addEntry(b)))})}),I.next(()=>c.mutationQueue.removeMutationBatch(f,_))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let f=Ct();for(let p=0;p<c.mutationResults.length;++p)c.mutationResults[p].transformResults.length>0&&(f=f.add(c.batch.mutations[p].key));return f}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function PO(t){const e=ct(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Gr.getLastRemoteSnapshotVersion(n))}function W$(t,e){const n=ct(t),r=e.snapshotVersion;let i=n.us;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const a=n.hs.newChangeBuffer({trackRemovals:!0});i=n.us;const c=[];e.targetChanges.forEach((g,_)=>{const S=i.get(_);if(!S)return;c.push(n.Gr.removeMatchingKeys(s,g.removedDocuments,_).next(()=>n.Gr.addMatchingKeys(s,g.addedDocuments,_)));let I=S.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(_)!==null?I=I.withResumeToken($r.EMPTY_BYTE_STRING,lt.min()).withLastLimboFreeSnapshotVersion(lt.min()):g.resumeToken.approximateByteSize()>0&&(I=I.withResumeToken(g.resumeToken,r)),i=i.insert(_,I),function(b,R,L){return b.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-b.snapshotVersion.toMicroseconds()>=3e8?!0:L.addedDocuments.size+L.modifiedDocuments.size+L.removedDocuments.size>0}(S,I,g)&&c.push(n.Gr.updateTargetData(s,I))});let f=Xu(),p=Ct();if(e.documentUpdates.forEach(g=>{e.resolvedLimboDocuments.has(g)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(s,g))}),c.push(H$(s,a,e.documentUpdates).next(g=>{f=g.Is,p=g.ds})),!r.isEqual(lt.min())){const g=n.Gr.getLastRemoteSnapshotVersion(s).next(_=>n.Gr.setTargetsMetadata(s,s.currentSequenceNumber,r));c.push(g)}return we.waitFor(c).next(()=>a.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,f,p)).next(()=>f)}).then(s=>(n.us=i,s))}function H$(t,e,n){let r=Ct(),i=Ct();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let a=Xu();return n.forEach((c,f)=>{const p=s.get(c);f.isFoundDocument()!==p.isFoundDocument()&&(i=i.add(c)),f.isNoDocument()&&f.version.isEqual(lt.min())?(e.removeEntry(c,f.readTime),a=a.insert(c,f)):!p.isValidDocument()||f.version.compareTo(p.version)>0||f.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(f),a=a.insert(c,f)):Le("LocalStore","Ignoring outdated watch update for ",c,". Current version:",p.version," Watch version:",f.version)}),{Is:a,ds:i}})}function q$(t,e){const n=ct(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function G$(t,e){const n=ct(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Gr.getTargetData(r,e).next(s=>s?(i=s,we.resolve(i)):n.Gr.allocateTargetId(r).next(a=>(i=new fc(e,a,"TargetPurposeListen",r.currentSequenceNumber),n.Gr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.us.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.us=n.us.insert(r.targetId,r),n.cs.set(e,r.targetId)),r})}async function lE(t,e,n){const r=ct(t),i=r.us.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,a=>r.persistence.referenceDelegate.removeTarget(a,i))}catch(a){if(!Bp(a))throw a;Le("LocalStore",`Failed to update sequence numbers for target ${e}: ${a}`)}r.us=r.us.remove(e),r.cs.delete(i.target)}function sA(t,e,n){const r=ct(t);let i=lt.min(),s=Ct();return r.persistence.runTransaction("Execute query","readwrite",a=>function(f,p,g){const _=ct(f),S=_.cs.get(g);return S!==void 0?we.resolve(_.us.get(S)):_.Gr.getTargetData(p,g)}(r,a,Ma(e)).next(c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,r.Gr.getMatchingKeysForTargetId(a,c.targetId).next(f=>{s=f})}).next(()=>r._s.getDocumentsMatchingQuery(a,e,n?i:lt.min(),n?s:Ct())).next(c=>(K$(r,NB(e),c),{documents:c,Es:s})))}function K$(t,e,n){let r=t.ls.get(e)||lt.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.ls.set(e,r)}class oA{constructor(){this.activeTargetIds=BB()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Y${constructor(){this._o=new oA,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,n,r){this.ao[e]=n}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new oA,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q${uo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aA{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){Le("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){Le("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gv=null;function US(){return Gv===null?Gv=function(){return 268435456+Math.round(2147483648*Math.random())}():Gv++,"0x"+Gv.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X$={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z${constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jr="WebChannelConnection";class J$ extends class{get Co(){return!1}constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Fo=r+"://"+n.host,this.Mo=`projects/${i}/databases/${s}`,this.xo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}Oo(n,r,i,s,a){const c=US(),f=this.No(n,r.toUriEncodedString());Le("RestConnection",`Sending RPC '${n}' ${c}:`,f,i);const p={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Bo(p,s,a),this.Lo(n,f,p,i).then(g=>(Le("RestConnection",`Received RPC '${n}' ${c}: `,g),g),g=>{throw Sp("RestConnection",`RPC '${n}' ${c} failed with error: `,g,"url: ",f,"request:",i),g})}ko(n,r,i,s,a,c){return this.Oo(n,r,i,s,a)}Bo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Fp}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,a)=>n[a]=s),i&&i.headers.forEach((s,a)=>n[a]=s)}No(n,r){const i=X$[n];return`${this.Fo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Lo(e,n,r,i){const s=US();return new Promise((a,c)=>{const f=new jk;f.setWithCredentials(!0),f.listenOnce(zk.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case E_.NO_ERROR:const g=f.getResponseJson();Le(Jr,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(g)),a(g);break;case E_.TIMEOUT:Le(Jr,`RPC '${e}' ${s} timed out`),c(new Fe(Se.DEADLINE_EXCEEDED,"Request time out"));break;case E_.HTTP_ERROR:const _=f.getStatus();if(Le(Jr,`RPC '${e}' ${s} failed with status:`,_,"response text:",f.getResponseText()),_>0){let S=f.getResponseJson();Array.isArray(S)&&(S=S[0]);const I=S==null?void 0:S.error;if(I&&I.status&&I.message){const x=function(R){const L=R.toLowerCase().replace(/_/g,"-");return Object.values(Se).indexOf(L)>=0?L:Se.UNKNOWN}(I.status);c(new Fe(x,I.message))}else c(new Fe(Se.UNKNOWN,"Server responded with status "+f.getStatus()))}else c(new Fe(Se.UNAVAILABLE,"Connection failed."));break;default:ot()}}finally{Le(Jr,`RPC '${e}' ${s} completed.`)}});const p=JSON.stringify(i);Le(Jr,`RPC '${e}' ${s} sending request:`,i),f.send(n,"POST",p,r,15)})}qo(e,n,r){const i=US(),s=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=qk(),c=Hk(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(f.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(f.useFetchStreams=!0),this.Bo(f.initMessageHeaders,n,r),f.encodeInitMessageHeaders=!0;const g=s.join("");Le(Jr,`Creating RPC '${e}' stream ${i}: ${g}`,f);const _=a.createWebChannel(g,f);let S=!1,I=!1;const x=new Z$({Eo:R=>{I?Le(Jr,`Not sending because RPC '${e}' stream ${i} is closed:`,R):(S||(Le(Jr,`Opening RPC '${e}' stream ${i} transport.`),_.open(),S=!0),Le(Jr,`RPC '${e}' stream ${i} sending:`,R),_.send(R))},Ao:()=>_.close()}),b=(R,L,q)=>{R.listen(L,B=>{try{q(B)}catch(G){setTimeout(()=>{throw G},0)}})};return b(_,pg.EventType.OPEN,()=>{I||(Le(Jr,`RPC '${e}' stream ${i} transport opened.`),x.So())}),b(_,pg.EventType.CLOSE,()=>{I||(I=!0,Le(Jr,`RPC '${e}' stream ${i} transport closed`),x.Do())}),b(_,pg.EventType.ERROR,R=>{I||(I=!0,Sp(Jr,`RPC '${e}' stream ${i} transport errored:`,R),x.Do(new Fe(Se.UNAVAILABLE,"The operation could not be completed")))}),b(_,pg.EventType.MESSAGE,R=>{var L;if(!I){const q=R.data[0];Gt(!!q);const B=q,G=(B==null?void 0:B.error)||((L=B[0])===null||L===void 0?void 0:L.error);if(G){Le(Jr,`RPC '${e}' stream ${i} received error:`,G);const V=G.status;let Y=function(F){const A=tr[F];if(A!==void 0)return yO(A)}(V),D=G.message;Y===void 0&&(Y=Se.INTERNAL,D="Unknown error status: "+V+" with message "+G.message),I=!0,x.Do(new Fe(Y,D)),_.close()}else Le(Jr,`RPC '${e}' stream ${i} received:`,q),x.vo(q)}}),b(c,Wk.STAT_EVENT,R=>{R.stat===ZT.PROXY?Le(Jr,`RPC '${e}' stream ${i} detected buffering proxy`):R.stat===ZT.NOPROXY&&Le(Jr,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{x.bo()},0),x}}function BS(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z0(t){return new o$(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RO{constructor(e,n,r=1e3,i=1.5,s=6e4){this.li=e,this.timerId=n,this.Qo=r,this.Ko=i,this.$o=s,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const n=Math.floor(this.Uo+this.Ho()),r=Math.max(0,Date.now()-this.Go),i=Math.max(0,n-r);i>0&&Le("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Uo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,i,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kO{constructor(e,n,r,i,s,a,c,f){this.li=e,this.Yo=r,this.Zo=i,this.connection=s,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=c,this.listener=f,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new RO(e,n)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,n){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():n&&n.code===Se.RESOURCE_EXHAUSTED?(Qu(n.toString()),Qu("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):n&&n.code===Se.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(n)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),n=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Xo===n&&this.I_(r,i)},r=>{e(()=>{const i=new Fe(Se.UNKNOWN,"Fetching auth token failed: "+r.message);return this.d_(i)})})}I_(e,n){const r=this.T_(this.Xo);this.stream=this.E_(e,n),this.stream.Ro(()=>{r(()=>this.listener.Ro())}),this.stream.mo(()=>{r(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(i=>{r(()=>this.d_(i))}),this.stream.onMessage(i=>{r(()=>++this.n_==1?this.A_(i):this.onNext(i))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}d_(e){return Le("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return n=>{this.li.enqueueAndForget(()=>this.Xo===e?n():(Le("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class e9 extends kO{constructor(e,n,r,i,s,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,a),this.serializer=s}E_(e,n){return this.connection.qo("Listen",e,n)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const n=l$(this.serializer,e),r=function(s){if(!("targetChange"in s))return lt.min();const a=s.targetChange;return a.targetIds&&a.targetIds.length?lt.min():a.readTime?La(a.readTime):lt.min()}(e);return this.listener.R_(n,r)}V_(e){const n={};n.database=uE(this.serializer),n.addTarget=function(s,a){let c;const f=a.target;if(c=nE(f)?{documents:d$(s,f)}:{query:h$(s,f).ct},c.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){c.resumeToken=wO(s,a.resumeToken);const p=sE(s,a.expectedCount);p!==null&&(c.expectedCount=p)}else if(a.snapshotVersion.compareTo(lt.min())>0){c.readTime=i0(s,a.snapshotVersion.toTimestamp());const p=sE(s,a.expectedCount);p!==null&&(c.expectedCount=p)}return c}(this.serializer,e);const r=m$(this.serializer,e);r&&(n.labels=r),this.c_(n)}m_(e){const n={};n.database=uE(this.serializer),n.removeTarget=e,this.c_(n)}}class t9 extends kO{constructor(e,n,r,i,s,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,a),this.serializer=s}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}E_(e,n){return this.connection.qo("Write",e,n)}A_(e){return Gt(!!e.streamToken),this.lastStreamToken=e.streamToken,Gt(!e.writeResults||e.writeResults.length===0),this.listener.p_()}onNext(e){Gt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.r_.reset();const n=f$(e.writeResults,e.commitTime),r=La(e.commitTime);return this.listener.y_(r,n)}w_(){const e={};e.database=uE(this.serializer),this.c_(e)}g_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>c$(this.serializer,r))};this.c_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n9 extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.S_=!1}b_(){if(this.S_)throw new Fe(Se.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,n,r,i){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Oo(e,oE(n,r),i,s,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===Se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Fe(Se.UNKNOWN,s.toString())})}ko(e,n,r,i,s){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,c])=>this.connection.ko(e,oE(n,r),i,a,c,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===Se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Fe(Se.UNKNOWN,a.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class r9{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(Qu(n),this.C_=!1):Le("OnlineStateTracker",n)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i9{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.B_=[],this.L_=new Map,this.k_=new Set,this.q_=[],this.Q_=s,this.Q_.uo(a=>{r.enqueueAndForget(async()=>{fd(this)&&(Le("RemoteStore","Restarting streams for network reachability change."),await async function(f){const p=ct(f);p.k_.add(4),await Sy(p),p.K_.set("Unknown"),p.k_.delete(4),await J0(p)}(this))})}),this.K_=new r9(r,i)}}async function J0(t){if(fd(t))for(const e of t.q_)await e(!0)}async function Sy(t){for(const e of t.q_)await e(!1)}function OO(t,e){const n=ct(t);n.L_.has(e.targetId)||(n.L_.set(e.targetId,e),N1(n)?D1(n):jp(n).s_()&&O1(n,e))}function k1(t,e){const n=ct(t),r=jp(n);n.L_.delete(e),r.s_()&&DO(n,e),n.L_.size===0&&(r.s_()?r.a_():fd(n)&&n.K_.set("Unknown"))}function O1(t,e){if(t.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(lt.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}jp(t).V_(e)}function DO(t,e){t.U_.xe(e),jp(t).m_(e)}function D1(t){t.U_=new n$({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>t.L_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),jp(t).start(),t.K_.F_()}function N1(t){return fd(t)&&!jp(t).i_()&&t.L_.size>0}function fd(t){return ct(t).k_.size===0}function NO(t){t.U_=void 0}async function s9(t){t.K_.set("Online")}async function o9(t){t.L_.forEach((e,n)=>{O1(t,e)})}async function a9(t,e){NO(t),N1(t)?(t.K_.O_(e),D1(t)):t.K_.set("Unknown")}async function u9(t,e,n){if(t.K_.set("Online"),e instanceof _O&&e.state===2&&e.cause)try{await async function(i,s){const a=s.cause;for(const c of s.targetIds)i.L_.has(c)&&(await i.remoteSyncer.rejectListen(c,a),i.L_.delete(c),i.U_.removeTarget(c))}(t,e)}catch(r){Le("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await o0(t,r)}else if(e instanceof A_?t.U_.$e(e):e instanceof vO?t.U_.Je(e):t.U_.Ge(e),!n.isEqual(lt.min()))try{const r=await PO(t.localStore);n.compareTo(r)>=0&&await function(s,a){const c=s.U_.it(a);return c.targetChanges.forEach((f,p)=>{if(f.resumeToken.approximateByteSize()>0){const g=s.L_.get(p);g&&s.L_.set(p,g.withResumeToken(f.resumeToken,a))}}),c.targetMismatches.forEach((f,p)=>{const g=s.L_.get(f);if(!g)return;s.L_.set(f,g.withResumeToken($r.EMPTY_BYTE_STRING,g.snapshotVersion)),DO(s,f);const _=new fc(g.target,f,p,g.sequenceNumber);O1(s,_)}),s.remoteSyncer.applyRemoteEvent(c)}(t,n)}catch(r){Le("RemoteStore","Failed to raise snapshot:",r),await o0(t,r)}}async function o0(t,e,n){if(!Bp(e))throw e;t.k_.add(1),await Sy(t),t.K_.set("Offline"),n||(n=()=>PO(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Le("RemoteStore","Retrying IndexedDB access"),await n(),t.k_.delete(1),await J0(t)})}function MO(t,e){return e().catch(n=>o0(t,n,e))}async function ew(t){const e=ct(t),n=Cc(e);let r=e.B_.length>0?e.B_[e.B_.length-1].batchId:-1;for(;l9(e);)try{const i=await q$(e.localStore,r);if(i===null){e.B_.length===0&&n.a_();break}r=i.batchId,c9(e,i)}catch(i){await o0(e,i)}LO(e)&&VO(e)}function l9(t){return fd(t)&&t.B_.length<10}function c9(t,e){t.B_.push(e);const n=Cc(t);n.s_()&&n.f_&&n.g_(e.mutations)}function LO(t){return fd(t)&&!Cc(t).i_()&&t.B_.length>0}function VO(t){Cc(t).start()}async function f9(t){Cc(t).w_()}async function d9(t){const e=Cc(t);for(const n of t.B_)e.g_(n.mutations)}async function h9(t,e,n){const r=t.B_.shift(),i=I1.from(r,e,n);await MO(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await ew(t)}async function p9(t,e){e&&Cc(t).f_&&await async function(r,i){if(function(a){return JB(a)&&a!==Se.ABORTED}(i.code)){const s=r.B_.shift();Cc(r).__(),await MO(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await ew(r)}}(t,e),LO(t)&&VO(t)}async function uA(t,e){const n=ct(t);n.asyncQueue.verifyOperationInProgress(),Le("RemoteStore","RemoteStore received new credentials");const r=fd(n);n.k_.add(3),await Sy(n),r&&n.K_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.k_.delete(3),await J0(n)}async function m9(t,e){const n=ct(t);e?(n.k_.delete(2),await J0(n)):e||(n.k_.add(2),await Sy(n),n.K_.set("Unknown"))}function jp(t){return t.W_||(t.W_=function(n,r,i){const s=ct(n);return s.b_(),new e9(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Ro:s9.bind(null,t),mo:o9.bind(null,t),po:a9.bind(null,t),R_:u9.bind(null,t)}),t.q_.push(async e=>{e?(t.W_.__(),N1(t)?D1(t):t.K_.set("Unknown")):(await t.W_.stop(),NO(t))})),t.W_}function Cc(t){return t.G_||(t.G_=function(n,r,i){const s=ct(n);return s.b_(),new t9(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Ro:()=>Promise.resolve(),mo:f9.bind(null,t),po:p9.bind(null,t),p_:d9.bind(null,t),y_:h9.bind(null,t)}),t.q_.push(async e=>{e?(t.G_.__(),await ew(t)):(await t.G_.stop(),t.B_.length>0&&(Le("RemoteStore",`Stopping write stream with ${t.B_.length} pending writes`),t.B_=[]))})),t.G_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M1{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new mc,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const a=Date.now()+r,c=new M1(e,n,a,i,s);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Fe(Se.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function L1(t,e){if(Qu("AsyncQueue",`${e}: ${t}`),Bp(t))return new Fe(Se.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fp{static emptySet(e){return new fp(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Ge.comparator(n.key,r.key):(n,r)=>Ge.comparator(n.key,r.key),this.keyedMap=mg(),this.sortedSet=new En(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof fp)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new fp;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lA{constructor(){this.z_=new En(Ge.comparator)}track(e){const n=e.doc.key,r=this.z_.get(n);r?e.type!==0&&r.type===3?this.z_=this.z_.insert(n,e):e.type===3&&r.type!==1?this.z_=this.z_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.z_=this.z_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.z_=this.z_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.z_=this.z_.remove(n):e.type===1&&r.type===2?this.z_=this.z_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.z_=this.z_.insert(n,{type:2,doc:e.doc}):ot():this.z_=this.z_.insert(n,e)}j_(){const e=[];return this.z_.inorderTraversal((n,r)=>{e.push(r)}),e}}class bp{constructor(e,n,r,i,s,a,c,f,p){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=c,this.excludesMetadataChanges=f,this.hasCachedResults=p}static fromInitialDocuments(e,n,r,i,s){const a=[];return n.forEach(c=>{a.push({type:0,doc:c})}),new bp(e,n,fp.emptySet(n),a,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&G0(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g9{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(e=>e.Z_())}}class y9{constructor(){this.queries=cA(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(n,r){const i=ct(n),s=i.queries;i.queries=cA(),s.forEach((a,c)=>{for(const f of c.J_)f.onError(r)})})(this,new Fe(Se.ABORTED,"Firestore shutting down"))}}function cA(){return new cd(t=>sO(t),G0)}async function FO(t,e){const n=ct(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.Y_()&&e.Z_()&&(r=2):(s=new g9,r=e.Z_()?0:1);try{switch(r){case 0:s.H_=await n.onListen(i,!0);break;case 1:s.H_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(a){const c=L1(a,`Initialization of query '${Qh(e.query)}' failed`);return void e.onError(c)}n.queries.set(i,s),s.J_.push(e),e.ea(n.onlineState),s.H_&&e.ta(s.H_)&&V1(n)}async function UO(t,e){const n=ct(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const a=s.J_.indexOf(e);a>=0&&(s.J_.splice(a,1),s.J_.length===0?i=e.Z_()?0:1:!s.Y_()&&e.Z_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function v9(t,e){const n=ct(t);let r=!1;for(const i of e){const s=i.query,a=n.queries.get(s);if(a){for(const c of a.J_)c.ta(i)&&(r=!0);a.H_=i}}r&&V1(n)}function _9(t,e,n){const r=ct(t),i=r.queries.get(e);if(i)for(const s of i.J_)s.onError(n);r.queries.delete(e)}function V1(t){t.X_.forEach(e=>{e.next()})}var cE,fA;(fA=cE||(cE={})).na="default",fA.Cache="cache";class BO{constructor(e,n,r){this.query=e,this.ra=n,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=r||{}}ta(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new bp(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ia?this.oa(e)&&(this.ra.next(e),n=!0):this._a(e,this.onlineState)&&(this.aa(e),n=!0),this.sa=e,n}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let n=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),n=!0),n}_a(e,n){if(!e.fromCache||!this.Z_())return!0;const r=n!=="Offline";return(!this.options.ua||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}oa(e){if(e.docChanges.length>0)return!0;const n=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}aa(e){e=bp.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==cE.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $O{constructor(e){this.key=e}}class jO{constructor(e){this.key=e}}class w9{constructor(e,n){this.query=e,this.Ea=n,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=Ct(),this.mutatedKeys=Ct(),this.Va=oO(e),this.ma=new fp(this.Va)}get fa(){return this.Ea}ga(e,n){const r=n?n.pa:new lA,i=n?n.ma:this.ma;let s=n?n.mutatedKeys:this.mutatedKeys,a=i,c=!1;const f=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,p=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((g,_)=>{const S=i.get(g),I=K0(this.query,_)?_:null,x=!!S&&this.mutatedKeys.has(S.key),b=!!I&&(I.hasLocalMutations||this.mutatedKeys.has(I.key)&&I.hasCommittedMutations);let R=!1;S&&I?S.data.isEqual(I.data)?x!==b&&(r.track({type:3,doc:I}),R=!0):this.ya(S,I)||(r.track({type:2,doc:I}),R=!0,(f&&this.Va(I,f)>0||p&&this.Va(I,p)<0)&&(c=!0)):!S&&I?(r.track({type:0,doc:I}),R=!0):S&&!I&&(r.track({type:1,doc:S}),R=!0,(f||p)&&(c=!0)),R&&(I?(a=a.add(I),s=b?s.add(g):s.delete(g)):(a=a.delete(g),s=s.delete(g)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const g=this.query.limitType==="F"?a.last():a.first();a=a.delete(g.key),s=s.delete(g.key),r.track({type:1,doc:g})}return{ma:a,pa:r,ss:c,mutatedKeys:s}}ya(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const a=e.pa.j_();a.sort((g,_)=>function(I,x){const b=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ot()}};return b(I)-b(x)}(g.type,_.type)||this.Va(g.doc,_.doc)),this.wa(r),i=i!=null&&i;const c=n&&!i?this.Sa():[],f=this.Ra.size===0&&this.current&&!i?1:0,p=f!==this.Aa;return this.Aa=f,a.length!==0||p?{snapshot:new bp(this.query,e.ma,s,a,e.mutatedKeys,f===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),ba:c}:{ba:c}}ea(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new lA,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.Ea.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach(n=>this.Ea=this.Ea.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ea=this.Ea.delete(n)),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=Ct(),this.ma.forEach(r=>{this.Da(r.key)&&(this.Ra=this.Ra.add(r.key))});const n=[];return e.forEach(r=>{this.Ra.has(r)||n.push(new jO(r))}),this.Ra.forEach(r=>{e.has(r)||n.push(new $O(r))}),n}va(e){this.Ea=e.Es,this.Ra=Ct();const n=this.ga(e.documents);return this.applyChanges(n,!0)}Ca(){return bp.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class S9{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class T9{constructor(e){this.key=e,this.Fa=!1}}class E9{constructor(e,n,r,i,s,a){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.Ma={},this.xa=new cd(c=>sO(c),G0),this.Oa=new Map,this.Na=new Set,this.Ba=new En(Ge.comparator),this.La=new Map,this.ka=new x1,this.qa={},this.Qa=new Map,this.Ka=Ip.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function C9(t,e,n=!0){const r=KO(t);let i;const s=r.xa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Ca()):i=await zO(r,e,n,!0),i}async function I9(t,e){const n=KO(t);await zO(n,e,!0,!1)}async function zO(t,e,n,r){const i=await G$(t.localStore,Ma(e)),s=i.targetId,a=t.sharedClientState.addLocalQueryTarget(s,n);let c;return r&&(c=await b9(t,e,s,a==="current",i.resumeToken)),t.isPrimaryClient&&n&&OO(t.remoteStore,i),c}async function b9(t,e,n,r,i){t.Ua=(_,S,I)=>async function(b,R,L,q){let B=R.view.ga(L);B.ss&&(B=await sA(b.localStore,R.query,!1).then(({documents:D})=>R.view.ga(D,B)));const G=q&&q.targetChanges.get(R.targetId),V=q&&q.targetMismatches.get(R.targetId)!=null,Y=R.view.applyChanges(B,b.isPrimaryClient,G,V);return hA(b,R.targetId,Y.ba),Y.snapshot}(t,_,S,I);const s=await sA(t.localStore,e,!0),a=new w9(e,s.Es),c=a.ga(s.documents),f=wy.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),p=a.applyChanges(c,t.isPrimaryClient,f);hA(t,n,p.ba);const g=new S9(e,n,a);return t.xa.set(e,g),t.Oa.has(n)?t.Oa.get(n).push(e):t.Oa.set(n,[e]),p.snapshot}async function A9(t,e,n){const r=ct(t),i=r.xa.get(e),s=r.Oa.get(i.targetId);if(s.length>1)return r.Oa.set(i.targetId,s.filter(a=>!G0(a,e))),void r.xa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await lE(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&k1(r.remoteStore,i.targetId),fE(r,i.targetId)}).catch(Up)):(fE(r,i.targetId),await lE(r.localStore,i.targetId,!0))}async function x9(t,e){const n=ct(t),r=n.xa.get(e),i=n.Oa.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),k1(n.remoteStore,r.targetId))}async function P9(t,e,n){const r=L9(t);try{const i=await function(a,c){const f=ct(a),p=dr.now(),g=c.reduce((I,x)=>I.add(x.key),Ct());let _,S;return f.persistence.runTransaction("Locally write mutations","readwrite",I=>{let x=Xu(),b=Ct();return f.hs.getEntries(I,g).next(R=>{x=R,x.forEach((L,q)=>{q.isValidDocument()||(b=b.add(L))})}).next(()=>f.localDocuments.getOverlayedDocuments(I,x)).next(R=>{_=R;const L=[];for(const q of c){const B=KB(q,_.get(q.key).overlayedDocument);B!=null&&L.push(new Lc(q.key,B,Xk(B.value.mapValue),ro.exists(!0)))}return f.mutationQueue.addMutationBatch(I,p,L,c)}).next(R=>{S=R;const L=R.applyToLocalDocumentSet(_,b);return f.documentOverlayCache.saveOverlays(I,R.batchId,L)})}).then(()=>({batchId:S.batchId,changes:uO(_)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(a,c,f){let p=a.qa[a.currentUser.toKey()];p||(p=new En(At)),p=p.insert(c,f),a.qa[a.currentUser.toKey()]=p}(r,i.batchId,n),await Ty(r,i.changes),await ew(r.remoteStore)}catch(i){const s=L1(i,"Failed to persist write");n.reject(s)}}async function WO(t,e){const n=ct(t);try{const r=await W$(n.localStore,e);e.targetChanges.forEach((i,s)=>{const a=n.La.get(s);a&&(Gt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?a.Fa=!0:i.modifiedDocuments.size>0?Gt(a.Fa):i.removedDocuments.size>0&&(Gt(a.Fa),a.Fa=!1))}),await Ty(n,r,e)}catch(r){await Up(r)}}function dA(t,e,n){const r=ct(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.xa.forEach((s,a)=>{const c=a.view.ea(e);c.snapshot&&i.push(c.snapshot)}),function(a,c){const f=ct(a);f.onlineState=c;let p=!1;f.queries.forEach((g,_)=>{for(const S of _.J_)S.ea(c)&&(p=!0)}),p&&V1(f)}(r.eventManager,e),i.length&&r.Ma.R_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function R9(t,e,n){const r=ct(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.La.get(e),s=i&&i.key;if(s){let a=new En(Ge.comparator);a=a.insert(s,ii.newNoDocument(s,lt.min()));const c=Ct().add(s),f=new X0(lt.min(),new Map,new En(At),a,c);await WO(r,f),r.Ba=r.Ba.remove(s),r.La.delete(e),F1(r)}else await lE(r.localStore,e,!1).then(()=>fE(r,e,n)).catch(Up)}async function k9(t,e){const n=ct(t),r=e.batch.batchId;try{const i=await z$(n.localStore,e);qO(n,r,null),HO(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Ty(n,i)}catch(i){await Up(i)}}async function O9(t,e,n){const r=ct(t);try{const i=await function(a,c){const f=ct(a);return f.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let g;return f.mutationQueue.lookupMutationBatch(p,c).next(_=>(Gt(_!==null),g=_.keys(),f.mutationQueue.removeMutationBatch(p,_))).next(()=>f.mutationQueue.performConsistencyCheck(p)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(p,g,c)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,g)).next(()=>f.localDocuments.getDocuments(p,g))})}(r.localStore,e);qO(r,e,n),HO(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Ty(r,i)}catch(i){await Up(i)}}function HO(t,e){(t.Qa.get(e)||[]).forEach(n=>{n.resolve()}),t.Qa.delete(e)}function qO(t,e,n){const r=ct(t);let i=r.qa[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.qa[r.currentUser.toKey()]=i}}function fE(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Oa.get(e))t.xa.delete(r),n&&t.Ma.Wa(r,n);t.Oa.delete(e),t.isPrimaryClient&&t.ka.yr(e).forEach(r=>{t.ka.containsKey(r)||GO(t,r)})}function GO(t,e){t.Na.delete(e.path.canonicalString());const n=t.Ba.get(e);n!==null&&(k1(t.remoteStore,n),t.Ba=t.Ba.remove(e),t.La.delete(n),F1(t))}function hA(t,e,n){for(const r of n)r instanceof $O?(t.ka.addReference(r.key,e),D9(t,r)):r instanceof jO?(Le("SyncEngine","Document no longer in limbo: "+r.key),t.ka.removeReference(r.key,e),t.ka.containsKey(r.key)||GO(t,r.key)):ot()}function D9(t,e){const n=e.key,r=n.path.canonicalString();t.Ba.get(n)||t.Na.has(r)||(Le("SyncEngine","New document in limbo: "+n),t.Na.add(r),F1(t))}function F1(t){for(;t.Na.size>0&&t.Ba.size<t.maxConcurrentLimboResolutions;){const e=t.Na.values().next().value;t.Na.delete(e);const n=new Ge(fn.fromString(e)),r=t.Ka.next();t.La.set(r,new T9(n)),t.Ba=t.Ba.insert(n,r),OO(t.remoteStore,new fc(Ma(q0(n.path)),r,"TargetPurposeLimboResolution",z0.oe))}}async function Ty(t,e,n){const r=ct(t),i=[],s=[],a=[];r.xa.isEmpty()||(r.xa.forEach((c,f)=>{a.push(r.Ua(f,e,n).then(p=>{var g;if((p||n)&&r.isPrimaryClient){const _=p?!p.fromCache:(g=n==null?void 0:n.targetChanges.get(f.targetId))===null||g===void 0?void 0:g.current;r.sharedClientState.updateQueryState(f.targetId,_?"current":"not-current")}if(p){i.push(p);const _=R1.zi(f.targetId,p);s.push(_)}}))}),await Promise.all(a),r.Ma.R_(i),await async function(f,p){const g=ct(f);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",_=>we.forEach(p,S=>we.forEach(S.Wi,I=>g.persistence.referenceDelegate.addReference(_,S.targetId,I)).next(()=>we.forEach(S.Gi,I=>g.persistence.referenceDelegate.removeReference(_,S.targetId,I)))))}catch(_){if(!Bp(_))throw _;Le("LocalStore","Failed to update sequence numbers: "+_)}for(const _ of p){const S=_.targetId;if(!_.fromCache){const I=g.us.get(S),x=I.snapshotVersion,b=I.withLastLimboFreeSnapshotVersion(x);g.us=g.us.insert(S,b)}}}(r.localStore,s))}async function N9(t,e){const n=ct(t);if(!n.currentUser.isEqual(e)){Le("SyncEngine","User change. New user:",e.toKey());const r=await xO(n.localStore,e);n.currentUser=e,function(s,a){s.Qa.forEach(c=>{c.forEach(f=>{f.reject(new Fe(Se.CANCELLED,a))})}),s.Qa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Ty(n,r.Ts)}}function M9(t,e){const n=ct(t),r=n.La.get(e);if(r&&r.Fa)return Ct().add(r.key);{let i=Ct();const s=n.Oa.get(e);if(!s)return i;for(const a of s){const c=n.xa.get(a);i=i.unionWith(c.view.fa)}return i}}function KO(t){const e=ct(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=WO.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=M9.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=R9.bind(null,e),e.Ma.R_=v9.bind(null,e.eventManager),e.Ma.Wa=_9.bind(null,e.eventManager),e}function L9(t){const e=ct(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=k9.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=O9.bind(null,e),e}class a0{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Z0(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,n){return null}Ya(e,n){return null}Ha(e){return j$(this.persistence,new B$,e.initialUser,this.serializer)}ja(e){return new AO(P1.ei,this.serializer)}za(e){return new Y$}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}a0.provider={build:()=>new a0};class V9 extends a0{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,n){Gt(this.persistence.referenceDelegate instanceof s0);const r=this.persistence.referenceDelegate.garbageCollector;return new I$(r,e.asyncQueue,n)}ja(e){const n=this.cacheSizeBytes!==void 0?Wi.withCacheSize(this.cacheSizeBytes):Wi.DEFAULT;return new AO(r=>s0.ei(r,n),this.serializer)}}class dE{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>dA(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=N9.bind(null,this.syncEngine),await m9(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new y9}()}createDatastore(e){const n=Z0(e.databaseInfo.databaseId),r=function(s){return new J$(s)}(e.databaseInfo);return function(s,a,c,f){return new n9(s,a,c,f)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,a,c){return new i9(r,i,s,a,c)}(this.localStore,this.datastore,e.asyncQueue,n=>dA(this.syncEngine,n,0),function(){return aA.p()?new aA:new Q$}())}createSyncEngine(e,n){return function(i,s,a,c,f,p,g){const _=new E9(i,s,a,c,f,p);return g&&(_.$a=!0),_}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=ct(i);Le("RemoteStore","RemoteStore shutting down."),s.k_.add(5),await Sy(s),s.Q_.shutdown(),s.K_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}dE.provider={build:()=>new dE};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YO{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):Qu("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F9{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=ni.UNAUTHENTICATED,this.clientId=Kk.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async a=>{Le("FirestoreClient","Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(r,a=>(Le("FirestoreClient","Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new mc;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=L1(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function $S(t,e){t.asyncQueue.verifyOperationInProgress(),Le("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await xO(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function pA(t,e){t.asyncQueue.verifyOperationInProgress();const n=await U9(t);Le("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>uA(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>uA(e.remoteStore,i)),t._onlineComponents=e}async function U9(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Le("FirestoreClient","Using user provided OfflineComponentProvider");try{await $S(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===Se.FAILED_PRECONDITION||i.code===Se.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Sp("Error using user provided cache. Falling back to memory cache: "+n),await $S(t,new a0)}}else Le("FirestoreClient","Using default OfflineComponentProvider"),await $S(t,new V9(void 0));return t._offlineComponents}async function QO(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Le("FirestoreClient","Using user provided OnlineComponentProvider"),await pA(t,t._uninitializedComponentsProvider._online)):(Le("FirestoreClient","Using default OnlineComponentProvider"),await pA(t,new dE))),t._onlineComponents}function B9(t){return QO(t).then(e=>e.syncEngine)}async function hE(t){const e=await QO(t),n=e.eventManager;return n.onListen=C9.bind(null,e.syncEngine),n.onUnlisten=A9.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=I9.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=x9.bind(null,e.syncEngine),n}function $9(t,e,n={}){const r=new mc;return t.asyncQueue.enqueueAndForget(async()=>function(s,a,c,f,p){const g=new YO({next:S=>{g.eu(),a.enqueueAndForget(()=>UO(s,_));const I=S.docs.has(c);!I&&S.fromCache?p.reject(new Fe(Se.UNAVAILABLE,"Failed to get document because the client is offline.")):I&&S.fromCache&&f&&f.source==="server"?p.reject(new Fe(Se.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(S)},error:S=>p.reject(S)}),_=new BO(q0(c.path),g,{includeMetadataChanges:!0,ua:!0});return FO(s,_)}(await hE(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XO(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mA=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZO(t,e,n){if(!n)throw new Fe(Se.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function j9(t,e,n,r){if(e===!0&&r===!0)throw new Fe(Se.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function gA(t){if(!Ge.isDocumentKey(t))throw new Fe(Se.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function yA(t){if(Ge.isDocumentKey(t))throw new Fe(Se.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function tw(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ot()}function io(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Fe(Se.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=tw(t);throw new Fe(Se.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vA{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Fe(Se.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Fe(Se.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}j9("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=XO((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Fe(Se.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Fe(Se.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Fe(Se.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class nw{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new vA({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Fe(Se.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Fe(Se.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new vA(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new eB;switch(r.type){case"firstParty":return new iB(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Fe(Se.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=mA.get(n);r&&(Le("ComponentProvider","Removing Datastore"),mA.delete(n),r.terminate())}(this),Promise.resolve()}}function z9(t,e,n,r={}){var i;const s=(t=io(t,nw))._getSettings(),a=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==a&&Sp("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:a,ssl:!1})),r.mockUserToken){let c,f;if(typeof r.mockUserToken=="string")c=r.mockUserToken,f=ni.MOCK_USER;else{c=HR(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new Fe(Se.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new ni(p)}t._authCredentials=new tB(new Gk(c,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dd{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new dd(this.firestore,e,this._query)}}class ui{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new gc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ui(this.firestore,e,this._key)}}class gc extends dd{constructor(e,n,r){super(e,n,q0(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ui(this.firestore,null,new Ge(e))}withConverter(e){return new gc(this.firestore,e,this._path)}}function JO(t,e,...n){if(t=gn(t),ZO("collection","path",e),t instanceof nw){const r=fn.fromString(e,...n);return yA(r),new gc(t,null,r)}{if(!(t instanceof ui||t instanceof gc))throw new Fe(Se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(fn.fromString(e,...n));return yA(r),new gc(t.firestore,null,r)}}function Ey(t,e,...n){if(t=gn(t),arguments.length===1&&(e=Kk.newId()),ZO("doc","path",e),t instanceof nw){const r=fn.fromString(e,...n);return gA(r),new ui(t,null,new Ge(r))}{if(!(t instanceof ui||t instanceof gc))throw new Fe(Se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(fn.fromString(e,...n));return gA(r),new ui(t.firestore,t instanceof gc?t.converter:null,new Ge(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _A{constructor(e=Promise.resolve()){this.Iu=[],this.du=!1,this.Eu=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new RO(this,"async_queue_retry"),this.fu=()=>{const r=BS();r&&Le("AsyncQueue","Visibility state changed to "+r.visibilityState),this.r_.Jo()},this.gu=e;const n=BS();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.du}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.du){this.du=!0,this.Vu=e||!1;const n=BS();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.du)return new Promise(()=>{});const n=new mc;return this.yu(()=>this.du&&this.Vu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!Bp(e))throw e;Le("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){const n=this.gu.then(()=>(this.Ru=!0,e().catch(r=>{this.Au=r,this.Ru=!1;const i=function(a){let c=a.message||"";return a.stack&&(c=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),c}(r);throw Qu("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Ru=!1,r))));return this.gu=n,n}enqueueAfterDelay(e,n,r){this.pu(),this.mu.indexOf(e)>-1&&(n=0);const i=M1.createAndSchedule(this,e,n,r,s=>this.Su(s));return this.Eu.push(i),i}pu(){this.Au&&ot()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(const n of this.Eu)if(n.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.Eu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Eu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){const n=this.Eu.indexOf(e);this.Eu.splice(n,1)}}function wA(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class Ic extends nw{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new _A,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new _A(e),this._firestoreClient=void 0,await e}}}function W9(t,e){const n=typeof t=="object"?t:o1(),r=typeof t=="string"?t:"(default)",i=M0(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=jR("firestore");s&&z9(i,...s)}return i}function U1(t){if(t._terminated)throw new Fe(Se.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||H9(t),t._firestoreClient}function H9(t){var e,n,r;const i=t._freezeSettings(),s=function(c,f,p,g){return new _B(c,f,p,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,XO(g.experimentalLongPollingOptions),g.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new F9(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(c){const f=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(f),_online:f}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ap{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ap($r.fromBase64String(e))}catch(n){throw new Fe(Se.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ap($r.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rw{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Fe(Se.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Br(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iw{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B1{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Fe(Se.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Fe(Se.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return At(this._lat,e._lat)||At(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $1{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q9=/^__.*__$/;class G9{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Lc(e,this.data,this.fieldMask,n,this.fieldTransforms):new _y(e,this.data,n,this.fieldTransforms)}}class eD{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Lc(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function tD(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ot()}}class j1{constructor(e,n,r,i,s,a){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Fu(),this.fieldTransforms=s||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new j1(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.xu({path:r,Nu:!1});return i.Bu(e),i}Lu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.xu({path:r,Nu:!1});return i.Fu(),i}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return u0(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Bu(this.path.get(e))}Bu(e){if(e.length===0)throw this.qu("Document fields must not be empty");if(tD(this.Mu)&&q9.test(e))throw this.qu('Document fields cannot begin and end with "__"')}}class K9{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Z0(e)}$u(e,n,r,i=!1){return new j1({Mu:e,methodName:n,Ku:r,path:Br.emptyPath(),Nu:!1,Qu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function sw(t){const e=t._freezeSettings(),n=Z0(t._databaseId);return new K9(t._databaseId,!!e.ignoreUndefinedProperties,n)}function nD(t,e,n,r,i,s={}){const a=t.$u(s.merge||s.mergeFields?2:0,e,n,i);W1("Data must be an object, but it was:",a,r);const c=rD(r,a);let f,p;if(s.merge)f=new ws(a.fieldMask),p=a.fieldTransforms;else if(s.mergeFields){const g=[];for(const _ of s.mergeFields){const S=pE(e,_,n);if(!a.contains(S))throw new Fe(Se.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);sD(g,S)||g.push(S)}f=new ws(g),p=a.fieldTransforms.filter(_=>f.covers(_.field))}else f=null,p=a.fieldTransforms;return new G9(new Hi(c),f,p)}class ow extends iw{_toFieldTransform(e){if(e.Mu!==2)throw e.Mu===1?e.qu(`${this._methodName}() can only appear at the top level of your update data`):e.qu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ow}}class z1 extends iw{_toFieldTransform(e){return new WB(e.path,new Kg)}isEqual(e){return e instanceof z1}}function Y9(t,e,n,r){const i=t.$u(1,e,n);W1("Data must be an object, but it was:",i,r);const s=[],a=Hi.empty();Mc(r,(f,p)=>{const g=H1(e,f,n);p=gn(p);const _=i.Lu(g);if(p instanceof ow)s.push(g);else{const S=Cy(p,_);S!=null&&(s.push(g),a.set(g,S))}});const c=new ws(s);return new eD(a,c,i.fieldTransforms)}function Q9(t,e,n,r,i,s){const a=t.$u(1,e,n),c=[pE(e,r,n)],f=[i];if(s.length%2!=0)throw new Fe(Se.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<s.length;S+=2)c.push(pE(e,s[S])),f.push(s[S+1]);const p=[],g=Hi.empty();for(let S=c.length-1;S>=0;--S)if(!sD(p,c[S])){const I=c[S];let x=f[S];x=gn(x);const b=a.Lu(I);if(x instanceof ow)p.push(I);else{const R=Cy(x,b);R!=null&&(p.push(I),g.set(I,R))}}const _=new ws(p);return new eD(g,_,a.fieldTransforms)}function X9(t,e,n,r=!1){return Cy(n,t.$u(r?4:3,e))}function Cy(t,e){if(iD(t=gn(t)))return W1("Unsupported field value:",e,t),rD(t,e);if(t instanceof iw)return function(r,i){if(!tD(i.Mu))throw i.qu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.qu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Nu&&e.Mu!==4)throw e.qu("Nested arrays are not supported");return function(r,i){const s=[];let a=0;for(const c of r){let f=Cy(c,i.ku(a));f==null&&(f={nullValue:"NULL_VALUE"}),s.push(f),a++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=gn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return $B(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=dr.fromDate(r);return{timestampValue:i0(i.serializer,s)}}if(r instanceof dr){const s=new dr(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:i0(i.serializer,s)}}if(r instanceof B1)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ap)return{bytesValue:wO(i.serializer,r._byteString)};if(r instanceof ui){const s=i.databaseId,a=r.firestore._databaseId;if(!a.isEqual(s))throw i.qu(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:A1(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof $1)return function(a,c){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:a.toArray().map(f=>{if(typeof f!="number")throw c.qu("VectorValues must only contain numeric values.");return E1(c.serializer,f)})}}}}}}(r,i);throw i.qu(`Unsupported field value: ${tw(r)}`)}(t,e)}function rD(t,e){const n={};return Yk(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Mc(t,(r,i)=>{const s=Cy(i,e.Ou(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function iD(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof dr||t instanceof B1||t instanceof Ap||t instanceof ui||t instanceof iw||t instanceof $1)}function W1(t,e,n){if(!iD(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=tw(n);throw r==="an object"?e.qu(t+" a custom object"):e.qu(t+" "+r)}}function pE(t,e,n){if((e=gn(e))instanceof rw)return e._internalPath;if(typeof e=="string")return H1(t,e);throw u0("Field path arguments must be of type string or ",t,!1,void 0,n)}const Z9=new RegExp("[~\\*/\\[\\]]");function H1(t,e,n){if(e.search(Z9)>=0)throw u0(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new rw(...e.split("."))._internalPath}catch{throw u0(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function u0(t,e,n,r,i){const s=r&&!r.isEmpty(),a=i!==void 0;let c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let f="";return(s||a)&&(f+=" (found",s&&(f+=` in field ${r}`),a&&(f+=` in document ${i}`),f+=")"),new Fe(Se.INVALID_ARGUMENT,c+t+f)}function sD(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oD{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new ui(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new J9(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(q1("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class J9 extends oD{data(){return super.data()}}function q1(t,e){return typeof e=="string"?H1(t,e):e instanceof rw?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ej(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Fe(Se.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class G1{}class aD extends G1{}function tj(t,e,...n){let r=[];e instanceof G1&&r.push(e),r=r.concat(n),function(s){const a=s.filter(f=>f instanceof Y1).length,c=s.filter(f=>f instanceof K1).length;if(a>1||a>0&&c>0)throw new Fe(Se.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class K1 extends aD{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new K1(e,n,r)}_apply(e){const n=this._parse(e);return uD(e._query,n),new dd(e.firestore,e.converter,rE(e._query,n))}_parse(e){const n=sw(e.firestore);return function(s,a,c,f,p,g,_){let S;if(p.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new Fe(Se.INVALID_ARGUMENT,`Invalid Query. You can't perform '${g}' queries on documentId().`);if(g==="in"||g==="not-in"){TA(_,g);const I=[];for(const x of _)I.push(SA(f,s,x));S={arrayValue:{values:I}}}else S=SA(f,s,_)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||TA(_,g),S=X9(c,a,_,g==="in"||g==="not-in");return ir.create(p,g,S)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class Y1 extends G1{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Y1(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Ho.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let a=i;const c=s.getFlattenedFilters();for(const f of c)uD(a,f),a=rE(a,f)}(e._query,n),new dd(e.firestore,e.converter,rE(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Q1 extends aD{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Q1(e,n)}_apply(e){const n=function(i,s,a){if(i.startAt!==null)throw new Fe(Se.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Fe(Se.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Gg(s,a)}(e._query,this._field,this._direction);return new dd(e.firestore,e.converter,function(i,s){const a=i.explicitOrderBy.concat([s]);return new $p(i.path,i.collectionGroup,a,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function nj(t,e="asc"){const n=e,r=q1("orderBy",t);return Q1._create(r,n)}function SA(t,e,n){if(typeof(n=gn(n))=="string"){if(n==="")throw new Fe(Se.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!iO(e)&&n.indexOf("/")!==-1)throw new Fe(Se.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(fn.fromString(n));if(!Ge.isDocumentKey(r))throw new Fe(Se.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return $b(t,new Ge(r))}if(n instanceof ui)return $b(t,n._key);throw new Fe(Se.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${tw(n)}.`)}function TA(t,e){if(!Array.isArray(t)||t.length===0)throw new Fe(Se.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function uD(t,e){const n=function(i,s){for(const a of i)for(const c of a.getFlattenedFilters())if(s.indexOf(c.op)>=0)return c.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Fe(Se.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Fe(Se.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class rj{convertValue(e,n="none"){switch(Ec(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Kn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Tc(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ot()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Mc(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(a=>Kn(a.doubleValue));return new $1(s)}convertGeoPoint(e){return new B1(Kn(e.latitude),Kn(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=H0(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Wg(e));default:return null}}convertTimestamp(e){const n=Sc(e);return new dr(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=fn.fromString(e);Gt(bO(r));const i=new Hg(r.get(1),r.get(3)),s=new Ge(r.popFirst(5));return i.isEqual(n)||Qu(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lD(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yg{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class cD extends oD{constructor(e,n,r,i,s,a){super(e,n,r,i,a),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new x_(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(q1("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class x_ extends cD{data(e={}){return super.data(e)}}class ij{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new yg(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new x_(this._firestore,this._userDataWriter,r.key,r,new yg(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Fe(Se.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map(c=>{const f=new x_(i._firestore,i._userDataWriter,c.doc.key,c.doc,new yg(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:f,oldIndex:-1,newIndex:a++}})}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(c=>s||c.type!==3).map(c=>{const f=new x_(i._firestore,i._userDataWriter,c.doc.key,c.doc,new yg(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);let p=-1,g=-1;return c.type!==0&&(p=a.indexOf(c.doc.key),a=a.delete(c.doc.key)),c.type!==1&&(a=a.add(c.doc),g=a.indexOf(c.doc.key)),{type:sj(c.type),doc:f,oldIndex:p,newIndex:g}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function sj(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ot()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oj(t){t=io(t,ui);const e=io(t.firestore,Ic);return $9(U1(e),t._key).then(n=>dD(e,t,n))}class fD extends rj{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ap(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ui(this.firestore,null,n)}}function aj(t,e,n){t=io(t,ui);const r=io(t.firestore,Ic),i=lD(t.converter,e);return aw(r,[nD(sw(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,ro.none())])}function uj(t,e,n,...r){t=io(t,ui);const i=io(t.firestore,Ic),s=sw(i);let a;return a=typeof(e=gn(e))=="string"||e instanceof rw?Q9(s,"updateDoc",t._key,e,n,r):Y9(s,"updateDoc",t._key,e),aw(i,[a.toMutation(t._key,ro.exists(!0))])}function lj(t){return aw(io(t.firestore,Ic),[new C1(t._key,ro.none())])}function cj(t,e){const n=io(t.firestore,Ic),r=Ey(t),i=lD(t.converter,e);return aw(n,[nD(sw(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,ro.exists(!1))]).then(()=>r)}function fj(t,...e){var n,r,i;t=gn(t);let s={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||wA(e[a])||(s=e[a],a++);const c={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(wA(e[a])){const _=e[a];e[a]=(n=_.next)===null||n===void 0?void 0:n.bind(_),e[a+1]=(r=_.error)===null||r===void 0?void 0:r.bind(_),e[a+2]=(i=_.complete)===null||i===void 0?void 0:i.bind(_)}let f,p,g;if(t instanceof ui)p=io(t.firestore,Ic),g=q0(t._key.path),f={next:_=>{e[a]&&e[a](dD(p,t,_))},error:e[a+1],complete:e[a+2]};else{const _=io(t,dd);p=io(_.firestore,Ic),g=_._query;const S=new fD(p);f={next:I=>{e[a]&&e[a](new ij(p,S,_,I))},error:e[a+1],complete:e[a+2]},ej(t._query)}return function(S,I,x,b){const R=new YO(b),L=new BO(I,R,x);return S.asyncQueue.enqueueAndForget(async()=>FO(await hE(S),L)),()=>{R.eu(),S.asyncQueue.enqueueAndForget(async()=>UO(await hE(S),L))}}(U1(p),g,c,f)}function aw(t,e){return function(r,i){const s=new mc;return r.asyncQueue.enqueueAndForget(async()=>P9(await B9(r),i,s)),s.promise}(U1(t),e)}function dD(t,e,n){const r=n.docs.get(e._key),i=new fD(t);return new cD(t,i,e._key,r,new yg(n.hasPendingWrites,n.fromCache),e.converter)}function hD(){return new z1("serverTimestamp")}(function(e,n=!0){(function(i){Fp=i})(ud),Qf(new _c("firestore",(r,{instanceIdentifier:i,options:s})=>{const a=r.getProvider("app").getImmediate(),c=new Ic(new nB(r.getProvider("auth-internal")),new oB(r.getProvider("app-check-internal")),function(p,g){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new Fe(Se.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Hg(p.options.projectId,g)}(a,i),a);return s=Object.assign({useFetchStreams:n},s),c._setSettings(s),c},"PUBLIC").setMultipleInstances(!0)),Oa(Mb,"4.7.6",e),Oa(Mb,"4.7.6","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pD="firebasestorage.googleapis.com",mD="storageBucket",dj=2*60*1e3,hj=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn extends za{constructor(e,n,r=0){super(jS(e),`Firebase Storage: ${n} (${jS(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Vn.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return jS(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Ln;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Ln||(Ln={}));function jS(t){return"storage/"+t}function X1(){const t="An unknown error occurred, please check the error payload for server response.";return new Vn(Ln.UNKNOWN,t)}function pj(t){return new Vn(Ln.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function mj(t){return new Vn(Ln.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function gj(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Vn(Ln.UNAUTHENTICATED,t)}function yj(){return new Vn(Ln.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function vj(t){return new Vn(Ln.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function _j(){return new Vn(Ln.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function wj(){return new Vn(Ln.CANCELED,"User canceled the upload/download.")}function Sj(t){return new Vn(Ln.INVALID_URL,"Invalid URL '"+t+"'.")}function Tj(t){return new Vn(Ln.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function Ej(){return new Vn(Ln.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+mD+"' property when initializing the app?")}function Cj(){return new Vn(Ln.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Ij(){return new Vn(Ln.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function bj(t){return new Vn(Ln.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function mE(t){return new Vn(Ln.INVALID_ARGUMENT,t)}function gD(){return new Vn(Ln.APP_DELETED,"The Firebase app was deleted.")}function Aj(t){return new Vn(Ln.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Og(t,e){return new Vn(Ln.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function sg(t){throw new Vn(Ln.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Ss.makeFromUrl(e,n)}catch{return new Ss(e,"")}if(r.path==="")return r;throw Tj(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(G){G.path.charAt(G.path.length-1)==="/"&&(G.path_=G.path_.slice(0,-1))}const a="(/(.*))?$",c=new RegExp("^gs://"+i+a,"i"),f={bucket:1,path:3};function p(G){G.path_=decodeURIComponent(G.path)}const g="v[A-Za-z0-9_]+",_=n.replace(/[.]/g,"\\."),S="(/([^?#]*).*)?$",I=new RegExp(`^https?://${_}/${g}/b/${i}/o${S}`,"i"),x={bucket:1,path:3},b=n===pD?"(?:storage.googleapis.com|storage.cloud.google.com)":n,R="([^?#]*)",L=new RegExp(`^https?://${b}/${i}/${R}`,"i"),B=[{regex:c,indices:f,postModify:s},{regex:I,indices:x,postModify:p},{regex:L,indices:{bucket:1,path:2},postModify:p}];for(let G=0;G<B.length;G++){const V=B[G],Y=V.regex.exec(e);if(Y){const D=Y[V.indices.bucket];let k=Y[V.indices.path];k||(k=""),r=new Ss(D,k),V.postModify(r);break}}if(r==null)throw Sj(e);return r}}class xj{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pj(t,e,n){let r=1,i=null,s=null,a=!1,c=0;function f(){return c===2}let p=!1;function g(...R){p||(p=!0,e.apply(null,R))}function _(R){i=setTimeout(()=>{i=null,t(I,f())},R)}function S(){s&&clearTimeout(s)}function I(R,...L){if(p){S();return}if(R){S(),g.call(null,R,...L);return}if(f()||a){S(),g.call(null,R,...L);return}r<64&&(r*=2);let B;c===1?(c=2,B=0):B=(r+Math.random())*1e3,_(B)}let x=!1;function b(R){x||(x=!0,S(),!p&&(i!==null?(R||(c=2),clearTimeout(i),_(0)):R||(c=1)))}return _(0),s=setTimeout(()=>{a=!0,b(!0)},n),b}function Rj(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kj(t){return t!==void 0}function Oj(t){return typeof t=="object"&&!Array.isArray(t)}function Z1(t){return typeof t=="string"||t instanceof String}function EA(t){return J1()&&t instanceof Blob}function J1(){return typeof Blob<"u"}function CA(t,e,n,r){if(r<e)throw mE(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw mE(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uw(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function yD(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var Kf;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Kf||(Kf={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dj(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nj{constructor(e,n,r,i,s,a,c,f,p,g,_,S=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=a,this.callback_=c,this.errorCallback_=f,this.timeout_=p,this.progressCallback_=g,this.connectionFactory_=_,this.retry=S,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((I,x)=>{this.resolve_=I,this.reject_=x,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new Kv(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const a=c=>{const f=c.loaded,p=c.lengthComputable?c.total:-1;this.progressCallback_!==null&&this.progressCallback_(f,p)};this.progressCallback_!==null&&s.addUploadProgressListener(a),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(a),this.pendingConnection_=null;const c=s.getErrorCode()===Kf.NO_ERROR,f=s.getStatus();if(!c||Dj(f,this.additionalRetryCodes_)&&this.retry){const g=s.getErrorCode()===Kf.ABORT;r(!1,new Kv(!1,null,g));return}const p=this.successCodes_.indexOf(f)!==-1;r(!0,new Kv(p,s))})},n=(r,i)=>{const s=this.resolve_,a=this.reject_,c=i.connection;if(i.wasSuccessCode)try{const f=this.callback_(c,c.getResponse());kj(f)?s(f):s()}catch(f){a(f)}else if(c!==null){const f=X1();f.serverResponse=c.getErrorText(),this.errorCallback_?a(this.errorCallback_(c,f)):a(f)}else if(i.canceled){const f=this.appDelete_?gD():wj();a(f)}else{const f=_j();a(f)}};this.canceled_?n(!1,new Kv(!1,null,!0)):this.backoffId_=Pj(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&Rj(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Kv{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function Mj(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function Lj(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function Vj(t,e){e&&(t["X-Firebase-GMPID"]=e)}function Fj(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function Uj(t,e,n,r,i,s,a=!0){const c=yD(t.urlParams),f=t.url+c,p=Object.assign({},t.headers);return Vj(p,e),Mj(p,n),Lj(p,s),Fj(p,r),new Nj(f,t.method,p,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bj(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function $j(...t){const e=Bj();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(J1())return new Blob(t);throw new Vn(Ln.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function jj(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zj(t){if(typeof atob>"u")throw bj("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ka={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class zS{constructor(e,n){this.data=e,this.contentType=n||null}}function Wj(t,e){switch(t){case ka.RAW:return new zS(vD(e));case ka.BASE64:case ka.BASE64URL:return new zS(_D(t,e));case ka.DATA_URL:return new zS(qj(e),Gj(e))}throw X1()}function vD(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const s=r,a=t.charCodeAt(++n);r=65536|(s&1023)<<10|a&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function Hj(t){let e;try{e=decodeURIComponent(t)}catch{throw Og(ka.DATA_URL,"Malformed data URL.")}return vD(e)}function _D(t,e){switch(t){case ka.BASE64:{const i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw Og(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case ka.BASE64URL:{const i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw Og(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=zj(e)}catch(i){throw i.message.includes("polyfill")?i:Og(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class wD{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Og(ka.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=Kj(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function qj(t){const e=new wD(t);return e.base64?_D(ka.BASE64,e.rest):Hj(e.rest)}function Gj(t){return new wD(t).contentType}function Kj(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lc{constructor(e,n){let r=0,i="";EA(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(EA(this.data_)){const r=this.data_,i=jj(r,e,n);return i===null?null:new lc(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new lc(r,!0)}}static getBlob(...e){if(J1()){const n=e.map(r=>r instanceof lc?r.data_:r);return new lc($j.apply(null,n))}else{const n=e.map(a=>Z1(a)?Wj(ka.RAW,a).data:a.data_);let r=0;n.forEach(a=>{r+=a.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(a=>{for(let c=0;c<a.length;c++)i[s++]=a[c]}),new lc(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SD(t){let e;try{e=JSON.parse(t)}catch{return null}return Oj(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yj(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function Qj(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function TD(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xj(t,e){return e}class Ti{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||Xj}}let Yv=null;function Zj(t){return!Z1(t)||t.length<2?t:TD(t)}function ED(){if(Yv)return Yv;const t=[];t.push(new Ti("bucket")),t.push(new Ti("generation")),t.push(new Ti("metageneration")),t.push(new Ti("name","fullPath",!0));function e(s,a){return Zj(a)}const n=new Ti("name");n.xform=e,t.push(n);function r(s,a){return a!==void 0?Number(a):a}const i=new Ti("size");return i.xform=r,t.push(i),t.push(new Ti("timeCreated")),t.push(new Ti("updated")),t.push(new Ti("md5Hash",null,!0)),t.push(new Ti("cacheControl",null,!0)),t.push(new Ti("contentDisposition",null,!0)),t.push(new Ti("contentEncoding",null,!0)),t.push(new Ti("contentLanguage",null,!0)),t.push(new Ti("contentType",null,!0)),t.push(new Ti("metadata","customMetadata",!0)),Yv=t,Yv}function Jj(t,e){function n(){const r=t.bucket,i=t.fullPath,s=new Ss(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function ez(t,e,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const a=n[s];r[a.local]=a.xform(r,e[a.server])}return Jj(r,t),r}function CD(t,e,n){const r=SD(e);return r===null?null:ez(t,r,n)}function tz(t,e,n,r){const i=SD(e);if(i===null||!Z1(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const a=encodeURIComponent;return s.split(",").map(p=>{const g=t.bucket,_=t.fullPath,S="/b/"+a(g)+"/o/"+a(_),I=uw(S,n,r),x=yD({alt:"media",token:p});return I+x})[0]}function nz(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}class eC{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ID(t){if(!t)throw X1()}function rz(t,e){function n(r,i){const s=CD(t,i,e);return ID(s!==null),s}return n}function iz(t,e){function n(r,i){const s=CD(t,i,e);return ID(s!==null),tz(s,i,t.host,t._protocol)}return n}function bD(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=yj():i=gj():n.getStatus()===402?i=mj(t.bucket):n.getStatus()===403?i=vj(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function AD(t){const e=bD(t);function n(r,i){let s=e(r,i);return r.getStatus()===404&&(s=pj(t.path)),s.serverResponse=i.serverResponse,s}return n}function sz(t,e,n){const r=e.fullServerUrl(),i=uw(r,t.host,t._protocol),s="GET",a=t.maxOperationRetryTime,c=new eC(i,s,iz(t,n),a);return c.errorHandler=AD(e),c}function oz(t,e){const n=e.fullServerUrl(),r=uw(n,t.host,t._protocol),i="DELETE",s=t.maxOperationRetryTime;function a(f,p){}const c=new eC(r,i,a,s);return c.successCodes=[200,204],c.errorHandler=AD(e),c}function az(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function uz(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=az(null,e)),r}function lz(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"};function c(){let B="";for(let G=0;G<2;G++)B=B+Math.random().toString().slice(2);return B}const f=c();a["Content-Type"]="multipart/related; boundary="+f;const p=uz(e,r,i),g=nz(p,n),_="--"+f+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+g+`\r
--`+f+`\r
Content-Type: `+p.contentType+`\r
\r
`,S=`\r
--`+f+"--",I=lc.getBlob(_,r,S);if(I===null)throw Cj();const x={name:p.fullPath},b=uw(s,t.host,t._protocol),R="POST",L=t.maxUploadRetryTime,q=new eC(b,R,rz(t,n),L);return q.urlParams=x,q.headers=a,q.body=I.uploadData(),q.errorHandler=bD(e),q}class cz{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Kf.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Kf.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Kf.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw sg("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw sg("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw sg("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw sg("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw sg("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class fz extends cz{initXhr(){this.xhr_.responseType="text"}}function tC(){return new fz}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nd{constructor(e,n){this._service=e,n instanceof Ss?this._location=n:this._location=Ss.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new nd(e,n)}get root(){const e=new Ss(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return TD(this._location.path)}get storage(){return this._service}get parent(){const e=Yj(this._location.path);if(e===null)return null;const n=new Ss(this._location.bucket,e);return new nd(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw Aj(e)}}function dz(t,e,n){t._throwIfRoot("uploadBytes");const r=lz(t.storage,t._location,ED(),new lc(e,!0),n);return t.storage.makeRequestWithTokens(r,tC).then(i=>({metadata:i,ref:t}))}function hz(t){t._throwIfRoot("getDownloadURL");const e=sz(t.storage,t._location,ED());return t.storage.makeRequestWithTokens(e,tC).then(n=>{if(n===null)throw Ij();return n})}function pz(t){t._throwIfRoot("deleteObject");const e=oz(t.storage,t._location);return t.storage.makeRequestWithTokens(e,tC)}function mz(t,e){const n=Qj(t._location.path,e),r=new Ss(t._location.bucket,n);return new nd(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gz(t){return/^[A-Za-z]+:\/\//.test(t)}function yz(t,e){return new nd(t,e)}function xD(t,e){if(t instanceof nC){const n=t;if(n._bucket==null)throw Ej();const r=new nd(n,n._bucket);return e!=null?xD(r,e):r}else return e!==void 0?mz(t,e):t}function vz(t,e){if(e&&gz(e)){if(t instanceof nC)return yz(t,e);throw mE("To use ref(service, url), the first argument must be a Storage instance.")}else return xD(t,e)}function IA(t,e){const n=e==null?void 0:e[mD];return n==null?null:Ss.makeFromBucketSpec(n,t)}function _z(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:HR(i,t.app.options.projectId))}class nC{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=pD,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=dj,this._maxUploadRetryTime=hj,this._requests=new Set,i!=null?this._bucket=Ss.makeFromBucketSpec(i,this._host):this._bucket=IA(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Ss.makeFromBucketSpec(this._url,e):this._bucket=IA(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){CA("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){CA("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new nd(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new xj(gD());{const a=Uj(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(a),a.getPromise().then(()=>this._requests.delete(a),()=>this._requests.delete(a)),a}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const bA="@firebase/storage",AA="0.13.5";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PD="storage";function l0(t,e,n){return t=gn(t),dz(t,e,n)}function Xg(t){return t=gn(t),hz(t)}function RD(t){return t=gn(t),pz(t)}function jo(t,e){return t=gn(t),vz(t,e)}function wz(t=o1(),e){t=gn(t);const r=M0(t,PD).getImmediate({identifier:e}),i=jR("storage");return i&&Sz(r,...i),r}function Sz(t,e,n,r={}){_z(t,e,n,r)}function Tz(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new nC(n,r,i,e,ud)}function Ez(){Qf(new _c(PD,Tz,"PUBLIC").setMultipleInstances(!0)),Oa(bA,AA,""),Oa(bA,AA,"esm2017")}Ez();const Cz={apiKey:"AIzaSyDg7tjgR-_qIJDyfGU-KdZDRhQ2ZZO_8LA",authDomain:"mmc6950-liptak-capstone.firebaseapp.com",projectId:"mmc6950-liptak-capstone",storageBucket:"mmc6950-liptak-capstone.firebasestorage.app",messagingSenderId:void 0,appId:"1:1003930205461:web:c2caf703a1659395eb7d1c",measurementId:"G-XCQRX5FYWZ"},lw=KR(Cz),Iz=W9(lw),kD=N6(lw);S3(kD,Ck);const bz=wz(lw),rl=M.createContext({app:null,auth:null,db:null,storage:null}),Az=({children:t})=>j.jsx(rl.Provider,{value:{app:lw,auth:kD,db:Iz,storage:bz},children:t}),xz="_navigation_1d2hn_1",Pz="_content_1d2hn_8",Rz="_menuButton_1d2hn_16",Qv={navigation:xz,content:Pz,menuButton:Rz};function OD(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=OD(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function rC(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=OD(t))&&(r&&(r+=" "),r+=e);return r}var WS={exports:{}},Yt={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xA;function kz(){if(xA)return Yt;xA=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),a=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.suspense_list"),g=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),S=Symbol.for("react.offscreen"),I=Symbol.for("react.client.reference");function x(b){if(typeof b=="object"&&b!==null){var R=b.$$typeof;switch(R){case t:switch(b=b.type,b){case n:case i:case r:case f:case p:return b;default:switch(b=b&&b.$$typeof,b){case a:case c:case _:case g:return b;case s:return b;default:return R}}case e:return R}}}return Yt.ContextConsumer=s,Yt.ContextProvider=a,Yt.Element=t,Yt.ForwardRef=c,Yt.Fragment=n,Yt.Lazy=_,Yt.Memo=g,Yt.Portal=e,Yt.Profiler=i,Yt.StrictMode=r,Yt.Suspense=f,Yt.SuspenseList=p,Yt.isContextConsumer=function(b){return x(b)===s},Yt.isContextProvider=function(b){return x(b)===a},Yt.isElement=function(b){return typeof b=="object"&&b!==null&&b.$$typeof===t},Yt.isForwardRef=function(b){return x(b)===c},Yt.isFragment=function(b){return x(b)===n},Yt.isLazy=function(b){return x(b)===_},Yt.isMemo=function(b){return x(b)===g},Yt.isPortal=function(b){return x(b)===e},Yt.isProfiler=function(b){return x(b)===i},Yt.isStrictMode=function(b){return x(b)===r},Yt.isSuspense=function(b){return x(b)===f},Yt.isSuspenseList=function(b){return x(b)===p},Yt.isValidElementType=function(b){return typeof b=="string"||typeof b=="function"||b===n||b===i||b===r||b===f||b===p||b===S||typeof b=="object"&&b!==null&&(b.$$typeof===_||b.$$typeof===g||b.$$typeof===a||b.$$typeof===s||b.$$typeof===c||b.$$typeof===I||b.getModuleId!==void 0)},Yt.typeOf=x,Yt}var PA;function Oz(){return PA||(PA=1,WS.exports=kz()),WS.exports}var DD=Oz();function Uu(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function ND(t){if(M.isValidElement(t)||DD.isValidElementType(t)||!Uu(t))return t;const e={};return Object.keys(t).forEach(n=>{e[n]=ND(t[n])}),e}function Ts(t,e,n={clone:!0}){const r=n.clone?{...t}:t;return Uu(t)&&Uu(e)&&Object.keys(e).forEach(i=>{M.isValidElement(e[i])||DD.isValidElementType(e[i])?r[i]=e[i]:Uu(e[i])&&Object.prototype.hasOwnProperty.call(t,i)&&Uu(t[i])?r[i]=Ts(t[i],e[i],n):n.clone?r[i]=Uu(e[i])?ND(e[i]):e[i]:r[i]=e[i]}),r}function rd(t,...e){const n=new URL(`https://mui.com/production-error/?code=${t}`);return e.forEach(r=>n.searchParams.append("args[]",r)),`Minified MUI error #${t}; visit ${n} for the full message.`}function xp(t){if(typeof t!="string")throw new Error(rd(7));return t.charAt(0).toUpperCase()+t.slice(1)}function gE(t,e){const n={...e};for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)){const i=r;if(i==="components"||i==="slots")n[i]={...t[i],...n[i]};else if(i==="componentsProps"||i==="slotProps"){const s=t[i],a=e[i];if(!a)n[i]=s||{};else if(!s)n[i]=a;else{n[i]={...a};for(const c in s)if(Object.prototype.hasOwnProperty.call(s,c)){const f=c;n[i][f]=gE(s[f],a[f])}}}else n[i]===void 0&&(n[i]=t[i])}return n}function Dz(t,e,n=void 0){const r={};for(const i in t){const s=t[i];let a="",c=!0;for(let f=0;f<s.length;f+=1){const p=s[f];p&&(a+=(c===!0?"":" ")+e(p),c=!1,n&&n[p]&&(a+=" "+n[p]))}r[i]=a}return r}const RA=t=>t,Nz=()=>{let t=RA;return{configure(e){t=e},generate(e){return t(e)},reset(){t=RA}}},Mz=Nz(),Lz={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function MD(t,e,n="Mui"){const r=Lz[e];return r?`${n}-${r}`:`${Mz.generate(t)}-${e}`}function Vz(t,e,n="Mui"){const r={};return e.forEach(i=>{r[i]=MD(t,i,n)}),r}function Fz(t,e=Number.MIN_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(t,n))}function Dg(t,e){return e?Ts(t,e,{clone:!1}):t}function Uz(t,e){if(!t.containerQueries)return e;const n=Object.keys(e).filter(r=>r.startsWith("@container")).sort((r,i)=>{var a,c;const s=/min-width:\s*([0-9.]+)/;return+(((a=r.match(s))==null?void 0:a[1])||0)-+(((c=i.match(s))==null?void 0:c[1])||0)});return n.length?n.reduce((r,i)=>{const s=e[i];return delete r[i],r[i]=s,r},{...e}):e}function Bz(t,e){return e==="@"||e.startsWith("@")&&(t.some(n=>e.startsWith(`@${n}`))||!!e.match(/^@\d/))}function $z(t,e){const n=e.match(/^@([^/]+)?\/?(.+)?$/);if(!n)return null;const[,r,i]=n,s=Number.isNaN(+r)?r||0:+r;return t.containerQueries(i).up(s)}function jz(t){const e=(s,a)=>s.replace("@media",a?`@container ${a}`:"@container");function n(s,a){s.up=(...c)=>e(t.breakpoints.up(...c),a),s.down=(...c)=>e(t.breakpoints.down(...c),a),s.between=(...c)=>e(t.breakpoints.between(...c),a),s.only=(...c)=>e(t.breakpoints.only(...c),a),s.not=(...c)=>{const f=e(t.breakpoints.not(...c),a);return f.includes("not all and")?f.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):f}}const r={},i=s=>(n(r,s),r);return n(i),{...t,containerQueries:i}}const cw={xs:0,sm:600,md:900,lg:1200,xl:1536},kA={keys:["xs","sm","md","lg","xl"],up:t=>`@media (min-width:${cw[t]}px)`},zz={containerQueries:t=>({up:e=>{let n=typeof e=="number"?e:cw[e]||e;return typeof n=="number"&&(n=`${n}px`),t?`@container ${t} (min-width:${n})`:`@container (min-width:${n})`}})};function Zu(t,e,n){const r=t.theme||{};if(Array.isArray(e)){const s=r.breakpoints||kA;return e.reduce((a,c,f)=>(a[s.up(s.keys[f])]=n(e[f]),a),{})}if(typeof e=="object"){const s=r.breakpoints||kA;return Object.keys(e).reduce((a,c)=>{if(Bz(s.keys,c)){const f=$z(r.containerQueries?r:zz,c);f&&(a[f]=n(e[c],c))}else if(Object.keys(s.values||cw).includes(c)){const f=s.up(c);a[f]=n(e[c],c)}else{const f=c;a[f]=e[f]}return a},{})}return n(e)}function Wz(t={}){var n;return((n=t.keys)==null?void 0:n.reduce((r,i)=>{const s=t.up(i);return r[s]={},r},{}))||{}}function Hz(t,e){return t.reduce((n,r)=>{const i=n[r];return(!i||Object.keys(i).length===0)&&delete n[r],n},e)}function fw(t,e,n=!0){if(!e||typeof e!="string")return null;if(t&&t.vars&&n){const r=`vars.${e}`.split(".").reduce((i,s)=>i&&i[s]?i[s]:null,t);if(r!=null)return r}return e.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,t)}function c0(t,e,n,r=n){let i;return typeof t=="function"?i=t(n):Array.isArray(t)?i=t[n]||r:i=fw(t,n)||r,e&&(i=e(i,r,t)),i}function Yn(t){const{prop:e,cssProperty:n=t.prop,themeKey:r,transform:i}=t,s=a=>{if(a[e]==null)return null;const c=a[e],f=a.theme,p=fw(f,r)||{};return Zu(a,c,_=>{let S=c0(p,i,_);return _===S&&typeof _=="string"&&(S=c0(p,i,`${e}${_==="default"?"":xp(_)}`,_)),n===!1?S:{[n]:S}})};return s.propTypes={},s.filterProps=[e],s}function qz(t){const e={};return n=>(e[n]===void 0&&(e[n]=t(n)),e[n])}const Gz={m:"margin",p:"padding"},Kz={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},OA={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},Yz=qz(t=>{if(t.length>2)if(OA[t])t=OA[t];else return[t];const[e,n]=t.split(""),r=Gz[e],i=Kz[n]||"";return Array.isArray(i)?i.map(s=>r+s):[r+i]}),iC=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],sC=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...iC,...sC];function Iy(t,e,n,r){const i=fw(t,e,!0)??n;return typeof i=="number"||typeof i=="string"?s=>typeof s=="string"?s:typeof i=="string"?`calc(${s} * ${i})`:i*s:Array.isArray(i)?s=>{if(typeof s=="string")return s;const a=Math.abs(s),c=i[a];return s>=0?c:typeof c=="number"?-c:`-${c}`}:typeof i=="function"?i:()=>{}}function oC(t){return Iy(t,"spacing",8)}function by(t,e){return typeof e=="string"||e==null?e:t(e)}function Qz(t,e){return n=>t.reduce((r,i)=>(r[i]=by(e,n),r),{})}function Xz(t,e,n,r){if(!e.includes(n))return null;const i=Yz(n),s=Qz(i,r),a=t[n];return Zu(t,a,s)}function LD(t,e){const n=oC(t.theme);return Object.keys(t).map(r=>Xz(t,e,r,n)).reduce(Dg,{})}function Rn(t){return LD(t,iC)}Rn.propTypes={};Rn.filterProps=iC;function kn(t){return LD(t,sC)}kn.propTypes={};kn.filterProps=sC;function dw(...t){const e=t.reduce((r,i)=>(i.filterProps.forEach(s=>{r[s]=i}),r),{}),n=r=>Object.keys(r).reduce((i,s)=>e[s]?Dg(i,e[s](r)):i,{});return n.propTypes={},n.filterProps=t.reduce((r,i)=>r.concat(i.filterProps),[]),n}function eo(t){return typeof t!="number"?t:`${t}px solid`}function so(t,e){return Yn({prop:t,themeKey:"borders",transform:e})}const Zz=so("border",eo),Jz=so("borderTop",eo),eW=so("borderRight",eo),tW=so("borderBottom",eo),nW=so("borderLeft",eo),rW=so("borderColor"),iW=so("borderTopColor"),sW=so("borderRightColor"),oW=so("borderBottomColor"),aW=so("borderLeftColor"),uW=so("outline",eo),lW=so("outlineColor"),hw=t=>{if(t.borderRadius!==void 0&&t.borderRadius!==null){const e=Iy(t.theme,"shape.borderRadius",4),n=r=>({borderRadius:by(e,r)});return Zu(t,t.borderRadius,n)}return null};hw.propTypes={};hw.filterProps=["borderRadius"];dw(Zz,Jz,eW,tW,nW,rW,iW,sW,oW,aW,hw,uW,lW);const pw=t=>{if(t.gap!==void 0&&t.gap!==null){const e=Iy(t.theme,"spacing",8),n=r=>({gap:by(e,r)});return Zu(t,t.gap,n)}return null};pw.propTypes={};pw.filterProps=["gap"];const mw=t=>{if(t.columnGap!==void 0&&t.columnGap!==null){const e=Iy(t.theme,"spacing",8),n=r=>({columnGap:by(e,r)});return Zu(t,t.columnGap,n)}return null};mw.propTypes={};mw.filterProps=["columnGap"];const gw=t=>{if(t.rowGap!==void 0&&t.rowGap!==null){const e=Iy(t.theme,"spacing",8),n=r=>({rowGap:by(e,r)});return Zu(t,t.rowGap,n)}return null};gw.propTypes={};gw.filterProps=["rowGap"];const cW=Yn({prop:"gridColumn"}),fW=Yn({prop:"gridRow"}),dW=Yn({prop:"gridAutoFlow"}),hW=Yn({prop:"gridAutoColumns"}),pW=Yn({prop:"gridAutoRows"}),mW=Yn({prop:"gridTemplateColumns"}),gW=Yn({prop:"gridTemplateRows"}),yW=Yn({prop:"gridTemplateAreas"}),vW=Yn({prop:"gridArea"});dw(pw,mw,gw,cW,fW,dW,hW,pW,mW,gW,yW,vW);function dp(t,e){return e==="grey"?e:t}const _W=Yn({prop:"color",themeKey:"palette",transform:dp}),wW=Yn({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:dp}),SW=Yn({prop:"backgroundColor",themeKey:"palette",transform:dp});dw(_W,wW,SW);function _s(t){return t<=1&&t!==0?`${t*100}%`:t}const TW=Yn({prop:"width",transform:_s}),aC=t=>{if(t.maxWidth!==void 0&&t.maxWidth!==null){const e=n=>{var i,s,a,c,f;const r=((a=(s=(i=t.theme)==null?void 0:i.breakpoints)==null?void 0:s.values)==null?void 0:a[n])||cw[n];return r?((f=(c=t.theme)==null?void 0:c.breakpoints)==null?void 0:f.unit)!=="px"?{maxWidth:`${r}${t.theme.breakpoints.unit}`}:{maxWidth:r}:{maxWidth:_s(n)}};return Zu(t,t.maxWidth,e)}return null};aC.filterProps=["maxWidth"];const EW=Yn({prop:"minWidth",transform:_s}),CW=Yn({prop:"height",transform:_s}),IW=Yn({prop:"maxHeight",transform:_s}),bW=Yn({prop:"minHeight",transform:_s});Yn({prop:"size",cssProperty:"width",transform:_s});Yn({prop:"size",cssProperty:"height",transform:_s});const AW=Yn({prop:"boxSizing"});dw(TW,aC,EW,CW,IW,bW,AW);const yw={border:{themeKey:"borders",transform:eo},borderTop:{themeKey:"borders",transform:eo},borderRight:{themeKey:"borders",transform:eo},borderBottom:{themeKey:"borders",transform:eo},borderLeft:{themeKey:"borders",transform:eo},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:eo},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:hw},color:{themeKey:"palette",transform:dp},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:dp},backgroundColor:{themeKey:"palette",transform:dp},p:{style:kn},pt:{style:kn},pr:{style:kn},pb:{style:kn},pl:{style:kn},px:{style:kn},py:{style:kn},padding:{style:kn},paddingTop:{style:kn},paddingRight:{style:kn},paddingBottom:{style:kn},paddingLeft:{style:kn},paddingX:{style:kn},paddingY:{style:kn},paddingInline:{style:kn},paddingInlineStart:{style:kn},paddingInlineEnd:{style:kn},paddingBlock:{style:kn},paddingBlockStart:{style:kn},paddingBlockEnd:{style:kn},m:{style:Rn},mt:{style:Rn},mr:{style:Rn},mb:{style:Rn},ml:{style:Rn},mx:{style:Rn},my:{style:Rn},margin:{style:Rn},marginTop:{style:Rn},marginRight:{style:Rn},marginBottom:{style:Rn},marginLeft:{style:Rn},marginX:{style:Rn},marginY:{style:Rn},marginInline:{style:Rn},marginInlineStart:{style:Rn},marginInlineEnd:{style:Rn},marginBlock:{style:Rn},marginBlockStart:{style:Rn},marginBlockEnd:{style:Rn},displayPrint:{cssProperty:!1,transform:t=>({"@media print":{display:t}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:pw},rowGap:{style:gw},columnGap:{style:mw},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:_s},maxWidth:{style:aC},minWidth:{transform:_s},height:{transform:_s},maxHeight:{transform:_s},minHeight:{transform:_s},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function xW(...t){const e=t.reduce((r,i)=>r.concat(Object.keys(i)),[]),n=new Set(e);return t.every(r=>n.size===Object.keys(r).length)}function PW(t,e){return typeof t=="function"?t(e):t}function RW(){function t(n,r,i,s){const a={[n]:r,theme:i},c=s[n];if(!c)return{[n]:r};const{cssProperty:f=n,themeKey:p,transform:g,style:_}=c;if(r==null)return null;if(p==="typography"&&r==="inherit")return{[n]:r};const S=fw(i,p)||{};return _?_(a):Zu(a,r,x=>{let b=c0(S,g,x);return x===b&&typeof x=="string"&&(b=c0(S,g,`${n}${x==="default"?"":xp(x)}`,x)),f===!1?b:{[f]:b}})}function e(n){const{sx:r,theme:i={}}=n||{};if(!r)return null;const s=i.unstable_sxConfig??yw;function a(c){let f=c;if(typeof c=="function")f=c(i);else if(typeof c!="object")return c;if(!f)return null;const p=Wz(i.breakpoints),g=Object.keys(p);let _=p;return Object.keys(f).forEach(S=>{const I=PW(f[S],i);if(I!=null)if(typeof I=="object")if(s[S])_=Dg(_,t(S,I,i,s));else{const x=Zu({theme:i},I,b=>({[S]:b}));xW(x,I)?_[S]=e({sx:I,theme:i}):_=Dg(_,x)}else _=Dg(_,t(S,I,i,s))}),Uz(i,Hz(g,_))}return Array.isArray(r)?r.map(a):a(r)}return e}const Pp=RW();Pp.filterProps=["sx"];function Ze(){return Ze=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ze.apply(null,arguments)}function kW(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function OW(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var DW=function(){function t(n){var r=this;this._insertTag=function(i){var s;r.tags.length===0?r.insertionPoint?s=r.insertionPoint.nextSibling:r.prepend?s=r.container.firstChild:s=r.before:s=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,s),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(OW(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=kW(i);try{s.insertRule(r,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){var i;return(i=r.parentNode)==null?void 0:i.removeChild(r)}),this.tags=[],this.ctr=0},t}(),ei="-ms-",f0="-moz-",Ut="-webkit-",VD="comm",uC="rule",lC="decl",NW="@import",FD="@keyframes",MW="@layer",LW=Math.abs,vw=String.fromCharCode,VW=Object.assign;function FW(t,e){return Ur(t,0)^45?(((e<<2^Ur(t,0))<<2^Ur(t,1))<<2^Ur(t,2))<<2^Ur(t,3):0}function UD(t){return t.trim()}function UW(t,e){return(t=e.exec(t))?t[0]:t}function Bt(t,e,n){return t.replace(e,n)}function yE(t,e){return t.indexOf(e)}function Ur(t,e){return t.charCodeAt(e)|0}function Zg(t,e,n){return t.slice(e,n)}function Aa(t){return t.length}function cC(t){return t.length}function Xv(t,e){return e.push(t),t}function BW(t,e){return t.map(e).join("")}var _w=1,Rp=1,BD=0,Gi=0,rr=0,zp="";function ww(t,e,n,r,i,s,a){return{value:t,root:e,parent:n,type:r,props:i,children:s,line:_w,column:Rp,length:a,return:""}}function og(t,e){return VW(ww("",null,null,"",null,null,0),t,{length:-t.length},e)}function $W(){return rr}function jW(){return rr=Gi>0?Ur(zp,--Gi):0,Rp--,rr===10&&(Rp=1,_w--),rr}function Es(){return rr=Gi<BD?Ur(zp,Gi++):0,Rp++,rr===10&&(Rp=1,_w++),rr}function Va(){return Ur(zp,Gi)}function P_(){return Gi}function Ay(t,e){return Zg(zp,t,e)}function Jg(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function $D(t){return _w=Rp=1,BD=Aa(zp=t),Gi=0,[]}function jD(t){return zp="",t}function R_(t){return UD(Ay(Gi-1,vE(t===91?t+2:t===40?t+1:t)))}function zW(t){for(;(rr=Va())&&rr<33;)Es();return Jg(t)>2||Jg(rr)>3?"":" "}function WW(t,e){for(;--e&&Es()&&!(rr<48||rr>102||rr>57&&rr<65||rr>70&&rr<97););return Ay(t,P_()+(e<6&&Va()==32&&Es()==32))}function vE(t){for(;Es();)switch(rr){case t:return Gi;case 34:case 39:t!==34&&t!==39&&vE(rr);break;case 40:t===41&&vE(t);break;case 92:Es();break}return Gi}function HW(t,e){for(;Es()&&t+rr!==57;)if(t+rr===84&&Va()===47)break;return"/*"+Ay(e,Gi-1)+"*"+vw(t===47?t:Es())}function qW(t){for(;!Jg(Va());)Es();return Ay(t,Gi)}function GW(t){return jD(k_("",null,null,null,[""],t=$D(t),0,[0],t))}function k_(t,e,n,r,i,s,a,c,f){for(var p=0,g=0,_=a,S=0,I=0,x=0,b=1,R=1,L=1,q=0,B="",G=i,V=s,Y=r,D=B;R;)switch(x=q,q=Es()){case 40:if(x!=108&&Ur(D,_-1)==58){yE(D+=Bt(R_(q),"&","&\f"),"&\f")!=-1&&(L=-1);break}case 34:case 39:case 91:D+=R_(q);break;case 9:case 10:case 13:case 32:D+=zW(x);break;case 92:D+=WW(P_()-1,7);continue;case 47:switch(Va()){case 42:case 47:Xv(KW(HW(Es(),P_()),e,n),f);break;default:D+="/"}break;case 123*b:c[p++]=Aa(D)*L;case 125*b:case 59:case 0:switch(q){case 0:case 125:R=0;case 59+g:L==-1&&(D=Bt(D,/\f/g,"")),I>0&&Aa(D)-_&&Xv(I>32?NA(D+";",r,n,_-1):NA(Bt(D," ","")+";",r,n,_-2),f);break;case 59:D+=";";default:if(Xv(Y=DA(D,e,n,p,g,i,c,B,G=[],V=[],_),s),q===123)if(g===0)k_(D,e,Y,Y,G,s,_,c,V);else switch(S===99&&Ur(D,3)===110?100:S){case 100:case 108:case 109:case 115:k_(t,Y,Y,r&&Xv(DA(t,Y,Y,0,0,i,c,B,i,G=[],_),V),i,V,_,c,r?G:V);break;default:k_(D,Y,Y,Y,[""],V,0,c,V)}}p=g=I=0,b=L=1,B=D="",_=a;break;case 58:_=1+Aa(D),I=x;default:if(b<1){if(q==123)--b;else if(q==125&&b++==0&&jW()==125)continue}switch(D+=vw(q),q*b){case 38:L=g>0?1:(D+="\f",-1);break;case 44:c[p++]=(Aa(D)-1)*L,L=1;break;case 64:Va()===45&&(D+=R_(Es())),S=Va(),g=_=Aa(B=D+=qW(P_())),q++;break;case 45:x===45&&Aa(D)==2&&(b=0)}}return s}function DA(t,e,n,r,i,s,a,c,f,p,g){for(var _=i-1,S=i===0?s:[""],I=cC(S),x=0,b=0,R=0;x<r;++x)for(var L=0,q=Zg(t,_+1,_=LW(b=a[x])),B=t;L<I;++L)(B=UD(b>0?S[L]+" "+q:Bt(q,/&\f/g,S[L])))&&(f[R++]=B);return ww(t,e,n,i===0?uC:c,f,p,g)}function KW(t,e,n){return ww(t,e,n,VD,vw($W()),Zg(t,2,-2),0)}function NA(t,e,n,r){return ww(t,e,n,lC,Zg(t,0,r),Zg(t,r+1,-1),r)}function hp(t,e){for(var n="",r=cC(t),i=0;i<r;i++)n+=e(t[i],i,t,e)||"";return n}function YW(t,e,n,r){switch(t.type){case MW:if(t.children.length)break;case NW:case lC:return t.return=t.return||t.value;case VD:return"";case FD:return t.return=t.value+"{"+hp(t.children,r)+"}";case uC:t.value=t.props.join(",")}return Aa(n=hp(t.children,r))?t.return=t.value+"{"+n+"}":""}function QW(t){var e=cC(t);return function(n,r,i,s){for(var a="",c=0;c<e;c++)a+=t[c](n,r,i,s)||"";return a}}function XW(t){return function(e){e.root||(e=e.return)&&t(e)}}function zD(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var ZW=function(e,n,r){for(var i=0,s=0;i=s,s=Va(),i===38&&s===12&&(n[r]=1),!Jg(s);)Es();return Ay(e,Gi)},JW=function(e,n){var r=-1,i=44;do switch(Jg(i)){case 0:i===38&&Va()===12&&(n[r]=1),e[r]+=ZW(Gi-1,n,r);break;case 2:e[r]+=R_(i);break;case 4:if(i===44){e[++r]=Va()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=vw(i)}while(i=Es());return e},eH=function(e,n){return jD(JW($D(e),n))},MA=new WeakMap,tH=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!MA.get(r))&&!i){MA.set(e,!0);for(var s=[],a=eH(n,s),c=r.props,f=0,p=0;f<a.length;f++)for(var g=0;g<c.length;g++,p++)e.props[p]=s[f]?a[f].replace(/&\f/g,c[g]):c[g]+" "+a[f]}}},nH=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function WD(t,e){switch(FW(t,e)){case 5103:return Ut+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Ut+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return Ut+t+f0+t+ei+t+t;case 6828:case 4268:return Ut+t+ei+t+t;case 6165:return Ut+t+ei+"flex-"+t+t;case 5187:return Ut+t+Bt(t,/(\w+).+(:[^]+)/,Ut+"box-$1$2"+ei+"flex-$1$2")+t;case 5443:return Ut+t+ei+"flex-item-"+Bt(t,/flex-|-self/,"")+t;case 4675:return Ut+t+ei+"flex-line-pack"+Bt(t,/align-content|flex-|-self/,"")+t;case 5548:return Ut+t+ei+Bt(t,"shrink","negative")+t;case 5292:return Ut+t+ei+Bt(t,"basis","preferred-size")+t;case 6060:return Ut+"box-"+Bt(t,"-grow","")+Ut+t+ei+Bt(t,"grow","positive")+t;case 4554:return Ut+Bt(t,/([^-])(transform)/g,"$1"+Ut+"$2")+t;case 6187:return Bt(Bt(Bt(t,/(zoom-|grab)/,Ut+"$1"),/(image-set)/,Ut+"$1"),t,"")+t;case 5495:case 3959:return Bt(t,/(image-set\([^]*)/,Ut+"$1$`$1");case 4968:return Bt(Bt(t,/(.+:)(flex-)?(.*)/,Ut+"box-pack:$3"+ei+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Ut+t+t;case 4095:case 3583:case 4068:case 2532:return Bt(t,/(.+)-inline(.+)/,Ut+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Aa(t)-1-e>6)switch(Ur(t,e+1)){case 109:if(Ur(t,e+4)!==45)break;case 102:return Bt(t,/(.+:)(.+)-([^]+)/,"$1"+Ut+"$2-$3$1"+f0+(Ur(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~yE(t,"stretch")?WD(Bt(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(Ur(t,e+1)!==115)break;case 6444:switch(Ur(t,Aa(t)-3-(~yE(t,"!important")&&10))){case 107:return Bt(t,":",":"+Ut)+t;case 101:return Bt(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Ut+(Ur(t,14)===45?"inline-":"")+"box$3$1"+Ut+"$2$3$1"+ei+"$2box$3")+t}break;case 5936:switch(Ur(t,e+11)){case 114:return Ut+t+ei+Bt(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return Ut+t+ei+Bt(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return Ut+t+ei+Bt(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return Ut+t+ei+t+t}return t}var rH=function(e,n,r,i){if(e.length>-1&&!e.return)switch(e.type){case lC:e.return=WD(e.value,e.length);break;case FD:return hp([og(e,{value:Bt(e.value,"@","@"+Ut)})],i);case uC:if(e.length)return BW(e.props,function(s){switch(UW(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return hp([og(e,{props:[Bt(s,/:(read-\w+)/,":"+f0+"$1")]})],i);case"::placeholder":return hp([og(e,{props:[Bt(s,/:(plac\w+)/,":"+Ut+"input-$1")]}),og(e,{props:[Bt(s,/:(plac\w+)/,":"+f0+"$1")]}),og(e,{props:[Bt(s,/:(plac\w+)/,ei+"input-$1")]})],i)}return""})}},iH=[rH],sH=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(b){var R=b.getAttribute("data-emotion");R.indexOf(" ")!==-1&&(document.head.appendChild(b),b.setAttribute("data-s",""))})}var i=e.stylisPlugins||iH,s={},a,c=[];a=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(b){for(var R=b.getAttribute("data-emotion").split(" "),L=1;L<R.length;L++)s[R[L]]=!0;c.push(b)});var f,p=[tH,nH];{var g,_=[YW,XW(function(b){g.insert(b)})],S=QW(p.concat(i,_)),I=function(R){return hp(GW(R),S)};f=function(R,L,q,B){g=q,I(R?R+"{"+L.styles+"}":L.styles),B&&(x.inserted[L.name]=!0)}}var x={key:n,sheet:new DW({key:n,container:a,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:f};return x.sheet.hydrate(c),x},HS={exports:{}},Wt={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var LA;function oH(){if(LA)return Wt;LA=1;var t=typeof Symbol=="function"&&Symbol.for,e=t?Symbol.for("react.element"):60103,n=t?Symbol.for("react.portal"):60106,r=t?Symbol.for("react.fragment"):60107,i=t?Symbol.for("react.strict_mode"):60108,s=t?Symbol.for("react.profiler"):60114,a=t?Symbol.for("react.provider"):60109,c=t?Symbol.for("react.context"):60110,f=t?Symbol.for("react.async_mode"):60111,p=t?Symbol.for("react.concurrent_mode"):60111,g=t?Symbol.for("react.forward_ref"):60112,_=t?Symbol.for("react.suspense"):60113,S=t?Symbol.for("react.suspense_list"):60120,I=t?Symbol.for("react.memo"):60115,x=t?Symbol.for("react.lazy"):60116,b=t?Symbol.for("react.block"):60121,R=t?Symbol.for("react.fundamental"):60117,L=t?Symbol.for("react.responder"):60118,q=t?Symbol.for("react.scope"):60119;function B(V){if(typeof V=="object"&&V!==null){var Y=V.$$typeof;switch(Y){case e:switch(V=V.type,V){case f:case p:case r:case s:case i:case _:return V;default:switch(V=V&&V.$$typeof,V){case c:case g:case x:case I:case a:return V;default:return Y}}case n:return Y}}}function G(V){return B(V)===p}return Wt.AsyncMode=f,Wt.ConcurrentMode=p,Wt.ContextConsumer=c,Wt.ContextProvider=a,Wt.Element=e,Wt.ForwardRef=g,Wt.Fragment=r,Wt.Lazy=x,Wt.Memo=I,Wt.Portal=n,Wt.Profiler=s,Wt.StrictMode=i,Wt.Suspense=_,Wt.isAsyncMode=function(V){return G(V)||B(V)===f},Wt.isConcurrentMode=G,Wt.isContextConsumer=function(V){return B(V)===c},Wt.isContextProvider=function(V){return B(V)===a},Wt.isElement=function(V){return typeof V=="object"&&V!==null&&V.$$typeof===e},Wt.isForwardRef=function(V){return B(V)===g},Wt.isFragment=function(V){return B(V)===r},Wt.isLazy=function(V){return B(V)===x},Wt.isMemo=function(V){return B(V)===I},Wt.isPortal=function(V){return B(V)===n},Wt.isProfiler=function(V){return B(V)===s},Wt.isStrictMode=function(V){return B(V)===i},Wt.isSuspense=function(V){return B(V)===_},Wt.isValidElementType=function(V){return typeof V=="string"||typeof V=="function"||V===r||V===p||V===s||V===i||V===_||V===S||typeof V=="object"&&V!==null&&(V.$$typeof===x||V.$$typeof===I||V.$$typeof===a||V.$$typeof===c||V.$$typeof===g||V.$$typeof===R||V.$$typeof===L||V.$$typeof===q||V.$$typeof===b)},Wt.typeOf=B,Wt}var VA;function aH(){return VA||(VA=1,HS.exports=oH()),HS.exports}var qS,FA;function uH(){if(FA)return qS;FA=1;var t=aH(),e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},n={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},r={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},i={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};s[t.ForwardRef]=r,s[t.Memo]=i;function a(x){return t.isMemo(x)?i:s[x.$$typeof]||e}var c=Object.defineProperty,f=Object.getOwnPropertyNames,p=Object.getOwnPropertySymbols,g=Object.getOwnPropertyDescriptor,_=Object.getPrototypeOf,S=Object.prototype;function I(x,b,R){if(typeof b!="string"){if(S){var L=_(b);L&&L!==S&&I(x,L,R)}var q=f(b);p&&(q=q.concat(p(b)));for(var B=a(x),G=a(b),V=0;V<q.length;++V){var Y=q[V];if(!n[Y]&&!(R&&R[Y])&&!(G&&G[Y])&&!(B&&B[Y])){var D=g(b,Y);try{c(x,Y,D)}catch{}}}}return x}return qS=I,qS}uH();var lH=!0;function HD(t,e,n){var r="";return n.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):i&&(r+=i+" ")}),r}var fC=function(e,n,r){var i=e.key+"-"+n.name;(r===!1||lH===!1)&&e.registered[i]===void 0&&(e.registered[i]=n.styles)},qD=function(e,n,r){fC(e,n,r);var i=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var s=n;do e.insert(n===s?"."+i:"",s,e.sheet,!0),s=s.next;while(s!==void 0)}};function cH(t){for(var e=0,n,r=0,i=t.length;i>=4;++r,i-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var fH={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},dH=/[A-Z]|^ms/g,hH=/_EMO_([^_]+?)_([^]*?)_EMO_/g,GD=function(e){return e.charCodeAt(1)===45},UA=function(e){return e!=null&&typeof e!="boolean"},GS=zD(function(t){return GD(t)?t:t.replace(dH,"-$&").toLowerCase()}),BA=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(hH,function(r,i,s){return xa={name:i,styles:s,next:xa},i})}return fH[e]!==1&&!GD(e)&&typeof n=="number"&&n!==0?n+"px":n};function ey(t,e,n){if(n==null)return"";var r=n;if(r.__emotion_styles!==void 0)return r;switch(typeof n){case"boolean":return"";case"object":{var i=n;if(i.anim===1)return xa={name:i.name,styles:i.styles,next:xa},i.name;var s=n;if(s.styles!==void 0){var a=s.next;if(a!==void 0)for(;a!==void 0;)xa={name:a.name,styles:a.styles,next:xa},a=a.next;var c=s.styles+";";return c}return pH(t,e,n)}case"function":{if(t!==void 0){var f=xa,p=n(t);return xa=f,ey(t,e,p)}break}}var g=n;if(e==null)return g;var _=e[g];return _!==void 0?_:g}function pH(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=ey(t,e,n[i])+";";else for(var s in n){var a=n[s];if(typeof a!="object"){var c=a;e!=null&&e[c]!==void 0?r+=s+"{"+e[c]+"}":UA(c)&&(r+=GS(s)+":"+BA(s,c)+";")}else if(Array.isArray(a)&&typeof a[0]=="string"&&(e==null||e[a[0]]===void 0))for(var f=0;f<a.length;f++)UA(a[f])&&(r+=GS(s)+":"+BA(s,a[f])+";");else{var p=ey(t,e,a);switch(s){case"animation":case"animationName":{r+=GS(s)+":"+p+";";break}default:r+=s+"{"+p+"}"}}}return r}var $A=/label:\s*([^\s;{]+)\s*(;|$)/g,xa;function Sw(t,e,n){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var r=!0,i="";xa=void 0;var s=t[0];if(s==null||s.raw===void 0)r=!1,i+=ey(n,e,s);else{var a=s;i+=a[0]}for(var c=1;c<t.length;c++)if(i+=ey(n,e,t[c]),r){var f=s;i+=f[c]}$A.lastIndex=0;for(var p="",g;(g=$A.exec(i))!==null;)p+="-"+g[1];var _=cH(i)+p;return{name:_,styles:i,next:xa}}var mH=function(e){return e()},gH=MT.useInsertionEffect?MT.useInsertionEffect:!1,KD=gH||mH,YD=M.createContext(typeof HTMLElement<"u"?sH({key:"css"}):null);YD.Provider;var QD=function(e){return M.forwardRef(function(n,r){var i=M.useContext(YD);return e(n,i,r)})},XD=M.createContext({}),dC={}.hasOwnProperty,_E="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",yH=function(e,n){var r={};for(var i in n)dC.call(n,i)&&(r[i]=n[i]);return r[_E]=e,r},vH=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return fC(n,r,i),KD(function(){return qD(n,r,i)}),null},_H=QD(function(t,e,n){var r=t.css;typeof r=="string"&&e.registered[r]!==void 0&&(r=e.registered[r]);var i=t[_E],s=[r],a="";typeof t.className=="string"?a=HD(e.registered,s,t.className):t.className!=null&&(a=t.className+" ");var c=Sw(s,void 0,M.useContext(XD));a+=e.key+"-"+c.name;var f={};for(var p in t)dC.call(t,p)&&p!=="css"&&p!==_E&&(f[p]=t[p]);return f.className=a,n&&(f.ref=n),M.createElement(M.Fragment,null,M.createElement(vH,{cache:e,serialized:c,isStringTag:typeof i=="string"}),M.createElement(i,f))}),wH=_H,qe=function(e,n){var r=arguments;if(n==null||!dC.call(n,"css"))return M.createElement.apply(void 0,r);var i=r.length,s=new Array(i);s[0]=wH,s[1]=yH(e,n);for(var a=2;a<i;a++)s[a]=r[a];return M.createElement.apply(null,s)};(function(t){var e;e||(e=t.JSX||(t.JSX={}))})(qe);function hC(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Sw(e)}function SH(){var t=hC.apply(void 0,arguments),e="animation-"+t.name;return{name:e,styles:"@keyframes "+e+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}var TH=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,EH=zD(function(t){return TH.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91}),CH=EH,IH=function(e){return e!=="theme"},jA=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?CH:IH},zA=function(e,n,r){var i;if(n){var s=n.shouldForwardProp;i=e.__emotion_forwardProp&&s?function(a){return e.__emotion_forwardProp(a)&&s(a)}:s}return typeof i!="function"&&r&&(i=e.__emotion_forwardProp),i},bH=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return fC(n,r,i),KD(function(){return qD(n,r,i)}),null},AH=function t(e,n){var r=e.__emotion_real===e,i=r&&e.__emotion_base||e,s,a;n!==void 0&&(s=n.label,a=n.target);var c=zA(e,n,r),f=c||jA(i),p=!f("as");return function(){var g=arguments,_=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(s!==void 0&&_.push("label:"+s+";"),g[0]==null||g[0].raw===void 0)_.push.apply(_,g);else{var S=g[0];_.push(S[0]);for(var I=g.length,x=1;x<I;x++)_.push(g[x],S[x])}var b=QD(function(R,L,q){var B=p&&R.as||i,G="",V=[],Y=R;if(R.theme==null){Y={};for(var D in R)Y[D]=R[D];Y.theme=M.useContext(XD)}typeof R.className=="string"?G=HD(L.registered,V,R.className):R.className!=null&&(G=R.className+" ");var k=Sw(_.concat(V),L.registered,Y);G+=L.key+"-"+k.name,a!==void 0&&(G+=" "+a);var F=p&&c===void 0?jA(B):f,A={};for(var W in R)p&&W==="as"||F(W)&&(A[W]=R[W]);return A.className=G,q&&(A.ref=q),M.createElement(M.Fragment,null,M.createElement(bH,{cache:L,serialized:k,isStringTag:typeof B=="string"}),M.createElement(B,A))});return b.displayName=s!==void 0?s:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",b.defaultProps=e.defaultProps,b.__emotion_real=b,b.__emotion_base=i,b.__emotion_styles=_,b.__emotion_forwardProp=c,Object.defineProperty(b,"toString",{value:function(){return"."+a}}),b.withComponent=function(R,L){var q=t(R,Ze({},n,L,{shouldForwardProp:zA(b,L,!0)}));return q.apply(void 0,_)},b}},xH=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],wE=AH.bind(null);xH.forEach(function(t){wE[t]=wE(t)});/**
 * @mui/styled-engine v6.4.3
 *
 * @license MIT
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function PH(t,e){return wE(t,e)}function RH(t,e){Array.isArray(t.__emotion_styles)&&(t.__emotion_styles=e(t.__emotion_styles))}const WA=[];function HA(t){return WA[0]=t,Sw(WA)}const kH=t=>{const e=Object.keys(t).map(n=>({key:n,val:t[n]}))||[];return e.sort((n,r)=>n.val-r.val),e.reduce((n,r)=>({...n,[r.key]:r.val}),{})};function OH(t){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5,...i}=t,s=kH(e),a=Object.keys(s);function c(S){return`@media (min-width:${typeof e[S]=="number"?e[S]:S}${n})`}function f(S){return`@media (max-width:${(typeof e[S]=="number"?e[S]:S)-r/100}${n})`}function p(S,I){const x=a.indexOf(I);return`@media (min-width:${typeof e[S]=="number"?e[S]:S}${n}) and (max-width:${(x!==-1&&typeof e[a[x]]=="number"?e[a[x]]:I)-r/100}${n})`}function g(S){return a.indexOf(S)+1<a.length?p(S,a[a.indexOf(S)+1]):c(S)}function _(S){const I=a.indexOf(S);return I===0?c(a[1]):I===a.length-1?f(a[I]):p(S,a[a.indexOf(S)+1]).replace("@media","@media not all and")}return{keys:a,values:s,up:c,down:f,between:p,only:g,not:_,unit:n,...i}}const DH={borderRadius:4};function ZD(t=8,e=oC({spacing:t})){if(t.mui)return t;const n=(...r)=>(r.length===0?[1]:r).map(s=>{const a=e(s);return typeof a=="number"?`${a}px`:a}).join(" ");return n.mui=!0,n}function NH(t,e){var r;const n=this;if(n.vars){if(!((r=n.colorSchemes)!=null&&r[t])||typeof n.getColorSchemeSelector!="function")return{};let i=n.getColorSchemeSelector(t);return i==="&"?e:((i.includes("data-")||i.includes("."))&&(i=`*:where(${i.replace(/\s*&$/,"")}) &`),{[i]:e})}return n.palette.mode===t?e:{}}function JD(t={},...e){const{breakpoints:n={},palette:r={},spacing:i,shape:s={},...a}=t,c=OH(n),f=ZD(i);let p=Ts({breakpoints:c,direction:"ltr",components:{},palette:{mode:"light",...r},spacing:f,shape:{...DH,...s}},a);return p=jz(p),p.applyStyles=NH,p=e.reduce((g,_)=>Ts(g,_),p),p.unstable_sxConfig={...yw,...a==null?void 0:a.unstable_sxConfig},p.unstable_sx=function(_){return Pp({sx:_,theme:this})},p}function e2(t){const{variants:e,...n}=t,r={variants:e,style:HA(n),isProcessed:!0};return r.style===n||e&&e.forEach(i=>{typeof i.style!="function"&&(i.style=HA(i.style))}),r}const MH=JD();function KS(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}function LH(t){return t?(e,n)=>n[t]:null}function VH(t,e,n){t.theme=BH(t.theme)?n:t.theme[e]||t.theme}function O_(t,e){const n=typeof e=="function"?e(t):e;if(Array.isArray(n))return n.flatMap(r=>O_(t,r));if(Array.isArray(n==null?void 0:n.variants)){let r;if(n.isProcessed)r=n.style;else{const{variants:i,...s}=n;r=s}return t2(t,n.variants,[r])}return n!=null&&n.isProcessed?n.style:n}function t2(t,e,n=[]){var i;let r;e:for(let s=0;s<e.length;s+=1){const a=e[s];if(typeof a.props=="function"){if(r??(r={...t,...t.ownerState,ownerState:t.ownerState}),!a.props(r))continue}else for(const c in a.props)if(t[c]!==a.props[c]&&((i=t.ownerState)==null?void 0:i[c])!==a.props[c])continue e;typeof a.style=="function"?(r??(r={...t,...t.ownerState,ownerState:t.ownerState}),n.push(a.style(r))):n.push(a.style)}return n}function FH(t={}){const{themeId:e,defaultTheme:n=MH,rootShouldForwardProp:r=KS,slotShouldForwardProp:i=KS}=t;function s(c){VH(c,e,n)}return(c,f={})=>{RH(c,V=>V.filter(Y=>Y!==Pp));const{name:p,slot:g,skipVariantsResolver:_,skipSx:S,overridesResolver:I=LH(jH(g)),...x}=f,b=_!==void 0?_:g&&g!=="Root"&&g!=="root"||!1,R=S||!1;let L=KS;g==="Root"||g==="root"?L=r:g?L=i:$H(c)&&(L=void 0);const q=PH(c,{shouldForwardProp:L,label:UH(),...x}),B=V=>{if(typeof V=="function"&&V.__emotion_real!==V)return function(D){return O_(D,V)};if(Uu(V)){const Y=e2(V);return Y.variants?function(k){return O_(k,Y)}:Y.style}return V},G=(...V)=>{const Y=[],D=V.map(B),k=[];if(Y.push(s),p&&I&&k.push(function(K){var _e,ye;const ce=(ye=(_e=K.theme.components)==null?void 0:_e[p])==null?void 0:ye.styleOverrides;if(!ce)return null;const oe={};for(const ae in ce)oe[ae]=O_(K,ce[ae]);return I(K,oe)}),p&&!b&&k.push(function(K){var oe,_e;const H=K.theme,ce=(_e=(oe=H==null?void 0:H.components)==null?void 0:oe[p])==null?void 0:_e.variants;return ce?t2(K,ce):null}),R||k.push(Pp),Array.isArray(D[0])){const W=D.shift(),K=new Array(Y.length).fill(""),H=new Array(k.length).fill("");let ce;ce=[...K,...W,...H],ce.raw=[...K,...W.raw,...H],Y.unshift(ce)}const F=[...Y,...D,...k],A=q(...F);return c.muiName&&(A.muiName=c.muiName),A};return q.withConfig&&(G.withConfig=q.withConfig),G}}function UH(t,e){return void 0}function BH(t){for(const e in t)return!1;return!0}function $H(t){return typeof t=="string"&&t.charCodeAt(0)>96}function jH(t){return t&&t.charAt(0).toLowerCase()+t.slice(1)}function pC(t,e=0,n=1){return Fz(t,e,n)}function zH(t){t=t.slice(1);const e=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let n=t.match(e);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function bc(t){if(t.type)return t;if(t.charAt(0)==="#")return bc(zH(t));const e=t.indexOf("("),n=t.substring(0,e);if(!["rgb","rgba","hsl","hsla","color"].includes(n))throw new Error(rd(9,t));let r=t.substring(e+1,t.length-1),i;if(n==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(i))throw new Error(rd(10,i))}else r=r.split(",");return r=r.map(s=>parseFloat(s)),{type:n,values:r,colorSpace:i}}const WH=t=>{const e=bc(t);return e.values.slice(0,3).map((n,r)=>e.type.includes("hsl")&&r!==0?`${n}%`:n).join(" ")},vg=(t,e)=>{try{return WH(t)}catch{return t}};function Tw(t){const{type:e,colorSpace:n}=t;let{values:r}=t;return e.includes("rgb")?r=r.map((i,s)=>s<3?parseInt(i,10):i):e.includes("hsl")&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.includes("color")?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function n2(t){t=bc(t);const{values:e}=t,n=e[0],r=e[1]/100,i=e[2]/100,s=r*Math.min(i,1-i),a=(p,g=(p+n/30)%12)=>i-s*Math.max(Math.min(g-3,9-g,1),-1);let c="rgb";const f=[Math.round(a(0)*255),Math.round(a(8)*255),Math.round(a(4)*255)];return t.type==="hsla"&&(c+="a",f.push(e[3])),Tw({type:c,values:f})}function SE(t){t=bc(t);let e=t.type==="hsl"||t.type==="hsla"?bc(n2(t)).values:t.values;return e=e.map(n=>(t.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function HH(t,e){const n=SE(t),r=SE(e);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function qH(t,e){return t=bc(t),e=pC(e),(t.type==="rgb"||t.type==="hsl")&&(t.type+="a"),t.type==="color"?t.values[3]=`/${e}`:t.values[3]=e,Tw(t)}function Zv(t,e,n){try{return qH(t,e)}catch{return t}}function mC(t,e){if(t=bc(t),e=pC(e),t.type.includes("hsl"))t.values[2]*=1-e;else if(t.type.includes("rgb")||t.type.includes("color"))for(let n=0;n<3;n+=1)t.values[n]*=1-e;return Tw(t)}function Jt(t,e,n){try{return mC(t,e)}catch{return t}}function gC(t,e){if(t=bc(t),e=pC(e),t.type.includes("hsl"))t.values[2]+=(100-t.values[2])*e;else if(t.type.includes("rgb"))for(let n=0;n<3;n+=1)t.values[n]+=(255-t.values[n])*e;else if(t.type.includes("color"))for(let n=0;n<3;n+=1)t.values[n]+=(1-t.values[n])*e;return Tw(t)}function en(t,e,n){try{return gC(t,e)}catch{return t}}function GH(t,e=.15){return SE(t)>.5?mC(t,e):gC(t,e)}function Jv(t,e,n){try{return GH(t,e)}catch{return t}}const KH=M.createContext(void 0);function YH(t){const{theme:e,name:n,props:r}=t;if(!e||!e.components||!e.components[n])return r;const i=e.components[n];return i.defaultProps?gE(i.defaultProps,r):!i.styleOverrides&&!i.variants?gE(i,r):r}function QH({props:t,name:e}){const n=M.useContext(KH);return YH({props:t,name:e,theme:{components:n}})}const qA={theme:void 0};function XH(t){let e,n;return function(i){let s=e;return(s===void 0||i.theme!==n)&&(qA.theme=i.theme,s=e2(t(qA)),e=s,n=i.theme),s}}function ZH(t=""){function e(...r){if(!r.length)return"";const i=r[0];return typeof i=="string"&&!i.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${t?`${t}-`:""}${i}${e(...r.slice(1))})`:`, ${i}`}return(r,...i)=>`var(--${t?`${t}-`:""}${r}${e(...i)})`}const GA=(t,e,n,r=[])=>{let i=t;e.forEach((s,a)=>{a===e.length-1?Array.isArray(i)?i[Number(s)]=n:i&&typeof i=="object"&&(i[s]=n):i&&typeof i=="object"&&(i[s]||(i[s]=r.includes(s)?[]:{}),i=i[s])})},JH=(t,e,n)=>{function r(i,s=[],a=[]){Object.entries(i).forEach(([c,f])=>{(!n||!n([...s,c]))&&f!=null&&(typeof f=="object"&&Object.keys(f).length>0?r(f,[...s,c],Array.isArray(f)?[...a,c]:a):e([...s,c],f,a))})}r(t)},e8=(t,e)=>typeof e=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(r=>t.includes(r))||t[t.length-1].toLowerCase().includes("opacity")?e:`${e}px`:e;function YS(t,e){const{prefix:n,shouldSkipGeneratingVar:r}=e||{},i={},s={},a={};return JH(t,(c,f,p)=>{if((typeof f=="string"||typeof f=="number")&&(!r||!r(c,f))){const g=`--${n?`${n}-`:""}${c.join("-")}`,_=e8(c,f);Object.assign(i,{[g]:_}),GA(s,c,`var(${g})`,p),GA(a,c,`var(${g}, ${_})`,p)}},c=>c[0]==="vars"),{css:i,vars:s,varsWithDefaults:a}}function t8(t,e={}){const{getSelector:n=R,disableCssColorScheme:r,colorSchemeSelector:i}=e,{colorSchemes:s={},components:a,defaultColorScheme:c="light",...f}=t,{vars:p,css:g,varsWithDefaults:_}=YS(f,e);let S=_;const I={},{[c]:x,...b}=s;if(Object.entries(b||{}).forEach(([B,G])=>{const{vars:V,css:Y,varsWithDefaults:D}=YS(G,e);S=Ts(S,D),I[B]={css:Y,vars:V}}),x){const{css:B,vars:G,varsWithDefaults:V}=YS(x,e);S=Ts(S,V),I[c]={css:B,vars:G}}function R(B,G){var Y,D;let V=i;if(i==="class"&&(V=".%s"),i==="data"&&(V="[data-%s]"),i!=null&&i.startsWith("data-")&&!i.includes("%s")&&(V=`[${i}="%s"]`),B){if(V==="media")return t.defaultColorScheme===B?":root":{[`@media (prefers-color-scheme: ${((D=(Y=s[B])==null?void 0:Y.palette)==null?void 0:D.mode)||B})`]:{":root":G}};if(V)return t.defaultColorScheme===B?`:root, ${V.replace("%s",String(B))}`:V.replace("%s",String(B))}return":root"}return{vars:S,generateThemeVars:()=>{let B={...p};return Object.entries(I).forEach(([,{vars:G}])=>{B=Ts(B,G)}),B},generateStyleSheets:()=>{var k,F;const B=[],G=t.defaultColorScheme||"light";function V(A,W){Object.keys(W).length&&B.push(typeof A=="string"?{[A]:{...W}}:A)}V(n(void 0,{...g}),g);const{[G]:Y,...D}=I;if(Y){const{css:A}=Y,W=(F=(k=s[G])==null?void 0:k.palette)==null?void 0:F.mode,K=!r&&W?{colorScheme:W,...A}:{...A};V(n(G,{...K}),K)}return Object.entries(D).forEach(([A,{css:W}])=>{var ce,oe;const K=(oe=(ce=s[A])==null?void 0:ce.palette)==null?void 0:oe.mode,H=!r&&K?{colorScheme:K,...W}:{...W};V(n(A,{...H}),H)}),B}}}function n8(t){return function(n){return t==="media"?`@media (prefers-color-scheme: ${n})`:t?t.startsWith("data-")&&!t.includes("%s")?`[${t}="${n}"] &`:t==="class"?`.${n} &`:t==="data"?`[data-${n}] &`:`${t.replace("%s",n)} &`:"&"}}const ty={black:"#000",white:"#fff"},r8={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},Vh={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},Fh={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},ag={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},Uh={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},Bh={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},$h={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"};function r2(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:ty.white,default:ty.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const i8=r2();function i2(){return{text:{primary:ty.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:ty.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const KA=i2();function YA(t,e,n,r){const i=r.light||r,s=r.dark||r*1.5;t[e]||(t.hasOwnProperty(n)?t[e]=t[n]:e==="light"?t.light=gC(t.main,i):e==="dark"&&(t.dark=mC(t.main,s)))}function s8(t="light"){return t==="dark"?{main:Uh[200],light:Uh[50],dark:Uh[400]}:{main:Uh[700],light:Uh[400],dark:Uh[800]}}function o8(t="light"){return t==="dark"?{main:Vh[200],light:Vh[50],dark:Vh[400]}:{main:Vh[500],light:Vh[300],dark:Vh[700]}}function a8(t="light"){return t==="dark"?{main:Fh[500],light:Fh[300],dark:Fh[700]}:{main:Fh[700],light:Fh[400],dark:Fh[800]}}function u8(t="light"){return t==="dark"?{main:Bh[400],light:Bh[300],dark:Bh[700]}:{main:Bh[700],light:Bh[500],dark:Bh[900]}}function l8(t="light"){return t==="dark"?{main:$h[400],light:$h[300],dark:$h[700]}:{main:$h[800],light:$h[500],dark:$h[900]}}function c8(t="light"){return t==="dark"?{main:ag[400],light:ag[300],dark:ag[700]}:{main:"#ed6c02",light:ag[500],dark:ag[900]}}function yC(t){const{mode:e="light",contrastThreshold:n=3,tonalOffset:r=.2,...i}=t,s=t.primary||s8(e),a=t.secondary||o8(e),c=t.error||a8(e),f=t.info||u8(e),p=t.success||l8(e),g=t.warning||c8(e);function _(b){return HH(b,KA.text.primary)>=n?KA.text.primary:i8.text.primary}const S=({color:b,name:R,mainShade:L=500,lightShade:q=300,darkShade:B=700})=>{if(b={...b},!b.main&&b[L]&&(b.main=b[L]),!b.hasOwnProperty("main"))throw new Error(rd(11,R?` (${R})`:"",L));if(typeof b.main!="string")throw new Error(rd(12,R?` (${R})`:"",JSON.stringify(b.main)));return YA(b,"light",q,r),YA(b,"dark",B,r),b.contrastText||(b.contrastText=_(b.main)),b};let I;return e==="light"?I=r2():e==="dark"&&(I=i2()),Ts({common:{...ty},mode:e,primary:S({color:s,name:"primary"}),secondary:S({color:a,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:S({color:c,name:"error"}),warning:S({color:g,name:"warning"}),info:S({color:f,name:"info"}),success:S({color:p,name:"success"}),grey:r8,contrastThreshold:n,getContrastText:_,augmentColor:S,tonalOffset:r,...I},i)}function f8(t){const e={};return Object.entries(t).forEach(r=>{const[i,s]=r;typeof s=="object"&&(e[i]=`${s.fontStyle?`${s.fontStyle} `:""}${s.fontVariant?`${s.fontVariant} `:""}${s.fontWeight?`${s.fontWeight} `:""}${s.fontStretch?`${s.fontStretch} `:""}${s.fontSize||""}${s.lineHeight?`/${s.lineHeight} `:""}${s.fontFamily||""}`)}),e}function d8(t,e){return{toolbar:{minHeight:56,[t.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[t.up("sm")]:{minHeight:64}},...e}}function h8(t){return Math.round(t*1e5)/1e5}const QA={textTransform:"uppercase"},XA='"Roboto", "Helvetica", "Arial", sans-serif';function p8(t,e){const{fontFamily:n=XA,fontSize:r=14,fontWeightLight:i=300,fontWeightRegular:s=400,fontWeightMedium:a=500,fontWeightBold:c=700,htmlFontSize:f=16,allVariants:p,pxToRem:g,..._}=typeof e=="function"?e(t):e,S=r/14,I=g||(R=>`${R/f*S}rem`),x=(R,L,q,B,G)=>({fontFamily:n,fontWeight:R,fontSize:I(L),lineHeight:q,...n===XA?{letterSpacing:`${h8(B/L)}em`}:{},...G,...p}),b={h1:x(i,96,1.167,-1.5),h2:x(i,60,1.2,-.5),h3:x(s,48,1.167,0),h4:x(s,34,1.235,.25),h5:x(s,24,1.334,0),h6:x(a,20,1.6,.15),subtitle1:x(s,16,1.75,.15),subtitle2:x(a,14,1.57,.1),body1:x(s,16,1.5,.15),body2:x(s,14,1.43,.15),button:x(a,14,1.75,.4,QA),caption:x(s,12,1.66,.4),overline:x(s,12,2.66,1,QA),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return Ts({htmlFontSize:f,pxToRem:I,fontFamily:n,fontSize:r,fontWeightLight:i,fontWeightRegular:s,fontWeightMedium:a,fontWeightBold:c,...b},_,{clone:!1})}const m8=.2,g8=.14,y8=.12;function mn(...t){return[`${t[0]}px ${t[1]}px ${t[2]}px ${t[3]}px rgba(0,0,0,${m8})`,`${t[4]}px ${t[5]}px ${t[6]}px ${t[7]}px rgba(0,0,0,${g8})`,`${t[8]}px ${t[9]}px ${t[10]}px ${t[11]}px rgba(0,0,0,${y8})`].join(",")}const v8=["none",mn(0,2,1,-1,0,1,1,0,0,1,3,0),mn(0,3,1,-2,0,2,2,0,0,1,5,0),mn(0,3,3,-2,0,3,4,0,0,1,8,0),mn(0,2,4,-1,0,4,5,0,0,1,10,0),mn(0,3,5,-1,0,5,8,0,0,1,14,0),mn(0,3,5,-1,0,6,10,0,0,1,18,0),mn(0,4,5,-2,0,7,10,1,0,2,16,1),mn(0,5,5,-3,0,8,10,1,0,3,14,2),mn(0,5,6,-3,0,9,12,1,0,3,16,2),mn(0,6,6,-3,0,10,14,1,0,4,18,3),mn(0,6,7,-4,0,11,15,1,0,4,20,3),mn(0,7,8,-4,0,12,17,2,0,5,22,4),mn(0,7,8,-4,0,13,19,2,0,5,24,4),mn(0,7,9,-4,0,14,21,2,0,5,26,4),mn(0,8,9,-5,0,15,22,2,0,6,28,5),mn(0,8,10,-5,0,16,24,2,0,6,30,5),mn(0,8,11,-5,0,17,26,2,0,6,32,5),mn(0,9,11,-5,0,18,28,2,0,7,34,6),mn(0,9,12,-6,0,19,29,2,0,7,36,6),mn(0,10,13,-6,0,20,31,3,0,8,38,7),mn(0,10,13,-6,0,21,33,3,0,8,40,7),mn(0,10,14,-6,0,22,35,3,0,8,42,7),mn(0,11,14,-7,0,23,36,3,0,9,44,8),mn(0,11,15,-7,0,24,38,3,0,9,46,8)],_8={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},w8={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function ZA(t){return`${Math.round(t)}ms`}function S8(t){if(!t)return 0;const e=t/36;return Math.min(Math.round((4+15*e**.25+e/5)*10),3e3)}function T8(t){const e={..._8,...t.easing},n={...w8,...t.duration};return{getAutoHeightDuration:S8,create:(i=["all"],s={})=>{const{duration:a=n.standard,easing:c=e.easeInOut,delay:f=0,...p}=s;return(Array.isArray(i)?i:[i]).map(g=>`${g} ${typeof a=="string"?a:ZA(a)} ${c} ${typeof f=="string"?f:ZA(f)}`).join(",")},...t,easing:e,duration:n}}const E8={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function C8(t){return Uu(t)||typeof t>"u"||typeof t=="string"||typeof t=="boolean"||typeof t=="number"||Array.isArray(t)}function s2(t={}){const e={...t};function n(r){const i=Object.entries(r);for(let s=0;s<i.length;s++){const[a,c]=i[s];!C8(c)||a.startsWith("unstable_")?delete r[a]:Uu(c)&&(r[a]={...c},n(r[a]))}}return n(e),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(e,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function TE(t={},...e){const{breakpoints:n,mixins:r={},spacing:i,palette:s={},transitions:a={},typography:c={},shape:f,...p}=t;if(t.vars)throw new Error(rd(20));const g=yC(s),_=JD(t);let S=Ts(_,{mixins:d8(_.breakpoints,r),palette:g,shadows:v8.slice(),typography:p8(g,c),transitions:T8(a),zIndex:{...E8}});return S=Ts(S,p),S=e.reduce((I,x)=>Ts(I,x),S),S.unstable_sxConfig={...yw,...p==null?void 0:p.unstable_sxConfig},S.unstable_sx=function(x){return Pp({sx:x,theme:this})},S.toRuntimeSource=s2,S}function I8(t){let e;return t<1?e=5.11916*t**2:e=4.5*Math.log(t+1)+2,Math.round(e*10)/1e3}const b8=[...Array(25)].map((t,e)=>{if(e===0)return"none";const n=I8(e);return`linear-gradient(rgba(255 255 255 / ${n}), rgba(255 255 255 / ${n}))`});function o2(t){return{inputPlaceholder:t==="dark"?.5:.42,inputUnderline:t==="dark"?.7:.42,switchTrackDisabled:t==="dark"?.2:.12,switchTrack:t==="dark"?.3:.38}}function a2(t){return t==="dark"?b8:[]}function A8(t){const{palette:e={mode:"light"},opacity:n,overlays:r,...i}=t,s=yC(e);return{palette:s,opacity:{...o2(s.mode),...n},overlays:r||a2(s.mode),...i}}function x8(t){var e;return!!t[0].match(/(cssVarPrefix|colorSchemeSelector|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!t[0].match(/sxConfig$/)||t[0]==="palette"&&!!((e=t[1])!=null&&e.match(/(mode|contrastThreshold|tonalOffset)/))}const P8=t=>[...[...Array(25)].map((e,n)=>`--${t?`${t}-`:""}overlays-${n}`),`--${t?`${t}-`:""}palette-AppBar-darkBg`,`--${t?`${t}-`:""}palette-AppBar-darkColor`],R8=t=>(e,n)=>{const r=t.rootSelector||":root",i=t.colorSchemeSelector;let s=i;if(i==="class"&&(s=".%s"),i==="data"&&(s="[data-%s]"),i!=null&&i.startsWith("data-")&&!i.includes("%s")&&(s=`[${i}="%s"]`),t.defaultColorScheme===e){if(e==="dark"){const a={};return P8(t.cssVarPrefix).forEach(c=>{a[c]=n[c],delete n[c]}),s==="media"?{[r]:n,"@media (prefers-color-scheme: dark)":{[r]:a}}:s?{[s.replace("%s",e)]:a,[`${r}, ${s.replace("%s",e)}`]:n}:{[r]:{...n,...a}}}if(s&&s!=="media")return`${r}, ${s.replace("%s",String(e))}`}else if(e){if(s==="media")return{[`@media (prefers-color-scheme: ${String(e)})`]:{[r]:n}};if(s)return s.replace("%s",String(e))}return r};function k8(t,e){e.forEach(n=>{t[n]||(t[n]={})})}function me(t,e,n){!t[e]&&n&&(t[e]=n)}function _g(t){return typeof t!="string"||!t.startsWith("hsl")?t:n2(t)}function Fu(t,e){`${e}Channel`in t||(t[`${e}Channel`]=vg(_g(t[e])))}function O8(t){return typeof t=="number"?`${t}px`:typeof t=="string"||typeof t=="function"||Array.isArray(t)?t:"8px"}const Ia=t=>{try{return t()}catch{}},D8=(t="mui")=>ZH(t);function QS(t,e,n,r){if(!e)return;e=e===!0?{}:e;const i=r==="dark"?"dark":"light";if(!n){t[r]=A8({...e,palette:{mode:i,...e==null?void 0:e.palette}});return}const{palette:s,...a}=TE({...n,palette:{mode:i,...e==null?void 0:e.palette}});return t[r]={...e,palette:s,opacity:{...o2(i),...e==null?void 0:e.opacity},overlays:(e==null?void 0:e.overlays)||a2(i)},a}function N8(t={},...e){const{colorSchemes:n={light:!0},defaultColorScheme:r,disableCssColorScheme:i=!1,cssVarPrefix:s="mui",shouldSkipGeneratingVar:a=x8,colorSchemeSelector:c=n.light&&n.dark?"media":void 0,rootSelector:f=":root",...p}=t,g=Object.keys(n)[0],_=r||(n.light&&g!=="light"?"light":g),S=D8(s),{[_]:I,light:x,dark:b,...R}=n,L={...R};let q=I;if((_==="dark"&&!("dark"in n)||_==="light"&&!("light"in n))&&(q=!0),!q)throw new Error(rd(21,_));const B=QS(L,q,p,_);x&&!L.light&&QS(L,x,void 0,"light"),b&&!L.dark&&QS(L,b,void 0,"dark");let G={defaultColorScheme:_,...B,cssVarPrefix:s,colorSchemeSelector:c,rootSelector:f,getCssVar:S,colorSchemes:L,font:{...f8(B.typography),...B.font},spacing:O8(p.spacing)};Object.keys(G.colorSchemes).forEach(F=>{const A=G.colorSchemes[F].palette,W=K=>{const H=K.split("-"),ce=H[1],oe=H[2];return S(K,A[ce][oe])};if(A.mode==="light"&&(me(A.common,"background","#fff"),me(A.common,"onBackground","#000")),A.mode==="dark"&&(me(A.common,"background","#000"),me(A.common,"onBackground","#fff")),k8(A,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),A.mode==="light"){me(A.Alert,"errorColor",Jt(A.error.light,.6)),me(A.Alert,"infoColor",Jt(A.info.light,.6)),me(A.Alert,"successColor",Jt(A.success.light,.6)),me(A.Alert,"warningColor",Jt(A.warning.light,.6)),me(A.Alert,"errorFilledBg",W("palette-error-main")),me(A.Alert,"infoFilledBg",W("palette-info-main")),me(A.Alert,"successFilledBg",W("palette-success-main")),me(A.Alert,"warningFilledBg",W("palette-warning-main")),me(A.Alert,"errorFilledColor",Ia(()=>A.getContrastText(A.error.main))),me(A.Alert,"infoFilledColor",Ia(()=>A.getContrastText(A.info.main))),me(A.Alert,"successFilledColor",Ia(()=>A.getContrastText(A.success.main))),me(A.Alert,"warningFilledColor",Ia(()=>A.getContrastText(A.warning.main))),me(A.Alert,"errorStandardBg",en(A.error.light,.9)),me(A.Alert,"infoStandardBg",en(A.info.light,.9)),me(A.Alert,"successStandardBg",en(A.success.light,.9)),me(A.Alert,"warningStandardBg",en(A.warning.light,.9)),me(A.Alert,"errorIconColor",W("palette-error-main")),me(A.Alert,"infoIconColor",W("palette-info-main")),me(A.Alert,"successIconColor",W("palette-success-main")),me(A.Alert,"warningIconColor",W("palette-warning-main")),me(A.AppBar,"defaultBg",W("palette-grey-100")),me(A.Avatar,"defaultBg",W("palette-grey-400")),me(A.Button,"inheritContainedBg",W("palette-grey-300")),me(A.Button,"inheritContainedHoverBg",W("palette-grey-A100")),me(A.Chip,"defaultBorder",W("palette-grey-400")),me(A.Chip,"defaultAvatarColor",W("palette-grey-700")),me(A.Chip,"defaultIconColor",W("palette-grey-700")),me(A.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),me(A.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),me(A.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),me(A.LinearProgress,"primaryBg",en(A.primary.main,.62)),me(A.LinearProgress,"secondaryBg",en(A.secondary.main,.62)),me(A.LinearProgress,"errorBg",en(A.error.main,.62)),me(A.LinearProgress,"infoBg",en(A.info.main,.62)),me(A.LinearProgress,"successBg",en(A.success.main,.62)),me(A.LinearProgress,"warningBg",en(A.warning.main,.62)),me(A.Skeleton,"bg",`rgba(${W("palette-text-primaryChannel")} / 0.11)`),me(A.Slider,"primaryTrack",en(A.primary.main,.62)),me(A.Slider,"secondaryTrack",en(A.secondary.main,.62)),me(A.Slider,"errorTrack",en(A.error.main,.62)),me(A.Slider,"infoTrack",en(A.info.main,.62)),me(A.Slider,"successTrack",en(A.success.main,.62)),me(A.Slider,"warningTrack",en(A.warning.main,.62));const K=Jv(A.background.default,.8);me(A.SnackbarContent,"bg",K),me(A.SnackbarContent,"color",Ia(()=>A.getContrastText(K))),me(A.SpeedDialAction,"fabHoverBg",Jv(A.background.paper,.15)),me(A.StepConnector,"border",W("palette-grey-400")),me(A.StepContent,"border",W("palette-grey-400")),me(A.Switch,"defaultColor",W("palette-common-white")),me(A.Switch,"defaultDisabledColor",W("palette-grey-100")),me(A.Switch,"primaryDisabledColor",en(A.primary.main,.62)),me(A.Switch,"secondaryDisabledColor",en(A.secondary.main,.62)),me(A.Switch,"errorDisabledColor",en(A.error.main,.62)),me(A.Switch,"infoDisabledColor",en(A.info.main,.62)),me(A.Switch,"successDisabledColor",en(A.success.main,.62)),me(A.Switch,"warningDisabledColor",en(A.warning.main,.62)),me(A.TableCell,"border",en(Zv(A.divider,1),.88)),me(A.Tooltip,"bg",Zv(A.grey[700],.92))}if(A.mode==="dark"){me(A.Alert,"errorColor",en(A.error.light,.6)),me(A.Alert,"infoColor",en(A.info.light,.6)),me(A.Alert,"successColor",en(A.success.light,.6)),me(A.Alert,"warningColor",en(A.warning.light,.6)),me(A.Alert,"errorFilledBg",W("palette-error-dark")),me(A.Alert,"infoFilledBg",W("palette-info-dark")),me(A.Alert,"successFilledBg",W("palette-success-dark")),me(A.Alert,"warningFilledBg",W("palette-warning-dark")),me(A.Alert,"errorFilledColor",Ia(()=>A.getContrastText(A.error.dark))),me(A.Alert,"infoFilledColor",Ia(()=>A.getContrastText(A.info.dark))),me(A.Alert,"successFilledColor",Ia(()=>A.getContrastText(A.success.dark))),me(A.Alert,"warningFilledColor",Ia(()=>A.getContrastText(A.warning.dark))),me(A.Alert,"errorStandardBg",Jt(A.error.light,.9)),me(A.Alert,"infoStandardBg",Jt(A.info.light,.9)),me(A.Alert,"successStandardBg",Jt(A.success.light,.9)),me(A.Alert,"warningStandardBg",Jt(A.warning.light,.9)),me(A.Alert,"errorIconColor",W("palette-error-main")),me(A.Alert,"infoIconColor",W("palette-info-main")),me(A.Alert,"successIconColor",W("palette-success-main")),me(A.Alert,"warningIconColor",W("palette-warning-main")),me(A.AppBar,"defaultBg",W("palette-grey-900")),me(A.AppBar,"darkBg",W("palette-background-paper")),me(A.AppBar,"darkColor",W("palette-text-primary")),me(A.Avatar,"defaultBg",W("palette-grey-600")),me(A.Button,"inheritContainedBg",W("palette-grey-800")),me(A.Button,"inheritContainedHoverBg",W("palette-grey-700")),me(A.Chip,"defaultBorder",W("palette-grey-700")),me(A.Chip,"defaultAvatarColor",W("palette-grey-300")),me(A.Chip,"defaultIconColor",W("palette-grey-300")),me(A.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),me(A.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),me(A.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),me(A.LinearProgress,"primaryBg",Jt(A.primary.main,.5)),me(A.LinearProgress,"secondaryBg",Jt(A.secondary.main,.5)),me(A.LinearProgress,"errorBg",Jt(A.error.main,.5)),me(A.LinearProgress,"infoBg",Jt(A.info.main,.5)),me(A.LinearProgress,"successBg",Jt(A.success.main,.5)),me(A.LinearProgress,"warningBg",Jt(A.warning.main,.5)),me(A.Skeleton,"bg",`rgba(${W("palette-text-primaryChannel")} / 0.13)`),me(A.Slider,"primaryTrack",Jt(A.primary.main,.5)),me(A.Slider,"secondaryTrack",Jt(A.secondary.main,.5)),me(A.Slider,"errorTrack",Jt(A.error.main,.5)),me(A.Slider,"infoTrack",Jt(A.info.main,.5)),me(A.Slider,"successTrack",Jt(A.success.main,.5)),me(A.Slider,"warningTrack",Jt(A.warning.main,.5));const K=Jv(A.background.default,.98);me(A.SnackbarContent,"bg",K),me(A.SnackbarContent,"color",Ia(()=>A.getContrastText(K))),me(A.SpeedDialAction,"fabHoverBg",Jv(A.background.paper,.15)),me(A.StepConnector,"border",W("palette-grey-600")),me(A.StepContent,"border",W("palette-grey-600")),me(A.Switch,"defaultColor",W("palette-grey-300")),me(A.Switch,"defaultDisabledColor",W("palette-grey-600")),me(A.Switch,"primaryDisabledColor",Jt(A.primary.main,.55)),me(A.Switch,"secondaryDisabledColor",Jt(A.secondary.main,.55)),me(A.Switch,"errorDisabledColor",Jt(A.error.main,.55)),me(A.Switch,"infoDisabledColor",Jt(A.info.main,.55)),me(A.Switch,"successDisabledColor",Jt(A.success.main,.55)),me(A.Switch,"warningDisabledColor",Jt(A.warning.main,.55)),me(A.TableCell,"border",Jt(Zv(A.divider,1),.68)),me(A.Tooltip,"bg",Zv(A.grey[700],.92))}Fu(A.background,"default"),Fu(A.background,"paper"),Fu(A.common,"background"),Fu(A.common,"onBackground"),Fu(A,"divider"),Object.keys(A).forEach(K=>{const H=A[K];K!=="tonalOffset"&&H&&typeof H=="object"&&(H.main&&me(A[K],"mainChannel",vg(_g(H.main))),H.light&&me(A[K],"lightChannel",vg(_g(H.light))),H.dark&&me(A[K],"darkChannel",vg(_g(H.dark))),H.contrastText&&me(A[K],"contrastTextChannel",vg(_g(H.contrastText))),K==="text"&&(Fu(A[K],"primary"),Fu(A[K],"secondary")),K==="action"&&(H.active&&Fu(A[K],"active"),H.selected&&Fu(A[K],"selected")))})}),G=e.reduce((F,A)=>Ts(F,A),G);const V={prefix:s,disableCssColorScheme:i,shouldSkipGeneratingVar:a,getSelector:R8(G)},{vars:Y,generateThemeVars:D,generateStyleSheets:k}=t8(G,V);return G.vars=Y,Object.entries(G.colorSchemes[G.defaultColorScheme]).forEach(([F,A])=>{G[F]=A}),G.generateThemeVars=D,G.generateStyleSheets=k,G.generateSpacing=function(){return ZD(p.spacing,oC(this))},G.getColorSchemeSelector=n8(c),G.spacing=G.generateSpacing(),G.shouldSkipGeneratingVar=a,G.unstable_sxConfig={...yw,...p==null?void 0:p.unstable_sxConfig},G.unstable_sx=function(A){return Pp({sx:A,theme:this})},G.toRuntimeSource=s2,G}function JA(t,e,n){t.colorSchemes&&n&&(t.colorSchemes[e]={...n!==!0&&n,palette:yC({...n===!0?{}:n.palette,mode:e})})}function M8(t={},...e){const{palette:n,cssVariables:r=!1,colorSchemes:i=n?void 0:{light:!0},defaultColorScheme:s=n==null?void 0:n.mode,...a}=t,c=s||"light",f=i==null?void 0:i[c],p={...i,...n?{[c]:{...typeof f!="boolean"&&f,palette:n}}:void 0};if(r===!1){if(!("colorSchemes"in t))return TE(t,...e);let g=n;"palette"in t||p[c]&&(p[c]!==!0?g=p[c].palette:c==="dark"&&(g={mode:"dark"}));const _=TE({...t,palette:g},...e);return _.defaultColorScheme=c,_.colorSchemes=p,_.palette.mode==="light"&&(_.colorSchemes.light={...p.light!==!0&&p.light,palette:_.palette},JA(_,"dark",p.dark)),_.palette.mode==="dark"&&(_.colorSchemes.dark={...p.dark!==!0&&p.dark,palette:_.palette},JA(_,"light",p.light)),_}return!n&&!("light"in p)&&c==="light"&&(p.light=!0),N8({...a,colorSchemes:p,defaultColorScheme:c,...typeof r!="boolean"&&r},...e)}const L8=M8(),V8="$$material";function F8(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const U8=t=>F8(t)&&t!=="classes",B8=FH({themeId:V8,defaultTheme:L8,rootShouldForwardProp:U8}),$8=XH;function j8(t){return QH(t)}function z8(t){return MD("MuiSvgIcon",t)}Vz("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const W8=t=>{const{color:e,fontSize:n,classes:r}=t,i={root:["root",e!=="inherit"&&`color${xp(e)}`,`fontSize${xp(n)}`]};return Dz(i,z8,r)},H8=B8("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color!=="inherit"&&e[`color${xp(n.color)}`],e[`fontSize${xp(n.fontSize)}`]]}})($8(({theme:t})=>{var e,n,r,i,s,a,c,f,p,g,_,S,I,x;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:(i=(e=t.transitions)==null?void 0:e.create)==null?void 0:i.call(e,"fill",{duration:(r=(n=(t.vars??t).transitions)==null?void 0:n.duration)==null?void 0:r.shorter}),variants:[{props:b=>!b.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:((a=(s=t.typography)==null?void 0:s.pxToRem)==null?void 0:a.call(s,20))||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:((f=(c=t.typography)==null?void 0:c.pxToRem)==null?void 0:f.call(c,24))||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:((g=(p=t.typography)==null?void 0:p.pxToRem)==null?void 0:g.call(p,35))||"2.1875rem"}},...Object.entries((t.vars??t).palette).filter(([,b])=>b&&b.main).map(([b])=>{var R,L;return{props:{color:b},style:{color:(L=(R=(t.vars??t).palette)==null?void 0:R[b])==null?void 0:L.main}}}),{props:{color:"action"},style:{color:(S=(_=(t.vars??t).palette)==null?void 0:_.action)==null?void 0:S.active}},{props:{color:"disabled"},style:{color:(x=(I=(t.vars??t).palette)==null?void 0:I.action)==null?void 0:x.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}})),EE=M.forwardRef(function(e,n){const r=j8({props:e,name:"MuiSvgIcon"}),{children:i,className:s,color:a="inherit",component:c="svg",fontSize:f="medium",htmlColor:p,inheritViewBox:g=!1,titleAccess:_,viewBox:S="0 0 24 24",...I}=r,x=M.isValidElement(i)&&i.type==="svg",b={...r,color:a,component:c,fontSize:f,instanceFontSize:e.fontSize,inheritViewBox:g,viewBox:S,hasSvgAsChild:x},R={};g||(R.viewBox=S);const L=W8(b);return j.jsxs(H8,{as:c,className:rC(L.root,s),focusable:"false",color:p,"aria-hidden":_?void 0:!0,role:_?"img":void 0,ref:n,...R,...I,...x&&i.props,ownerState:b,children:[x?i.props.children:i,_?j.jsx("title",{children:_}):null]})});EE.muiName="SvgIcon";function oo(t,e){function n(r,i){return j.jsx(EE,{"data-testid":`${e}Icon`,ref:i,...r,children:t})}return n.muiName=EE.muiName,M.memo(M.forwardRef(n))}const q8=oo(j.jsx("path",{d:"m17 7-1.41 1.41L18.17 11H8v2h10.17l-2.58 2.58L17 17l5-5zM4 5h8V3H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h8v-2H4z"}),"Logout"),G8=()=>{const{auth:t}=M.useContext(rl),e=qi(i=>i.clearProducts),n=qi(i=>i.setUser),r=qi(i=>i.user);return j.jsx("nav",{className:rC(Qv.navigation,!!r&&Qv.loggedIn),children:j.jsxs("div",{className:Qv.content,children:[j.jsx("h1",{children:"ProductKeeper"}),r&&j.jsx("button",{className:Qv.menuButton,onClick:()=>{t.signOut(),e(),n(null)},children:j.jsx(q8,{fontSize:"large"})})]})})},K8="_backButton_qbqqw_1",Y8="_formContainer_qbqqw_16",d0={backButton:K8,formContainer:Y8},zu=oo(j.jsx("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"}),"Add"),u2=oo(j.jsx("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20z"}),"ArrowBack"),Ew=oo(j.jsx("path",{d:"M20 4h-3.17L15 2H9L7.17 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2m0 14H4V6h4.05l1.83-2h4.24l1.83 2H20zM12 7c-2.76 0-5 2.24-5 5s2.24 5 5 5 5-2.24 5-5-2.24-5-5-5m0 8c-1.65 0-3-1.35-3-3s1.35-3 3-3 3 1.35 3 3-1.35 3-3 3"}),"CameraAltOutlined"),Q8=oo(j.jsx("path",{d:"M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"}),"Check"),l2=oo(j.jsx("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"CloseOutlined"),h0=oo(j.jsx("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete"),X8=oo(j.jsx("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.996.996 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}),"Edit"),ex=oo(j.jsx("path",{d:"M19 13H5v-2h14z"}),"Remove"),c2=oo(j.jsx("path",{d:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3m3-10H5V5h10z"}),"Save"),Z8=oo(j.jsx("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"}),"Search"),J8=oo(j.jsx("path",{d:"M3 18h6v-2H3zM3 6v2h18V6zm0 7h12v-2H3z"}),"Sort"),e7=t=>{const{goBack:e}=t,{auth:n,db:r}=M.useContext(rl),i=qi(x=>x.setUser),[s,a]=M.useState(""),[c,f]=M.useState(""),[p,g]=M.useState(""),[_,S]=M.useState(""),I=async()=>{try{const b=(await _3(n,s,p)).user;if(!b)return;const R={createdAt:hD(),email:s,name:c};await aj(Ey(r,"users",b.uid),R),i({...b,...R})}catch(x){console.error(x)}};return j.jsxs(j.Fragment,{children:[j.jsxs("button",{onClick:()=>{console.log("click: ",e),e()},className:d0.backButton,children:[j.jsx(u2,{})," Go Back"]}),j.jsx("h2",{children:"Sign Up"}),j.jsxs("div",{className:d0.formContainer,children:[j.jsxs("div",{children:[j.jsx("label",{htmlFor:"name",children:"Name"}),j.jsx("input",{name:"name",type:"text",value:c,onChange:x=>f(x.target.value)})]}),j.jsxs("div",{children:[j.jsx("label",{htmlFor:"email",children:"Email"}),j.jsx("input",{name:"email",type:"text",value:s,onChange:x=>a(x.target.value)})]}),j.jsxs("div",{children:[j.jsx("label",{htmlFor:"password",children:"Password"}),j.jsx("input",{name:"password",type:"password",value:p,onChange:x=>g(x.target.value)})]}),j.jsxs("div",{children:[j.jsx("label",{htmlFor:"confirmPassword",children:"Confirm Password"}),j.jsx("input",{name:"confirmPassword",type:"password",value:_,onChange:x=>S(x.target.value)})]}),j.jsx("button",{onClick:I,disabled:!s||!p||!_||p!==_,children:"Sign Up"})]})]})},t7=t=>{const{goBack:e}=t,{auth:n,db:r}=M.useContext(rl),i=qi(g=>g.setUser),[s,a]=M.useState(""),[c,f]=M.useState(""),p=async()=>{try{const _=(await w3(n,s,c)).user;if(!_)return;const S=await oj(Ey(r,"users",_.uid));if(!S.exists())return;i({..._,...S.data()})}catch(g){console.error(g)}};return j.jsxs(j.Fragment,{children:[j.jsxs("button",{onClick:()=>{console.log("click: ",e),e()},className:d0.backButton,children:[j.jsx(u2,{})," Go Back"]}),j.jsx("h2",{children:"Sign In"}),j.jsxs("div",{className:d0.formContainer,children:[j.jsxs("div",{children:[j.jsx("label",{htmlFor:"email",children:"Email"}),j.jsx("input",{name:"email",type:"text",value:s,onChange:g=>a(g.target.value)})]}),j.jsxs("div",{children:[j.jsx("label",{htmlFor:"password",children:"Password"}),j.jsx("input",{name:"password",type:"password",value:c,onChange:g=>f(g.target.value)})]}),j.jsx("button",{onClick:p,disabled:!s||!c,children:"Sign In"})]})]})},n7="_container_1h0vk_1",r7="_logoContainer_1h0vk_11",i7="_buttonContainer_1h0vk_19",s7="_signin_1h0vk_1",o7="_signup_1h0vk_1",ug={container:n7,logoContainer:r7,buttonContainer:i7,signin:s7,signup:o7},a7="/mmc6950-liptak-capstone/assets/logo-tagline-color-7Dq66C5v.svg",u7=()=>{const[t,e]=M.useState("");return j.jsxs("div",{className:ug.container,children:[!t&&j.jsxs(j.Fragment,{children:[j.jsx("div",{className:ug.logoContainer,children:j.jsx("img",{width:375,src:a7,alt:"ProductKeeper Logo"})}),j.jsxs("div",{className:ug.buttonContainer,children:[j.jsx("button",{id:ug.signin,onClick:()=>e("signin"),children:"Sign In"}),j.jsx("button",{id:ug.signup,onClick:()=>e("signup"),children:"Sign Up"})]})]}),t==="signup"&&j.jsx(e7,{goBack:()=>e("")}),t==="signin"&&j.jsx(t7,{goBack:()=>e("")})]})};function sd(t){"@babel/helpers - typeof";return sd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sd(t)}function l7(t,e){if(sd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(sd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function f2(t){var e=l7(t,"string");return sd(e)=="symbol"?e:e+""}function wg(t,e,n){return(e=f2(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tx(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function He(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tx(Object(n),!0).forEach(function(r){wg(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tx(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function c7(t){if(Array.isArray(t))return t}function f7(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,c=[],f=!0,p=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;f=!1}else for(;!(f=(r=s.call(n)).done)&&(c.push(r.value),c.length!==e);f=!0);}catch(g){p=!0,i=g}finally{try{if(!f&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(p)throw i}}return c}}function CE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function d2(t,e){if(t){if(typeof t=="string")return CE(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?CE(t,e):void 0}}function d7(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hu(t,e){return c7(t)||f7(t,e)||d2(t,e)||d7()}function h7(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Wa(t,e){if(t==null)return{};var n,r,i=h7(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}var p7=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];function m7(t){var e=t.defaultInputValue,n=e===void 0?"":e,r=t.defaultMenuIsOpen,i=r===void 0?!1:r,s=t.defaultValue,a=s===void 0?null:s,c=t.inputValue,f=t.menuIsOpen,p=t.onChange,g=t.onInputChange,_=t.onMenuClose,S=t.onMenuOpen,I=t.value,x=Wa(t,p7),b=M.useState(c!==void 0?c:n),R=Hu(b,2),L=R[0],q=R[1],B=M.useState(f!==void 0?f:i),G=Hu(B,2),V=G[0],Y=G[1],D=M.useState(I!==void 0?I:a),k=Hu(D,2),F=k[0],A=k[1],W=M.useCallback(function(ae,Ae){typeof p=="function"&&p(ae,Ae),A(ae)},[p]),K=M.useCallback(function(ae,Ae){var Ee;typeof g=="function"&&(Ee=g(ae,Ae)),q(Ee!==void 0?Ee:ae)},[g]),H=M.useCallback(function(){typeof S=="function"&&S(),Y(!0)},[S]),ce=M.useCallback(function(){typeof _=="function"&&_(),Y(!1)},[_]),oe=c!==void 0?c:L,_e=f!==void 0?f:V,ye=I!==void 0?I:F;return He(He({},x),{},{inputValue:oe,menuIsOpen:_e,onChange:W,onInputChange:K,onMenuClose:ce,onMenuOpen:H,value:ye})}function g7(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nx(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,f2(r.key),r)}}function y7(t,e,n){return nx(t.prototype,e),nx(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function IE(t,e){return IE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},IE(t,e)}function v7(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&IE(t,e)}function p0(t){return p0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},p0(t)}function h2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(h2=function(){return!!t})()}function _7(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function w7(t,e){if(e&&(sd(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _7(t)}function S7(t){var e=h2();return function(){var n,r=p0(t);if(e){var i=p0(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return w7(this,n)}}function T7(t){if(Array.isArray(t))return CE(t)}function E7(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function C7(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pp(t){return T7(t)||E7(t)||d2(t)||C7()}function I7(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var Cw=VR();const b7=LR(Cw),A7=["top","right","bottom","left"],Ac=Math.min,vs=Math.max,m0=Math.round,e_=Math.floor,Fa=t=>({x:t,y:t}),x7={left:"right",right:"left",bottom:"top",top:"bottom"},P7={start:"end",end:"start"};function bE(t,e,n){return vs(t,Ac(e,n))}function Ju(t,e){return typeof t=="function"?t(e):t}function el(t){return t.split("-")[0]}function Wp(t){return t.split("-")[1]}function vC(t){return t==="x"?"y":"x"}function _C(t){return t==="y"?"height":"width"}function xc(t){return["top","bottom"].includes(el(t))?"y":"x"}function wC(t){return vC(xc(t))}function R7(t,e,n){n===void 0&&(n=!1);const r=Wp(t),i=wC(t),s=_C(i);let a=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(a=g0(a)),[a,g0(a)]}function k7(t){const e=g0(t);return[AE(t),e,AE(e)]}function AE(t){return t.replace(/start|end/g,e=>P7[e])}function O7(t,e,n){const r=["left","right"],i=["right","left"],s=["top","bottom"],a=["bottom","top"];switch(t){case"top":case"bottom":return n?e?i:r:e?r:i;case"left":case"right":return e?s:a;default:return[]}}function D7(t,e,n,r){const i=Wp(t);let s=O7(el(t),n==="start",r);return i&&(s=s.map(a=>a+"-"+i),e&&(s=s.concat(s.map(AE)))),s}function g0(t){return t.replace(/left|right|bottom|top/g,e=>x7[e])}function N7(t){return{top:0,right:0,bottom:0,left:0,...t}}function p2(t){return typeof t!="number"?N7(t):{top:t,right:t,bottom:t,left:t}}function y0(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function rx(t,e,n){let{reference:r,floating:i}=t;const s=xc(e),a=wC(e),c=_C(a),f=el(e),p=s==="y",g=r.x+r.width/2-i.width/2,_=r.y+r.height/2-i.height/2,S=r[c]/2-i[c]/2;let I;switch(f){case"top":I={x:g,y:r.y-i.height};break;case"bottom":I={x:g,y:r.y+r.height};break;case"right":I={x:r.x+r.width,y:_};break;case"left":I={x:r.x-i.width,y:_};break;default:I={x:r.x,y:r.y}}switch(Wp(e)){case"start":I[a]-=S*(n&&p?-1:1);break;case"end":I[a]+=S*(n&&p?-1:1);break}return I}const M7=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:a}=n,c=s.filter(Boolean),f=await(a.isRTL==null?void 0:a.isRTL(e));let p=await a.getElementRects({reference:t,floating:e,strategy:i}),{x:g,y:_}=rx(p,r,f),S=r,I={},x=0;for(let b=0;b<c.length;b++){const{name:R,fn:L}=c[b],{x:q,y:B,data:G,reset:V}=await L({x:g,y:_,initialPlacement:r,placement:S,strategy:i,middlewareData:I,rects:p,platform:a,elements:{reference:t,floating:e}});g=q??g,_=B??_,I={...I,[R]:{...I[R],...G}},V&&x<=50&&(x++,typeof V=="object"&&(V.placement&&(S=V.placement),V.rects&&(p=V.rects===!0?await a.getElementRects({reference:t,floating:e,strategy:i}):V.rects),{x:g,y:_}=rx(p,S,f)),b=-1)}return{x:g,y:_,placement:S,strategy:i,middlewareData:I}};async function ny(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:a,elements:c,strategy:f}=t,{boundary:p="clippingAncestors",rootBoundary:g="viewport",elementContext:_="floating",altBoundary:S=!1,padding:I=0}=Ju(e,t),x=p2(I),R=c[S?_==="floating"?"reference":"floating":_],L=y0(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(R)))==null||n?R:R.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(c.floating)),boundary:p,rootBoundary:g,strategy:f})),q=_==="floating"?{x:r,y:i,width:a.floating.width,height:a.floating.height}:a.reference,B=await(s.getOffsetParent==null?void 0:s.getOffsetParent(c.floating)),G=await(s.isElement==null?void 0:s.isElement(B))?await(s.getScale==null?void 0:s.getScale(B))||{x:1,y:1}:{x:1,y:1},V=y0(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:q,offsetParent:B,strategy:f}):q);return{top:(L.top-V.top+x.top)/G.y,bottom:(V.bottom-L.bottom+x.bottom)/G.y,left:(L.left-V.left+x.left)/G.x,right:(V.right-L.right+x.right)/G.x}}const L7=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:s,platform:a,elements:c,middlewareData:f}=e,{element:p,padding:g=0}=Ju(t,e)||{};if(p==null)return{};const _=p2(g),S={x:n,y:r},I=wC(i),x=_C(I),b=await a.getDimensions(p),R=I==="y",L=R?"top":"left",q=R?"bottom":"right",B=R?"clientHeight":"clientWidth",G=s.reference[x]+s.reference[I]-S[I]-s.floating[x],V=S[I]-s.reference[I],Y=await(a.getOffsetParent==null?void 0:a.getOffsetParent(p));let D=Y?Y[B]:0;(!D||!await(a.isElement==null?void 0:a.isElement(Y)))&&(D=c.floating[B]||s.floating[x]);const k=G/2-V/2,F=D/2-b[x]/2-1,A=Ac(_[L],F),W=Ac(_[q],F),K=A,H=D-b[x]-W,ce=D/2-b[x]/2+k,oe=bE(K,ce,H),_e=!f.arrow&&Wp(i)!=null&&ce!==oe&&s.reference[x]/2-(ce<K?A:W)-b[x]/2<0,ye=_e?ce<K?ce-K:ce-H:0;return{[I]:S[I]+ye,data:{[I]:oe,centerOffset:ce-oe-ye,..._e&&{alignmentOffset:ye}},reset:_e}}}),V7=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:s,rects:a,initialPlacement:c,platform:f,elements:p}=e,{mainAxis:g=!0,crossAxis:_=!0,fallbackPlacements:S,fallbackStrategy:I="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:b=!0,...R}=Ju(t,e);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const L=el(i),q=xc(c),B=el(c)===c,G=await(f.isRTL==null?void 0:f.isRTL(p.floating)),V=S||(B||!b?[g0(c)]:k7(c)),Y=x!=="none";!S&&Y&&V.push(...D7(c,b,x,G));const D=[c,...V],k=await ny(e,R),F=[];let A=((r=s.flip)==null?void 0:r.overflows)||[];if(g&&F.push(k[L]),_){const ce=R7(i,a,G);F.push(k[ce[0]],k[ce[1]])}if(A=[...A,{placement:i,overflows:F}],!F.every(ce=>ce<=0)){var W,K;const ce=(((W=s.flip)==null?void 0:W.index)||0)+1,oe=D[ce];if(oe)return{data:{index:ce,overflows:A},reset:{placement:oe}};let _e=(K=A.filter(ye=>ye.overflows[0]<=0).sort((ye,ae)=>ye.overflows[1]-ae.overflows[1])[0])==null?void 0:K.placement;if(!_e)switch(I){case"bestFit":{var H;const ye=(H=A.filter(ae=>{if(Y){const Ae=xc(ae.placement);return Ae===q||Ae==="y"}return!0}).map(ae=>[ae.placement,ae.overflows.filter(Ae=>Ae>0).reduce((Ae,Ee)=>Ae+Ee,0)]).sort((ae,Ae)=>ae[1]-Ae[1])[0])==null?void 0:H[0];ye&&(_e=ye);break}case"initialPlacement":_e=c;break}if(i!==_e)return{reset:{placement:_e}}}return{}}}};function ix(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function sx(t){return A7.some(e=>t[e]>=0)}const F7=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=Ju(t,e);switch(r){case"referenceHidden":{const s=await ny(e,{...i,elementContext:"reference"}),a=ix(s,n.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:sx(a)}}}case"escaped":{const s=await ny(e,{...i,altBoundary:!0}),a=ix(s,n.floating);return{data:{escapedOffsets:a,escaped:sx(a)}}}default:return{}}}}};async function U7(t,e){const{placement:n,platform:r,elements:i}=t,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),a=el(n),c=Wp(n),f=xc(n)==="y",p=["left","top"].includes(a)?-1:1,g=s&&f?-1:1,_=Ju(e,t);let{mainAxis:S,crossAxis:I,alignmentAxis:x}=typeof _=="number"?{mainAxis:_,crossAxis:0,alignmentAxis:null}:{mainAxis:_.mainAxis||0,crossAxis:_.crossAxis||0,alignmentAxis:_.alignmentAxis};return c&&typeof x=="number"&&(I=c==="end"?x*-1:x),f?{x:I*g,y:S*p}:{x:S*p,y:I*g}}const B7=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:s,placement:a,middlewareData:c}=e,f=await U7(e,t);return a===((n=c.offset)==null?void 0:n.placement)&&(r=c.arrow)!=null&&r.alignmentOffset?{}:{x:i+f.x,y:s+f.y,data:{...f,placement:a}}}}},$7=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:a=!1,limiter:c={fn:R=>{let{x:L,y:q}=R;return{x:L,y:q}}},...f}=Ju(t,e),p={x:n,y:r},g=await ny(e,f),_=xc(el(i)),S=vC(_);let I=p[S],x=p[_];if(s){const R=S==="y"?"top":"left",L=S==="y"?"bottom":"right",q=I+g[R],B=I-g[L];I=bE(q,I,B)}if(a){const R=_==="y"?"top":"left",L=_==="y"?"bottom":"right",q=x+g[R],B=x-g[L];x=bE(q,x,B)}const b=c.fn({...e,[S]:I,[_]:x});return{...b,data:{x:b.x-n,y:b.y-r,enabled:{[S]:s,[_]:a}}}}}},j7=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:s,middlewareData:a}=e,{offset:c=0,mainAxis:f=!0,crossAxis:p=!0}=Ju(t,e),g={x:n,y:r},_=xc(i),S=vC(_);let I=g[S],x=g[_];const b=Ju(c,e),R=typeof b=="number"?{mainAxis:b,crossAxis:0}:{mainAxis:0,crossAxis:0,...b};if(f){const B=S==="y"?"height":"width",G=s.reference[S]-s.floating[B]+R.mainAxis,V=s.reference[S]+s.reference[B]-R.mainAxis;I<G?I=G:I>V&&(I=V)}if(p){var L,q;const B=S==="y"?"width":"height",G=["top","left"].includes(el(i)),V=s.reference[_]-s.floating[B]+(G&&((L=a.offset)==null?void 0:L[_])||0)+(G?0:R.crossAxis),Y=s.reference[_]+s.reference[B]+(G?0:((q=a.offset)==null?void 0:q[_])||0)-(G?R.crossAxis:0);x<V?x=V:x>Y&&(x=Y)}return{[S]:I,[_]:x}}}},z7=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:s,platform:a,elements:c}=e,{apply:f=()=>{},...p}=Ju(t,e),g=await ny(e,p),_=el(i),S=Wp(i),I=xc(i)==="y",{width:x,height:b}=s.floating;let R,L;_==="top"||_==="bottom"?(R=_,L=S===(await(a.isRTL==null?void 0:a.isRTL(c.floating))?"start":"end")?"left":"right"):(L=_,R=S==="end"?"top":"bottom");const q=b-g.top-g.bottom,B=x-g.left-g.right,G=Ac(b-g[R],q),V=Ac(x-g[L],B),Y=!e.middlewareData.shift;let D=G,k=V;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(k=B),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(D=q),Y&&!S){const A=vs(g.left,0),W=vs(g.right,0),K=vs(g.top,0),H=vs(g.bottom,0);I?k=x-2*(A!==0||W!==0?A+W:vs(g.left,g.right)):D=b-2*(K!==0||H!==0?K+H:vs(g.top,g.bottom))}await f({...e,availableWidth:k,availableHeight:D});const F=await a.getDimensions(c.floating);return x!==F.width||b!==F.height?{reset:{rects:!0}}:{}}}};function Iw(){return typeof window<"u"}function Hp(t){return m2(t)?(t.nodeName||"").toLowerCase():"#document"}function Cs(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Ha(t){var e;return(e=(m2(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function m2(t){return Iw()?t instanceof Node||t instanceof Cs(t).Node:!1}function qo(t){return Iw()?t instanceof Element||t instanceof Cs(t).Element:!1}function ja(t){return Iw()?t instanceof HTMLElement||t instanceof Cs(t).HTMLElement:!1}function ox(t){return!Iw()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Cs(t).ShadowRoot}function xy(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=Go(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function W7(t){return["table","td","th"].includes(Hp(t))}function bw(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function SC(t){const e=TC(),n=qo(t)?Go(t):t;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function H7(t){let e=Pc(t);for(;ja(e)&&!kp(e);){if(SC(e))return e;if(bw(e))return null;e=Pc(e)}return null}function TC(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function kp(t){return["html","body","#document"].includes(Hp(t))}function Go(t){return Cs(t).getComputedStyle(t)}function Aw(t){return qo(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Pc(t){if(Hp(t)==="html")return t;const e=t.assignedSlot||t.parentNode||ox(t)&&t.host||Ha(t);return ox(e)?e.host:e}function g2(t){const e=Pc(t);return kp(e)?t.ownerDocument?t.ownerDocument.body:t.body:ja(e)&&xy(e)?e:g2(e)}function ry(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=g2(t),s=i===((r=t.ownerDocument)==null?void 0:r.body),a=Cs(i);if(s){const c=xE(a);return e.concat(a,a.visualViewport||[],xy(i)?i:[],c&&n?ry(c):[])}return e.concat(i,ry(i,[],n))}function xE(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function y2(t){const e=Go(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=ja(t),s=i?t.offsetWidth:n,a=i?t.offsetHeight:r,c=m0(n)!==s||m0(r)!==a;return c&&(n=s,r=a),{width:n,height:r,$:c}}function EC(t){return qo(t)?t:t.contextElement}function mp(t){const e=EC(t);if(!ja(e))return Fa(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:s}=y2(e);let a=(s?m0(n.width):n.width)/r,c=(s?m0(n.height):n.height)/i;return(!a||!Number.isFinite(a))&&(a=1),(!c||!Number.isFinite(c))&&(c=1),{x:a,y:c}}const q7=Fa(0);function v2(t){const e=Cs(t);return!TC()||!e.visualViewport?q7:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function G7(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Cs(t)?!1:e}function od(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),s=EC(t);let a=Fa(1);e&&(r?qo(r)&&(a=mp(r)):a=mp(t));const c=G7(s,n,r)?v2(s):Fa(0);let f=(i.left+c.x)/a.x,p=(i.top+c.y)/a.y,g=i.width/a.x,_=i.height/a.y;if(s){const S=Cs(s),I=r&&qo(r)?Cs(r):r;let x=S,b=xE(x);for(;b&&r&&I!==x;){const R=mp(b),L=b.getBoundingClientRect(),q=Go(b),B=L.left+(b.clientLeft+parseFloat(q.paddingLeft))*R.x,G=L.top+(b.clientTop+parseFloat(q.paddingTop))*R.y;f*=R.x,p*=R.y,g*=R.x,_*=R.y,f+=B,p+=G,x=Cs(b),b=xE(x)}}return y0({width:g,height:_,x:f,y:p})}function CC(t,e){const n=Aw(t).scrollLeft;return e?e.left+n:od(Ha(t)).left+n}function _2(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),i=r.left+e.scrollLeft-(n?0:CC(t,r)),s=r.top+e.scrollTop;return{x:i,y:s}}function K7(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const s=i==="fixed",a=Ha(r),c=e?bw(e.floating):!1;if(r===a||c&&s)return n;let f={scrollLeft:0,scrollTop:0},p=Fa(1);const g=Fa(0),_=ja(r);if((_||!_&&!s)&&((Hp(r)!=="body"||xy(a))&&(f=Aw(r)),ja(r))){const I=od(r);p=mp(r),g.x=I.x+r.clientLeft,g.y=I.y+r.clientTop}const S=a&&!_&&!s?_2(a,f,!0):Fa(0);return{width:n.width*p.x,height:n.height*p.y,x:n.x*p.x-f.scrollLeft*p.x+g.x+S.x,y:n.y*p.y-f.scrollTop*p.y+g.y+S.y}}function Y7(t){return Array.from(t.getClientRects())}function Q7(t){const e=Ha(t),n=Aw(t),r=t.ownerDocument.body,i=vs(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=vs(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let a=-n.scrollLeft+CC(t);const c=-n.scrollTop;return Go(r).direction==="rtl"&&(a+=vs(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:a,y:c}}function X7(t,e){const n=Cs(t),r=Ha(t),i=n.visualViewport;let s=r.clientWidth,a=r.clientHeight,c=0,f=0;if(i){s=i.width,a=i.height;const p=TC();(!p||p&&e==="fixed")&&(c=i.offsetLeft,f=i.offsetTop)}return{width:s,height:a,x:c,y:f}}function Z7(t,e){const n=od(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,s=ja(t)?mp(t):Fa(1),a=t.clientWidth*s.x,c=t.clientHeight*s.y,f=i*s.x,p=r*s.y;return{width:a,height:c,x:f,y:p}}function ax(t,e,n){let r;if(e==="viewport")r=X7(t,n);else if(e==="document")r=Q7(Ha(t));else if(qo(e))r=Z7(e,n);else{const i=v2(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return y0(r)}function w2(t,e){const n=Pc(t);return n===e||!qo(n)||kp(n)?!1:Go(n).position==="fixed"||w2(n,e)}function J7(t,e){const n=e.get(t);if(n)return n;let r=ry(t,[],!1).filter(c=>qo(c)&&Hp(c)!=="body"),i=null;const s=Go(t).position==="fixed";let a=s?Pc(t):t;for(;qo(a)&&!kp(a);){const c=Go(a),f=SC(a);!f&&c.position==="fixed"&&(i=null),(s?!f&&!i:!f&&c.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||xy(a)&&!f&&w2(t,a))?r=r.filter(g=>g!==a):i=c,a=Pc(a)}return e.set(t,r),r}function eq(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const a=[...n==="clippingAncestors"?bw(e)?[]:J7(e,this._c):[].concat(n),r],c=a[0],f=a.reduce((p,g)=>{const _=ax(e,g,i);return p.top=vs(_.top,p.top),p.right=Ac(_.right,p.right),p.bottom=Ac(_.bottom,p.bottom),p.left=vs(_.left,p.left),p},ax(e,c,i));return{width:f.right-f.left,height:f.bottom-f.top,x:f.left,y:f.top}}function tq(t){const{width:e,height:n}=y2(t);return{width:e,height:n}}function nq(t,e,n){const r=ja(e),i=Ha(e),s=n==="fixed",a=od(t,!0,s,e);let c={scrollLeft:0,scrollTop:0};const f=Fa(0);if(r||!r&&!s)if((Hp(e)!=="body"||xy(i))&&(c=Aw(e)),r){const S=od(e,!0,s,e);f.x=S.x+e.clientLeft,f.y=S.y+e.clientTop}else i&&(f.x=CC(i));const p=i&&!r&&!s?_2(i,c):Fa(0),g=a.left+c.scrollLeft-f.x-p.x,_=a.top+c.scrollTop-f.y-p.y;return{x:g,y:_,width:a.width,height:a.height}}function XS(t){return Go(t).position==="static"}function ux(t,e){if(!ja(t)||Go(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Ha(t)===n&&(n=n.ownerDocument.body),n}function S2(t,e){const n=Cs(t);if(bw(t))return n;if(!ja(t)){let i=Pc(t);for(;i&&!kp(i);){if(qo(i)&&!XS(i))return i;i=Pc(i)}return n}let r=ux(t,e);for(;r&&W7(r)&&XS(r);)r=ux(r,e);return r&&kp(r)&&XS(r)&&!SC(r)?n:r||H7(t)||n}const rq=async function(t){const e=this.getOffsetParent||S2,n=this.getDimensions,r=await n(t.floating);return{reference:nq(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function iq(t){return Go(t).direction==="rtl"}const sq={convertOffsetParentRelativeRectToViewportRelativeRect:K7,getDocumentElement:Ha,getClippingRect:eq,getOffsetParent:S2,getElementRects:rq,getClientRects:Y7,getDimensions:tq,getScale:mp,isElement:qo,isRTL:iq};function T2(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function oq(t,e){let n=null,r;const i=Ha(t);function s(){var c;clearTimeout(r),(c=n)==null||c.disconnect(),n=null}function a(c,f){c===void 0&&(c=!1),f===void 0&&(f=1),s();const p=t.getBoundingClientRect(),{left:g,top:_,width:S,height:I}=p;if(c||e(),!S||!I)return;const x=e_(_),b=e_(i.clientWidth-(g+S)),R=e_(i.clientHeight-(_+I)),L=e_(g),B={rootMargin:-x+"px "+-b+"px "+-R+"px "+-L+"px",threshold:vs(0,Ac(1,f))||1};let G=!0;function V(Y){const D=Y[0].intersectionRatio;if(D!==f){if(!G)return a();D?a(!1,D):r=setTimeout(()=>{a(!1,1e-7)},1e3)}D===1&&!T2(p,t.getBoundingClientRect())&&a(),G=!1}try{n=new IntersectionObserver(V,{...B,root:i.ownerDocument})}catch{n=new IntersectionObserver(V,B)}n.observe(t)}return a(!0),s}function E2(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:f=!1}=r,p=EC(t),g=i||s?[...p?ry(p):[],...ry(e)]:[];g.forEach(L=>{i&&L.addEventListener("scroll",n,{passive:!0}),s&&L.addEventListener("resize",n)});const _=p&&c?oq(p,n):null;let S=-1,I=null;a&&(I=new ResizeObserver(L=>{let[q]=L;q&&q.target===p&&I&&(I.unobserve(e),cancelAnimationFrame(S),S=requestAnimationFrame(()=>{var B;(B=I)==null||B.observe(e)})),n()}),p&&!f&&I.observe(p),I.observe(e));let x,b=f?od(t):null;f&&R();function R(){const L=od(t);b&&!T2(b,L)&&n(),b=L,x=requestAnimationFrame(R)}return n(),()=>{var L;g.forEach(q=>{i&&q.removeEventListener("scroll",n),s&&q.removeEventListener("resize",n)}),_==null||_(),(L=I)==null||L.disconnect(),I=null,f&&cancelAnimationFrame(x)}}const aq=B7,uq=$7,lq=V7,cq=z7,fq=F7,lx=L7,dq=j7,hq=(t,e,n)=>{const r=new Map,i={platform:sq,...n},s={...i.platform,_c:r};return M7(t,e,{...i,platform:s})};var PE=M.useLayoutEffect,pq=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],v0=function(){};function mq(t,e){return e?e[0]==="-"?t+e:t+"__"+e:t}function gq(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var s=[].concat(r);if(e&&t)for(var a in e)e.hasOwnProperty(a)&&e[a]&&s.push("".concat(mq(t,a)));return s.filter(function(c){return c}).map(function(c){return String(c).trim()}).join(" ")}var _0=function(e){return Iq(e)?e.filter(Boolean):sd(e)==="object"&&e!==null?[e]:[]},C2=function(e){e.className,e.clearValue,e.cx,e.getStyles,e.getClassNames,e.getValue,e.hasValue,e.isMulti,e.isRtl,e.options,e.selectOption,e.selectProps,e.setValue,e.theme;var n=Wa(e,pq);return He({},n)},Mn=function(e,n,r){var i=e.cx,s=e.getStyles,a=e.getClassNames,c=e.className;return{css:s(n,e),className:i(r??{},a(n,e),c)}};function xw(t){return[document.documentElement,document.body,window].indexOf(t)>-1}function yq(t){return xw(t)?window.innerHeight:t.clientHeight}function I2(t){return xw(t)?window.pageYOffset:t.scrollTop}function w0(t,e){if(xw(t)){window.scrollTo(0,e);return}t.scrollTop=e}function vq(t){var e=getComputedStyle(t),n=e.position==="absolute",r=/(auto|scroll)/;if(e.position==="fixed")return document.documentElement;for(var i=t;i=i.parentElement;)if(e=getComputedStyle(i),!(n&&e.position==="static")&&r.test(e.overflow+e.overflowY+e.overflowX))return i;return document.documentElement}function _q(t,e,n,r){return n*((t=t/r-1)*t*t+1)+e}function t_(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:v0,i=I2(t),s=e-i,a=10,c=0;function f(){c+=a;var p=_q(c,i,s,n);w0(t,p),c<n?window.requestAnimationFrame(f):r(t)}f()}function cx(t,e){var n=t.getBoundingClientRect(),r=e.getBoundingClientRect(),i=e.offsetHeight/3;r.bottom+i>n.bottom?w0(t,Math.min(e.offsetTop+e.clientHeight-t.offsetHeight+i,t.scrollHeight)):r.top-i<n.top&&w0(t,Math.max(e.offsetTop-i,0))}function wq(t){var e=t.getBoundingClientRect();return{bottom:e.bottom,height:e.height,left:e.left,right:e.right,top:e.top,width:e.width}}function fx(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}function Sq(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch{return!1}}var b2=!1,Tq={get passive(){return b2=!0}},n_=typeof window<"u"?window:{};n_.addEventListener&&n_.removeEventListener&&(n_.addEventListener("p",v0,Tq),n_.removeEventListener("p",v0,!1));var Eq=b2;function Cq(t){return t!=null}function Iq(t){return Array.isArray(t)}function Sg(t,e,n){return t?e:n}var bq=function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var s=Object.entries(e).filter(function(a){var c=Hu(a,1),f=c[0];return!r.includes(f)});return s.reduce(function(a,c){var f=Hu(c,2),p=f[0],g=f[1];return a[p]=g,a},{})},Aq=["children","innerProps"],xq=["children","innerProps"];function Pq(t){var e=t.maxHeight,n=t.menuEl,r=t.minHeight,i=t.placement,s=t.shouldScroll,a=t.isFixedPosition,c=t.controlHeight,f=vq(n),p={placement:"bottom",maxHeight:e};if(!n||!n.offsetParent)return p;var g=f.getBoundingClientRect(),_=g.height,S=n.getBoundingClientRect(),I=S.bottom,x=S.height,b=S.top,R=n.offsetParent.getBoundingClientRect(),L=R.top,q=a?window.innerHeight:yq(f),B=I2(f),G=parseInt(getComputedStyle(n).marginBottom,10),V=parseInt(getComputedStyle(n).marginTop,10),Y=L-V,D=q-b,k=Y+B,F=_-B-b,A=I-q+B+G,W=B+b-V,K=160;switch(i){case"auto":case"bottom":if(D>=x)return{placement:"bottom",maxHeight:e};if(F>=x&&!a)return s&&t_(f,A,K),{placement:"bottom",maxHeight:e};if(!a&&F>=r||a&&D>=r){s&&t_(f,A,K);var H=a?D-G:F-G;return{placement:"bottom",maxHeight:H}}if(i==="auto"||a){var ce=e,oe=a?Y:k;return oe>=r&&(ce=Math.min(oe-G-c,e)),{placement:"top",maxHeight:ce}}if(i==="bottom")return s&&w0(f,A),{placement:"bottom",maxHeight:e};break;case"top":if(Y>=x)return{placement:"top",maxHeight:e};if(k>=x&&!a)return s&&t_(f,W,K),{placement:"top",maxHeight:e};if(!a&&k>=r||a&&Y>=r){var _e=e;return(!a&&k>=r||a&&Y>=r)&&(_e=a?Y-V:k-V),s&&t_(f,W,K),{placement:"top",maxHeight:_e}}return{placement:"bottom",maxHeight:e};default:throw new Error('Invalid placement provided "'.concat(i,'".'))}return p}function Rq(t){var e={bottom:"top",top:"bottom"};return t?e[t]:"bottom"}var A2=function(e){return e==="auto"?"bottom":e},kq=function(e,n){var r,i=e.placement,s=e.theme,a=s.borderRadius,c=s.spacing,f=s.colors;return He((r={label:"menu"},wg(r,Rq(i),"100%"),wg(r,"position","absolute"),wg(r,"width","100%"),wg(r,"zIndex",1),r),n?{}:{backgroundColor:f.neutral0,borderRadius:a,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:c.menuGutter,marginTop:c.menuGutter})},x2=M.createContext(null),Oq=function(e){var n=e.children,r=e.minMenuHeight,i=e.maxMenuHeight,s=e.menuPlacement,a=e.menuPosition,c=e.menuShouldScrollIntoView,f=e.theme,p=M.useContext(x2)||{},g=p.setPortalPlacement,_=M.useRef(null),S=M.useState(i),I=Hu(S,2),x=I[0],b=I[1],R=M.useState(null),L=Hu(R,2),q=L[0],B=L[1],G=f.spacing.controlHeight;return PE(function(){var V=_.current;if(V){var Y=a==="fixed",D=c&&!Y,k=Pq({maxHeight:i,menuEl:V,minHeight:r,placement:s,shouldScroll:D,isFixedPosition:Y,controlHeight:G});b(k.maxHeight),B(k.placement),g==null||g(k.placement)}},[i,s,a,c,r,g,G]),n({ref:_,placerProps:He(He({},e),{},{placement:q||A2(s),maxHeight:x})})},Dq=function(e){var n=e.children,r=e.innerRef,i=e.innerProps;return qe("div",Ze({},Mn(e,"menu",{menu:!0}),{ref:r},i),n)},Nq=Dq,Mq=function(e,n){var r=e.maxHeight,i=e.theme.spacing.baseUnit;return He({maxHeight:r,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},n?{}:{paddingBottom:i,paddingTop:i})},Lq=function(e){var n=e.children,r=e.innerProps,i=e.innerRef,s=e.isMulti;return qe("div",Ze({},Mn(e,"menuList",{"menu-list":!0,"menu-list--is-multi":s}),{ref:i},r),n)},P2=function(e,n){var r=e.theme,i=r.spacing.baseUnit,s=r.colors;return He({textAlign:"center"},n?{}:{color:s.neutral40,padding:"".concat(i*2,"px ").concat(i*3,"px")})},Vq=P2,Fq=P2,Uq=function(e){var n=e.children,r=n===void 0?"No options":n,i=e.innerProps,s=Wa(e,Aq);return qe("div",Ze({},Mn(He(He({},s),{},{children:r,innerProps:i}),"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),i),r)},Bq=function(e){var n=e.children,r=n===void 0?"Loading...":n,i=e.innerProps,s=Wa(e,xq);return qe("div",Ze({},Mn(He(He({},s),{},{children:r,innerProps:i}),"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),i),r)},$q=function(e){var n=e.rect,r=e.offset,i=e.position;return{left:n.left,position:i,top:r,width:n.width,zIndex:1}},jq=function(e){var n=e.appendTo,r=e.children,i=e.controlElement,s=e.innerProps,a=e.menuPlacement,c=e.menuPosition,f=M.useRef(null),p=M.useRef(null),g=M.useState(A2(a)),_=Hu(g,2),S=_[0],I=_[1],x=M.useMemo(function(){return{setPortalPlacement:I}},[]),b=M.useState(null),R=Hu(b,2),L=R[0],q=R[1],B=M.useCallback(function(){if(i){var D=wq(i),k=c==="fixed"?0:window.pageYOffset,F=D[S]+k;(F!==(L==null?void 0:L.offset)||D.left!==(L==null?void 0:L.rect.left)||D.width!==(L==null?void 0:L.rect.width))&&q({offset:F,rect:D})}},[i,c,S,L==null?void 0:L.offset,L==null?void 0:L.rect.left,L==null?void 0:L.rect.width]);PE(function(){B()},[B]);var G=M.useCallback(function(){typeof p.current=="function"&&(p.current(),p.current=null),i&&f.current&&(p.current=E2(i,f.current,B,{elementResize:"ResizeObserver"in window}))},[i,B]);PE(function(){G()},[G]);var V=M.useCallback(function(D){f.current=D,G()},[G]);if(!n&&c!=="fixed"||!L)return null;var Y=qe("div",Ze({ref:V},Mn(He(He({},e),{},{offset:L.offset,position:c,rect:L.rect}),"menuPortal",{"menu-portal":!0}),s),r);return qe(x2.Provider,{value:x},n?Cw.createPortal(Y,n):Y)},zq=function(e){var n=e.isDisabled,r=e.isRtl;return{label:"container",direction:r?"rtl":void 0,pointerEvents:n?"none":void 0,position:"relative"}},Wq=function(e){var n=e.children,r=e.innerProps,i=e.isDisabled,s=e.isRtl;return qe("div",Ze({},Mn(e,"container",{"--is-disabled":i,"--is-rtl":s}),r),n)},Hq=function(e,n){var r=e.theme.spacing,i=e.isMulti,s=e.hasValue,a=e.selectProps.controlShouldRenderValue;return He({alignItems:"center",display:i&&s&&a?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},n?{}:{padding:"".concat(r.baseUnit/2,"px ").concat(r.baseUnit*2,"px")})},qq=function(e){var n=e.children,r=e.innerProps,i=e.isMulti,s=e.hasValue;return qe("div",Ze({},Mn(e,"valueContainer",{"value-container":!0,"value-container--is-multi":i,"value-container--has-value":s}),r),n)},Gq=function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},Kq=function(e){var n=e.children,r=e.innerProps;return qe("div",Ze({},Mn(e,"indicatorsContainer",{indicators:!0}),r),n)},dx,Yq=["size"],Qq=["innerProps","isRtl","size"],Xq={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},R2=function(e){var n=e.size,r=Wa(e,Yq);return qe("svg",Ze({height:n,width:n,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:Xq},r))},IC=function(e){return qe(R2,Ze({size:20},e),qe("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},k2=function(e){return qe(R2,Ze({size:20},e),qe("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},O2=function(e,n){var r=e.isFocused,i=e.theme,s=i.spacing.baseUnit,a=i.colors;return He({label:"indicatorContainer",display:"flex",transition:"color 150ms"},n?{}:{color:r?a.neutral60:a.neutral20,padding:s*2,":hover":{color:r?a.neutral80:a.neutral40}})},Zq=O2,Jq=function(e){var n=e.children,r=e.innerProps;return qe("div",Ze({},Mn(e,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),r),n||qe(k2,null))},eG=O2,tG=function(e){var n=e.children,r=e.innerProps;return qe("div",Ze({},Mn(e,"clearIndicator",{indicator:!0,"clear-indicator":!0}),r),n||qe(IC,null))},nG=function(e,n){var r=e.isDisabled,i=e.theme,s=i.spacing.baseUnit,a=i.colors;return He({label:"indicatorSeparator",alignSelf:"stretch",width:1},n?{}:{backgroundColor:r?a.neutral10:a.neutral20,marginBottom:s*2,marginTop:s*2})},rG=function(e){var n=e.innerProps;return qe("span",Ze({},n,Mn(e,"indicatorSeparator",{"indicator-separator":!0})))},iG=SH(dx||(dx=I7([`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`]))),sG=function(e,n){var r=e.isFocused,i=e.size,s=e.theme,a=s.colors,c=s.spacing.baseUnit;return He({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:i,lineHeight:1,marginRight:i,textAlign:"center",verticalAlign:"middle"},n?{}:{color:r?a.neutral60:a.neutral20,padding:c*2})},ZS=function(e){var n=e.delay,r=e.offset;return qe("span",{css:hC({animation:"".concat(iG," 1s ease-in-out ").concat(n,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:r?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},oG=function(e){var n=e.innerProps,r=e.isRtl,i=e.size,s=i===void 0?4:i,a=Wa(e,Qq);return qe("div",Ze({},Mn(He(He({},a),{},{innerProps:n,isRtl:r,size:s}),"loadingIndicator",{indicator:!0,"loading-indicator":!0}),n),qe(ZS,{delay:0,offset:r}),qe(ZS,{delay:160,offset:!0}),qe(ZS,{delay:320,offset:!r}))},aG=function(e,n){var r=e.isDisabled,i=e.isFocused,s=e.theme,a=s.colors,c=s.borderRadius,f=s.spacing;return He({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:f.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},n?{}:{backgroundColor:r?a.neutral5:a.neutral0,borderColor:r?a.neutral10:i?a.primary:a.neutral20,borderRadius:c,borderStyle:"solid",borderWidth:1,boxShadow:i?"0 0 0 1px ".concat(a.primary):void 0,"&:hover":{borderColor:i?a.primary:a.neutral30}})},uG=function(e){var n=e.children,r=e.isDisabled,i=e.isFocused,s=e.innerRef,a=e.innerProps,c=e.menuIsOpen;return qe("div",Ze({ref:s},Mn(e,"control",{control:!0,"control--is-disabled":r,"control--is-focused":i,"control--menu-is-open":c}),a,{"aria-disabled":r||void 0}),n)},lG=uG,cG=["data"],fG=function(e,n){var r=e.theme.spacing;return n?{}:{paddingBottom:r.baseUnit*2,paddingTop:r.baseUnit*2}},dG=function(e){var n=e.children,r=e.cx,i=e.getStyles,s=e.getClassNames,a=e.Heading,c=e.headingProps,f=e.innerProps,p=e.label,g=e.theme,_=e.selectProps;return qe("div",Ze({},Mn(e,"group",{group:!0}),f),qe(a,Ze({},c,{selectProps:_,theme:g,getStyles:i,getClassNames:s,cx:r}),p),qe("div",null,n))},hG=function(e,n){var r=e.theme,i=r.colors,s=r.spacing;return He({label:"group",cursor:"default",display:"block"},n?{}:{color:i.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:s.baseUnit*3,paddingRight:s.baseUnit*3,textTransform:"uppercase"})},pG=function(e){var n=C2(e);n.data;var r=Wa(n,cG);return qe("div",Ze({},Mn(e,"groupHeading",{"group-heading":!0}),r))},mG=dG,gG=["innerRef","isDisabled","isHidden","inputClassName"],yG=function(e,n){var r=e.isDisabled,i=e.value,s=e.theme,a=s.spacing,c=s.colors;return He(He({visibility:r?"hidden":"visible",transform:i?"translateZ(0)":""},vG),n?{}:{margin:a.baseUnit/2,paddingBottom:a.baseUnit/2,paddingTop:a.baseUnit/2,color:c.neutral80})},D2={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},vG={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":He({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},D2)},_G=function(e){return He({label:"input",color:"inherit",background:0,opacity:e?0:1,width:"100%"},D2)},wG=function(e){var n=e.cx,r=e.value,i=C2(e),s=i.innerRef,a=i.isDisabled,c=i.isHidden,f=i.inputClassName,p=Wa(i,gG);return qe("div",Ze({},Mn(e,"input",{"input-container":!0}),{"data-value":r||""}),qe("input",Ze({className:n({input:!0},f),ref:s,style:_G(c),disabled:a},p)))},SG=wG,TG=function(e,n){var r=e.theme,i=r.spacing,s=r.borderRadius,a=r.colors;return He({label:"multiValue",display:"flex",minWidth:0},n?{}:{backgroundColor:a.neutral10,borderRadius:s/2,margin:i.baseUnit/2})},EG=function(e,n){var r=e.theme,i=r.borderRadius,s=r.colors,a=e.cropWithEllipsis;return He({overflow:"hidden",textOverflow:a||a===void 0?"ellipsis":void 0,whiteSpace:"nowrap"},n?{}:{borderRadius:i/2,color:s.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},CG=function(e,n){var r=e.theme,i=r.spacing,s=r.borderRadius,a=r.colors,c=e.isFocused;return He({alignItems:"center",display:"flex"},n?{}:{borderRadius:s/2,backgroundColor:c?a.dangerLight:void 0,paddingLeft:i.baseUnit,paddingRight:i.baseUnit,":hover":{backgroundColor:a.dangerLight,color:a.danger}})},N2=function(e){var n=e.children,r=e.innerProps;return qe("div",r,n)},IG=N2,bG=N2;function AG(t){var e=t.children,n=t.innerProps;return qe("div",Ze({role:"button"},n),e||qe(IC,{size:14}))}var xG=function(e){var n=e.children,r=e.components,i=e.data,s=e.innerProps,a=e.isDisabled,c=e.removeProps,f=e.selectProps,p=r.Container,g=r.Label,_=r.Remove;return qe(p,{data:i,innerProps:He(He({},Mn(e,"multiValue",{"multi-value":!0,"multi-value--is-disabled":a})),s),selectProps:f},qe(g,{data:i,innerProps:He({},Mn(e,"multiValueLabel",{"multi-value__label":!0})),selectProps:f},n),qe(_,{data:i,innerProps:He(He({},Mn(e,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(n||"option")},c),selectProps:f}))},PG=xG,RG=function(e,n){var r=e.isDisabled,i=e.isFocused,s=e.isSelected,a=e.theme,c=a.spacing,f=a.colors;return He({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},n?{}:{backgroundColor:s?f.primary:i?f.primary25:"transparent",color:r?f.neutral20:s?f.neutral0:"inherit",padding:"".concat(c.baseUnit*2,"px ").concat(c.baseUnit*3,"px"),":active":{backgroundColor:r?void 0:s?f.primary:f.primary50}})},kG=function(e){var n=e.children,r=e.isDisabled,i=e.isFocused,s=e.isSelected,a=e.innerRef,c=e.innerProps;return qe("div",Ze({},Mn(e,"option",{option:!0,"option--is-disabled":r,"option--is-focused":i,"option--is-selected":s}),{ref:a,"aria-disabled":r},c),n)},OG=kG,DG=function(e,n){var r=e.theme,i=r.spacing,s=r.colors;return He({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},n?{}:{color:s.neutral50,marginLeft:i.baseUnit/2,marginRight:i.baseUnit/2})},NG=function(e){var n=e.children,r=e.innerProps;return qe("div",Ze({},Mn(e,"placeholder",{placeholder:!0}),r),n)},MG=NG,LG=function(e,n){var r=e.isDisabled,i=e.theme,s=i.spacing,a=i.colors;return He({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},n?{}:{color:r?a.neutral40:a.neutral80,marginLeft:s.baseUnit/2,marginRight:s.baseUnit/2})},VG=function(e){var n=e.children,r=e.isDisabled,i=e.innerProps;return qe("div",Ze({},Mn(e,"singleValue",{"single-value":!0,"single-value--is-disabled":r}),i),n)},FG=VG,UG={ClearIndicator:tG,Control:lG,DropdownIndicator:Jq,DownChevron:k2,CrossIcon:IC,Group:mG,GroupHeading:pG,IndicatorsContainer:Kq,IndicatorSeparator:rG,Input:SG,LoadingIndicator:oG,Menu:Nq,MenuList:Lq,MenuPortal:jq,LoadingMessage:Bq,NoOptionsMessage:Uq,MultiValue:PG,MultiValueContainer:IG,MultiValueLabel:bG,MultiValueRemove:AG,Option:OG,Placeholder:MG,SelectContainer:Wq,SingleValue:FG,ValueContainer:qq},BG=function(e){return He(He({},UG),e.components)},hx=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function $G(t,e){return!!(t===e||hx(t)&&hx(e))}function jG(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!$G(t[n],e[n]))return!1;return!0}function zG(t,e){e===void 0&&(e=jG);var n=null;function r(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];if(n&&n.lastThis===this&&e(i,n.lastArgs))return n.lastResult;var a=t.apply(this,i);return n={lastResult:a,lastArgs:i,lastThis:this},a}return r.clear=function(){n=null},r}var WG={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},HG=function(e){return qe("span",Ze({css:WG},e))},px=HG,qG={guidance:function(e){var n=e.isSearchable,r=e.isMulti,i=e.tabSelectsValue,s=e.context,a=e.isInitialFocus;switch(s){case"menu":return"Use Up and Down to choose options, press Enter to select the currently focused option, press Escape to exit the menu".concat(i?", press Tab to select the option and exit the menu":"",".");case"input":return a?"".concat(e["aria-label"]||"Select"," is focused ").concat(n?",type to refine list":"",", press Down to open the menu, ").concat(r?" press left to focus selected values":""):"";case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(e){var n=e.action,r=e.label,i=r===void 0?"":r,s=e.labels,a=e.isDisabled;switch(n){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(i,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(s.length>1?"s":""," ").concat(s.join(","),", selected.");case"select-option":return a?"option ".concat(i," is disabled. Select another option."):"option ".concat(i,", selected.");default:return""}},onFocus:function(e){var n=e.context,r=e.focused,i=e.options,s=e.label,a=s===void 0?"":s,c=e.selectValue,f=e.isDisabled,p=e.isSelected,g=e.isAppleDevice,_=function(b,R){return b&&b.length?"".concat(b.indexOf(R)+1," of ").concat(b.length):""};if(n==="value"&&c)return"value ".concat(a," focused, ").concat(_(c,r),".");if(n==="menu"&&g){var S=f?" disabled":"",I="".concat(p?" selected":"").concat(S);return"".concat(a).concat(I,", ").concat(_(i,r),".")}return""},onFilter:function(e){var n=e.inputValue,r=e.resultsMessage;return"".concat(r).concat(n?" for search term "+n:"",".")}},GG=function(e){var n=e.ariaSelection,r=e.focusedOption,i=e.focusedValue,s=e.focusableOptions,a=e.isFocused,c=e.selectValue,f=e.selectProps,p=e.id,g=e.isAppleDevice,_=f.ariaLiveMessages,S=f.getOptionLabel,I=f.inputValue,x=f.isMulti,b=f.isOptionDisabled,R=f.isSearchable,L=f.menuIsOpen,q=f.options,B=f.screenReaderStatus,G=f.tabSelectsValue,V=f.isLoading,Y=f["aria-label"],D=f["aria-live"],k=M.useMemo(function(){return He(He({},qG),_||{})},[_]),F=M.useMemo(function(){var oe="";if(n&&k.onChange){var _e=n.option,ye=n.options,ae=n.removedValue,Ae=n.removedValues,Ee=n.value,ee=function(Je){return Array.isArray(Je)?null:Je},de=ae||_e||ee(Ee),Oe=de?S(de):"",Ke=ye||Ae||void 0,je=Ke?Ke.map(S):[],Ye=He({isDisabled:de&&b(de,c),label:Oe,labels:je},n);oe=k.onChange(Ye)}return oe},[n,k,b,c,S]),A=M.useMemo(function(){var oe="",_e=r||i,ye=!!(r&&c&&c.includes(r));if(_e&&k.onFocus){var ae={focused:_e,label:S(_e),isDisabled:b(_e,c),isSelected:ye,options:s,context:_e===r?"menu":"value",selectValue:c,isAppleDevice:g};oe=k.onFocus(ae)}return oe},[r,i,S,b,k,s,c,g]),W=M.useMemo(function(){var oe="";if(L&&q.length&&!V&&k.onFilter){var _e=B({count:s.length});oe=k.onFilter({inputValue:I,resultsMessage:_e})}return oe},[s,I,L,k,q,B,V]),K=(n==null?void 0:n.action)==="initial-input-focus",H=M.useMemo(function(){var oe="";if(k.guidance){var _e=i?"value":L?"menu":"input";oe=k.guidance({"aria-label":Y,context:_e,isDisabled:r&&b(r,c),isMulti:x,isSearchable:R,tabSelectsValue:G,isInitialFocus:K})}return oe},[Y,r,i,x,b,R,L,k,c,G,K]),ce=qe(M.Fragment,null,qe("span",{id:"aria-selection"},F),qe("span",{id:"aria-focused"},A),qe("span",{id:"aria-results"},W),qe("span",{id:"aria-guidance"},H));return qe(M.Fragment,null,qe(px,{id:p},K&&ce),qe(px,{"aria-live":D,"aria-atomic":"false","aria-relevant":"additions text",role:"log"},a&&!K&&ce))},KG=GG,RE=[{base:"A",letters:"AⒶＡÀÁÂẦẤẪẨÃĀĂẰẮẴẲȦǠÄǞẢÅǺǍȀȂẠẬẶḀĄȺⱯ"},{base:"AA",letters:"Ꜳ"},{base:"AE",letters:"ÆǼǢ"},{base:"AO",letters:"Ꜵ"},{base:"AU",letters:"Ꜷ"},{base:"AV",letters:"ꜸꜺ"},{base:"AY",letters:"Ꜽ"},{base:"B",letters:"BⒷＢḂḄḆɃƂƁ"},{base:"C",letters:"CⒸＣĆĈĊČÇḈƇȻꜾ"},{base:"D",letters:"DⒹＤḊĎḌḐḒḎĐƋƊƉꝹ"},{base:"DZ",letters:"ǱǄ"},{base:"Dz",letters:"ǲǅ"},{base:"E",letters:"EⒺＥÈÉÊỀẾỄỂẼĒḔḖĔĖËẺĚȄȆẸỆȨḜĘḘḚƐƎ"},{base:"F",letters:"FⒻＦḞƑꝻ"},{base:"G",letters:"GⒼＧǴĜḠĞĠǦĢǤƓꞠꝽꝾ"},{base:"H",letters:"HⒽＨĤḢḦȞḤḨḪĦⱧⱵꞍ"},{base:"I",letters:"IⒾＩÌÍÎĨĪĬİÏḮỈǏȈȊỊĮḬƗ"},{base:"J",letters:"JⒿＪĴɈ"},{base:"K",letters:"KⓀＫḰǨḲĶḴƘⱩꝀꝂꝄꞢ"},{base:"L",letters:"LⓁＬĿĹĽḶḸĻḼḺŁȽⱢⱠꝈꝆꞀ"},{base:"LJ",letters:"Ǉ"},{base:"Lj",letters:"ǈ"},{base:"M",letters:"MⓂＭḾṀṂⱮƜ"},{base:"N",letters:"NⓃＮǸŃÑṄŇṆŅṊṈȠƝꞐꞤ"},{base:"NJ",letters:"Ǌ"},{base:"Nj",letters:"ǋ"},{base:"O",letters:"OⓄＯÒÓÔỒỐỖỔÕṌȬṎŌṐṒŎȮȰÖȪỎŐǑȌȎƠỜỚỠỞỢỌỘǪǬØǾƆƟꝊꝌ"},{base:"OI",letters:"Ƣ"},{base:"OO",letters:"Ꝏ"},{base:"OU",letters:"Ȣ"},{base:"P",letters:"PⓅＰṔṖƤⱣꝐꝒꝔ"},{base:"Q",letters:"QⓆＱꝖꝘɊ"},{base:"R",letters:"RⓇＲŔṘŘȐȒṚṜŖṞɌⱤꝚꞦꞂ"},{base:"S",letters:"SⓈＳẞŚṤŜṠŠṦṢṨȘŞⱾꞨꞄ"},{base:"T",letters:"TⓉＴṪŤṬȚŢṰṮŦƬƮȾꞆ"},{base:"TZ",letters:"Ꜩ"},{base:"U",letters:"UⓊＵÙÚÛŨṸŪṺŬÜǛǗǕǙỦŮŰǓȔȖƯỪỨỮỬỰỤṲŲṶṴɄ"},{base:"V",letters:"VⓋＶṼṾƲꝞɅ"},{base:"VY",letters:"Ꝡ"},{base:"W",letters:"WⓌＷẀẂŴẆẄẈⱲ"},{base:"X",letters:"XⓍＸẊẌ"},{base:"Y",letters:"YⓎＹỲÝŶỸȲẎŸỶỴƳɎỾ"},{base:"Z",letters:"ZⓏＺŹẐŻŽẒẔƵȤⱿⱫꝢ"},{base:"a",letters:"aⓐａẚàáâầấẫẩãāăằắẵẳȧǡäǟảåǻǎȁȃạậặḁąⱥɐ"},{base:"aa",letters:"ꜳ"},{base:"ae",letters:"æǽǣ"},{base:"ao",letters:"ꜵ"},{base:"au",letters:"ꜷ"},{base:"av",letters:"ꜹꜻ"},{base:"ay",letters:"ꜽ"},{base:"b",letters:"bⓑｂḃḅḇƀƃɓ"},{base:"c",letters:"cⓒｃćĉċčçḉƈȼꜿↄ"},{base:"d",letters:"dⓓｄḋďḍḑḓḏđƌɖɗꝺ"},{base:"dz",letters:"ǳǆ"},{base:"e",letters:"eⓔｅèéêềếễểẽēḕḗĕėëẻěȅȇẹệȩḝęḙḛɇɛǝ"},{base:"f",letters:"fⓕｆḟƒꝼ"},{base:"g",letters:"gⓖｇǵĝḡğġǧģǥɠꞡᵹꝿ"},{base:"h",letters:"hⓗｈĥḣḧȟḥḩḫẖħⱨⱶɥ"},{base:"hv",letters:"ƕ"},{base:"i",letters:"iⓘｉìíîĩīĭïḯỉǐȉȋịįḭɨı"},{base:"j",letters:"jⓙｊĵǰɉ"},{base:"k",letters:"kⓚｋḱǩḳķḵƙⱪꝁꝃꝅꞣ"},{base:"l",letters:"lⓛｌŀĺľḷḹļḽḻſłƚɫⱡꝉꞁꝇ"},{base:"lj",letters:"ǉ"},{base:"m",letters:"mⓜｍḿṁṃɱɯ"},{base:"n",letters:"nⓝｎǹńñṅňṇņṋṉƞɲŉꞑꞥ"},{base:"nj",letters:"ǌ"},{base:"o",letters:"oⓞｏòóôồốỗổõṍȭṏōṑṓŏȯȱöȫỏőǒȍȏơờớỡởợọộǫǭøǿɔꝋꝍɵ"},{base:"oi",letters:"ƣ"},{base:"ou",letters:"ȣ"},{base:"oo",letters:"ꝏ"},{base:"p",letters:"pⓟｐṕṗƥᵽꝑꝓꝕ"},{base:"q",letters:"qⓠｑɋꝗꝙ"},{base:"r",letters:"rⓡｒŕṙřȑȓṛṝŗṟɍɽꝛꞧꞃ"},{base:"s",letters:"sⓢｓßśṥŝṡšṧṣṩșşȿꞩꞅẛ"},{base:"t",letters:"tⓣｔṫẗťṭțţṱṯŧƭʈⱦꞇ"},{base:"tz",letters:"ꜩ"},{base:"u",letters:"uⓤｕùúûũṹūṻŭüǜǘǖǚủůűǔȕȗưừứữửựụṳųṷṵʉ"},{base:"v",letters:"vⓥｖṽṿʋꝟʌ"},{base:"vy",letters:"ꝡ"},{base:"w",letters:"wⓦｗẁẃŵẇẅẘẉⱳ"},{base:"x",letters:"xⓧｘẋẍ"},{base:"y",letters:"yⓨｙỳýŷỹȳẏÿỷẙỵƴɏỿ"},{base:"z",letters:"zⓩｚźẑżžẓẕƶȥɀⱬꝣ"}],YG=new RegExp("["+RE.map(function(t){return t.letters}).join("")+"]","g"),M2={};for(var JS=0;JS<RE.length;JS++)for(var eT=RE[JS],tT=0;tT<eT.letters.length;tT++)M2[eT.letters[tT]]=eT.base;var L2=function(e){return e.replace(YG,function(n){return M2[n]})},QG=zG(L2),mx=function(e){return e.replace(/^\s+|\s+$/g,"")},XG=function(e){return"".concat(e.label," ").concat(e.value)},ZG=function(e){return function(n,r){if(n.data.__isNew__)return!0;var i=He({ignoreCase:!0,ignoreAccents:!0,stringify:XG,trim:!0,matchFrom:"any"},e),s=i.ignoreCase,a=i.ignoreAccents,c=i.stringify,f=i.trim,p=i.matchFrom,g=f?mx(r):r,_=f?mx(c(n)):c(n);return s&&(g=g.toLowerCase(),_=_.toLowerCase()),a&&(g=QG(g),_=L2(_)),p==="start"?_.substr(0,g.length)===g:_.indexOf(g)>-1}},JG=["innerRef"];function eK(t){var e=t.innerRef,n=Wa(t,JG),r=bq(n,"onExited","in","enter","exit","appear");return qe("input",Ze({ref:e},r,{css:hC({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var tK=function(e){e.cancelable&&e.preventDefault(),e.stopPropagation()};function nK(t){var e=t.isEnabled,n=t.onBottomArrive,r=t.onBottomLeave,i=t.onTopArrive,s=t.onTopLeave,a=M.useRef(!1),c=M.useRef(!1),f=M.useRef(0),p=M.useRef(null),g=M.useCallback(function(R,L){if(p.current!==null){var q=p.current,B=q.scrollTop,G=q.scrollHeight,V=q.clientHeight,Y=p.current,D=L>0,k=G-V-B,F=!1;k>L&&a.current&&(r&&r(R),a.current=!1),D&&c.current&&(s&&s(R),c.current=!1),D&&L>k?(n&&!a.current&&n(R),Y.scrollTop=G,F=!0,a.current=!0):!D&&-L>B&&(i&&!c.current&&i(R),Y.scrollTop=0,F=!0,c.current=!0),F&&tK(R)}},[n,r,i,s]),_=M.useCallback(function(R){g(R,R.deltaY)},[g]),S=M.useCallback(function(R){f.current=R.changedTouches[0].clientY},[]),I=M.useCallback(function(R){var L=f.current-R.changedTouches[0].clientY;g(R,L)},[g]),x=M.useCallback(function(R){if(R){var L=Eq?{passive:!1}:!1;R.addEventListener("wheel",_,L),R.addEventListener("touchstart",S,L),R.addEventListener("touchmove",I,L)}},[I,S,_]),b=M.useCallback(function(R){R&&(R.removeEventListener("wheel",_,!1),R.removeEventListener("touchstart",S,!1),R.removeEventListener("touchmove",I,!1))},[I,S,_]);return M.useEffect(function(){if(e){var R=p.current;return x(R),function(){b(R)}}},[e,x,b]),function(R){p.current=R}}var gx=["boxSizing","height","overflow","paddingRight","position"],yx={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function vx(t){t.cancelable&&t.preventDefault()}function _x(t){t.stopPropagation()}function wx(){var t=this.scrollTop,e=this.scrollHeight,n=t+this.offsetHeight;t===0?this.scrollTop=1:n===e&&(this.scrollTop=t-1)}function Sx(){return"ontouchstart"in window||navigator.maxTouchPoints}var Tx=!!(typeof window<"u"&&window.document&&window.document.createElement),lg=0,jh={capture:!1,passive:!1};function rK(t){var e=t.isEnabled,n=t.accountForScrollbars,r=n===void 0?!0:n,i=M.useRef({}),s=M.useRef(null),a=M.useCallback(function(f){if(Tx){var p=document.body,g=p&&p.style;if(r&&gx.forEach(function(x){var b=g&&g[x];i.current[x]=b}),r&&lg<1){var _=parseInt(i.current.paddingRight,10)||0,S=document.body?document.body.clientWidth:0,I=window.innerWidth-S+_||0;Object.keys(yx).forEach(function(x){var b=yx[x];g&&(g[x]=b)}),g&&(g.paddingRight="".concat(I,"px"))}p&&Sx()&&(p.addEventListener("touchmove",vx,jh),f&&(f.addEventListener("touchstart",wx,jh),f.addEventListener("touchmove",_x,jh))),lg+=1}},[r]),c=M.useCallback(function(f){if(Tx){var p=document.body,g=p&&p.style;lg=Math.max(lg-1,0),r&&lg<1&&gx.forEach(function(_){var S=i.current[_];g&&(g[_]=S)}),p&&Sx()&&(p.removeEventListener("touchmove",vx,jh),f&&(f.removeEventListener("touchstart",wx,jh),f.removeEventListener("touchmove",_x,jh)))}},[r]);return M.useEffect(function(){if(e){var f=s.current;return a(f),function(){c(f)}}},[e,a,c]),function(f){s.current=f}}var iK=function(e){var n=e.target;return n.ownerDocument.activeElement&&n.ownerDocument.activeElement.blur()},sK={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function oK(t){var e=t.children,n=t.lockEnabled,r=t.captureEnabled,i=r===void 0?!0:r,s=t.onBottomArrive,a=t.onBottomLeave,c=t.onTopArrive,f=t.onTopLeave,p=nK({isEnabled:i,onBottomArrive:s,onBottomLeave:a,onTopArrive:c,onTopLeave:f}),g=rK({isEnabled:n}),_=function(I){p(I),g(I)};return qe(M.Fragment,null,n&&qe("div",{onClick:iK,css:sK}),e(_))}var aK={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},uK=function(e){var n=e.name,r=e.onFocus;return qe("input",{required:!0,name:n,tabIndex:-1,"aria-hidden":"true",onFocus:r,css:aK,value:"",onChange:function(){}})},lK=uK;function bC(t){var e;return typeof window<"u"&&window.navigator!=null?t.test(((e=window.navigator.userAgentData)===null||e===void 0?void 0:e.platform)||window.navigator.platform):!1}function cK(){return bC(/^iPhone/i)}function V2(){return bC(/^Mac/i)}function fK(){return bC(/^iPad/i)||V2()&&navigator.maxTouchPoints>1}function dK(){return cK()||fK()}function hK(){return V2()||dK()}var pK=function(e){return e.label},F2=function(e){return e.label},U2=function(e){return e.value},mK=function(e){return!!e.isDisabled},gK={clearIndicator:eG,container:zq,control:aG,dropdownIndicator:Zq,group:fG,groupHeading:hG,indicatorsContainer:Gq,indicatorSeparator:nG,input:yG,loadingIndicator:sG,loadingMessage:Fq,menu:kq,menuList:Mq,menuPortal:$q,multiValue:TG,multiValueLabel:EG,multiValueRemove:CG,noOptionsMessage:Vq,option:RG,placeholder:DG,singleValue:LG,valueContainer:Hq},yK={primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},vK=4,B2=4,_K=38,wK=B2*2,SK={baseUnit:B2,controlHeight:_K,menuGutter:wK},nT={borderRadius:vK,colors:yK,spacing:SK},TK={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:fx(),captureMenuScroll:!fx(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:ZG(),formatGroupLabel:pK,getOptionLabel:F2,getOptionValue:U2,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:mK,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!Sq(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(e){var n=e.count;return"".concat(n," result").concat(n!==1?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function Ex(t,e,n,r){var i=z2(t,e,n),s=W2(t,e,n),a=j2(t,e),c=S0(t,e);return{type:"option",data:e,isDisabled:i,isSelected:s,label:a,value:c,index:r}}function D_(t,e){return t.options.map(function(n,r){if("options"in n){var i=n.options.map(function(a,c){return Ex(t,a,e,c)}).filter(function(a){return Ix(t,a)});return i.length>0?{type:"group",data:n,options:i,index:r}:void 0}var s=Ex(t,n,e,r);return Ix(t,s)?s:void 0}).filter(Cq)}function $2(t){return t.reduce(function(e,n){return n.type==="group"?e.push.apply(e,pp(n.options.map(function(r){return r.data}))):e.push(n.data),e},[])}function Cx(t,e){return t.reduce(function(n,r){return r.type==="group"?n.push.apply(n,pp(r.options.map(function(i){return{data:i.data,id:"".concat(e,"-").concat(r.index,"-").concat(i.index)}}))):n.push({data:r.data,id:"".concat(e,"-").concat(r.index)}),n},[])}function EK(t,e){return $2(D_(t,e))}function Ix(t,e){var n=t.inputValue,r=n===void 0?"":n,i=e.data,s=e.isSelected,a=e.label,c=e.value;return(!q2(t)||!s)&&H2(t,{label:a,value:c,data:i},r)}function CK(t,e){var n=t.focusedValue,r=t.selectValue,i=r.indexOf(n);if(i>-1){var s=e.indexOf(n);if(s>-1)return n;if(i<e.length)return e[i]}return null}function IK(t,e){var n=t.focusedOption;return n&&e.indexOf(n)>-1?n:e[0]}var rT=function(e,n){var r,i=(r=e.find(function(s){return s.data===n}))===null||r===void 0?void 0:r.id;return i||null},j2=function(e,n){return e.getOptionLabel(n)},S0=function(e,n){return e.getOptionValue(n)};function z2(t,e,n){return typeof t.isOptionDisabled=="function"?t.isOptionDisabled(e,n):!1}function W2(t,e,n){if(n.indexOf(e)>-1)return!0;if(typeof t.isOptionSelected=="function")return t.isOptionSelected(e,n);var r=S0(t,e);return n.some(function(i){return S0(t,i)===r})}function H2(t,e,n){return t.filterOption?t.filterOption(e,n):!0}var q2=function(e){var n=e.hideSelectedOptions,r=e.isMulti;return n===void 0?r:n},bK=1,G2=function(t){v7(n,t);var e=S7(n);function n(r){var i;if(g7(this,n),i=e.call(this,r),i.state={ariaSelection:null,focusedOption:null,focusedOptionId:null,focusableOptionsWithIds:[],focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0,instancePrefix:""},i.blockOptionHover=!1,i.isComposing=!1,i.commonProps=void 0,i.initialTouchX=0,i.initialTouchY=0,i.openAfterFocus=!1,i.scrollToFocusedOptionOnUpdate=!1,i.userIsDragging=void 0,i.isAppleDevice=hK(),i.controlRef=null,i.getControlRef=function(f){i.controlRef=f},i.focusedOptionRef=null,i.getFocusedOptionRef=function(f){i.focusedOptionRef=f},i.menuListRef=null,i.getMenuListRef=function(f){i.menuListRef=f},i.inputRef=null,i.getInputRef=function(f){i.inputRef=f},i.focus=i.focusInput,i.blur=i.blurInput,i.onChange=function(f,p){var g=i.props,_=g.onChange,S=g.name;p.name=S,i.ariaOnChange(f,p),_(f,p)},i.setValue=function(f,p,g){var _=i.props,S=_.closeMenuOnSelect,I=_.isMulti,x=_.inputValue;i.onInputChange("",{action:"set-value",prevInputValue:x}),S&&(i.setState({inputIsHiddenAfterUpdate:!I}),i.onMenuClose()),i.setState({clearFocusValueOnUpdate:!0}),i.onChange(f,{action:p,option:g})},i.selectOption=function(f){var p=i.props,g=p.blurInputOnSelect,_=p.isMulti,S=p.name,I=i.state.selectValue,x=_&&i.isOptionSelected(f,I),b=i.isOptionDisabled(f,I);if(x){var R=i.getOptionValue(f);i.setValue(I.filter(function(L){return i.getOptionValue(L)!==R}),"deselect-option",f)}else if(!b)_?i.setValue([].concat(pp(I),[f]),"select-option",f):i.setValue(f,"select-option");else{i.ariaOnChange(f,{action:"select-option",option:f,name:S});return}g&&i.blurInput()},i.removeValue=function(f){var p=i.props.isMulti,g=i.state.selectValue,_=i.getOptionValue(f),S=g.filter(function(x){return i.getOptionValue(x)!==_}),I=Sg(p,S,S[0]||null);i.onChange(I,{action:"remove-value",removedValue:f}),i.focusInput()},i.clearValue=function(){var f=i.state.selectValue;i.onChange(Sg(i.props.isMulti,[],null),{action:"clear",removedValues:f})},i.popValue=function(){var f=i.props.isMulti,p=i.state.selectValue,g=p[p.length-1],_=p.slice(0,p.length-1),S=Sg(f,_,_[0]||null);g&&i.onChange(S,{action:"pop-value",removedValue:g})},i.getFocusedOptionId=function(f){return rT(i.state.focusableOptionsWithIds,f)},i.getFocusableOptionsWithIds=function(){return Cx(D_(i.props,i.state.selectValue),i.getElementId("option"))},i.getValue=function(){return i.state.selectValue},i.cx=function(){for(var f=arguments.length,p=new Array(f),g=0;g<f;g++)p[g]=arguments[g];return gq.apply(void 0,[i.props.classNamePrefix].concat(p))},i.getOptionLabel=function(f){return j2(i.props,f)},i.getOptionValue=function(f){return S0(i.props,f)},i.getStyles=function(f,p){var g=i.props.unstyled,_=gK[f](p,g);_.boxSizing="border-box";var S=i.props.styles[f];return S?S(_,p):_},i.getClassNames=function(f,p){var g,_;return(g=(_=i.props.classNames)[f])===null||g===void 0?void 0:g.call(_,p)},i.getElementId=function(f){return"".concat(i.state.instancePrefix,"-").concat(f)},i.getComponents=function(){return BG(i.props)},i.buildCategorizedOptions=function(){return D_(i.props,i.state.selectValue)},i.getCategorizedOptions=function(){return i.props.menuIsOpen?i.buildCategorizedOptions():[]},i.buildFocusableOptions=function(){return $2(i.buildCategorizedOptions())},i.getFocusableOptions=function(){return i.props.menuIsOpen?i.buildFocusableOptions():[]},i.ariaOnChange=function(f,p){i.setState({ariaSelection:He({value:f},p)})},i.onMenuMouseDown=function(f){f.button===0&&(f.stopPropagation(),f.preventDefault(),i.focusInput())},i.onMenuMouseMove=function(f){i.blockOptionHover=!1},i.onControlMouseDown=function(f){if(!f.defaultPrevented){var p=i.props.openMenuOnClick;i.state.isFocused?i.props.menuIsOpen?f.target.tagName!=="INPUT"&&f.target.tagName!=="TEXTAREA"&&i.onMenuClose():p&&i.openMenu("first"):(p&&(i.openAfterFocus=!0),i.focusInput()),f.target.tagName!=="INPUT"&&f.target.tagName!=="TEXTAREA"&&f.preventDefault()}},i.onDropdownIndicatorMouseDown=function(f){if(!(f&&f.type==="mousedown"&&f.button!==0)&&!i.props.isDisabled){var p=i.props,g=p.isMulti,_=p.menuIsOpen;i.focusInput(),_?(i.setState({inputIsHiddenAfterUpdate:!g}),i.onMenuClose()):i.openMenu("first"),f.preventDefault()}},i.onClearIndicatorMouseDown=function(f){f&&f.type==="mousedown"&&f.button!==0||(i.clearValue(),f.preventDefault(),i.openAfterFocus=!1,f.type==="touchend"?i.focusInput():setTimeout(function(){return i.focusInput()}))},i.onScroll=function(f){typeof i.props.closeMenuOnScroll=="boolean"?f.target instanceof HTMLElement&&xw(f.target)&&i.props.onMenuClose():typeof i.props.closeMenuOnScroll=="function"&&i.props.closeMenuOnScroll(f)&&i.props.onMenuClose()},i.onCompositionStart=function(){i.isComposing=!0},i.onCompositionEnd=function(){i.isComposing=!1},i.onTouchStart=function(f){var p=f.touches,g=p&&p.item(0);g&&(i.initialTouchX=g.clientX,i.initialTouchY=g.clientY,i.userIsDragging=!1)},i.onTouchMove=function(f){var p=f.touches,g=p&&p.item(0);if(g){var _=Math.abs(g.clientX-i.initialTouchX),S=Math.abs(g.clientY-i.initialTouchY),I=5;i.userIsDragging=_>I||S>I}},i.onTouchEnd=function(f){i.userIsDragging||(i.controlRef&&!i.controlRef.contains(f.target)&&i.menuListRef&&!i.menuListRef.contains(f.target)&&i.blurInput(),i.initialTouchX=0,i.initialTouchY=0)},i.onControlTouchEnd=function(f){i.userIsDragging||i.onControlMouseDown(f)},i.onClearIndicatorTouchEnd=function(f){i.userIsDragging||i.onClearIndicatorMouseDown(f)},i.onDropdownIndicatorTouchEnd=function(f){i.userIsDragging||i.onDropdownIndicatorMouseDown(f)},i.handleInputChange=function(f){var p=i.props.inputValue,g=f.currentTarget.value;i.setState({inputIsHiddenAfterUpdate:!1}),i.onInputChange(g,{action:"input-change",prevInputValue:p}),i.props.menuIsOpen||i.onMenuOpen()},i.onInputFocus=function(f){i.props.onFocus&&i.props.onFocus(f),i.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(i.openAfterFocus||i.props.openMenuOnFocus)&&i.openMenu("first"),i.openAfterFocus=!1},i.onInputBlur=function(f){var p=i.props.inputValue;if(i.menuListRef&&i.menuListRef.contains(document.activeElement)){i.inputRef.focus();return}i.props.onBlur&&i.props.onBlur(f),i.onInputChange("",{action:"input-blur",prevInputValue:p}),i.onMenuClose(),i.setState({focusedValue:null,isFocused:!1})},i.onOptionHover=function(f){if(!(i.blockOptionHover||i.state.focusedOption===f)){var p=i.getFocusableOptions(),g=p.indexOf(f);i.setState({focusedOption:f,focusedOptionId:g>-1?i.getFocusedOptionId(f):null})}},i.shouldHideSelectedOptions=function(){return q2(i.props)},i.onValueInputFocus=function(f){f.preventDefault(),f.stopPropagation(),i.focus()},i.onKeyDown=function(f){var p=i.props,g=p.isMulti,_=p.backspaceRemovesValue,S=p.escapeClearsValue,I=p.inputValue,x=p.isClearable,b=p.isDisabled,R=p.menuIsOpen,L=p.onKeyDown,q=p.tabSelectsValue,B=p.openMenuOnFocus,G=i.state,V=G.focusedOption,Y=G.focusedValue,D=G.selectValue;if(!b&&!(typeof L=="function"&&(L(f),f.defaultPrevented))){switch(i.blockOptionHover=!0,f.key){case"ArrowLeft":if(!g||I)return;i.focusValue("previous");break;case"ArrowRight":if(!g||I)return;i.focusValue("next");break;case"Delete":case"Backspace":if(I)return;if(Y)i.removeValue(Y);else{if(!_)return;g?i.popValue():x&&i.clearValue()}break;case"Tab":if(i.isComposing||f.shiftKey||!R||!q||!V||B&&i.isOptionSelected(V,D))return;i.selectOption(V);break;case"Enter":if(f.keyCode===229)break;if(R){if(!V||i.isComposing)return;i.selectOption(V);break}return;case"Escape":R?(i.setState({inputIsHiddenAfterUpdate:!1}),i.onInputChange("",{action:"menu-close",prevInputValue:I}),i.onMenuClose()):x&&S&&i.clearValue();break;case" ":if(I)return;if(!R){i.openMenu("first");break}if(!V)return;i.selectOption(V);break;case"ArrowUp":R?i.focusOption("up"):i.openMenu("last");break;case"ArrowDown":R?i.focusOption("down"):i.openMenu("first");break;case"PageUp":if(!R)return;i.focusOption("pageup");break;case"PageDown":if(!R)return;i.focusOption("pagedown");break;case"Home":if(!R)return;i.focusOption("first");break;case"End":if(!R)return;i.focusOption("last");break;default:return}f.preventDefault()}},i.state.instancePrefix="react-select-"+(i.props.instanceId||++bK),i.state.selectValue=_0(r.value),r.menuIsOpen&&i.state.selectValue.length){var s=i.getFocusableOptionsWithIds(),a=i.buildFocusableOptions(),c=a.indexOf(i.state.selectValue[0]);i.state.focusableOptionsWithIds=s,i.state.focusedOption=a[c],i.state.focusedOptionId=rT(s,a[c])}return i}return y7(n,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&cx(this.menuListRef,this.focusedOptionRef)}},{key:"componentDidUpdate",value:function(i){var s=this.props,a=s.isDisabled,c=s.menuIsOpen,f=this.state.isFocused;(f&&!a&&i.isDisabled||f&&c&&!i.menuIsOpen)&&this.focusInput(),f&&a&&!i.isDisabled?this.setState({isFocused:!1},this.onMenuClose):!f&&!a&&i.isDisabled&&this.inputRef===document.activeElement&&this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(cx(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(i,s){this.props.onInputChange(i,s)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(i){var s=this,a=this.state,c=a.selectValue,f=a.isFocused,p=this.buildFocusableOptions(),g=i==="first"?0:p.length-1;if(!this.props.isMulti){var _=p.indexOf(c[0]);_>-1&&(g=_)}this.scrollToFocusedOptionOnUpdate=!(f&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:p[g],focusedOptionId:this.getFocusedOptionId(p[g])},function(){return s.onMenuOpen()})}},{key:"focusValue",value:function(i){var s=this.state,a=s.selectValue,c=s.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var f=a.indexOf(c);c||(f=-1);var p=a.length-1,g=-1;if(a.length){switch(i){case"previous":f===0?g=0:f===-1?g=p:g=f-1;break;case"next":f>-1&&f<p&&(g=f+1);break}this.setState({inputIsHidden:g!==-1,focusedValue:a[g]})}}}},{key:"focusOption",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"first",s=this.props.pageSize,a=this.state.focusedOption,c=this.getFocusableOptions();if(c.length){var f=0,p=c.indexOf(a);a||(p=-1),i==="up"?f=p>0?p-1:c.length-1:i==="down"?f=(p+1)%c.length:i==="pageup"?(f=p-s,f<0&&(f=0)):i==="pagedown"?(f=p+s,f>c.length-1&&(f=c.length-1)):i==="last"&&(f=c.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:c[f],focusedValue:null,focusedOptionId:this.getFocusedOptionId(c[f])})}}},{key:"getTheme",value:function(){return this.props.theme?typeof this.props.theme=="function"?this.props.theme(nT):He(He({},nT),this.props.theme):nT}},{key:"getCommonProps",value:function(){var i=this.clearValue,s=this.cx,a=this.getStyles,c=this.getClassNames,f=this.getValue,p=this.selectOption,g=this.setValue,_=this.props,S=_.isMulti,I=_.isRtl,x=_.options,b=this.hasValue();return{clearValue:i,cx:s,getStyles:a,getClassNames:c,getValue:f,hasValue:b,isMulti:S,isRtl:I,options:x,selectOption:p,selectProps:_,setValue:g,theme:this.getTheme()}}},{key:"hasValue",value:function(){var i=this.state.selectValue;return i.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var i=this.props,s=i.isClearable,a=i.isMulti;return s===void 0?a:s}},{key:"isOptionDisabled",value:function(i,s){return z2(this.props,i,s)}},{key:"isOptionSelected",value:function(i,s){return W2(this.props,i,s)}},{key:"filterOption",value:function(i,s){return H2(this.props,i,s)}},{key:"formatOptionLabel",value:function(i,s){if(typeof this.props.formatOptionLabel=="function"){var a=this.props.inputValue,c=this.state.selectValue;return this.props.formatOptionLabel(i,{context:s,inputValue:a,selectValue:c})}else return this.getOptionLabel(i)}},{key:"formatGroupLabel",value:function(i){return this.props.formatGroupLabel(i)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var i=this.props,s=i.isDisabled,a=i.isSearchable,c=i.inputId,f=i.inputValue,p=i.tabIndex,g=i.form,_=i.menuIsOpen,S=i.required,I=this.getComponents(),x=I.Input,b=this.state,R=b.inputIsHidden,L=b.ariaSelection,q=this.commonProps,B=c||this.getElementId("input"),G=He(He(He({"aria-autocomplete":"list","aria-expanded":_,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":S,role:"combobox","aria-activedescendant":this.isAppleDevice?void 0:this.state.focusedOptionId||""},_&&{"aria-controls":this.getElementId("listbox")}),!a&&{"aria-readonly":!0}),this.hasValue()?(L==null?void 0:L.action)==="initial-input-focus"&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return a?M.createElement(x,Ze({},q,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:B,innerRef:this.getInputRef,isDisabled:s,isHidden:R,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:p,form:g,type:"text",value:f},G)):M.createElement(eK,Ze({id:B,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:v0,onFocus:this.onInputFocus,disabled:s,tabIndex:p,inputMode:"none",form:g,value:""},G))}},{key:"renderPlaceholderOrValue",value:function(){var i=this,s=this.getComponents(),a=s.MultiValue,c=s.MultiValueContainer,f=s.MultiValueLabel,p=s.MultiValueRemove,g=s.SingleValue,_=s.Placeholder,S=this.commonProps,I=this.props,x=I.controlShouldRenderValue,b=I.isDisabled,R=I.isMulti,L=I.inputValue,q=I.placeholder,B=this.state,G=B.selectValue,V=B.focusedValue,Y=B.isFocused;if(!this.hasValue()||!x)return L?null:M.createElement(_,Ze({},S,{key:"placeholder",isDisabled:b,isFocused:Y,innerProps:{id:this.getElementId("placeholder")}}),q);if(R)return G.map(function(k,F){var A=k===V,W="".concat(i.getOptionLabel(k),"-").concat(i.getOptionValue(k));return M.createElement(a,Ze({},S,{components:{Container:c,Label:f,Remove:p},isFocused:A,isDisabled:b,key:W,index:F,removeProps:{onClick:function(){return i.removeValue(k)},onTouchEnd:function(){return i.removeValue(k)},onMouseDown:function(H){H.preventDefault()}},data:k}),i.formatOptionLabel(k,"value"))});if(L)return null;var D=G[0];return M.createElement(g,Ze({},S,{data:D,isDisabled:b}),this.formatOptionLabel(D,"value"))}},{key:"renderClearIndicator",value:function(){var i=this.getComponents(),s=i.ClearIndicator,a=this.commonProps,c=this.props,f=c.isDisabled,p=c.isLoading,g=this.state.isFocused;if(!this.isClearable()||!s||f||!this.hasValue()||p)return null;var _={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return M.createElement(s,Ze({},a,{innerProps:_,isFocused:g}))}},{key:"renderLoadingIndicator",value:function(){var i=this.getComponents(),s=i.LoadingIndicator,a=this.commonProps,c=this.props,f=c.isDisabled,p=c.isLoading,g=this.state.isFocused;if(!s||!p)return null;var _={"aria-hidden":"true"};return M.createElement(s,Ze({},a,{innerProps:_,isDisabled:f,isFocused:g}))}},{key:"renderIndicatorSeparator",value:function(){var i=this.getComponents(),s=i.DropdownIndicator,a=i.IndicatorSeparator;if(!s||!a)return null;var c=this.commonProps,f=this.props.isDisabled,p=this.state.isFocused;return M.createElement(a,Ze({},c,{isDisabled:f,isFocused:p}))}},{key:"renderDropdownIndicator",value:function(){var i=this.getComponents(),s=i.DropdownIndicator;if(!s)return null;var a=this.commonProps,c=this.props.isDisabled,f=this.state.isFocused,p={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return M.createElement(s,Ze({},a,{innerProps:p,isDisabled:c,isFocused:f}))}},{key:"renderMenu",value:function(){var i=this,s=this.getComponents(),a=s.Group,c=s.GroupHeading,f=s.Menu,p=s.MenuList,g=s.MenuPortal,_=s.LoadingMessage,S=s.NoOptionsMessage,I=s.Option,x=this.commonProps,b=this.state.focusedOption,R=this.props,L=R.captureMenuScroll,q=R.inputValue,B=R.isLoading,G=R.loadingMessage,V=R.minMenuHeight,Y=R.maxMenuHeight,D=R.menuIsOpen,k=R.menuPlacement,F=R.menuPosition,A=R.menuPortalTarget,W=R.menuShouldBlockScroll,K=R.menuShouldScrollIntoView,H=R.noOptionsMessage,ce=R.onMenuScrollToTop,oe=R.onMenuScrollToBottom;if(!D)return null;var _e=function(Oe,Ke){var je=Oe.type,Ye=Oe.data,ut=Oe.isDisabled,Je=Oe.isSelected,mt=Oe.label,on=Oe.value,Qn=b===Ye,Ar=ut?void 0:function(){return i.onOptionHover(Ye)},sr=ut?void 0:function(){return i.selectOption(Ye)},an="".concat(i.getElementId("option"),"-").concat(Ke),jr={id:an,onClick:sr,onMouseMove:Ar,onMouseOver:Ar,tabIndex:-1,role:"option","aria-selected":i.isAppleDevice?void 0:Je};return M.createElement(I,Ze({},x,{innerProps:jr,data:Ye,isDisabled:ut,isSelected:Je,key:an,label:mt,type:je,value:on,isFocused:Qn,innerRef:Qn?i.getFocusedOptionRef:void 0}),i.formatOptionLabel(Oe.data,"menu"))},ye;if(this.hasOptions())ye=this.getCategorizedOptions().map(function(de){if(de.type==="group"){var Oe=de.data,Ke=de.options,je=de.index,Ye="".concat(i.getElementId("group"),"-").concat(je),ut="".concat(Ye,"-heading");return M.createElement(a,Ze({},x,{key:Ye,data:Oe,options:Ke,Heading:c,headingProps:{id:ut,data:de.data},label:i.formatGroupLabel(de.data)}),de.options.map(function(Je){return _e(Je,"".concat(je,"-").concat(Je.index))}))}else if(de.type==="option")return _e(de,"".concat(de.index))});else if(B){var ae=G({inputValue:q});if(ae===null)return null;ye=M.createElement(_,x,ae)}else{var Ae=H({inputValue:q});if(Ae===null)return null;ye=M.createElement(S,x,Ae)}var Ee={minMenuHeight:V,maxMenuHeight:Y,menuPlacement:k,menuPosition:F,menuShouldScrollIntoView:K},ee=M.createElement(Oq,Ze({},x,Ee),function(de){var Oe=de.ref,Ke=de.placerProps,je=Ke.placement,Ye=Ke.maxHeight;return M.createElement(f,Ze({},x,Ee,{innerRef:Oe,innerProps:{onMouseDown:i.onMenuMouseDown,onMouseMove:i.onMenuMouseMove},isLoading:B,placement:je}),M.createElement(oK,{captureEnabled:L,onTopArrive:ce,onBottomArrive:oe,lockEnabled:W},function(ut){return M.createElement(p,Ze({},x,{innerRef:function(mt){i.getMenuListRef(mt),ut(mt)},innerProps:{role:"listbox","aria-multiselectable":x.isMulti,id:i.getElementId("listbox")},isLoading:B,maxHeight:Ye,focusedOption:b}),ye)}))});return A||F==="fixed"?M.createElement(g,Ze({},x,{appendTo:A,controlElement:this.controlRef,menuPlacement:k,menuPosition:F}),ee):ee}},{key:"renderFormField",value:function(){var i=this,s=this.props,a=s.delimiter,c=s.isDisabled,f=s.isMulti,p=s.name,g=s.required,_=this.state.selectValue;if(g&&!this.hasValue()&&!c)return M.createElement(lK,{name:p,onFocus:this.onValueInputFocus});if(!(!p||c))if(f)if(a){var S=_.map(function(b){return i.getOptionValue(b)}).join(a);return M.createElement("input",{name:p,type:"hidden",value:S})}else{var I=_.length>0?_.map(function(b,R){return M.createElement("input",{key:"i-".concat(R),name:p,type:"hidden",value:i.getOptionValue(b)})}):M.createElement("input",{name:p,type:"hidden",value:""});return M.createElement("div",null,I)}else{var x=_[0]?this.getOptionValue(_[0]):"";return M.createElement("input",{name:p,type:"hidden",value:x})}}},{key:"renderLiveRegion",value:function(){var i=this.commonProps,s=this.state,a=s.ariaSelection,c=s.focusedOption,f=s.focusedValue,p=s.isFocused,g=s.selectValue,_=this.getFocusableOptions();return M.createElement(KG,Ze({},i,{id:this.getElementId("live-region"),ariaSelection:a,focusedOption:c,focusedValue:f,isFocused:p,selectValue:g,focusableOptions:_,isAppleDevice:this.isAppleDevice}))}},{key:"render",value:function(){var i=this.getComponents(),s=i.Control,a=i.IndicatorsContainer,c=i.SelectContainer,f=i.ValueContainer,p=this.props,g=p.className,_=p.id,S=p.isDisabled,I=p.menuIsOpen,x=this.state.isFocused,b=this.commonProps=this.getCommonProps();return M.createElement(c,Ze({},b,{className:g,innerProps:{id:_,onKeyDown:this.onKeyDown},isDisabled:S,isFocused:x}),this.renderLiveRegion(),M.createElement(s,Ze({},b,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:S,isFocused:x,menuIsOpen:I}),M.createElement(f,Ze({},b,{isDisabled:S}),this.renderPlaceholderOrValue(),this.renderInput()),M.createElement(a,Ze({},b,{isDisabled:S}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(i,s){var a=s.prevProps,c=s.clearFocusValueOnUpdate,f=s.inputIsHiddenAfterUpdate,p=s.ariaSelection,g=s.isFocused,_=s.prevWasFocused,S=s.instancePrefix,I=i.options,x=i.value,b=i.menuIsOpen,R=i.inputValue,L=i.isMulti,q=_0(x),B={};if(a&&(x!==a.value||I!==a.options||b!==a.menuIsOpen||R!==a.inputValue)){var G=b?EK(i,q):[],V=b?Cx(D_(i,q),"".concat(S,"-option")):[],Y=c?CK(s,q):null,D=IK(s,G),k=rT(V,D);B={selectValue:q,focusedOption:D,focusedOptionId:k,focusableOptionsWithIds:V,focusedValue:Y,clearFocusValueOnUpdate:!1}}var F=f!=null&&i!==a?{inputIsHidden:f,inputIsHiddenAfterUpdate:void 0}:{},A=p,W=g&&_;return g&&!W&&(A={value:Sg(L,q,q[0]||null),options:q,action:"initial-input-focus"},W=!_),(p==null?void 0:p.action)==="initial-input-focus"&&(A=null),He(He(He({},B),F),{},{prevProps:i,ariaSelection:A,prevWasFocused:W})}}]),n}(M.Component);G2.defaultProps=TK;const oi=Dk(Nk(t=>({app:null,auth:null,db:null,drawerContent:{component:"",params:null},drawerOpen:!1,setAuth:e=>t({auth:e}),setApp:e=>t({app:e}),setDb:e=>t({db:e}),setDrawerContent:e=>t({drawerContent:e}),setDrawerOpen:e=>t({drawerOpen:e}),setStorage:e=>t({storage:e}),storage:null}),{name:"product-keeper-system-storage",getStorage:()=>m1()}));var Tg={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */var AK=Tg.exports,bx;function xK(){return bx||(bx=1,function(t,e){(function(){var n,r="4.17.21",i=200,s="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",a="Expected a function",c="Invalid `variable` option passed into `_.template`",f="__lodash_hash_undefined__",p=500,g="__lodash_placeholder__",_=1,S=2,I=4,x=1,b=2,R=1,L=2,q=4,B=8,G=16,V=32,Y=64,D=128,k=256,F=512,A=30,W="...",K=800,H=16,ce=1,oe=2,_e=3,ye=1/0,ae=9007199254740991,Ae=17976931348623157e292,Ee=NaN,ee=4294967295,de=ee-1,Oe=ee>>>1,Ke=[["ary",D],["bind",R],["bindKey",L],["curry",B],["curryRight",G],["flip",F],["partial",V],["partialRight",Y],["rearg",k]],je="[object Arguments]",Ye="[object Array]",ut="[object AsyncFunction]",Je="[object Boolean]",mt="[object Date]",on="[object DOMException]",Qn="[object Error]",Ar="[object Function]",sr="[object GeneratorFunction]",an="[object Map]",jr="[object Number]",qa="[object Null]",xr="[object Object]",Ga="[object Promise]",Ki="[object Proxy]",ci="[object RegExp]",Fn="[object Set]",ao="[object String]",uo="[object Symbol]",sl="[object Undefined]",lo="[object WeakMap]",Un="[object WeakSet]",un="[object ArrayBuffer]",zr="[object DataView]",Ka="[object Float32Array]",Ps="[object Float64Array]",co="[object Int8Array]",fo="[object Int16Array]",Ya="[object Int32Array]",Qa="[object Uint8Array]",Xa="[object Uint8ClampedArray]",Za="[object Uint16Array]",Ja="[object Uint32Array]",eu=/\b__p \+= '';/g,ol=/\b(__p \+=) '' \+/g,al=/(__e\(.*?\)|\b__t\)) \+\n'';/g,fi=/&(?:amp|lt|gt|quot|#39);/g,Yi=/[&<>"']/g,ul=RegExp(fi.source),Rs=RegExp(Yi.source),Bc=/<%-([\s\S]+?)%>/g,tu=/<%([\s\S]+?)%>/g,ll=/<%=([\s\S]+?)%>/g,ho=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,$c=/^\w*$/,yn=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Yo=/[\\^$.*+?()[\]{}|]/g,Qi=RegExp(Yo.source),po=/^\s+/,nu=/\s/,cl=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Xi=/\{\n\/\* \[wrapped with (.+)\] \*/,jc=/,? & /,Zp=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,fl=/[()=,{}\[\]\/\s]/,md=/\\(\\)?/g,Zi=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Qo=/\w*$/,Ji=/^[-+]0x[0-9a-f]+$/i,gd=/^0b[01]+$/i,zc=/^\[object .+?Constructor\]$/,dl=/^0o[0-7]+$/i,hl=/^(?:0|[1-9]\d*)$/,Wc=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ru=/($^)/,Jp=/['\n\r\u2028\u2029\\]/g,Mt="\\ud800-\\udfff",yd="\\u0300-\\u036f",iu="\\ufe20-\\ufe2f",Xo="\\u20d0-\\u20ff",di=yd+iu+Xo,pl="\\u2700-\\u27bf",Hc="a-z\\xdf-\\xf6\\xf8-\\xff",su="\\xac\\xb1\\xd7\\xf7",hi="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",vd="\\u2000-\\u206f",Pr=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",ml="A-Z\\xc0-\\xd6\\xd8-\\xde",qc="\\ufe0e\\ufe0f",Gc=su+hi+vd+Pr,Zo="['’]",gl="["+Mt+"]",mo="["+Gc+"]",ks="["+di+"]",_d="\\d+",go="["+pl+"]",Wr="["+Hc+"]",Jo="[^"+Mt+Gc+_d+pl+Hc+ml+"]",Os="\\ud83c[\\udffb-\\udfff]",ea="(?:"+ks+"|"+Os+")",$t="[^"+Mt+"]",Ds="(?:\\ud83c[\\udde6-\\uddff]){2}",yt="[\\ud800-\\udbff][\\udc00-\\udfff]",pi="["+ml+"]",Kc="\\u200d",ou="(?:"+Wr+"|"+Jo+")",wd="(?:"+pi+"|"+Jo+")",Yc="(?:"+Zo+"(?:d|ll|m|re|s|t|ve))?",Qc="(?:"+Zo+"(?:D|LL|M|RE|S|T|VE))?",yl=ea+"?",es="["+qc+"]?",or="(?:"+Kc+"(?:"+[$t,Ds,yt].join("|")+")"+es+yl+")*",ts="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",ns="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",yo=es+yl+or,Ii="(?:"+[go,Ds,yt].join("|")+")"+yo,Ns="(?:"+[$t+ks+"?",ks,Ds,yt,gl].join("|")+")",em=RegExp(Zo,"g"),Sd=RegExp(ks,"g"),pr=RegExp(Os+"(?="+Os+")|"+Ns+yo,"g"),tm=RegExp([pi+"?"+Wr+"+"+Yc+"(?="+[mo,pi,"$"].join("|")+")",wd+"+"+Qc+"(?="+[mo,pi+ou,"$"].join("|")+")",pi+"?"+ou+"+"+Yc,pi+"+"+Qc,ns,ts,_d,Ii].join("|"),"g"),Td=RegExp("["+Kc+Mt+di+qc+"]"),vo=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,au=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Ed=-1,wt={};wt[Ka]=wt[Ps]=wt[co]=wt[fo]=wt[Ya]=wt[Qa]=wt[Xa]=wt[Za]=wt[Ja]=!0,wt[je]=wt[Ye]=wt[un]=wt[Je]=wt[zr]=wt[mt]=wt[Qn]=wt[Ar]=wt[an]=wt[jr]=wt[xr]=wt[ci]=wt[Fn]=wt[ao]=wt[lo]=!1;var vt={};vt[je]=vt[Ye]=vt[un]=vt[zr]=vt[Je]=vt[mt]=vt[Ka]=vt[Ps]=vt[co]=vt[fo]=vt[Ya]=vt[an]=vt[jr]=vt[xr]=vt[ci]=vt[Fn]=vt[ao]=vt[uo]=vt[Qa]=vt[Xa]=vt[Za]=vt[Ja]=!0,vt[Qn]=vt[Ar]=vt[lo]=!1;var _o={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},ta={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},tn={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},nm={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Xc=parseFloat,uu=parseInt,lu=typeof Bv=="object"&&Bv&&Bv.Object===Object&&Bv,Zc=typeof self=="object"&&self&&self.Object===Object&&self,Lt=lu||Zc||Function("return this")(),na=e&&!e.nodeType&&e,Cn=na&&!0&&t&&!t.nodeType&&t,vl=Cn&&Cn.exports===na,ra=vl&&lu.process,vn=function(){try{var ne=Cn&&Cn.require&&Cn.require("util").types;return ne||ra&&ra.binding&&ra.binding("util")}catch{}}(),_l=vn&&vn.isArrayBuffer,Xn=vn&&vn.isDate,bi=vn&&vn.isMap,cu=vn&&vn.isRegExp,rs=vn&&vn.isSet,Cd=vn&&vn.isTypedArray;function Zn(ne,pe,le){switch(le.length){case 0:return ne.call(pe);case 1:return ne.call(pe,le[0]);case 2:return ne.call(pe,le[0],le[1]);case 3:return ne.call(pe,le[0],le[1],le[2])}return ne.apply(pe,le)}function wo(ne,pe,le,De){for(var st=-1,xt=ne==null?0:ne.length;++st<xt;){var In=ne[st];pe(De,In,le(In),ne)}return De}function Bn(ne,pe){for(var le=-1,De=ne==null?0:ne.length;++le<De&&pe(ne[le],le,ne)!==!1;);return ne}function fu(ne,pe){for(var le=ne==null?0:ne.length;le--&&pe(ne[le],le,ne)!==!1;);return ne}function du(ne,pe){for(var le=-1,De=ne==null?0:ne.length;++le<De;)if(!pe(ne[le],le,ne))return!1;return!0}function Ai(ne,pe){for(var le=-1,De=ne==null?0:ne.length,st=0,xt=[];++le<De;){var In=ne[le];pe(In,le,ne)&&(xt[st++]=In)}return xt}function hu(ne,pe){var le=ne==null?0:ne.length;return!!le&&So(ne,pe,0)>-1}function ia(ne,pe,le){for(var De=-1,st=ne==null?0:ne.length;++De<st;)if(le(pe,ne[De]))return!0;return!1}function Vt(ne,pe){for(var le=-1,De=ne==null?0:ne.length,st=Array(De);++le<De;)st[le]=pe(ne[le],le,ne);return st}function is(ne,pe){for(var le=-1,De=pe.length,st=ne.length;++le<De;)ne[st+le]=pe[le];return ne}function ss(ne,pe,le,De){var st=-1,xt=ne==null?0:ne.length;for(De&&xt&&(le=ne[++st]);++st<xt;)le=pe(le,ne[st],st,ne);return le}function Id(ne,pe,le,De){var st=ne==null?0:ne.length;for(De&&st&&(le=ne[--st]);st--;)le=pe(le,ne[st],st,ne);return le}function wl(ne,pe){for(var le=-1,De=ne==null?0:ne.length;++le<De;)if(pe(ne[le],le,ne))return!0;return!1}var bd=P("length");function Jc(ne){return ne.split("")}function Sl(ne){return ne.match(Zp)||[]}function mr(ne,pe,le){var De;return le(ne,function(st,xt,In){if(pe(st,xt,In))return De=xt,!1}),De}function pu(ne,pe,le,De){for(var st=ne.length,xt=le+(De?1:-1);De?xt--:++xt<st;)if(pe(ne[xt],xt,ne))return xt;return-1}function So(ne,pe,le){return pe===pe?xd(ne,pe,le):pu(ne,m,le)}function Ms(ne,pe,le,De){for(var st=le-1,xt=ne.length;++st<xt;)if(De(ne[st],pe))return st;return-1}function m(ne){return ne!==ne}function T(ne,pe){var le=ne==null?0:ne.length;return le?Pe(ne,pe)/le:Ee}function P(ne){return function(pe){return pe==null?n:pe[ne]}}function $(ne){return function(pe){return ne==null?n:ne[pe]}}function ie(ne,pe,le,De,st){return st(ne,function(xt,In,jt){le=De?(De=!1,xt):pe(le,xt,In,jt)}),le}function he(ne,pe){var le=ne.length;for(ne.sort(pe);le--;)ne[le]=ne[le].value;return ne}function Pe(ne,pe){for(var le,De=-1,st=ne.length;++De<st;){var xt=pe(ne[De]);xt!==n&&(le=le===n?xt:le+xt)}return le}function Ot(ne,pe){for(var le=-1,De=Array(ne);++le<ne;)De[le]=pe(le);return De}function $n(ne,pe){return Vt(pe,function(le){return[le,ne[le]]})}function St(ne){return ne&&ne.slice(0,Pd(ne)+1).replace(po,"")}function Nt(ne){return function(pe){return ne(pe)}}function dn(ne,pe){return Vt(pe,function(le){return ne[le]})}function gr(ne,pe){return ne.has(pe)}function Hr(ne,pe){for(var le=-1,De=ne.length;++le<De&&So(pe,ne[le],0)>-1;);return le}function sa(ne,pe){for(var le=ne.length;le--&&So(pe,ne[le],0)>-1;);return le}function Tl(ne,pe){for(var le=ne.length,De=0;le--;)ne[le]===pe&&++De;return De}var Fy=$(_o),Uy=$(ta);function By(ne){return"\\"+nm[ne]}function El(ne,pe){return ne==null?n:ne[pe]}function Cl(ne){return Td.test(ne)}function Bw(ne){return vo.test(ne)}function $w(ne){for(var pe,le=[];!(pe=ne.next()).done;)le.push(pe.value);return le}function Ad(ne){var pe=-1,le=Array(ne.size);return ne.forEach(function(De,st){le[++pe]=[st,De]}),le}function rm(ne,pe){return function(le){return ne(pe(le))}}function xi(ne,pe){for(var le=-1,De=ne.length,st=0,xt=[];++le<De;){var In=ne[le];(In===pe||In===g)&&(ne[le]=g,xt[st++]=le)}return xt}function oa(ne){var pe=-1,le=Array(ne.size);return ne.forEach(function(De){le[++pe]=De}),le}function jw(ne){var pe=-1,le=Array(ne.size);return ne.forEach(function(De){le[++pe]=[De,De]}),le}function xd(ne,pe,le){for(var De=le-1,st=ne.length;++De<st;)if(ne[De]===pe)return De;return-1}function zw(ne,pe,le){for(var De=le+1;De--;)if(ne[De]===pe)return De;return De}function mu(ne){return Cl(ne)?jy(ne):bd(ne)}function mi(ne){return Cl(ne)?zy(ne):Jc(ne)}function Pd(ne){for(var pe=ne.length;pe--&&nu.test(ne.charAt(pe)););return pe}var $y=$(tn);function jy(ne){for(var pe=pr.lastIndex=0;pr.test(ne);)++pe;return pe}function zy(ne){return ne.match(pr)||[]}function Ww(ne){return ne.match(tm)||[]}var Hw=function ne(pe){pe=pe==null?Lt:Il.defaults(Lt.Object(),pe,Il.pick(Lt,au));var le=pe.Array,De=pe.Date,st=pe.Error,xt=pe.Function,In=pe.Math,jt=pe.Object,ef=pe.RegExp,qw=pe.String,Pi=pe.TypeError,To=le.prototype,im=xt.prototype,Ls=jt.prototype,bl=pe["__core-js_shared__"],tf=im.toString,Pt=Ls.hasOwnProperty,Al=0,Rd=function(){var l=/[^.]+$/.exec(bl&&bl.keys&&bl.keys.IE_PROTO||"");return l?"Symbol(src)_1."+l:""}(),nf=Ls.toString,kd=tf.call(jt),Wy=Lt._,Hy=ef("^"+tf.call(Pt).replace(Yo,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),rf=vl?pe.Buffer:n,Eo=pe.Symbol,sf=pe.Uint8Array,sm=rf?rf.allocUnsafe:n,os=rm(jt.getPrototypeOf,jt),Od=jt.create,Dd=Ls.propertyIsEnumerable,Nd=To.splice,qy=Eo?Eo.isConcatSpreadable:n,Co=Eo?Eo.iterator:n,gu=Eo?Eo.toStringTag:n,of=function(){try{var l=ya(jt,"defineProperty");return l({},"",{}),l}catch{}}(),Gy=pe.clearTimeout!==Lt.clearTimeout&&pe.clearTimeout,Qt=De&&De.now!==Lt.Date.now&&De.now,om=pe.setTimeout!==Lt.setTimeout&&pe.setTimeout,yu=In.ceil,aa=In.floor,Md=jt.getOwnPropertySymbols,am=rf?rf.isBuffer:n,xl=pe.isFinite,Ld=To.join,Pl=rm(jt.keys,jt),bn=In.max,yr=In.min,Gw=De.now,Ky=pe.parseInt,af=In.random,Vd=To.reverse,uf=ya(pe,"DataView"),vu=ya(pe,"Map"),lf=ya(pe,"Promise"),ua=ya(pe,"Set"),cf=ya(pe,"WeakMap"),Rl=ya(jt,"create"),Fd=cf&&new cf,kl={},um=va(uf),la=va(vu),Yy=va(lf),Ol=va(ua),Vs=va(cf),ca=Eo?Eo.prototype:n,gi=ca?ca.valueOf:n,Ud=ca?ca.toString:n;function U(l){if(xn(l)&&!dt(l)&&!(l instanceof ft)){if(l instanceof vr)return l;if(Pt.call(l,"__wrapped__"))return Ev(l)}return new vr(l)}var Dl=function(){function l(){}return function(d){if(!wn(d))return{};if(Od)return Od(d);l.prototype=d;var v=new l;return l.prototype=n,v}}();function Fs(){}function vr(l,d){this.__wrapped__=l,this.__actions__=[],this.__chain__=!!d,this.__index__=0,this.__values__=n}U.templateSettings={escape:Bc,evaluate:tu,interpolate:ll,variable:"",imports:{_:U}},U.prototype=Fs.prototype,U.prototype.constructor=U,vr.prototype=Dl(Fs.prototype),vr.prototype.constructor=vr;function ft(l){this.__wrapped__=l,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=ee,this.__views__=[]}function Bd(){var l=new ft(this.__wrapped__);return l.__actions__=kr(this.__actions__),l.__dir__=this.__dir__,l.__filtered__=this.__filtered__,l.__iteratees__=kr(this.__iteratees__),l.__takeCount__=this.__takeCount__,l.__views__=kr(this.__views__),l}function lm(){if(this.__filtered__){var l=new ft(this);l.__dir__=-1,l.__filtered__=!0}else l=this.clone(),l.__dir__*=-1;return l}function Nl(){var l=this.__wrapped__.value(),d=this.__dir__,v=dt(l),C=d<0,O=v?l.length:0,z=Vm(0,O,this.__views__),X=z.start,J=z.end,re=J-X,ge=C?J:X-1,ve=this.__iteratees__,Ie=ve.length,Re=0,$e=yr(re,this.__takeCount__);if(!v||!C&&O==re&&$e==re)return jl(l,this.__actions__);var et=[];e:for(;re--&&Re<$e;){ge+=d;for(var gt=-1,tt=l[ge];++gt<Ie;){var Tt=ve[gt],bt=Tt.iteratee,gs=Tt.type,Si=bt(tt);if(gs==oe)tt=Si;else if(!Si){if(gs==ce)continue e;break e}}et[Re++]=tt}return et}ft.prototype=Dl(Fs.prototype),ft.prototype.constructor=ft;function qr(l){var d=-1,v=l==null?0:l.length;for(this.clear();++d<v;){var C=l[d];this.set(C[0],C[1])}}function Xt(){this.__data__=Rl?Rl(null):{},this.size=0}function Kt(l){var d=this.has(l)&&delete this.__data__[l];return this.size-=d?1:0,d}function fa(l){var d=this.__data__;if(Rl){var v=d[l];return v===f?n:v}return Pt.call(d,l)?d[l]:n}function _r(l){var d=this.__data__;return Rl?d[l]!==n:Pt.call(d,l)}function Gr(l,d){var v=this.__data__;return this.size+=this.has(l)?0:1,v[l]=Rl&&d===n?f:d,this}qr.prototype.clear=Xt,qr.prototype.delete=Kt,qr.prototype.get=fa,qr.prototype.has=_r,qr.prototype.set=Gr;function Rr(l){var d=-1,v=l==null?0:l.length;for(this.clear();++d<v;){var C=l[d];this.set(C[0],C[1])}}function Ml(){this.__data__=[],this.size=0}function Kr(l){var d=this.__data__,v=Sr(d,l);if(v<0)return!1;var C=d.length-1;return v==C?d.pop():Nd.call(d,v,1),--this.size,!0}function $d(l){var d=this.__data__,v=Sr(d,l);return v<0?n:d[v][1]}function Qy(l){return Sr(this.__data__,l)>-1}function Xy(l,d){var v=this.__data__,C=Sr(v,l);return C<0?(++this.size,v.push([l,d])):v[C][1]=d,this}Rr.prototype.clear=Ml,Rr.prototype.delete=Kr,Rr.prototype.get=$d,Rr.prototype.has=Qy,Rr.prototype.set=Xy;function Ri(l){var d=-1,v=l==null?0:l.length;for(this.clear();++d<v;){var C=l[d];this.set(C[0],C[1])}}function Zy(){this.size=0,this.__data__={hash:new qr,map:new(vu||Rr),string:new qr}}function Io(l){var d=bf(this,l).delete(l);return this.size-=d?1:0,d}function jd(l){return bf(this,l).get(l)}function cm(l){return bf(this,l).has(l)}function Jy(l,d){var v=bf(this,l),C=v.size;return v.set(l,d),this.size+=v.size==C?0:1,this}Ri.prototype.clear=Zy,Ri.prototype.delete=Io,Ri.prototype.get=jd,Ri.prototype.has=cm,Ri.prototype.set=Jy;function _u(l){var d=-1,v=l==null?0:l.length;for(this.__data__=new Ri;++d<v;)this.add(l[d])}function da(l){return this.__data__.set(l,f),this}function Ll(l){return this.__data__.has(l)}_u.prototype.add=_u.prototype.push=da,_u.prototype.has=Ll;function wr(l){var d=this.__data__=new Rr(l);this.size=d.size}function zd(){this.__data__=new Rr,this.size=0}function Wd(l){var d=this.__data__,v=d.delete(l);return this.size=d.size,v}function ki(l){return this.__data__.get(l)}function Oi(l){return this.__data__.has(l)}function wu(l,d){var v=this.__data__;if(v instanceof Rr){var C=v.__data__;if(!vu||C.length<i-1)return C.push([l,d]),this.size=++v.size,this;v=this.__data__=new Ri(C)}return v.set(l,d),this.size=v.size,this}wr.prototype.clear=zd,wr.prototype.delete=Wd,wr.prototype.get=ki,wr.prototype.has=Oi,wr.prototype.set=wu;function Us(l,d){var v=dt(l),C=!v&&Ff(l),O=!v&&!C&&Zl(l),z=!v&&!C&&!O&&Mh(l),X=v||C||O||z,J=X?Ot(l.length,qw):[],re=J.length;for(var ge in l)(d||Pt.call(l,ge))&&!(X&&(ge=="length"||O&&(ge=="offset"||ge=="parent")||z&&(ge=="buffer"||ge=="byteLength"||ge=="byteOffset")||rn(ge,re)))&&J.push(ge);return J}function Bs(l){var d=l.length;return d?l[Bl(0,d-1)]:n}function Su(l,d){return gh(kr(l),bo(d,0,l.length))}function ev(l){return gh(kr(l))}function ff(l,d,v){(v!==n&&!Lo(l[d],v)||v===n&&!(d in l))&&$s(l,d,v)}function Tu(l,d,v){var C=l[d];(!(Pt.call(l,d)&&Lo(C,v))||v===n&&!(d in l))&&$s(l,d,v)}function Sr(l,d){for(var v=l.length;v--;)if(Lo(l[v][0],d))return v;return-1}function yi(l,d,v,C){return zs(l,function(O,z,X){d(C,O,v(O),X)}),C}function Zt(l,d){return l&&us(d,Cr(d),l)}function as(l,d){return l&&us(d,$i(d),l)}function $s(l,d,v){d=="__proto__"&&of?of(l,d,{configurable:!0,enumerable:!0,value:v,writable:!0}):l[d]=v}function Hd(l,d){for(var v=-1,C=d.length,O=le(C),z=l==null;++v<C;)O[v]=z?n:mS(l,d[v]);return O}function bo(l,d,v){return l===l&&(v!==n&&(l=l<=v?l:v),d!==n&&(l=l>=d?l:d)),l}function Yr(l,d,v,C,O,z){var X,J=d&_,re=d&S,ge=d&I;if(v&&(X=O?v(l,C,O,z):v(l)),X!==n)return X;if(!wn(l))return l;var ve=dt(l);if(ve){if(X=xf(l),!J)return kr(l,X)}else{var Ie=lr(l),Re=Ie==Ar||Ie==sr;if(Zl(l))return Im(l,J);if(Ie==xr||Ie==je||Re&&!O){if(X=re||Re?{}:cr(l),!J)return re?Yw(l,as(X,l)):ih(l,Zt(X,l))}else{if(!vt[Ie])return O?l:{};X=Qw(l,Ie,J)}}z||(z=new wr);var $e=z.get(l);if($e)return $e;z.set(l,X),xI(l)?l.forEach(function(tt){X.add(Yr(tt,d,v,tt,l,z))}):bI(l)&&l.forEach(function(tt,Tt){X.set(Tt,Yr(tt,d,v,Tt,l,z))});var et=ge?re?If:Cf:re?$i:Cr,gt=ve?n:et(l);return Bn(gt||l,function(tt,Tt){gt&&(Tt=tt,tt=l[Tt]),Tu(X,Tt,Yr(tt,d,v,Tt,l,z))}),X}function tv(l){var d=Cr(l);return function(v){return df(v,l,d)}}function df(l,d,v){var C=v.length;if(l==null)return!C;for(l=jt(l);C--;){var O=v[C],z=d[O],X=l[O];if(X===n&&!(O in l)||!z(X))return!1}return!0}function fm(l,d,v){if(typeof l!="function")throw new Pi(a);return Yl(function(){l.apply(n,v)},d)}function js(l,d,v,C){var O=-1,z=hu,X=!0,J=l.length,re=[],ge=d.length;if(!J)return re;v&&(d=Vt(d,Nt(v))),C?(z=ia,X=!1):d.length>=i&&(z=gr,X=!1,d=new _u(d));e:for(;++O<J;){var ve=l[O],Ie=v==null?ve:v(ve);if(ve=C||ve!==0?ve:0,X&&Ie===Ie){for(var Re=ge;Re--;)if(d[Re]===Ie)continue e;re.push(ve)}else z(d,Ie,C)||re.push(ve)}return re}var zs=Vi(vi),nv=Vi(ha,!0);function hf(l,d){var v=!0;return zs(l,function(C,O,z){return v=!!d(C,O,z),v}),v}function Eu(l,d,v){for(var C=-1,O=l.length;++C<O;){var z=l[C],X=d(z);if(X!=null&&(J===n?X===X&&!ms(X):v(X,J)))var J=X,re=z}return re}function rv(l,d,v,C){var O=l.length;for(v=pt(v),v<0&&(v=-v>O?0:O+v),C=C===n||C>O?O:pt(C),C<0&&(C+=O),C=v>C?0:RI(C);v<C;)l[v++]=d;return l}function dm(l,d){var v=[];return zs(l,function(C,O,z){d(C,O,z)&&v.push(C)}),v}function hn(l,d,v,C,O){var z=-1,X=l.length;for(v||(v=hh),O||(O=[]);++z<X;){var J=l[z];d>0&&v(J)?d>1?hn(J,d-1,v,C,O):is(O,J):C||(O[O.length]=J)}return O}var qd=oh(),pf=oh(!0);function vi(l,d){return l&&qd(l,d,Cr)}function ha(l,d){return l&&pf(l,d,Cr)}function Vl(l,d){return Ai(d,function(v){return Mu(l[v])})}function Ao(l,d){d=qs(d,l);for(var v=0,C=d.length;l!=null&&v<C;)l=l[ds(d[v++])];return v&&v==C?l:n}function Gd(l,d,v){var C=d(l);return dt(l)?C:is(C,v(l))}function ar(l){return l==null?l===n?sl:qa:gu&&gu in jt(l)?dh(l):Um(l)}function pa(l,d){return l>d}function Di(l,d){return l!=null&&Pt.call(l,d)}function Cu(l,d){return l!=null&&d in jt(l)}function hm(l,d,v){return l>=yr(d,v)&&l<bn(d,v)}function Kd(l,d,v){for(var C=v?ia:hu,O=l[0].length,z=l.length,X=z,J=le(z),re=1/0,ge=[];X--;){var ve=l[X];X&&d&&(ve=Vt(ve,Nt(d))),re=yr(ve.length,re),J[X]=!v&&(d||O>=120&&ve.length>=120)?new _u(X&&ve):n}ve=l[0];var Ie=-1,Re=J[0];e:for(;++Ie<O&&ge.length<re;){var $e=ve[Ie],et=d?d($e):$e;if($e=v||$e!==0?$e:0,!(Re?gr(Re,et):C(ge,et,v))){for(X=z;--X;){var gt=J[X];if(!(gt?gr(gt,et):C(l[X],et,v)))continue e}Re&&Re.push(et),ge.push($e)}}return ge}function xo(l,d,v,C){return vi(l,function(O,z,X){d(C,v(O),z,X)}),C}function Ni(l,d,v){d=qs(d,l),l=Jn(l,d);var C=l==null?l:l[ds(Nr(d))];return C==null?n:Zn(C,l,v)}function Yd(l){return xn(l)&&ar(l)==je}function iv(l){return xn(l)&&ar(l)==un}function Po(l){return xn(l)&&ar(l)==mt}function Mi(l,d,v,C,O){return l===d?!0:l==null||d==null||!xn(l)&&!xn(d)?l!==l&&d!==d:Qd(l,d,v,C,Mi,O)}function Qd(l,d,v,C,O,z){var X=dt(l),J=dt(d),re=X?Ye:lr(l),ge=J?Ye:lr(d);re=re==je?xr:re,ge=ge==je?xr:ge;var ve=re==xr,Ie=ge==xr,Re=re==ge;if(Re&&Zl(l)){if(!Zl(d))return!1;X=!0,ve=!1}if(Re&&!ve)return z||(z=new wr),X||Mh(l)?Mm(l,d,v,C,O,z):Lm(l,d,re,v,C,O,z);if(!(v&x)){var $e=ve&&Pt.call(l,"__wrapped__"),et=Ie&&Pt.call(d,"__wrapped__");if($e||et){var gt=$e?l.value():l,tt=et?d.value():d;return z||(z=new wr),O(gt,tt,v,C,z)}}return Re?(z||(z=new wr),mv(l,d,v,C,O,z)):!1}function sv(l){return xn(l)&&lr(l)==an}function Fl(l,d,v,C){var O=v.length,z=O,X=!C;if(l==null)return!z;for(l=jt(l);O--;){var J=v[O];if(X&&J[2]?J[1]!==l[J[0]]:!(J[0]in l))return!1}for(;++O<z;){J=v[O];var re=J[0],ge=l[re],ve=J[1];if(X&&J[2]){if(ge===n&&!(re in l))return!1}else{var Ie=new wr;if(C)var Re=C(ge,ve,re,l,d,Ie);if(!(Re===n?Mi(ve,ge,x|b,C,Ie):Re))return!1}}return!0}function pm(l){if(!wn(l)||vv(l))return!1;var d=Mu(l)?Hy:zc;return d.test(va(l))}function mf(l){return xn(l)&&ar(l)==ci}function Ws(l){return xn(l)&&lr(l)==Fn}function gf(l){return xn(l)&&Vv(l.length)&&!!wt[ar(l)]}function Ul(l){return typeof l=="function"?l:l==null?ji:typeof l=="object"?dt(l)?nn(l[0],l[1]):Xd(l):$I(l)}function Ro(l){if(!No(l))return Pl(l);var d=[];for(var v in jt(l))Pt.call(l,v)&&v!="constructor"&&d.push(v);return d}function mm(l){if(!wn(l))return Sv(l);var d=No(l),v=[];for(var C in l)C=="constructor"&&(d||!Pt.call(l,C))||v.push(C);return v}function ma(l,d){return l<d}function gm(l,d){var v=-1,C=Bi(l)?le(l.length):[];return zs(l,function(O,z,X){C[++v]=d(O,z,X)}),C}function Xd(l){var d=Af(l);return d.length==1&&d[0][2]?ph(d[0][0],d[0][1]):function(v){return v===l||Fl(v,l,d)}}function nn(l,d){return Me(l)&&Rf(d)?ph(ds(l),d):function(v){var C=mS(v,l);return C===n&&C===d?gS(v,l):Mi(d,C,x|b)}}function Iu(l,d,v,C,O){l!==d&&qd(d,function(z,X){if(O||(O=new wr),wn(z))ym(l,d,X,v,Iu,C,O);else{var J=C?C(Ys(l,X),z,X+"",l,d,O):n;J===n&&(J=z),ff(l,X,J)}},$i)}function ym(l,d,v,C,O,z,X){var J=Ys(l,v),re=Ys(d,v),ge=X.get(re);if(ge){ff(l,v,ge);return}var ve=z?z(J,re,v+"",l,d,X):n,Ie=ve===n;if(Ie){var Re=dt(re),$e=!Re&&Zl(re),et=!Re&&!$e&&Mh(re);ve=re,Re||$e||et?dt(J)?ve=J:Hn(J)?ve=kr(J):$e?(Ie=!1,ve=Im(re,!0)):et?(Ie=!1,ve=cv(re,!0)):ve=[]:rg(re)||Ff(re)?(ve=J,Ff(J)?ve=kI(J):(!wn(J)||Mu(J))&&(ve=cr(re))):Ie=!1}Ie&&(X.set(re,ve),O(ve,re,C,z,X),X.delete(re)),ff(l,v,ve)}function Zd(l,d){var v=l.length;if(v)return d+=d<0?v:0,rn(d,v)?l[d]:n}function yf(l,d,v){d.length?d=Vt(d,function(z){return dt(z)?function(X){return Ao(X,z.length===1?z[0]:z)}:z}):d=[ji];var C=-1;d=Vt(d,Nt(Qe()));var O=gm(l,function(z,X,J){var re=Vt(d,function(ge){return ge(z)});return{criteria:re,index:++C,value:z}});return he(O,function(z,X){return Kw(z,X,v)})}function vm(l,d){return ga(l,d,function(v,C){return gS(l,C)})}function ga(l,d,v){for(var C=-1,O=d.length,z={};++C<O;){var X=d[C],J=Ao(l,X);v(J,X)&&Au(z,qs(X,l),J)}return z}function ln(l){return function(d){return Ao(d,l)}}function _n(l,d,v,C){var O=C?Ms:So,z=-1,X=d.length,J=l;for(l===d&&(d=kr(d)),v&&(J=Vt(l,Nt(v)));++z<X;)for(var re=0,ge=d[z],ve=v?v(ge):ge;(re=O(J,ve,re,C))>-1;)J!==l&&Nd.call(J,re,1),Nd.call(l,re,1);return l}function jn(l,d){for(var v=l?d.length:0,C=v-1;v--;){var O=d[v];if(v==C||O!==z){var z=O;rn(O)?Nd.call(l,O,1):th(l,O)}}return l}function Bl(l,d){return l+aa(af()*(d-l+1))}function vf(l,d,v,C){for(var O=-1,z=bn(yu((d-l)/(v||1)),0),X=le(z);z--;)X[C?z:++O]=l,l+=v;return X}function bu(l,d){var v="";if(!l||d<1||d>ae)return v;do d%2&&(v+=l),d=aa(d/2),d&&(l+=l);while(d);return v}function ht(l,d){return _i(mh(l,d,ji),l+"")}function Tr(l){return Bs(Lh(l))}function _m(l,d){var v=Lh(l);return gh(v,bo(d,0,v.length))}function Au(l,d,v,C){if(!wn(l))return l;d=qs(d,l);for(var O=-1,z=d.length,X=z-1,J=l;J!=null&&++O<z;){var re=ds(d[O]),ge=v;if(re==="__proto__"||re==="constructor"||re==="prototype")return l;if(O!=X){var ve=J[re];ge=C?C(ve,re,J):n,ge===n&&(ge=wn(ve)?ve:rn(d[O+1])?[]:{})}Tu(J,re,ge),J=J[re]}return l}var Jd=Fd?function(l,d){return Fd.set(l,d),l}:ji,Hs=of?function(l,d){return of(l,"toString",{configurable:!0,enumerable:!1,value:vS(d),writable:!0})}:ji;function Li(l){return gh(Lh(l))}function Er(l,d,v){var C=-1,O=l.length;d<0&&(d=-d>O?0:O+d),v=v>O?O:v,v<0&&(v+=O),O=d>v?0:v-d>>>0,d>>>=0;for(var z=le(O);++C<O;)z[C]=l[C+d];return z}function wm(l,d){var v;return zs(l,function(C,O,z){return v=d(C,O,z),!v}),!!v}function $l(l,d,v){var C=0,O=l==null?C:l.length;if(typeof d=="number"&&d===d&&O<=Oe){for(;C<O;){var z=C+O>>>1,X=l[z];X!==null&&!ms(X)&&(v?X<=d:X<d)?C=z+1:O=z}return O}return eh(l,d,ji,v)}function eh(l,d,v,C){var O=0,z=l==null?0:l.length;if(z===0)return 0;d=v(d);for(var X=d!==d,J=d===null,re=ms(d),ge=d===n;O<z;){var ve=aa((O+z)/2),Ie=v(l[ve]),Re=Ie!==n,$e=Ie===null,et=Ie===Ie,gt=ms(Ie);if(X)var tt=C||et;else ge?tt=et&&(C||Re):J?tt=et&&Re&&(C||!$e):re?tt=et&&Re&&!$e&&(C||!gt):$e||gt?tt=!1:tt=C?Ie<=d:Ie<d;tt?O=ve+1:z=ve}return yr(z,de)}function Sm(l,d){for(var v=-1,C=l.length,O=0,z=[];++v<C;){var X=l[v],J=d?d(X):X;if(!v||!Lo(J,re)){var re=J;z[O++]=X===0?0:X}}return z}function Tm(l){return typeof l=="number"?l:ms(l)?Ee:+l}function Qr(l){if(typeof l=="string")return l;if(dt(l))return Vt(l,Qr)+"";if(ms(l))return Ud?Ud.call(l):"";var d=l+"";return d=="0"&&1/l==-1/0?"-0":d}function ko(l,d,v){var C=-1,O=hu,z=l.length,X=!0,J=[],re=J;if(v)X=!1,O=ia;else if(z>=i){var ge=d?null:pv(l);if(ge)return oa(ge);X=!1,O=gr,re=new _u}else re=d?[]:J;e:for(;++C<z;){var ve=l[C],Ie=d?d(ve):ve;if(ve=v||ve!==0?ve:0,X&&Ie===Ie){for(var Re=re.length;Re--;)if(re[Re]===Ie)continue e;d&&re.push(Ie),J.push(ve)}else O(re,Ie,v)||(re!==J&&re.push(Ie),J.push(ve))}return J}function th(l,d){return d=qs(d,l),l=Jn(l,d),l==null||delete l[ds(Nr(d))]}function Em(l,d,v,C){return Au(l,d,v(Ao(l,d)),C)}function _f(l,d,v,C){for(var O=l.length,z=C?O:-1;(C?z--:++z<O)&&d(l[z],z,l););return v?Er(l,C?0:z,C?z+1:O):Er(l,C?z+1:0,C?O:z)}function jl(l,d){var v=l;return v instanceof ft&&(v=v.value()),ss(d,function(C,O){return O.func.apply(O.thisArg,is([C],O.args))},v)}function nh(l,d,v){var C=l.length;if(C<2)return C?ko(l[0]):[];for(var O=-1,z=le(C);++O<C;)for(var X=l[O],J=-1;++J<C;)J!=O&&(z[O]=js(z[O]||X,l[J],d,v));return ko(hn(z,1),d,v)}function wf(l,d,v){for(var C=-1,O=l.length,z=d.length,X={};++C<O;){var J=C<z?d[C]:n;v(X,l[C],J)}return X}function zl(l){return Hn(l)?l:[]}function rh(l){return typeof l=="function"?l:ji}function qs(l,d){return dt(l)?l:Me(l,d)?[l]:jm(zt(l))}var ov=ht;function Oo(l,d,v){var C=l.length;return v=v===n?C:v,!d&&v>=C?l:Er(l,d,v)}var Cm=Gy||function(l){return Lt.clearTimeout(l)};function Im(l,d){if(d)return l.slice();var v=l.length,C=sm?sm(v):new l.constructor(v);return l.copy(C),C}function Sf(l){var d=new l.constructor(l.byteLength);return new sf(d).set(new sf(l)),d}function av(l,d){var v=d?Sf(l.buffer):l.buffer;return new l.constructor(v,l.byteOffset,l.byteLength)}function uv(l){var d=new l.constructor(l.source,Qo.exec(l));return d.lastIndex=l.lastIndex,d}function lv(l){return gi?jt(gi.call(l)):{}}function cv(l,d){var v=d?Sf(l.buffer):l.buffer;return new l.constructor(v,l.byteOffset,l.length)}function bm(l,d){if(l!==d){var v=l!==n,C=l===null,O=l===l,z=ms(l),X=d!==n,J=d===null,re=d===d,ge=ms(d);if(!J&&!ge&&!z&&l>d||z&&X&&re&&!J&&!ge||C&&X&&re||!v&&re||!O)return 1;if(!C&&!z&&!ge&&l<d||ge&&v&&O&&!C&&!z||J&&v&&O||!X&&O||!re)return-1}return 0}function Kw(l,d,v){for(var C=-1,O=l.criteria,z=d.criteria,X=O.length,J=v.length;++C<X;){var re=bm(O[C],z[C]);if(re){if(C>=J)return re;var ge=v[C];return re*(ge=="desc"?-1:1)}}return l.index-d.index}function fv(l,d,v,C){for(var O=-1,z=l.length,X=v.length,J=-1,re=d.length,ge=bn(z-X,0),ve=le(re+ge),Ie=!C;++J<re;)ve[J]=d[J];for(;++O<X;)(Ie||O<z)&&(ve[v[O]]=l[O]);for(;ge--;)ve[J++]=l[O++];return ve}function Am(l,d,v,C){for(var O=-1,z=l.length,X=-1,J=v.length,re=-1,ge=d.length,ve=bn(z-J,0),Ie=le(ve+ge),Re=!C;++O<ve;)Ie[O]=l[O];for(var $e=O;++re<ge;)Ie[$e+re]=d[re];for(;++X<J;)(Re||O<z)&&(Ie[$e+v[X]]=l[O++]);return Ie}function kr(l,d){var v=-1,C=l.length;for(d||(d=le(C));++v<C;)d[v]=l[v];return d}function us(l,d,v,C){var O=!v;v||(v={});for(var z=-1,X=d.length;++z<X;){var J=d[z],re=C?C(v[J],l[J],J,v,l):n;re===n&&(re=l[J]),O?$s(v,J,re):Tu(v,J,re)}return v}function ih(l,d){return us(l,ls(l),d)}function Yw(l,d){return us(l,gv(l),d)}function sh(l,d){return function(v,C){var O=dt(v)?wo:yi,z=d?d():{};return O(v,l,Qe(C,2),z)}}function Wl(l){return ht(function(d,v){var C=-1,O=v.length,z=O>1?v[O-1]:n,X=O>2?v[2]:n;for(z=l.length>3&&typeof z=="function"?(O--,z):n,X&&Dr(v[0],v[1],X)&&(z=O<3?n:z,O=1),d=jt(d);++C<O;){var J=v[C];J&&l(d,J,C,z)}return d})}function Vi(l,d){return function(v,C){if(v==null)return v;if(!Bi(v))return l(v,C);for(var O=v.length,z=d?O:-1,X=jt(v);(d?z--:++z<O)&&C(X[z],z,X)!==!1;);return v}}function oh(l){return function(d,v,C){for(var O=-1,z=jt(d),X=C(d),J=X.length;J--;){var re=X[l?J:++O];if(v(z[re],re,z)===!1)break}return d}}function ah(l,d,v){var C=d&R,O=Hl(l);function z(){var X=this&&this!==Lt&&this instanceof z?O:l;return X.apply(C?v:this,arguments)}return z}function xm(l){return function(d){d=zt(d);var v=Cl(d)?mi(d):n,C=v?v[0]:d.charAt(0),O=v?Oo(v,1).join(""):d.slice(1);return C[l]()+O}}function xu(l){return function(d){return ss(UI(FI(d).replace(em,"")),l,"")}}function Hl(l){return function(){var d=arguments;switch(d.length){case 0:return new l;case 1:return new l(d[0]);case 2:return new l(d[0],d[1]);case 3:return new l(d[0],d[1],d[2]);case 4:return new l(d[0],d[1],d[2],d[3]);case 5:return new l(d[0],d[1],d[2],d[3],d[4]);case 6:return new l(d[0],d[1],d[2],d[3],d[4],d[5]);case 7:return new l(d[0],d[1],d[2],d[3],d[4],d[5],d[6])}var v=Dl(l.prototype),C=l.apply(v,d);return wn(C)?C:v}}function Pm(l,d,v){var C=Hl(l);function O(){for(var z=arguments.length,X=le(z),J=z,re=Do(O);J--;)X[J]=arguments[J];var ge=z<3&&X[0]!==re&&X[z-1]!==re?[]:xi(X,re);if(z-=ge.length,z<v)return Or(l,d,ql,O.placeholder,n,X,ge,n,n,v-z);var ve=this&&this!==Lt&&this instanceof O?C:l;return Zn(ve,this,X)}return O}function Pu(l){return function(d,v,C){var O=jt(d);if(!Bi(d)){var z=Qe(v,3);d=Cr(d),v=function(J){return z(O[J],J,O)}}var X=l(d,v,C);return X>-1?O[z?d[X]:X]:n}}function uh(l){return Ks(function(d){var v=d.length,C=v,O=vr.prototype.thru;for(l&&d.reverse();C--;){var z=d[C];if(typeof z!="function")throw new Pi(a);if(O&&!X&&Gl(z)=="wrapper")var X=new vr([],!0)}for(C=X?C:v;++C<v;){z=d[C];var J=Gl(z),re=J=="wrapper"?fh(z):n;re&&Pf(re[0])&&re[1]==(D|B|V|k)&&!re[4].length&&re[9]==1?X=X[Gl(re[0])].apply(X,re[3]):X=z.length==1&&Pf(z)?X[J]():X.thru(z)}return function(){var ge=arguments,ve=ge[0];if(X&&ge.length==1&&dt(ve))return X.plant(ve).value();for(var Ie=0,Re=v?d[Ie].apply(this,ge):ve;++Ie<v;)Re=d[Ie].call(this,Re);return Re}})}function ql(l,d,v,C,O,z,X,J,re,ge){var ve=d&D,Ie=d&R,Re=d&L,$e=d&(B|G),et=d&F,gt=Re?n:Hl(l);function tt(){for(var Tt=arguments.length,bt=le(Tt),gs=Tt;gs--;)bt[gs]=arguments[gs];if($e)var Si=Do(tt),ys=Tl(bt,Si);if(C&&(bt=fv(bt,C,O,$e)),z&&(bt=Am(bt,z,X,$e)),Tt-=ys,$e&&Tt<ge){var qn=xi(bt,Si);return Or(l,d,ql,tt.placeholder,v,bt,qn,J,re,ge-Tt)}var Vo=Ie?v:this,Vu=Re?Vo[l]:l;return Tt=bt.length,J?bt=cs(bt,J):et&&Tt>1&&bt.reverse(),ve&&re<Tt&&(bt.length=re),this&&this!==Lt&&this instanceof tt&&(Vu=gt||Hl(Vu)),Vu.apply(Vo,bt)}return tt}function dv(l,d){return function(v,C){return xo(v,l,d(C),{})}}function Tf(l,d){return function(v,C){var O;if(v===n&&C===n)return d;if(v!==n&&(O=v),C!==n){if(O===n)return C;typeof v=="string"||typeof C=="string"?(v=Qr(v),C=Qr(C)):(v=Tm(v),C=Tm(C)),O=l(v,C)}return O}}function lh(l){return Ks(function(d){return d=Vt(d,Nt(Qe())),ht(function(v){var C=this;return l(d,function(O){return Zn(O,C,v)})})})}function Ef(l,d){d=d===n?" ":Qr(d);var v=d.length;if(v<2)return v?bu(d,l):d;var C=bu(d,yu(l/mu(d)));return Cl(d)?Oo(mi(C),0,l).join(""):C.slice(0,l)}function hv(l,d,v,C){var O=d&R,z=Hl(l);function X(){for(var J=-1,re=arguments.length,ge=-1,ve=C.length,Ie=le(ve+re),Re=this&&this!==Lt&&this instanceof X?z:l;++ge<ve;)Ie[ge]=C[ge];for(;re--;)Ie[ge++]=arguments[++J];return Zn(Re,O?v:this,Ie)}return X}function Rm(l){return function(d,v,C){return C&&typeof C!="number"&&Dr(d,v,C)&&(v=C=n),d=Lu(d),v===n?(v=d,d=0):v=Lu(v),C=C===n?d<v?1:-1:Lu(C),vf(d,v,C,l)}}function ch(l){return function(d,v){return typeof d=="string"&&typeof v=="string"||(d=Qs(d),v=Qs(v)),l(d,v)}}function Or(l,d,v,C,O,z,X,J,re,ge){var ve=d&B,Ie=ve?X:n,Re=ve?n:X,$e=ve?z:n,et=ve?n:z;d|=ve?V:Y,d&=~(ve?Y:V),d&q||(d&=-4);var gt=[l,d,O,$e,Ie,et,Re,J,re,ge],tt=v.apply(n,gt);return Pf(l)&&Bm(tt,gt),tt.placeholder=C,$m(tt,l,d)}function ur(l){var d=In[l];return function(v,C){if(v=Qs(v),C=C==null?0:yr(pt(C),292),C&&xl(v)){var O=(zt(v)+"e").split("e"),z=d(O[0]+"e"+(+O[1]+C));return O=(zt(z)+"e").split("e"),+(O[0]+"e"+(+O[1]-C))}return d(v)}}var pv=ua&&1/oa(new ua([,-0]))[1]==ye?function(l){return new ua(l)}:SS;function km(l){return function(d){var v=lr(d);return v==an?Ad(d):v==Fn?jw(d):$n(d,l(d))}}function Gs(l,d,v,C,O,z,X,J){var re=d&L;if(!re&&typeof l!="function")throw new Pi(a);var ge=C?C.length:0;if(ge||(d&=-97,C=O=n),X=X===n?X:bn(pt(X),0),J=J===n?J:pt(J),ge-=O?O.length:0,d&Y){var ve=C,Ie=O;C=O=n}var Re=re?n:fh(l),$e=[l,d,v,C,O,ve,Ie,z,X,J];if(Re&&wv($e,Re),l=$e[0],d=$e[1],v=$e[2],C=$e[3],O=$e[4],J=$e[9]=$e[9]===n?re?0:l.length:bn($e[9]-ge,0),!J&&d&(B|G)&&(d&=-25),!d||d==R)var et=ah(l,d,v);else d==B||d==G?et=Pm(l,d,J):(d==V||d==(R|V))&&!O.length?et=hv(l,d,v,C):et=ql.apply(n,$e);var gt=Re?Jd:Bm;return $m(gt(et,$e),l,d)}function Om(l,d,v,C){return l===n||Lo(l,Ls[v])&&!Pt.call(C,v)?d:l}function Dm(l,d,v,C,O,z){return wn(l)&&wn(d)&&(z.set(d,l),Iu(l,d,n,Dm,z),z.delete(d)),l}function Nm(l){return rg(l)?n:l}function Mm(l,d,v,C,O,z){var X=v&x,J=l.length,re=d.length;if(J!=re&&!(X&&re>J))return!1;var ge=z.get(l),ve=z.get(d);if(ge&&ve)return ge==d&&ve==l;var Ie=-1,Re=!0,$e=v&b?new _u:n;for(z.set(l,d),z.set(d,l);++Ie<J;){var et=l[Ie],gt=d[Ie];if(C)var tt=X?C(gt,et,Ie,d,l,z):C(et,gt,Ie,l,d,z);if(tt!==n){if(tt)continue;Re=!1;break}if($e){if(!wl(d,function(Tt,bt){if(!gr($e,bt)&&(et===Tt||O(et,Tt,v,C,z)))return $e.push(bt)})){Re=!1;break}}else if(!(et===gt||O(et,gt,v,C,z))){Re=!1;break}}return z.delete(l),z.delete(d),Re}function Lm(l,d,v,C,O,z,X){switch(v){case zr:if(l.byteLength!=d.byteLength||l.byteOffset!=d.byteOffset)return!1;l=l.buffer,d=d.buffer;case un:return!(l.byteLength!=d.byteLength||!z(new sf(l),new sf(d)));case Je:case mt:case jr:return Lo(+l,+d);case Qn:return l.name==d.name&&l.message==d.message;case ci:case ao:return l==d+"";case an:var J=Ad;case Fn:var re=C&x;if(J||(J=oa),l.size!=d.size&&!re)return!1;var ge=X.get(l);if(ge)return ge==d;C|=b,X.set(l,d);var ve=Mm(J(l),J(d),C,O,z,X);return X.delete(l),ve;case uo:if(gi)return gi.call(l)==gi.call(d)}return!1}function mv(l,d,v,C,O,z){var X=v&x,J=Cf(l),re=J.length,ge=Cf(d),ve=ge.length;if(re!=ve&&!X)return!1;for(var Ie=re;Ie--;){var Re=J[Ie];if(!(X?Re in d:Pt.call(d,Re)))return!1}var $e=z.get(l),et=z.get(d);if($e&&et)return $e==d&&et==l;var gt=!0;z.set(l,d),z.set(d,l);for(var tt=X;++Ie<re;){Re=J[Ie];var Tt=l[Re],bt=d[Re];if(C)var gs=X?C(bt,Tt,Re,d,l,z):C(Tt,bt,Re,l,d,z);if(!(gs===n?Tt===bt||O(Tt,bt,v,C,z):gs)){gt=!1;break}tt||(tt=Re=="constructor")}if(gt&&!tt){var Si=l.constructor,ys=d.constructor;Si!=ys&&"constructor"in l&&"constructor"in d&&!(typeof Si=="function"&&Si instanceof Si&&typeof ys=="function"&&ys instanceof ys)&&(gt=!1)}return z.delete(l),z.delete(d),gt}function Ks(l){return _i(mh(l,n,vh),l+"")}function Cf(l){return Gd(l,Cr,ls)}function If(l){return Gd(l,$i,gv)}var fh=Fd?function(l){return Fd.get(l)}:SS;function Gl(l){for(var d=l.name+"",v=kl[d],C=Pt.call(kl,d)?v.length:0;C--;){var O=v[C],z=O.func;if(z==null||z==l)return O.name}return d}function Do(l){var d=Pt.call(U,"placeholder")?U:l;return d.placeholder}function Qe(){var l=U.iteratee||_S;return l=l===_S?Ul:l,arguments.length?l(arguments[0],arguments[1]):l}function bf(l,d){var v=l.__data__;return Kl(d)?v[typeof d=="string"?"string":"hash"]:v.map}function Af(l){for(var d=Cr(l),v=d.length;v--;){var C=d[v],O=l[C];d[v]=[C,O,Rf(O)]}return d}function ya(l,d){var v=El(l,d);return pm(v)?v:n}function dh(l){var d=Pt.call(l,gu),v=l[gu];try{l[gu]=n;var C=!0}catch{}var O=nf.call(l);return C&&(d?l[gu]=v:delete l[gu]),O}var ls=Md?function(l){return l==null?[]:(l=jt(l),Ai(Md(l),function(d){return Dd.call(l,d)}))}:TS,gv=Md?function(l){for(var d=[];l;)is(d,ls(l)),l=os(l);return d}:TS,lr=ar;(uf&&lr(new uf(new ArrayBuffer(1)))!=zr||vu&&lr(new vu)!=an||lf&&lr(lf.resolve())!=Ga||ua&&lr(new ua)!=Fn||cf&&lr(new cf)!=lo)&&(lr=function(l){var d=ar(l),v=d==xr?l.constructor:n,C=v?va(v):"";if(C)switch(C){case um:return zr;case la:return an;case Yy:return Ga;case Ol:return Fn;case Vs:return lo}return d});function Vm(l,d,v){for(var C=-1,O=v.length;++C<O;){var z=v[C],X=z.size;switch(z.type){case"drop":l+=X;break;case"dropRight":d-=X;break;case"take":d=yr(d,l+X);break;case"takeRight":l=bn(l,d-X);break}}return{start:l,end:d}}function yv(l){var d=l.match(Xi);return d?d[1].split(jc):[]}function Fm(l,d,v){d=qs(d,l);for(var C=-1,O=d.length,z=!1;++C<O;){var X=ds(d[C]);if(!(z=l!=null&&v(l,X)))break;l=l[X]}return z||++C!=O?z:(O=l==null?0:l.length,!!O&&Vv(O)&&rn(X,O)&&(dt(l)||Ff(l)))}function xf(l){var d=l.length,v=new l.constructor(d);return d&&typeof l[0]=="string"&&Pt.call(l,"index")&&(v.index=l.index,v.input=l.input),v}function cr(l){return typeof l.constructor=="function"&&!No(l)?Dl(os(l)):{}}function Qw(l,d,v){var C=l.constructor;switch(d){case un:return Sf(l);case Je:case mt:return new C(+l);case zr:return av(l,v);case Ka:case Ps:case co:case fo:case Ya:case Qa:case Xa:case Za:case Ja:return cv(l,v);case an:return new C;case jr:case ao:return new C(l);case ci:return uv(l);case Fn:return new C;case uo:return lv(l)}}function Xw(l,d){var v=d.length;if(!v)return l;var C=v-1;return d[C]=(v>1?"& ":"")+d[C],d=d.join(v>2?", ":" "),l.replace(cl,`{
/* [wrapped with `+d+`] */
`)}function hh(l){return dt(l)||Ff(l)||!!(qy&&l&&l[qy])}function rn(l,d){var v=typeof l;return d=d??ae,!!d&&(v=="number"||v!="symbol"&&hl.test(l))&&l>-1&&l%1==0&&l<d}function Dr(l,d,v){if(!wn(v))return!1;var C=typeof d;return(C=="number"?Bi(v)&&rn(d,v.length):C=="string"&&d in v)?Lo(v[d],l):!1}function Me(l,d){if(dt(l))return!1;var v=typeof l;return v=="number"||v=="symbol"||v=="boolean"||l==null||ms(l)?!0:$c.test(l)||!ho.test(l)||d!=null&&l in jt(d)}function Kl(l){var d=typeof l;return d=="string"||d=="number"||d=="symbol"||d=="boolean"?l!=="__proto__":l===null}function Pf(l){var d=Gl(l),v=U[d];if(typeof v!="function"||!(d in ft.prototype))return!1;if(l===v)return!0;var C=fh(v);return!!C&&l===C[0]}function vv(l){return!!Rd&&Rd in l}var Zw=bl?Mu:ES;function No(l){var d=l&&l.constructor,v=typeof d=="function"&&d.prototype||Ls;return l===v}function Rf(l){return l===l&&!wn(l)}function ph(l,d){return function(v){return v==null?!1:v[l]===d&&(d!==n||l in jt(v))}}function _v(l){var d=xe(l,function(C){return v.size===p&&v.clear(),C}),v=d.cache;return d}function wv(l,d){var v=l[1],C=d[1],O=v|C,z=O<(R|L|D),X=C==D&&v==B||C==D&&v==k&&l[7].length<=d[8]||C==(D|k)&&d[7].length<=d[8]&&v==B;if(!(z||X))return l;C&R&&(l[2]=d[2],O|=v&R?0:q);var J=d[3];if(J){var re=l[3];l[3]=re?fv(re,J,d[4]):J,l[4]=re?xi(l[3],g):d[4]}return J=d[5],J&&(re=l[5],l[5]=re?Am(re,J,d[6]):J,l[6]=re?xi(l[5],g):d[6]),J=d[7],J&&(l[7]=J),C&D&&(l[8]=l[8]==null?d[8]:yr(l[8],d[8])),l[9]==null&&(l[9]=d[9]),l[0]=d[0],l[1]=O,l}function Sv(l){var d=[];if(l!=null)for(var v in jt(l))d.push(v);return d}function Um(l){return nf.call(l)}function mh(l,d,v){return d=bn(d===n?l.length-1:d,0),function(){for(var C=arguments,O=-1,z=bn(C.length-d,0),X=le(z);++O<z;)X[O]=C[d+O];O=-1;for(var J=le(d+1);++O<d;)J[O]=C[O];return J[d]=v(X),Zn(l,this,J)}}function Jn(l,d){return d.length<2?l:Ao(l,Er(d,0,-1))}function cs(l,d){for(var v=l.length,C=yr(d.length,v),O=kr(l);C--;){var z=d[C];l[C]=rn(z,v)?O[z]:n}return l}function Ys(l,d){if(!(d==="constructor"&&typeof l[d]=="function")&&d!="__proto__")return l[d]}var Bm=fs(Jd),Yl=om||function(l,d){return Lt.setTimeout(l,d)},_i=fs(Hs);function $m(l,d,v){var C=d+"";return _i(l,Xw(C,Tv(yv(C),v)))}function fs(l){var d=0,v=0;return function(){var C=Gw(),O=H-(C-v);if(v=C,O>0){if(++d>=K)return arguments[0]}else d=0;return l.apply(n,arguments)}}function gh(l,d){var v=-1,C=l.length,O=C-1;for(d=d===n?C:d;++v<d;){var z=Bl(v,O),X=l[z];l[z]=l[v],l[v]=X}return l.length=d,l}var jm=_v(function(l){var d=[];return l.charCodeAt(0)===46&&d.push(""),l.replace(yn,function(v,C,O,z){d.push(O?z.replace(md,"$1"):C||v)}),d});function ds(l){if(typeof l=="string"||ms(l))return l;var d=l+"";return d=="0"&&1/l==-1/0?"-0":d}function va(l){if(l!=null){try{return tf.call(l)}catch{}try{return l+""}catch{}}return""}function Tv(l,d){return Bn(Ke,function(v){var C="_."+v[0];d&v[1]&&!hu(l,C)&&l.push(C)}),l.sort()}function Ev(l){if(l instanceof ft)return l.clone();var d=new vr(l.__wrapped__,l.__chain__);return d.__actions__=kr(l.__actions__),d.__index__=l.__index__,d.__values__=l.__values__,d}function yh(l,d,v){(v?Dr(l,d,v):d===n)?d=1:d=bn(pt(d),0);var C=l==null?0:l.length;if(!C||d<1)return[];for(var O=0,z=0,X=le(yu(C/d));O<C;)X[z++]=Er(l,O,O+=d);return X}function zm(l){for(var d=-1,v=l==null?0:l.length,C=0,O=[];++d<v;){var z=l[d];z&&(O[C++]=z)}return O}function Fi(){var l=arguments.length;if(!l)return[];for(var d=le(l-1),v=arguments[0],C=l;C--;)d[C-1]=arguments[C];return is(dt(v)?kr(v):[v],hn(d,1))}var It=ht(function(l,d){return Hn(l)?js(l,hn(d,1,Hn,!0)):[]}),er=ht(function(l,d){var v=Nr(d);return Hn(v)&&(v=n),Hn(l)?js(l,hn(d,1,Hn,!0),Qe(v,2)):[]}),An=ht(function(l,d){var v=Nr(d);return Hn(v)&&(v=n),Hn(l)?js(l,hn(d,1,Hn,!0),n,v):[]});function fr(l,d,v){var C=l==null?0:l.length;return C?(d=v||d===n?1:pt(d),Er(l,d<0?0:d,C)):[]}function wi(l,d,v){var C=l==null?0:l.length;return C?(d=v||d===n?1:pt(d),d=C-d,Er(l,0,d<0?0:d)):[]}function Ql(l,d){return l&&l.length?_f(l,Qe(d,3),!0,!0):[]}function zn(l,d){return l&&l.length?_f(l,Qe(d,3),!0):[]}function kf(l,d,v,C){var O=l==null?0:l.length;return O?(v&&typeof v!="number"&&Dr(l,d,v)&&(v=0,C=O),rv(l,d,v,C)):[]}function _a(l,d,v){var C=l==null?0:l.length;if(!C)return-1;var O=v==null?0:pt(v);return O<0&&(O=bn(C+O,0)),pu(l,Qe(d,3),O)}function Of(l,d,v){var C=l==null?0:l.length;if(!C)return-1;var O=C-1;return v!==n&&(O=pt(v),O=v<0?bn(C+O,0):yr(O,C-1)),pu(l,Qe(d,3),O,!0)}function vh(l){var d=l==null?0:l.length;return d?hn(l,1):[]}function Df(l){var d=l==null?0:l.length;return d?hn(l,ye):[]}function Xr(l,d){var v=l==null?0:l.length;return v?(d=d===n?1:pt(d),hn(l,d)):[]}function Wm(l){for(var d=-1,v=l==null?0:l.length,C={};++d<v;){var O=l[d];C[O[0]]=O[1]}return C}function Ru(l){return l&&l.length?l[0]:n}function Mo(l,d,v){var C=l==null?0:l.length;if(!C)return-1;var O=v==null?0:pt(v);return O<0&&(O=bn(C+O,0)),So(l,d,O)}function _h(l){var d=l==null?0:l.length;return d?Er(l,0,-1):[]}var Hm=ht(function(l){var d=Vt(l,zl);return d.length&&d[0]===l[0]?Kd(d):[]}),wa=ht(function(l){var d=Nr(l),v=Vt(l,zl);return d===Nr(v)?d=n:v.pop(),v.length&&v[0]===l[0]?Kd(v,Qe(d,2)):[]}),wh=ht(function(l){var d=Nr(l),v=Vt(l,zl);return d=typeof d=="function"?d:n,d&&v.pop(),v.length&&v[0]===l[0]?Kd(v,n,d):[]});function Sa(l,d){return l==null?"":Ld.call(l,d)}function Nr(l){var d=l==null?0:l.length;return d?l[d-1]:n}function Nf(l,d,v){var C=l==null?0:l.length;if(!C)return-1;var O=C;return v!==n&&(O=pt(v),O=O<0?bn(C+O,0):yr(O,C-1)),d===d?zw(l,d,O):pu(l,m,O,!0)}function qm(l,d){return l&&l.length?Zd(l,pt(d)):n}var Sh=ht(Mf);function Mf(l,d){return l&&l.length&&d&&d.length?_n(l,d):l}function Mr(l,d,v){return l&&l.length&&d&&d.length?_n(l,d,Qe(v,2)):l}function Ta(l,d,v){return l&&l.length&&d&&d.length?_n(l,d,n,v):l}var hs=Ks(function(l,d){var v=l==null?0:l.length,C=Hd(l,d);return jn(l,Vt(d,function(O){return rn(O,v)?+O:O}).sort(bm)),C});function Zr(l,d){var v=[];if(!(l&&l.length))return v;var C=-1,O=[],z=l.length;for(d=Qe(d,3);++C<z;){var X=l[C];d(X,C,l)&&(v.push(X),O.push(C))}return jn(l,O),v}function Th(l){return l==null?l:Vd.call(l)}function Gm(l,d,v){var C=l==null?0:l.length;return C?(v&&typeof v!="number"&&Dr(l,d,v)?(d=0,v=C):(d=d==null?0:pt(d),v=v===n?C:pt(v)),Er(l,d,v)):[]}function Km(l,d){return $l(l,d)}function Jw(l,d,v){return eh(l,d,Qe(v,2))}function Ea(l,d){var v=l==null?0:l.length;if(v){var C=$l(l,d);if(C<v&&Lo(l[C],d))return C}return-1}function Cv(l,d){return $l(l,d,!0)}function Ym(l,d,v){return eh(l,d,Qe(v,2),!0)}function ku(l,d){var v=l==null?0:l.length;if(v){var C=$l(l,d,!0)-1;if(Lo(l[C],d))return C}return-1}function Qm(l){return l&&l.length?Sm(l):[]}function Ou(l,d){return l&&l.length?Sm(l,Qe(d,2)):[]}function Iv(l){var d=l==null?0:l.length;return d?Er(l,1,d):[]}function bv(l,d,v){return l&&l.length?(d=v||d===n?1:pt(d),Er(l,0,d<0?0:d)):[]}function Xm(l,d,v){var C=l==null?0:l.length;return C?(d=v||d===n?1:pt(d),d=C-d,Er(l,d<0?0:d,C)):[]}function Eh(l,d){return l&&l.length?_f(l,Qe(d,3),!1,!0):[]}function eS(l,d){return l&&l.length?_f(l,Qe(d,3)):[]}var tS=ht(function(l){return ko(hn(l,1,Hn,!0))}),Av=ht(function(l){var d=Nr(l);return Hn(d)&&(d=n),ko(hn(l,1,Hn,!0),Qe(d,2))}),xv=ht(function(l){var d=Nr(l);return d=typeof d=="function"?d:n,ko(hn(l,1,Hn,!0),n,d)});function Du(l){return l&&l.length?ko(l):[]}function nS(l,d){return l&&l.length?ko(l,Qe(d,2)):[]}function Xl(l,d){return d=typeof d=="function"?d:n,l&&l.length?ko(l,n,d):[]}function Ch(l){if(!(l&&l.length))return[];var d=0;return l=Ai(l,function(v){if(Hn(v))return d=bn(v.length,d),!0}),Ot(d,function(v){return Vt(l,P(v))})}function cn(l,d){if(!(l&&l.length))return[];var v=Ch(l);return d==null?v:Vt(v,function(C){return Zn(d,n,C)})}var rS=ht(function(l,d){return Hn(l)?js(l,d):[]}),Pv=ht(function(l){return nh(Ai(l,Hn))}),iS=ht(function(l){var d=Nr(l);return Hn(d)&&(d=n),nh(Ai(l,Hn),Qe(d,2))}),sS=ht(function(l){var d=Nr(l);return d=typeof d=="function"?d:n,nh(Ai(l,Hn),n,d)}),Rv=ht(Ch);function kv(l,d){return wf(l||[],d||[],Tu)}function oS(l,d){return wf(l||[],d||[],Au)}var Ui=ht(function(l){var d=l.length,v=d>1?l[d-1]:n;return v=typeof v=="function"?(l.pop(),v):n,cn(l,v)});function Ih(l){var d=U(l);return d.__chain__=!0,d}function aS(l,d){return d(l),l}function ps(l,d){return d(l)}var bh=Ks(function(l){var d=l.length,v=d?l[0]:0,C=this.__wrapped__,O=function(z){return Hd(z,l)};return d>1||this.__actions__.length||!(C instanceof ft)||!rn(v)?this.thru(O):(C=C.slice(v,+v+(d?1:0)),C.__actions__.push({func:ps,args:[O],thisArg:n}),new vr(C,this.__chain__).thru(function(z){return d&&!z.length&&z.push(n),z}))});function Nu(){return Ih(this)}function Ah(){return new vr(this.value(),this.__chain__)}function Zm(){this.__values__===n&&(this.__values__=PI(this.value()));var l=this.__index__>=this.__values__.length,d=l?n:this.__values__[this.__index__++];return{done:l,value:d}}function Jm(){return this}function uS(l){for(var d,v=this;v instanceof Fs;){var C=Ev(v);C.__index__=0,C.__values__=n,d?O.__wrapped__=C:d=C;var O=C;v=v.__wrapped__}return O.__wrapped__=l,d}function eg(){var l=this.__wrapped__;if(l instanceof ft){var d=l;return this.__actions__.length&&(d=new ft(this)),d=d.reverse(),d.__actions__.push({func:ps,args:[Th],thisArg:n}),new vr(d,this.__chain__)}return this.thru(Th)}function lS(){return jl(this.__wrapped__,this.__actions__)}var Ov=sh(function(l,d,v){Pt.call(l,v)?++l[v]:$s(l,v,1)});function Dv(l,d,v){var C=dt(l)?du:hf;return v&&Dr(l,d,v)&&(d=n),C(l,Qe(d,3))}function xh(l,d){var v=dt(l)?Ai:dm;return v(l,Qe(d,3))}var Ph=Pu(_a),Nv=Pu(Of);function tg(l,d){return hn(Dh(l,d),1)}function Mv(l,d){return hn(Dh(l,d),ye)}function ng(l,d,v){return v=v===n?1:pt(v),hn(Dh(l,d),v)}function Lf(l,d){var v=dt(l)?Bn:zs;return v(l,Qe(d,3))}function Rh(l,d){var v=dt(l)?fu:nv;return v(l,Qe(d,3))}var kh=sh(function(l,d,v){Pt.call(l,v)?l[v].push(d):$s(l,v,[d])});function Lv(l,d,v,C){l=Bi(l)?l:Lh(l),v=v&&!C?pt(v):0;var O=l.length;return v<0&&(v=bn(O+v,0)),Fv(l)?v<=O&&l.indexOf(d,v)>-1:!!O&&So(l,d,v)>-1}var cS=ht(function(l,d,v){var C=-1,O=typeof d=="function",z=Bi(l)?le(l.length):[];return zs(l,function(X){z[++C]=O?Zn(d,X,v):Ni(X,d,v)}),z}),Oh=sh(function(l,d,v){$s(l,v,d)});function Dh(l,d){var v=dt(l)?Vt:gm;return v(l,Qe(d,3))}function Vf(l,d,v,C){return l==null?[]:(dt(d)||(d=d==null?[]:[d]),v=C?n:v,dt(v)||(v=v==null?[]:[v]),yf(l,d,v))}var fS=sh(function(l,d,v){l[v?0:1].push(d)},function(){return[[],[]]});function Nh(l,d,v){var C=dt(l)?ss:ie,O=arguments.length<3;return C(l,Qe(d,4),v,O,zs)}function o(l,d,v){var C=dt(l)?Id:ie,O=arguments.length<3;return C(l,Qe(d,4),v,O,nv)}function u(l,d){var v=dt(l)?Ai:dm;return v(l,Be(Qe(d,3)))}function h(l){var d=dt(l)?Bs:Tr;return d(l)}function y(l,d,v){(v?Dr(l,d,v):d===n)?d=1:d=pt(d);var C=dt(l)?Su:_m;return C(l,d)}function w(l){var d=dt(l)?ev:Li;return d(l)}function E(l){if(l==null)return 0;if(Bi(l))return Fv(l)?mu(l):l.length;var d=lr(l);return d==an||d==Fn?l.size:Ro(l).length}function N(l,d,v){var C=dt(l)?wl:wm;return v&&Dr(l,d,v)&&(d=n),C(l,Qe(d,3))}var Q=ht(function(l,d){if(l==null)return[];var v=d.length;return v>1&&Dr(l,d[0],d[1])?d=[]:v>2&&Dr(d[0],d[1],d[2])&&(d=[d[0]]),yf(l,hn(d,1),[])}),Z=Qt||function(){return Lt.Date.now()};function fe(l,d){if(typeof d!="function")throw new Pi(a);return l=pt(l),function(){if(--l<1)return d.apply(this,arguments)}}function Ce(l,d,v){return d=v?n:d,d=l&&d==null?l.length:d,Gs(l,D,n,n,n,n,d)}function be(l,d){var v;if(typeof d!="function")throw new Pi(a);return l=pt(l),function(){return--l>0&&(v=d.apply(this,arguments)),l<=1&&(d=n),v}}var Te=ht(function(l,d,v){var C=R;if(v.length){var O=xi(v,Do(Te));C|=V}return Gs(l,C,d,v,O)}),Ne=ht(function(l,d,v){var C=R|L;if(v.length){var O=xi(v,Do(Ne));C|=V}return Gs(d,C,l,v,O)});function Ve(l,d,v){d=v?n:d;var C=Gs(l,B,n,n,n,n,n,d);return C.placeholder=Ve.placeholder,C}function Ue(l,d,v){d=v?n:d;var C=Gs(l,G,n,n,n,n,n,d);return C.placeholder=Ue.placeholder,C}function pn(l,d,v){var C,O,z,X,J,re,ge=0,ve=!1,Ie=!1,Re=!0;if(typeof l!="function")throw new Pi(a);d=Qs(d)||0,wn(v)&&(ve=!!v.leading,Ie="maxWait"in v,z=Ie?bn(Qs(v.maxWait)||0,d):z,Re="trailing"in v?!!v.trailing:Re);function $e(qn){var Vo=C,Vu=O;return C=O=n,ge=qn,X=l.apply(Vu,Vo),X}function et(qn){return ge=qn,J=Yl(Tt,d),ve?$e(qn):X}function gt(qn){var Vo=qn-re,Vu=qn-ge,jI=d-Vo;return Ie?yr(jI,z-Vu):jI}function tt(qn){var Vo=qn-re,Vu=qn-ge;return re===n||Vo>=d||Vo<0||Ie&&Vu>=z}function Tt(){var qn=Z();if(tt(qn))return bt(qn);J=Yl(Tt,gt(qn))}function bt(qn){return J=n,Re&&C?$e(qn):(C=O=n,X)}function gs(){J!==n&&Cm(J),ge=0,C=re=O=J=n}function Si(){return J===n?X:bt(Z())}function ys(){var qn=Z(),Vo=tt(qn);if(C=arguments,O=this,re=qn,Vo){if(J===n)return et(re);if(Ie)return Cm(J),J=Yl(Tt,d),$e(re)}return J===n&&(J=Yl(Tt,d)),X}return ys.cancel=gs,ys.flush=Si,ys}var se=ht(function(l,d){return fm(l,1,d)}),te=ht(function(l,d,v){return fm(l,Qs(d)||0,v)});function ue(l){return Gs(l,F)}function xe(l,d){if(typeof l!="function"||d!=null&&typeof d!="function")throw new Pi(a);var v=function(){var C=arguments,O=d?d.apply(this,C):C[0],z=v.cache;if(z.has(O))return z.get(O);var X=l.apply(this,C);return v.cache=z.set(O,X)||z,X};return v.cache=new(xe.Cache||Ri),v}xe.Cache=Ri;function Be(l){if(typeof l!="function")throw new Pi(a);return function(){var d=arguments;switch(d.length){case 0:return!l.call(this);case 1:return!l.call(this,d[0]);case 2:return!l.call(this,d[0],d[1]);case 3:return!l.call(this,d[0],d[1],d[2])}return!l.apply(this,d)}}function ze(l){return be(2,l)}var We=ov(function(l,d){d=d.length==1&&dt(d[0])?Vt(d[0],Nt(Qe())):Vt(hn(d,1),Nt(Qe()));var v=d.length;return ht(function(C){for(var O=-1,z=yr(C.length,v);++O<z;)C[O]=d[O].call(this,C[O]);return Zn(l,this,C)})}),Xe=ht(function(l,d){var v=xi(d,Do(Xe));return Gs(l,V,n,d,v)}),Wn=ht(function(l,d){var v=xi(d,Do(Wn));return Gs(l,Y,n,d,v)}),Rt=Ks(function(l,d){return Gs(l,k,n,n,n,d)});function Ca(l,d){if(typeof l!="function")throw new Pi(a);return d=d===n?d:pt(d),ht(l,d)}function dS(l,d){if(typeof l!="function")throw new Pi(a);return d=d==null?0:bn(pt(d),0),ht(function(v){var C=v[d],O=Oo(v,0,d);return C&&is(O,C),Zn(l,this,O)})}function dV(l,d,v){var C=!0,O=!0;if(typeof l!="function")throw new Pi(a);return wn(v)&&(C="leading"in v?!!v.leading:C,O="trailing"in v?!!v.trailing:O),pn(l,d,{leading:C,maxWait:d,trailing:O})}function hV(l){return Ce(l,1)}function pV(l,d){return Xe(rh(d),l)}function mV(){if(!arguments.length)return[];var l=arguments[0];return dt(l)?l:[l]}function gV(l){return Yr(l,I)}function yV(l,d){return d=typeof d=="function"?d:n,Yr(l,I,d)}function vV(l){return Yr(l,_|I)}function _V(l,d){return d=typeof d=="function"?d:n,Yr(l,_|I,d)}function wV(l,d){return d==null||df(l,d,Cr(d))}function Lo(l,d){return l===d||l!==l&&d!==d}var SV=ch(pa),TV=ch(function(l,d){return l>=d}),Ff=Yd(function(){return arguments}())?Yd:function(l){return xn(l)&&Pt.call(l,"callee")&&!Dd.call(l,"callee")},dt=le.isArray,EV=_l?Nt(_l):iv;function Bi(l){return l!=null&&Vv(l.length)&&!Mu(l)}function Hn(l){return xn(l)&&Bi(l)}function CV(l){return l===!0||l===!1||xn(l)&&ar(l)==Je}var Zl=am||ES,IV=Xn?Nt(Xn):Po;function bV(l){return xn(l)&&l.nodeType===1&&!rg(l)}function AV(l){if(l==null)return!0;if(Bi(l)&&(dt(l)||typeof l=="string"||typeof l.splice=="function"||Zl(l)||Mh(l)||Ff(l)))return!l.length;var d=lr(l);if(d==an||d==Fn)return!l.size;if(No(l))return!Ro(l).length;for(var v in l)if(Pt.call(l,v))return!1;return!0}function xV(l,d){return Mi(l,d)}function PV(l,d,v){v=typeof v=="function"?v:n;var C=v?v(l,d):n;return C===n?Mi(l,d,n,v):!!C}function hS(l){if(!xn(l))return!1;var d=ar(l);return d==Qn||d==on||typeof l.message=="string"&&typeof l.name=="string"&&!rg(l)}function RV(l){return typeof l=="number"&&xl(l)}function Mu(l){if(!wn(l))return!1;var d=ar(l);return d==Ar||d==sr||d==ut||d==Ki}function II(l){return typeof l=="number"&&l==pt(l)}function Vv(l){return typeof l=="number"&&l>-1&&l%1==0&&l<=ae}function wn(l){var d=typeof l;return l!=null&&(d=="object"||d=="function")}function xn(l){return l!=null&&typeof l=="object"}var bI=bi?Nt(bi):sv;function kV(l,d){return l===d||Fl(l,d,Af(d))}function OV(l,d,v){return v=typeof v=="function"?v:n,Fl(l,d,Af(d),v)}function DV(l){return AI(l)&&l!=+l}function NV(l){if(Zw(l))throw new st(s);return pm(l)}function MV(l){return l===null}function LV(l){return l==null}function AI(l){return typeof l=="number"||xn(l)&&ar(l)==jr}function rg(l){if(!xn(l)||ar(l)!=xr)return!1;var d=os(l);if(d===null)return!0;var v=Pt.call(d,"constructor")&&d.constructor;return typeof v=="function"&&v instanceof v&&tf.call(v)==kd}var pS=cu?Nt(cu):mf;function VV(l){return II(l)&&l>=-9007199254740991&&l<=ae}var xI=rs?Nt(rs):Ws;function Fv(l){return typeof l=="string"||!dt(l)&&xn(l)&&ar(l)==ao}function ms(l){return typeof l=="symbol"||xn(l)&&ar(l)==uo}var Mh=Cd?Nt(Cd):gf;function FV(l){return l===n}function UV(l){return xn(l)&&lr(l)==lo}function BV(l){return xn(l)&&ar(l)==Un}var $V=ch(ma),jV=ch(function(l,d){return l<=d});function PI(l){if(!l)return[];if(Bi(l))return Fv(l)?mi(l):kr(l);if(Co&&l[Co])return $w(l[Co]());var d=lr(l),v=d==an?Ad:d==Fn?oa:Lh;return v(l)}function Lu(l){if(!l)return l===0?l:0;if(l=Qs(l),l===ye||l===-1/0){var d=l<0?-1:1;return d*Ae}return l===l?l:0}function pt(l){var d=Lu(l),v=d%1;return d===d?v?d-v:d:0}function RI(l){return l?bo(pt(l),0,ee):0}function Qs(l){if(typeof l=="number")return l;if(ms(l))return Ee;if(wn(l)){var d=typeof l.valueOf=="function"?l.valueOf():l;l=wn(d)?d+"":d}if(typeof l!="string")return l===0?l:+l;l=St(l);var v=gd.test(l);return v||dl.test(l)?uu(l.slice(2),v?2:8):Ji.test(l)?Ee:+l}function kI(l){return us(l,$i(l))}function zV(l){return l?bo(pt(l),-9007199254740991,ae):l===0?l:0}function zt(l){return l==null?"":Qr(l)}var WV=Wl(function(l,d){if(No(d)||Bi(d)){us(d,Cr(d),l);return}for(var v in d)Pt.call(d,v)&&Tu(l,v,d[v])}),OI=Wl(function(l,d){us(d,$i(d),l)}),Uv=Wl(function(l,d,v,C){us(d,$i(d),l,C)}),HV=Wl(function(l,d,v,C){us(d,Cr(d),l,C)}),qV=Ks(Hd);function GV(l,d){var v=Dl(l);return d==null?v:Zt(v,d)}var KV=ht(function(l,d){l=jt(l);var v=-1,C=d.length,O=C>2?d[2]:n;for(O&&Dr(d[0],d[1],O)&&(C=1);++v<C;)for(var z=d[v],X=$i(z),J=-1,re=X.length;++J<re;){var ge=X[J],ve=l[ge];(ve===n||Lo(ve,Ls[ge])&&!Pt.call(l,ge))&&(l[ge]=z[ge])}return l}),YV=ht(function(l){return l.push(n,Dm),Zn(DI,n,l)});function QV(l,d){return mr(l,Qe(d,3),vi)}function XV(l,d){return mr(l,Qe(d,3),ha)}function ZV(l,d){return l==null?l:qd(l,Qe(d,3),$i)}function JV(l,d){return l==null?l:pf(l,Qe(d,3),$i)}function eF(l,d){return l&&vi(l,Qe(d,3))}function tF(l,d){return l&&ha(l,Qe(d,3))}function nF(l){return l==null?[]:Vl(l,Cr(l))}function rF(l){return l==null?[]:Vl(l,$i(l))}function mS(l,d,v){var C=l==null?n:Ao(l,d);return C===n?v:C}function iF(l,d){return l!=null&&Fm(l,d,Di)}function gS(l,d){return l!=null&&Fm(l,d,Cu)}var sF=dv(function(l,d,v){d!=null&&typeof d.toString!="function"&&(d=nf.call(d)),l[d]=v},vS(ji)),oF=dv(function(l,d,v){d!=null&&typeof d.toString!="function"&&(d=nf.call(d)),Pt.call(l,d)?l[d].push(v):l[d]=[v]},Qe),aF=ht(Ni);function Cr(l){return Bi(l)?Us(l):Ro(l)}function $i(l){return Bi(l)?Us(l,!0):mm(l)}function uF(l,d){var v={};return d=Qe(d,3),vi(l,function(C,O,z){$s(v,d(C,O,z),C)}),v}function lF(l,d){var v={};return d=Qe(d,3),vi(l,function(C,O,z){$s(v,O,d(C,O,z))}),v}var cF=Wl(function(l,d,v){Iu(l,d,v)}),DI=Wl(function(l,d,v,C){Iu(l,d,v,C)}),fF=Ks(function(l,d){var v={};if(l==null)return v;var C=!1;d=Vt(d,function(z){return z=qs(z,l),C||(C=z.length>1),z}),us(l,If(l),v),C&&(v=Yr(v,_|S|I,Nm));for(var O=d.length;O--;)th(v,d[O]);return v});function dF(l,d){return NI(l,Be(Qe(d)))}var hF=Ks(function(l,d){return l==null?{}:vm(l,d)});function NI(l,d){if(l==null)return{};var v=Vt(If(l),function(C){return[C]});return d=Qe(d),ga(l,v,function(C,O){return d(C,O[0])})}function pF(l,d,v){d=qs(d,l);var C=-1,O=d.length;for(O||(O=1,l=n);++C<O;){var z=l==null?n:l[ds(d[C])];z===n&&(C=O,z=v),l=Mu(z)?z.call(l):z}return l}function mF(l,d,v){return l==null?l:Au(l,d,v)}function gF(l,d,v,C){return C=typeof C=="function"?C:n,l==null?l:Au(l,d,v,C)}var MI=km(Cr),LI=km($i);function yF(l,d,v){var C=dt(l),O=C||Zl(l)||Mh(l);if(d=Qe(d,4),v==null){var z=l&&l.constructor;O?v=C?new z:[]:wn(l)?v=Mu(z)?Dl(os(l)):{}:v={}}return(O?Bn:vi)(l,function(X,J,re){return d(v,X,J,re)}),v}function vF(l,d){return l==null?!0:th(l,d)}function _F(l,d,v){return l==null?l:Em(l,d,rh(v))}function wF(l,d,v,C){return C=typeof C=="function"?C:n,l==null?l:Em(l,d,rh(v),C)}function Lh(l){return l==null?[]:dn(l,Cr(l))}function SF(l){return l==null?[]:dn(l,$i(l))}function TF(l,d,v){return v===n&&(v=d,d=n),v!==n&&(v=Qs(v),v=v===v?v:0),d!==n&&(d=Qs(d),d=d===d?d:0),bo(Qs(l),d,v)}function EF(l,d,v){return d=Lu(d),v===n?(v=d,d=0):v=Lu(v),l=Qs(l),hm(l,d,v)}function CF(l,d,v){if(v&&typeof v!="boolean"&&Dr(l,d,v)&&(d=v=n),v===n&&(typeof d=="boolean"?(v=d,d=n):typeof l=="boolean"&&(v=l,l=n)),l===n&&d===n?(l=0,d=1):(l=Lu(l),d===n?(d=l,l=0):d=Lu(d)),l>d){var C=l;l=d,d=C}if(v||l%1||d%1){var O=af();return yr(l+O*(d-l+Xc("1e-"+((O+"").length-1))),d)}return Bl(l,d)}var IF=xu(function(l,d,v){return d=d.toLowerCase(),l+(v?VI(d):d)});function VI(l){return yS(zt(l).toLowerCase())}function FI(l){return l=zt(l),l&&l.replace(Wc,Fy).replace(Sd,"")}function bF(l,d,v){l=zt(l),d=Qr(d);var C=l.length;v=v===n?C:bo(pt(v),0,C);var O=v;return v-=d.length,v>=0&&l.slice(v,O)==d}function AF(l){return l=zt(l),l&&Rs.test(l)?l.replace(Yi,Uy):l}function xF(l){return l=zt(l),l&&Qi.test(l)?l.replace(Yo,"\\$&"):l}var PF=xu(function(l,d,v){return l+(v?"-":"")+d.toLowerCase()}),RF=xu(function(l,d,v){return l+(v?" ":"")+d.toLowerCase()}),kF=xm("toLowerCase");function OF(l,d,v){l=zt(l),d=pt(d);var C=d?mu(l):0;if(!d||C>=d)return l;var O=(d-C)/2;return Ef(aa(O),v)+l+Ef(yu(O),v)}function DF(l,d,v){l=zt(l),d=pt(d);var C=d?mu(l):0;return d&&C<d?l+Ef(d-C,v):l}function NF(l,d,v){l=zt(l),d=pt(d);var C=d?mu(l):0;return d&&C<d?Ef(d-C,v)+l:l}function MF(l,d,v){return v||d==null?d=0:d&&(d=+d),Ky(zt(l).replace(po,""),d||0)}function LF(l,d,v){return(v?Dr(l,d,v):d===n)?d=1:d=pt(d),bu(zt(l),d)}function VF(){var l=arguments,d=zt(l[0]);return l.length<3?d:d.replace(l[1],l[2])}var FF=xu(function(l,d,v){return l+(v?"_":"")+d.toLowerCase()});function UF(l,d,v){return v&&typeof v!="number"&&Dr(l,d,v)&&(d=v=n),v=v===n?ee:v>>>0,v?(l=zt(l),l&&(typeof d=="string"||d!=null&&!pS(d))&&(d=Qr(d),!d&&Cl(l))?Oo(mi(l),0,v):l.split(d,v)):[]}var BF=xu(function(l,d,v){return l+(v?" ":"")+yS(d)});function $F(l,d,v){return l=zt(l),v=v==null?0:bo(pt(v),0,l.length),d=Qr(d),l.slice(v,v+d.length)==d}function jF(l,d,v){var C=U.templateSettings;v&&Dr(l,d,v)&&(d=n),l=zt(l),d=Uv({},d,C,Om);var O=Uv({},d.imports,C.imports,Om),z=Cr(O),X=dn(O,z),J,re,ge=0,ve=d.interpolate||ru,Ie="__p += '",Re=ef((d.escape||ru).source+"|"+ve.source+"|"+(ve===ll?Zi:ru).source+"|"+(d.evaluate||ru).source+"|$","g"),$e="//# sourceURL="+(Pt.call(d,"sourceURL")?(d.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Ed+"]")+`
`;l.replace(Re,function(tt,Tt,bt,gs,Si,ys){return bt||(bt=gs),Ie+=l.slice(ge,ys).replace(Jp,By),Tt&&(J=!0,Ie+=`' +
__e(`+Tt+`) +
'`),Si&&(re=!0,Ie+=`';
`+Si+`;
__p += '`),bt&&(Ie+=`' +
((__t = (`+bt+`)) == null ? '' : __t) +
'`),ge=ys+tt.length,tt}),Ie+=`';
`;var et=Pt.call(d,"variable")&&d.variable;if(!et)Ie=`with (obj) {
`+Ie+`
}
`;else if(fl.test(et))throw new st(c);Ie=(re?Ie.replace(eu,""):Ie).replace(ol,"$1").replace(al,"$1;"),Ie="function("+(et||"obj")+`) {
`+(et?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(J?", __e = _.escape":"")+(re?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Ie+`return __p
}`;var gt=BI(function(){return xt(z,$e+"return "+Ie).apply(n,X)});if(gt.source=Ie,hS(gt))throw gt;return gt}function zF(l){return zt(l).toLowerCase()}function WF(l){return zt(l).toUpperCase()}function HF(l,d,v){if(l=zt(l),l&&(v||d===n))return St(l);if(!l||!(d=Qr(d)))return l;var C=mi(l),O=mi(d),z=Hr(C,O),X=sa(C,O)+1;return Oo(C,z,X).join("")}function qF(l,d,v){if(l=zt(l),l&&(v||d===n))return l.slice(0,Pd(l)+1);if(!l||!(d=Qr(d)))return l;var C=mi(l),O=sa(C,mi(d))+1;return Oo(C,0,O).join("")}function GF(l,d,v){if(l=zt(l),l&&(v||d===n))return l.replace(po,"");if(!l||!(d=Qr(d)))return l;var C=mi(l),O=Hr(C,mi(d));return Oo(C,O).join("")}function KF(l,d){var v=A,C=W;if(wn(d)){var O="separator"in d?d.separator:O;v="length"in d?pt(d.length):v,C="omission"in d?Qr(d.omission):C}l=zt(l);var z=l.length;if(Cl(l)){var X=mi(l);z=X.length}if(v>=z)return l;var J=v-mu(C);if(J<1)return C;var re=X?Oo(X,0,J).join(""):l.slice(0,J);if(O===n)return re+C;if(X&&(J+=re.length-J),pS(O)){if(l.slice(J).search(O)){var ge,ve=re;for(O.global||(O=ef(O.source,zt(Qo.exec(O))+"g")),O.lastIndex=0;ge=O.exec(ve);)var Ie=ge.index;re=re.slice(0,Ie===n?J:Ie)}}else if(l.indexOf(Qr(O),J)!=J){var Re=re.lastIndexOf(O);Re>-1&&(re=re.slice(0,Re))}return re+C}function YF(l){return l=zt(l),l&&ul.test(l)?l.replace(fi,$y):l}var QF=xu(function(l,d,v){return l+(v?" ":"")+d.toUpperCase()}),yS=xm("toUpperCase");function UI(l,d,v){return l=zt(l),d=v?n:d,d===n?Bw(l)?Ww(l):Sl(l):l.match(d)||[]}var BI=ht(function(l,d){try{return Zn(l,n,d)}catch(v){return hS(v)?v:new st(v)}}),XF=Ks(function(l,d){return Bn(d,function(v){v=ds(v),$s(l,v,Te(l[v],l))}),l});function ZF(l){var d=l==null?0:l.length,v=Qe();return l=d?Vt(l,function(C){if(typeof C[1]!="function")throw new Pi(a);return[v(C[0]),C[1]]}):[],ht(function(C){for(var O=-1;++O<d;){var z=l[O];if(Zn(z[0],this,C))return Zn(z[1],this,C)}})}function JF(l){return tv(Yr(l,_))}function vS(l){return function(){return l}}function e4(l,d){return l==null||l!==l?d:l}var t4=uh(),n4=uh(!0);function ji(l){return l}function _S(l){return Ul(typeof l=="function"?l:Yr(l,_))}function r4(l){return Xd(Yr(l,_))}function i4(l,d){return nn(l,Yr(d,_))}var s4=ht(function(l,d){return function(v){return Ni(v,l,d)}}),o4=ht(function(l,d){return function(v){return Ni(l,v,d)}});function wS(l,d,v){var C=Cr(d),O=Vl(d,C);v==null&&!(wn(d)&&(O.length||!C.length))&&(v=d,d=l,l=this,O=Vl(d,Cr(d)));var z=!(wn(v)&&"chain"in v)||!!v.chain,X=Mu(l);return Bn(O,function(J){var re=d[J];l[J]=re,X&&(l.prototype[J]=function(){var ge=this.__chain__;if(z||ge){var ve=l(this.__wrapped__),Ie=ve.__actions__=kr(this.__actions__);return Ie.push({func:re,args:arguments,thisArg:l}),ve.__chain__=ge,ve}return re.apply(l,is([this.value()],arguments))})}),l}function a4(){return Lt._===this&&(Lt._=Wy),this}function SS(){}function u4(l){return l=pt(l),ht(function(d){return Zd(d,l)})}var l4=lh(Vt),c4=lh(du),f4=lh(wl);function $I(l){return Me(l)?P(ds(l)):ln(l)}function d4(l){return function(d){return l==null?n:Ao(l,d)}}var h4=Rm(),p4=Rm(!0);function TS(){return[]}function ES(){return!1}function m4(){return{}}function g4(){return""}function y4(){return!0}function v4(l,d){if(l=pt(l),l<1||l>ae)return[];var v=ee,C=yr(l,ee);d=Qe(d),l-=ee;for(var O=Ot(C,d);++v<l;)d(v);return O}function _4(l){return dt(l)?Vt(l,ds):ms(l)?[l]:kr(jm(zt(l)))}function w4(l){var d=++Al;return zt(l)+d}var S4=Tf(function(l,d){return l+d},0),T4=ur("ceil"),E4=Tf(function(l,d){return l/d},1),C4=ur("floor");function I4(l){return l&&l.length?Eu(l,ji,pa):n}function b4(l,d){return l&&l.length?Eu(l,Qe(d,2),pa):n}function A4(l){return T(l,ji)}function x4(l,d){return T(l,Qe(d,2))}function P4(l){return l&&l.length?Eu(l,ji,ma):n}function R4(l,d){return l&&l.length?Eu(l,Qe(d,2),ma):n}var k4=Tf(function(l,d){return l*d},1),O4=ur("round"),D4=Tf(function(l,d){return l-d},0);function N4(l){return l&&l.length?Pe(l,ji):0}function M4(l,d){return l&&l.length?Pe(l,Qe(d,2)):0}return U.after=fe,U.ary=Ce,U.assign=WV,U.assignIn=OI,U.assignInWith=Uv,U.assignWith=HV,U.at=qV,U.before=be,U.bind=Te,U.bindAll=XF,U.bindKey=Ne,U.castArray=mV,U.chain=Ih,U.chunk=yh,U.compact=zm,U.concat=Fi,U.cond=ZF,U.conforms=JF,U.constant=vS,U.countBy=Ov,U.create=GV,U.curry=Ve,U.curryRight=Ue,U.debounce=pn,U.defaults=KV,U.defaultsDeep=YV,U.defer=se,U.delay=te,U.difference=It,U.differenceBy=er,U.differenceWith=An,U.drop=fr,U.dropRight=wi,U.dropRightWhile=Ql,U.dropWhile=zn,U.fill=kf,U.filter=xh,U.flatMap=tg,U.flatMapDeep=Mv,U.flatMapDepth=ng,U.flatten=vh,U.flattenDeep=Df,U.flattenDepth=Xr,U.flip=ue,U.flow=t4,U.flowRight=n4,U.fromPairs=Wm,U.functions=nF,U.functionsIn=rF,U.groupBy=kh,U.initial=_h,U.intersection=Hm,U.intersectionBy=wa,U.intersectionWith=wh,U.invert=sF,U.invertBy=oF,U.invokeMap=cS,U.iteratee=_S,U.keyBy=Oh,U.keys=Cr,U.keysIn=$i,U.map=Dh,U.mapKeys=uF,U.mapValues=lF,U.matches=r4,U.matchesProperty=i4,U.memoize=xe,U.merge=cF,U.mergeWith=DI,U.method=s4,U.methodOf=o4,U.mixin=wS,U.negate=Be,U.nthArg=u4,U.omit=fF,U.omitBy=dF,U.once=ze,U.orderBy=Vf,U.over=l4,U.overArgs=We,U.overEvery=c4,U.overSome=f4,U.partial=Xe,U.partialRight=Wn,U.partition=fS,U.pick=hF,U.pickBy=NI,U.property=$I,U.propertyOf=d4,U.pull=Sh,U.pullAll=Mf,U.pullAllBy=Mr,U.pullAllWith=Ta,U.pullAt=hs,U.range=h4,U.rangeRight=p4,U.rearg=Rt,U.reject=u,U.remove=Zr,U.rest=Ca,U.reverse=Th,U.sampleSize=y,U.set=mF,U.setWith=gF,U.shuffle=w,U.slice=Gm,U.sortBy=Q,U.sortedUniq=Qm,U.sortedUniqBy=Ou,U.split=UF,U.spread=dS,U.tail=Iv,U.take=bv,U.takeRight=Xm,U.takeRightWhile=Eh,U.takeWhile=eS,U.tap=aS,U.throttle=dV,U.thru=ps,U.toArray=PI,U.toPairs=MI,U.toPairsIn=LI,U.toPath=_4,U.toPlainObject=kI,U.transform=yF,U.unary=hV,U.union=tS,U.unionBy=Av,U.unionWith=xv,U.uniq=Du,U.uniqBy=nS,U.uniqWith=Xl,U.unset=vF,U.unzip=Ch,U.unzipWith=cn,U.update=_F,U.updateWith=wF,U.values=Lh,U.valuesIn=SF,U.without=rS,U.words=UI,U.wrap=pV,U.xor=Pv,U.xorBy=iS,U.xorWith=sS,U.zip=Rv,U.zipObject=kv,U.zipObjectDeep=oS,U.zipWith=Ui,U.entries=MI,U.entriesIn=LI,U.extend=OI,U.extendWith=Uv,wS(U,U),U.add=S4,U.attempt=BI,U.camelCase=IF,U.capitalize=VI,U.ceil=T4,U.clamp=TF,U.clone=gV,U.cloneDeep=vV,U.cloneDeepWith=_V,U.cloneWith=yV,U.conformsTo=wV,U.deburr=FI,U.defaultTo=e4,U.divide=E4,U.endsWith=bF,U.eq=Lo,U.escape=AF,U.escapeRegExp=xF,U.every=Dv,U.find=Ph,U.findIndex=_a,U.findKey=QV,U.findLast=Nv,U.findLastIndex=Of,U.findLastKey=XV,U.floor=C4,U.forEach=Lf,U.forEachRight=Rh,U.forIn=ZV,U.forInRight=JV,U.forOwn=eF,U.forOwnRight=tF,U.get=mS,U.gt=SV,U.gte=TV,U.has=iF,U.hasIn=gS,U.head=Ru,U.identity=ji,U.includes=Lv,U.indexOf=Mo,U.inRange=EF,U.invoke=aF,U.isArguments=Ff,U.isArray=dt,U.isArrayBuffer=EV,U.isArrayLike=Bi,U.isArrayLikeObject=Hn,U.isBoolean=CV,U.isBuffer=Zl,U.isDate=IV,U.isElement=bV,U.isEmpty=AV,U.isEqual=xV,U.isEqualWith=PV,U.isError=hS,U.isFinite=RV,U.isFunction=Mu,U.isInteger=II,U.isLength=Vv,U.isMap=bI,U.isMatch=kV,U.isMatchWith=OV,U.isNaN=DV,U.isNative=NV,U.isNil=LV,U.isNull=MV,U.isNumber=AI,U.isObject=wn,U.isObjectLike=xn,U.isPlainObject=rg,U.isRegExp=pS,U.isSafeInteger=VV,U.isSet=xI,U.isString=Fv,U.isSymbol=ms,U.isTypedArray=Mh,U.isUndefined=FV,U.isWeakMap=UV,U.isWeakSet=BV,U.join=Sa,U.kebabCase=PF,U.last=Nr,U.lastIndexOf=Nf,U.lowerCase=RF,U.lowerFirst=kF,U.lt=$V,U.lte=jV,U.max=I4,U.maxBy=b4,U.mean=A4,U.meanBy=x4,U.min=P4,U.minBy=R4,U.stubArray=TS,U.stubFalse=ES,U.stubObject=m4,U.stubString=g4,U.stubTrue=y4,U.multiply=k4,U.nth=qm,U.noConflict=a4,U.noop=SS,U.now=Z,U.pad=OF,U.padEnd=DF,U.padStart=NF,U.parseInt=MF,U.random=CF,U.reduce=Nh,U.reduceRight=o,U.repeat=LF,U.replace=VF,U.result=pF,U.round=O4,U.runInContext=ne,U.sample=h,U.size=E,U.snakeCase=FF,U.some=N,U.sortedIndex=Km,U.sortedIndexBy=Jw,U.sortedIndexOf=Ea,U.sortedLastIndex=Cv,U.sortedLastIndexBy=Ym,U.sortedLastIndexOf=ku,U.startCase=BF,U.startsWith=$F,U.subtract=D4,U.sum=N4,U.sumBy=M4,U.template=jF,U.times=v4,U.toFinite=Lu,U.toInteger=pt,U.toLength=RI,U.toLower=zF,U.toNumber=Qs,U.toSafeInteger=zV,U.toString=zt,U.toUpper=WF,U.trim=HF,U.trimEnd=qF,U.trimStart=GF,U.truncate=KF,U.unescape=YF,U.uniqueId=w4,U.upperCase=QF,U.upperFirst=yS,U.each=Lf,U.eachRight=Rh,U.first=Ru,wS(U,function(){var l={};return vi(U,function(d,v){Pt.call(U.prototype,v)||(l[v]=d)}),l}(),{chain:!1}),U.VERSION=r,Bn(["bind","bindKey","curry","curryRight","partial","partialRight"],function(l){U[l].placeholder=U}),Bn(["drop","take"],function(l,d){ft.prototype[l]=function(v){v=v===n?1:bn(pt(v),0);var C=this.__filtered__&&!d?new ft(this):this.clone();return C.__filtered__?C.__takeCount__=yr(v,C.__takeCount__):C.__views__.push({size:yr(v,ee),type:l+(C.__dir__<0?"Right":"")}),C},ft.prototype[l+"Right"]=function(v){return this.reverse()[l](v).reverse()}}),Bn(["filter","map","takeWhile"],function(l,d){var v=d+1,C=v==ce||v==_e;ft.prototype[l]=function(O){var z=this.clone();return z.__iteratees__.push({iteratee:Qe(O,3),type:v}),z.__filtered__=z.__filtered__||C,z}}),Bn(["head","last"],function(l,d){var v="take"+(d?"Right":"");ft.prototype[l]=function(){return this[v](1).value()[0]}}),Bn(["initial","tail"],function(l,d){var v="drop"+(d?"":"Right");ft.prototype[l]=function(){return this.__filtered__?new ft(this):this[v](1)}}),ft.prototype.compact=function(){return this.filter(ji)},ft.prototype.find=function(l){return this.filter(l).head()},ft.prototype.findLast=function(l){return this.reverse().find(l)},ft.prototype.invokeMap=ht(function(l,d){return typeof l=="function"?new ft(this):this.map(function(v){return Ni(v,l,d)})}),ft.prototype.reject=function(l){return this.filter(Be(Qe(l)))},ft.prototype.slice=function(l,d){l=pt(l);var v=this;return v.__filtered__&&(l>0||d<0)?new ft(v):(l<0?v=v.takeRight(-l):l&&(v=v.drop(l)),d!==n&&(d=pt(d),v=d<0?v.dropRight(-d):v.take(d-l)),v)},ft.prototype.takeRightWhile=function(l){return this.reverse().takeWhile(l).reverse()},ft.prototype.toArray=function(){return this.take(ee)},vi(ft.prototype,function(l,d){var v=/^(?:filter|find|map|reject)|While$/.test(d),C=/^(?:head|last)$/.test(d),O=U[C?"take"+(d=="last"?"Right":""):d],z=C||/^find/.test(d);O&&(U.prototype[d]=function(){var X=this.__wrapped__,J=C?[1]:arguments,re=X instanceof ft,ge=J[0],ve=re||dt(X),Ie=function(Tt){var bt=O.apply(U,is([Tt],J));return C&&Re?bt[0]:bt};ve&&v&&typeof ge=="function"&&ge.length!=1&&(re=ve=!1);var Re=this.__chain__,$e=!!this.__actions__.length,et=z&&!Re,gt=re&&!$e;if(!z&&ve){X=gt?X:new ft(this);var tt=l.apply(X,J);return tt.__actions__.push({func:ps,args:[Ie],thisArg:n}),new vr(tt,Re)}return et&&gt?l.apply(this,J):(tt=this.thru(Ie),et?C?tt.value()[0]:tt.value():tt)})}),Bn(["pop","push","shift","sort","splice","unshift"],function(l){var d=To[l],v=/^(?:push|sort|unshift)$/.test(l)?"tap":"thru",C=/^(?:pop|shift)$/.test(l);U.prototype[l]=function(){var O=arguments;if(C&&!this.__chain__){var z=this.value();return d.apply(dt(z)?z:[],O)}return this[v](function(X){return d.apply(dt(X)?X:[],O)})}}),vi(ft.prototype,function(l,d){var v=U[d];if(v){var C=v.name+"";Pt.call(kl,C)||(kl[C]=[]),kl[C].push({name:d,func:v})}}),kl[ql(n,L).name]=[{name:"wrapper",func:n}],ft.prototype.clone=Bd,ft.prototype.reverse=lm,ft.prototype.value=Nl,U.prototype.at=bh,U.prototype.chain=Nu,U.prototype.commit=Ah,U.prototype.next=Zm,U.prototype.plant=uS,U.prototype.reverse=eg,U.prototype.toJSON=U.prototype.valueOf=U.prototype.value=lS,U.prototype.first=U.prototype.head,Co&&(U.prototype[Co]=Jm),U},Il=Hw();Cn?((Cn.exports=Il)._=Il,na._=Il):Lt._=Il}).call(AK)}(Tg,Tg.exports)),Tg.exports}var PK=xK();class hd extends Error{}class RK extends hd{constructor(e){super(`Invalid DateTime: ${e.toMessage()}`)}}class kK extends hd{constructor(e){super(`Invalid Interval: ${e.toMessage()}`)}}class OK extends hd{constructor(e){super(`Invalid Duration: ${e.toMessage()}`)}}class tp extends hd{}class K2 extends hd{constructor(e){super(`Invalid unit ${e}`)}}class ri extends hd{}class ec extends hd{constructor(){super("Zone is an abstract class")}}const ke="numeric",Ko="short",Is="long",T0={year:ke,month:ke,day:ke},Y2={year:ke,month:Ko,day:ke},DK={year:ke,month:Ko,day:ke,weekday:Ko},Q2={year:ke,month:Is,day:ke},X2={year:ke,month:Is,day:ke,weekday:Is},Z2={hour:ke,minute:ke},J2={hour:ke,minute:ke,second:ke},eN={hour:ke,minute:ke,second:ke,timeZoneName:Ko},tN={hour:ke,minute:ke,second:ke,timeZoneName:Is},nN={hour:ke,minute:ke,hourCycle:"h23"},rN={hour:ke,minute:ke,second:ke,hourCycle:"h23"},iN={hour:ke,minute:ke,second:ke,hourCycle:"h23",timeZoneName:Ko},sN={hour:ke,minute:ke,second:ke,hourCycle:"h23",timeZoneName:Is},oN={year:ke,month:ke,day:ke,hour:ke,minute:ke},aN={year:ke,month:ke,day:ke,hour:ke,minute:ke,second:ke},uN={year:ke,month:Ko,day:ke,hour:ke,minute:ke},lN={year:ke,month:Ko,day:ke,hour:ke,minute:ke,second:ke},NK={year:ke,month:Ko,day:ke,weekday:Ko,hour:ke,minute:ke},cN={year:ke,month:Is,day:ke,hour:ke,minute:ke,timeZoneName:Ko},fN={year:ke,month:Is,day:ke,hour:ke,minute:ke,second:ke,timeZoneName:Ko},dN={year:ke,month:Is,day:ke,weekday:Is,hour:ke,minute:ke,timeZoneName:Is},hN={year:ke,month:Is,day:ke,weekday:Is,hour:ke,minute:ke,second:ke,timeZoneName:Is};class Py{get type(){throw new ec}get name(){throw new ec}get ianaName(){return this.name}get isUniversal(){throw new ec}offsetName(e,n){throw new ec}formatOffset(e,n){throw new ec}offset(e){throw new ec}equals(e){throw new ec}get isValid(){throw new ec}}let iT=null;class Pw extends Py{static get instance(){return iT===null&&(iT=new Pw),iT}get type(){return"system"}get name(){return new Intl.DateTimeFormat().resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(e,{format:n,locale:r}){return TN(e,n,r)}formatOffset(e,n){return Ng(this.offset(e),n)}offset(e){return-new Date(e).getTimezoneOffset()}equals(e){return e.type==="system"}get isValid(){return!0}}let N_={};function MK(t){return N_[t]||(N_[t]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:t,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"})),N_[t]}const LK={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};function VK(t,e){const n=t.format(e).replace(/\u200E/g,""),r=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(n),[,i,s,a,c,f,p,g]=r;return[a,i,s,c,f,p,g]}function FK(t,e){const n=t.formatToParts(e),r=[];for(let i=0;i<n.length;i++){const{type:s,value:a}=n[i],c=LK[s];s==="era"?r[c]=a:at(c)||(r[c]=parseInt(a,10))}return r}let r_={};class tl extends Py{static create(e){return r_[e]||(r_[e]=new tl(e)),r_[e]}static resetCache(){r_={},N_={}}static isValidSpecifier(e){return this.isValidZone(e)}static isValidZone(e){if(!e)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:e}).format(),!0}catch{return!1}}constructor(e){super(),this.zoneName=e,this.valid=tl.isValidZone(e)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(e,{format:n,locale:r}){return TN(e,n,r,this.name)}formatOffset(e,n){return Ng(this.offset(e),n)}offset(e){const n=new Date(e);if(isNaN(n))return NaN;const r=MK(this.name);let[i,s,a,c,f,p,g]=r.formatToParts?FK(r,n):VK(r,n);c==="BC"&&(i=-Math.abs(i)+1);const S=kw({year:i,month:s,day:a,hour:f===24?0:f,minute:p,second:g,millisecond:0});let I=+n;const x=I%1e3;return I-=x>=0?x:1e3+x,(S-I)/(60*1e3)}equals(e){return e.type==="iana"&&e.name===this.name}get isValid(){return this.valid}}let Ax={};function UK(t,e={}){const n=JSON.stringify([t,e]);let r=Ax[n];return r||(r=new Intl.ListFormat(t,e),Ax[n]=r),r}let kE={};function OE(t,e={}){const n=JSON.stringify([t,e]);let r=kE[n];return r||(r=new Intl.DateTimeFormat(t,e),kE[n]=r),r}let DE={};function BK(t,e={}){const n=JSON.stringify([t,e]);let r=DE[n];return r||(r=new Intl.NumberFormat(t,e),DE[n]=r),r}let NE={};function $K(t,e={}){const{base:n,...r}=e,i=JSON.stringify([t,r]);let s=NE[i];return s||(s=new Intl.RelativeTimeFormat(t,e),NE[i]=s),s}let Eg=null;function jK(){return Eg||(Eg=new Intl.DateTimeFormat().resolvedOptions().locale,Eg)}let xx={};function zK(t){let e=xx[t];if(!e){const n=new Intl.Locale(t);e="getWeekInfo"in n?n.getWeekInfo():n.weekInfo,xx[t]=e}return e}function WK(t){const e=t.indexOf("-x-");e!==-1&&(t=t.substring(0,e));const n=t.indexOf("-u-");if(n===-1)return[t];{let r,i;try{r=OE(t).resolvedOptions(),i=t}catch{const f=t.substring(0,n);r=OE(f).resolvedOptions(),i=f}const{numberingSystem:s,calendar:a}=r;return[i,s,a]}}function HK(t,e,n){return(n||e)&&(t.includes("-u-")||(t+="-u"),n&&(t+=`-ca-${n}`),e&&(t+=`-nu-${e}`)),t}function qK(t){const e=[];for(let n=1;n<=12;n++){const r=rt.utc(2009,n,1);e.push(t(r))}return e}function GK(t){const e=[];for(let n=1;n<=7;n++){const r=rt.utc(2016,11,13+n);e.push(t(r))}return e}function i_(t,e,n,r){const i=t.listingMode();return i==="error"?null:i==="en"?n(e):r(e)}function KK(t){return t.numberingSystem&&t.numberingSystem!=="latn"?!1:t.numberingSystem==="latn"||!t.locale||t.locale.startsWith("en")||new Intl.DateTimeFormat(t.intl).resolvedOptions().numberingSystem==="latn"}class YK{constructor(e,n,r){this.padTo=r.padTo||0,this.floor=r.floor||!1;const{padTo:i,floor:s,...a}=r;if(!n||Object.keys(a).length>0){const c={useGrouping:!1,...r};r.padTo>0&&(c.minimumIntegerDigits=r.padTo),this.inf=BK(e,c)}}format(e){if(this.inf){const n=this.floor?Math.floor(e):e;return this.inf.format(n)}else{const n=this.floor?Math.floor(e):kC(e,3);return nr(n,this.padTo)}}}class QK{constructor(e,n,r){this.opts=r,this.originalZone=void 0;let i;if(this.opts.timeZone)this.dt=e;else if(e.zone.type==="fixed"){const a=-1*(e.offset/60),c=a>=0?`Etc/GMT+${a}`:`Etc/GMT${a}`;e.offset!==0&&tl.create(c).valid?(i=c,this.dt=e):(i="UTC",this.dt=e.offset===0?e:e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone)}else e.zone.type==="system"?this.dt=e:e.zone.type==="iana"?(this.dt=e,i=e.zone.name):(i="UTC",this.dt=e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone);const s={...this.opts};s.timeZone=s.timeZone||i,this.dtf=OE(n,s)}format(){return this.originalZone?this.formatToParts().map(({value:e})=>e).join(""):this.dtf.format(this.dt.toJSDate())}formatToParts(){const e=this.dtf.formatToParts(this.dt.toJSDate());return this.originalZone?e.map(n=>{if(n.type==="timeZoneName"){const r=this.originalZone.offsetName(this.dt.ts,{locale:this.dt.locale,format:this.opts.timeZoneName});return{...n,value:r}}else return n}):e}resolvedOptions(){return this.dtf.resolvedOptions()}}class XK{constructor(e,n,r){this.opts={style:"long",...r},!n&&wN()&&(this.rtf=$K(e,r))}format(e,n){return this.rtf?this.rtf.format(e,n):wY(n,e,this.opts.numeric,this.opts.style!=="long")}formatToParts(e,n){return this.rtf?this.rtf.formatToParts(e,n):[]}}const ZK={firstDay:1,minimalDays:4,weekend:[6,7]};class qt{static fromOpts(e){return qt.create(e.locale,e.numberingSystem,e.outputCalendar,e.weekSettings,e.defaultToEN)}static create(e,n,r,i,s=!1){const a=e||Dn.defaultLocale,c=a||(s?"en-US":jK()),f=n||Dn.defaultNumberingSystem,p=r||Dn.defaultOutputCalendar,g=ME(i)||Dn.defaultWeekSettings;return new qt(c,f,p,g,a)}static resetCache(){Eg=null,kE={},DE={},NE={}}static fromObject({locale:e,numberingSystem:n,outputCalendar:r,weekSettings:i}={}){return qt.create(e,n,r,i)}constructor(e,n,r,i,s){const[a,c,f]=WK(e);this.locale=a,this.numberingSystem=n||c||null,this.outputCalendar=r||f||null,this.weekSettings=i,this.intl=HK(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=s,this.fastNumbersCached=null}get fastNumbers(){return this.fastNumbersCached==null&&(this.fastNumbersCached=KK(this)),this.fastNumbersCached}listingMode(){const e=this.isEnglish(),n=(this.numberingSystem===null||this.numberingSystem==="latn")&&(this.outputCalendar===null||this.outputCalendar==="gregory");return e&&n?"en":"intl"}clone(e){return!e||Object.getOwnPropertyNames(e).length===0?this:qt.create(e.locale||this.specifiedLocale,e.numberingSystem||this.numberingSystem,e.outputCalendar||this.outputCalendar,ME(e.weekSettings)||this.weekSettings,e.defaultToEN||!1)}redefaultToEN(e={}){return this.clone({...e,defaultToEN:!0})}redefaultToSystem(e={}){return this.clone({...e,defaultToEN:!1})}months(e,n=!1){return i_(this,e,IN,()=>{const r=n?{month:e,day:"numeric"}:{month:e},i=n?"format":"standalone";return this.monthsCache[i][e]||(this.monthsCache[i][e]=qK(s=>this.extract(s,r,"month"))),this.monthsCache[i][e]})}weekdays(e,n=!1){return i_(this,e,xN,()=>{const r=n?{weekday:e,year:"numeric",month:"long",day:"numeric"}:{weekday:e},i=n?"format":"standalone";return this.weekdaysCache[i][e]||(this.weekdaysCache[i][e]=GK(s=>this.extract(s,r,"weekday"))),this.weekdaysCache[i][e]})}meridiems(){return i_(this,void 0,()=>PN,()=>{if(!this.meridiemCache){const e={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[rt.utc(2016,11,13,9),rt.utc(2016,11,13,19)].map(n=>this.extract(n,e,"dayperiod"))}return this.meridiemCache})}eras(e){return i_(this,e,RN,()=>{const n={era:e};return this.eraCache[e]||(this.eraCache[e]=[rt.utc(-40,1,1),rt.utc(2017,1,1)].map(r=>this.extract(r,n,"era"))),this.eraCache[e]})}extract(e,n,r){const i=this.dtFormatter(e,n),s=i.formatToParts(),a=s.find(c=>c.type.toLowerCase()===r);return a?a.value:null}numberFormatter(e={}){return new YK(this.intl,e.forceSimple||this.fastNumbers,e)}dtFormatter(e,n={}){return new QK(e,this.intl,n)}relFormatter(e={}){return new XK(this.intl,this.isEnglish(),e)}listFormatter(e={}){return UK(this.intl,e)}isEnglish(){return this.locale==="en"||this.locale.toLowerCase()==="en-us"||new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")}getWeekSettings(){return this.weekSettings?this.weekSettings:SN()?zK(this.locale):ZK}getStartOfWeek(){return this.getWeekSettings().firstDay}getMinDaysInFirstWeek(){return this.getWeekSettings().minimalDays}getWeekendDays(){return this.getWeekSettings().weekend}equals(e){return this.locale===e.locale&&this.numberingSystem===e.numberingSystem&&this.outputCalendar===e.outputCalendar}toString(){return`Locale(${this.locale}, ${this.numberingSystem}, ${this.outputCalendar})`}}let sT=null;class Ei extends Py{static get utcInstance(){return sT===null&&(sT=new Ei(0)),sT}static instance(e){return e===0?Ei.utcInstance:new Ei(e)}static parseSpecifier(e){if(e){const n=e.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(n)return new Ei(Ow(n[1],n[2]))}return null}constructor(e){super(),this.fixed=e}get type(){return"fixed"}get name(){return this.fixed===0?"UTC":`UTC${Ng(this.fixed,"narrow")}`}get ianaName(){return this.fixed===0?"Etc/UTC":`Etc/GMT${Ng(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(e,n){return Ng(this.fixed,n)}get isUniversal(){return!0}offset(){return this.fixed}equals(e){return e.type==="fixed"&&e.fixed===this.fixed}get isValid(){return!0}}class JK extends Py{constructor(e){super(),this.zoneName=e}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}function cc(t,e){if(at(t)||t===null)return e;if(t instanceof Py)return t;if(sY(t)){const n=t.toLowerCase();return n==="default"?e:n==="local"||n==="system"?Pw.instance:n==="utc"||n==="gmt"?Ei.utcInstance:Ei.parseSpecifier(n)||tl.create(t)}else return yc(t)?Ei.instance(t):typeof t=="object"&&"offset"in t&&typeof t.offset=="function"?t:new JK(t)}const AC={arab:"[٠-٩]",arabext:"[۰-۹]",bali:"[᭐-᭙]",beng:"[০-৯]",deva:"[०-९]",fullwide:"[０-９]",gujr:"[૦-૯]",hanidec:"[〇|一|二|三|四|五|六|七|八|九]",khmr:"[០-៩]",knda:"[೦-೯]",laoo:"[໐-໙]",limb:"[᥆-᥏]",mlym:"[൦-൯]",mong:"[᠐-᠙]",mymr:"[၀-၉]",orya:"[୦-୯]",tamldec:"[௦-௯]",telu:"[౦-౯]",thai:"[๐-๙]",tibt:"[༠-༩]",latn:"\\d"},Px={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},eY=AC.hanidec.replace(/[\[|\]]/g,"").split("");function tY(t){let e=parseInt(t,10);if(isNaN(e)){e="";for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);if(t[n].search(AC.hanidec)!==-1)e+=eY.indexOf(t[n]);else for(const i in Px){const[s,a]=Px[i];r>=s&&r<=a&&(e+=r-s)}}return parseInt(e,10)}else return e}let Jh={};function nY(){Jh={}}function Fo({numberingSystem:t},e=""){const n=t||"latn";return Jh[n]||(Jh[n]={}),Jh[n][e]||(Jh[n][e]=new RegExp(`${AC[n]}${e}`)),Jh[n][e]}let Rx=()=>Date.now(),kx="system",Ox=null,Dx=null,Nx=null,Mx=60,Lx,Vx=null;class Dn{static get now(){return Rx}static set now(e){Rx=e}static set defaultZone(e){kx=e}static get defaultZone(){return cc(kx,Pw.instance)}static get defaultLocale(){return Ox}static set defaultLocale(e){Ox=e}static get defaultNumberingSystem(){return Dx}static set defaultNumberingSystem(e){Dx=e}static get defaultOutputCalendar(){return Nx}static set defaultOutputCalendar(e){Nx=e}static get defaultWeekSettings(){return Vx}static set defaultWeekSettings(e){Vx=ME(e)}static get twoDigitCutoffYear(){return Mx}static set twoDigitCutoffYear(e){Mx=e%100}static get throwOnInvalid(){return Lx}static set throwOnInvalid(e){Lx=e}static resetCaches(){qt.resetCache(),tl.resetCache(),rt.resetCache(),nY()}}class zo{constructor(e,n){this.reason=e,this.explanation=n}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}const pN=[0,31,59,90,120,151,181,212,243,273,304,334],mN=[0,31,60,91,121,152,182,213,244,274,305,335];function to(t,e){return new zo("unit out of range",`you specified ${e} (of type ${typeof e}) as a ${t}, which is invalid`)}function xC(t,e,n){const r=new Date(Date.UTC(t,e-1,n));t<100&&t>=0&&r.setUTCFullYear(r.getUTCFullYear()-1900);const i=r.getUTCDay();return i===0?7:i}function gN(t,e,n){return n+(Ry(t)?mN:pN)[e-1]}function yN(t,e){const n=Ry(t)?mN:pN,r=n.findIndex(s=>s<e),i=e-n[r];return{month:r+1,day:i}}function PC(t,e){return(t-e+7)%7+1}function E0(t,e=4,n=1){const{year:r,month:i,day:s}=t,a=gN(r,i,s),c=PC(xC(r,i,s),n);let f=Math.floor((a-c+14-e)/7),p;return f<1?(p=r-1,f=iy(p,e,n)):f>iy(r,e,n)?(p=r+1,f=1):p=r,{weekYear:p,weekNumber:f,weekday:c,...Dw(t)}}function Fx(t,e=4,n=1){const{weekYear:r,weekNumber:i,weekday:s}=t,a=PC(xC(r,1,e),n),c=gp(r);let f=i*7+s-a-7+e,p;f<1?(p=r-1,f+=gp(p)):f>c?(p=r+1,f-=gp(r)):p=r;const{month:g,day:_}=yN(p,f);return{year:p,month:g,day:_,...Dw(t)}}function oT(t){const{year:e,month:n,day:r}=t,i=gN(e,n,r);return{year:e,ordinal:i,...Dw(t)}}function Ux(t){const{year:e,ordinal:n}=t,{month:r,day:i}=yN(e,n);return{year:e,month:r,day:i,...Dw(t)}}function Bx(t,e){if(!at(t.localWeekday)||!at(t.localWeekNumber)||!at(t.localWeekYear)){if(!at(t.weekday)||!at(t.weekNumber)||!at(t.weekYear))throw new tp("Cannot mix locale-based week fields with ISO-based week fields");return at(t.localWeekday)||(t.weekday=t.localWeekday),at(t.localWeekNumber)||(t.weekNumber=t.localWeekNumber),at(t.localWeekYear)||(t.weekYear=t.localWeekYear),delete t.localWeekday,delete t.localWeekNumber,delete t.localWeekYear,{minDaysInFirstWeek:e.getMinDaysInFirstWeek(),startOfWeek:e.getStartOfWeek()}}else return{minDaysInFirstWeek:4,startOfWeek:1}}function rY(t,e=4,n=1){const r=Rw(t.weekYear),i=no(t.weekNumber,1,iy(t.weekYear,e,n)),s=no(t.weekday,1,7);return r?i?s?!1:to("weekday",t.weekday):to("week",t.weekNumber):to("weekYear",t.weekYear)}function iY(t){const e=Rw(t.year),n=no(t.ordinal,1,gp(t.year));return e?n?!1:to("ordinal",t.ordinal):to("year",t.year)}function vN(t){const e=Rw(t.year),n=no(t.month,1,12),r=no(t.day,1,C0(t.year,t.month));return e?n?r?!1:to("day",t.day):to("month",t.month):to("year",t.year)}function _N(t){const{hour:e,minute:n,second:r,millisecond:i}=t,s=no(e,0,23)||e===24&&n===0&&r===0&&i===0,a=no(n,0,59),c=no(r,0,59),f=no(i,0,999);return s?a?c?f?!1:to("millisecond",i):to("second",r):to("minute",n):to("hour",e)}function at(t){return typeof t>"u"}function yc(t){return typeof t=="number"}function Rw(t){return typeof t=="number"&&t%1===0}function sY(t){return typeof t=="string"}function oY(t){return Object.prototype.toString.call(t)==="[object Date]"}function wN(){try{return typeof Intl<"u"&&!!Intl.RelativeTimeFormat}catch{return!1}}function SN(){try{return typeof Intl<"u"&&!!Intl.Locale&&("weekInfo"in Intl.Locale.prototype||"getWeekInfo"in Intl.Locale.prototype)}catch{return!1}}function aY(t){return Array.isArray(t)?t:[t]}function $x(t,e,n){if(t.length!==0)return t.reduce((r,i)=>{const s=[e(i),i];return r&&n(r[0],s[0])===r[0]?r:s},null)[1]}function uY(t,e){return e.reduce((n,r)=>(n[r]=t[r],n),{})}function Op(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function ME(t){if(t==null)return null;if(typeof t!="object")throw new ri("Week settings must be an object");if(!no(t.firstDay,1,7)||!no(t.minimalDays,1,7)||!Array.isArray(t.weekend)||t.weekend.some(e=>!no(e,1,7)))throw new ri("Invalid week settings");return{firstDay:t.firstDay,minimalDays:t.minimalDays,weekend:Array.from(t.weekend)}}function no(t,e,n){return Rw(t)&&t>=e&&t<=n}function lY(t,e){return t-e*Math.floor(t/e)}function nr(t,e=2){const n=t<0;let r;return n?r="-"+(""+-t).padStart(e,"0"):r=(""+t).padStart(e,"0"),r}function ic(t){if(!(at(t)||t===null||t===""))return parseInt(t,10)}function Uf(t){if(!(at(t)||t===null||t===""))return parseFloat(t)}function RC(t){if(!(at(t)||t===null||t==="")){const e=parseFloat("0."+t)*1e3;return Math.floor(e)}}function kC(t,e,n=!1){const r=10**e;return(n?Math.trunc:Math.round)(t*r)/r}function Ry(t){return t%4===0&&(t%100!==0||t%400===0)}function gp(t){return Ry(t)?366:365}function C0(t,e){const n=lY(e-1,12)+1,r=t+(e-n)/12;return n===2?Ry(r)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][n-1]}function kw(t){let e=Date.UTC(t.year,t.month-1,t.day,t.hour,t.minute,t.second,t.millisecond);return t.year<100&&t.year>=0&&(e=new Date(e),e.setUTCFullYear(t.year,t.month-1,t.day)),+e}function jx(t,e,n){return-PC(xC(t,1,e),n)+e-1}function iy(t,e=4,n=1){const r=jx(t,e,n),i=jx(t+1,e,n);return(gp(t)-r+i)/7}function LE(t){return t>99?t:t>Dn.twoDigitCutoffYear?1900+t:2e3+t}function TN(t,e,n,r=null){const i=new Date(t),s={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};r&&(s.timeZone=r);const a={timeZoneName:e,...s},c=new Intl.DateTimeFormat(n,a).formatToParts(i).find(f=>f.type.toLowerCase()==="timezonename");return c?c.value:null}function Ow(t,e){let n=parseInt(t,10);Number.isNaN(n)&&(n=0);const r=parseInt(e,10)||0,i=n<0||Object.is(n,-0)?-r:r;return n*60+i}function EN(t){const e=Number(t);if(typeof t=="boolean"||t===""||Number.isNaN(e))throw new ri(`Invalid unit value ${t}`);return e}function I0(t,e){const n={};for(const r in t)if(Op(t,r)){const i=t[r];if(i==null)continue;n[e(r)]=EN(i)}return n}function Ng(t,e){const n=Math.trunc(Math.abs(t/60)),r=Math.trunc(Math.abs(t%60)),i=t>=0?"+":"-";switch(e){case"short":return`${i}${nr(n,2)}:${nr(r,2)}`;case"narrow":return`${i}${n}${r>0?`:${r}`:""}`;case"techie":return`${i}${nr(n,2)}${nr(r,2)}`;default:throw new RangeError(`Value format ${e} is out of range for property format`)}}function Dw(t){return uY(t,["hour","minute","second","millisecond"])}const cY=["January","February","March","April","May","June","July","August","September","October","November","December"],CN=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],fY=["J","F","M","A","M","J","J","A","S","O","N","D"];function IN(t){switch(t){case"narrow":return[...fY];case"short":return[...CN];case"long":return[...cY];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}const bN=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],AN=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],dY=["M","T","W","T","F","S","S"];function xN(t){switch(t){case"narrow":return[...dY];case"short":return[...AN];case"long":return[...bN];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}const PN=["AM","PM"],hY=["Before Christ","Anno Domini"],pY=["BC","AD"],mY=["B","A"];function RN(t){switch(t){case"narrow":return[...mY];case"short":return[...pY];case"long":return[...hY];default:return null}}function gY(t){return PN[t.hour<12?0:1]}function yY(t,e){return xN(e)[t.weekday-1]}function vY(t,e){return IN(e)[t.month-1]}function _Y(t,e){return RN(e)[t.year<0?0:1]}function wY(t,e,n="always",r=!1){const i={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},s=["hours","minutes","seconds"].indexOf(t)===-1;if(n==="auto"&&s){const _=t==="days";switch(e){case 1:return _?"tomorrow":`next ${i[t][0]}`;case-1:return _?"yesterday":`last ${i[t][0]}`;case 0:return _?"today":`this ${i[t][0]}`}}const a=Object.is(e,-0)||e<0,c=Math.abs(e),f=c===1,p=i[t],g=r?f?p[1]:p[2]||p[1]:f?i[t][0]:t;return a?`${c} ${g} ago`:`in ${c} ${g}`}function zx(t,e){let n="";for(const r of t)r.literal?n+=r.val:n+=e(r.val);return n}const SY={D:T0,DD:Y2,DDD:Q2,DDDD:X2,t:Z2,tt:J2,ttt:eN,tttt:tN,T:nN,TT:rN,TTT:iN,TTTT:sN,f:oN,ff:uN,fff:cN,ffff:dN,F:aN,FF:lN,FFF:fN,FFFF:hN};class si{static create(e,n={}){return new si(e,n)}static parseFormat(e){let n=null,r="",i=!1;const s=[];for(let a=0;a<e.length;a++){const c=e.charAt(a);c==="'"?(r.length>0&&s.push({literal:i||/^\s+$/.test(r),val:r}),n=null,r="",i=!i):i||c===n?r+=c:(r.length>0&&s.push({literal:/^\s+$/.test(r),val:r}),r=c,n=c)}return r.length>0&&s.push({literal:i||/^\s+$/.test(r),val:r}),s}static macroTokenToFormatOpts(e){return SY[e]}constructor(e,n){this.opts=n,this.loc=e,this.systemLoc=null}formatWithSystemDefault(e,n){return this.systemLoc===null&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(e,{...this.opts,...n}).format()}dtFormatter(e,n={}){return this.loc.dtFormatter(e,{...this.opts,...n})}formatDateTime(e,n){return this.dtFormatter(e,n).format()}formatDateTimeParts(e,n){return this.dtFormatter(e,n).formatToParts()}formatInterval(e,n){return this.dtFormatter(e.start,n).dtf.formatRange(e.start.toJSDate(),e.end.toJSDate())}resolvedOptions(e,n){return this.dtFormatter(e,n).resolvedOptions()}num(e,n=0){if(this.opts.forceSimple)return nr(e,n);const r={...this.opts};return n>0&&(r.padTo=n),this.loc.numberFormatter(r).format(e)}formatDateTimeFromString(e,n){const r=this.loc.listingMode()==="en",i=this.loc.outputCalendar&&this.loc.outputCalendar!=="gregory",s=(I,x)=>this.loc.extract(e,I,x),a=I=>e.isOffsetFixed&&e.offset===0&&I.allowZ?"Z":e.isValid?e.zone.formatOffset(e.ts,I.format):"",c=()=>r?gY(e):s({hour:"numeric",hourCycle:"h12"},"dayperiod"),f=(I,x)=>r?vY(e,I):s(x?{month:I}:{month:I,day:"numeric"},"month"),p=(I,x)=>r?yY(e,I):s(x?{weekday:I}:{weekday:I,month:"long",day:"numeric"},"weekday"),g=I=>{const x=si.macroTokenToFormatOpts(I);return x?this.formatWithSystemDefault(e,x):I},_=I=>r?_Y(e,I):s({era:I},"era"),S=I=>{switch(I){case"S":return this.num(e.millisecond);case"u":case"SSS":return this.num(e.millisecond,3);case"s":return this.num(e.second);case"ss":return this.num(e.second,2);case"uu":return this.num(Math.floor(e.millisecond/10),2);case"uuu":return this.num(Math.floor(e.millisecond/100));case"m":return this.num(e.minute);case"mm":return this.num(e.minute,2);case"h":return this.num(e.hour%12===0?12:e.hour%12);case"hh":return this.num(e.hour%12===0?12:e.hour%12,2);case"H":return this.num(e.hour);case"HH":return this.num(e.hour,2);case"Z":return a({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return a({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return a({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return e.zone.offsetName(e.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return e.zone.offsetName(e.ts,{format:"long",locale:this.loc.locale});case"z":return e.zoneName;case"a":return c();case"d":return i?s({day:"numeric"},"day"):this.num(e.day);case"dd":return i?s({day:"2-digit"},"day"):this.num(e.day,2);case"c":return this.num(e.weekday);case"ccc":return p("short",!0);case"cccc":return p("long",!0);case"ccccc":return p("narrow",!0);case"E":return this.num(e.weekday);case"EEE":return p("short",!1);case"EEEE":return p("long",!1);case"EEEEE":return p("narrow",!1);case"L":return i?s({month:"numeric",day:"numeric"},"month"):this.num(e.month);case"LL":return i?s({month:"2-digit",day:"numeric"},"month"):this.num(e.month,2);case"LLL":return f("short",!0);case"LLLL":return f("long",!0);case"LLLLL":return f("narrow",!0);case"M":return i?s({month:"numeric"},"month"):this.num(e.month);case"MM":return i?s({month:"2-digit"},"month"):this.num(e.month,2);case"MMM":return f("short",!1);case"MMMM":return f("long",!1);case"MMMMM":return f("narrow",!1);case"y":return i?s({year:"numeric"},"year"):this.num(e.year);case"yy":return i?s({year:"2-digit"},"year"):this.num(e.year.toString().slice(-2),2);case"yyyy":return i?s({year:"numeric"},"year"):this.num(e.year,4);case"yyyyyy":return i?s({year:"numeric"},"year"):this.num(e.year,6);case"G":return _("short");case"GG":return _("long");case"GGGGG":return _("narrow");case"kk":return this.num(e.weekYear.toString().slice(-2),2);case"kkkk":return this.num(e.weekYear,4);case"W":return this.num(e.weekNumber);case"WW":return this.num(e.weekNumber,2);case"n":return this.num(e.localWeekNumber);case"nn":return this.num(e.localWeekNumber,2);case"ii":return this.num(e.localWeekYear.toString().slice(-2),2);case"iiii":return this.num(e.localWeekYear,4);case"o":return this.num(e.ordinal);case"ooo":return this.num(e.ordinal,3);case"q":return this.num(e.quarter);case"qq":return this.num(e.quarter,2);case"X":return this.num(Math.floor(e.ts/1e3));case"x":return this.num(e.ts);default:return g(I)}};return zx(si.parseFormat(n),S)}formatDurationFromString(e,n){const r=f=>{switch(f[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},i=f=>p=>{const g=r(p);return g?this.num(f.get(g),p.length):p},s=si.parseFormat(n),a=s.reduce((f,{literal:p,val:g})=>p?f:f.concat(g),[]),c=e.shiftTo(...a.map(r).filter(f=>f));return zx(s,i(c))}}const kN=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function qp(...t){const e=t.reduce((n,r)=>n+r.source,"");return RegExp(`^${e}$`)}function Gp(...t){return e=>t.reduce(([n,r,i],s)=>{const[a,c,f]=s(e,i);return[{...n,...a},c||r,f]},[{},null,1]).slice(0,2)}function Kp(t,...e){if(t==null)return[null,null];for(const[n,r]of e){const i=n.exec(t);if(i)return r(i)}return[null,null]}function ON(...t){return(e,n)=>{const r={};let i;for(i=0;i<t.length;i++)r[t[i]]=ic(e[n+i]);return[r,null,n+i]}}const DN=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,TY=`(?:${DN.source}?(?:\\[(${kN.source})\\])?)?`,OC=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,NN=RegExp(`${OC.source}${TY}`),DC=RegExp(`(?:T${NN.source})?`),EY=/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,CY=/(\d{4})-?W(\d\d)(?:-?(\d))?/,IY=/(\d{4})-?(\d{3})/,bY=ON("weekYear","weekNumber","weekDay"),AY=ON("year","ordinal"),xY=/(\d{4})-(\d\d)-(\d\d)/,MN=RegExp(`${OC.source} ?(?:${DN.source}|(${kN.source}))?`),PY=RegExp(`(?: ${MN.source})?`);function yp(t,e,n){const r=t[e];return at(r)?n:ic(r)}function RY(t,e){return[{year:yp(t,e),month:yp(t,e+1,1),day:yp(t,e+2,1)},null,e+3]}function Yp(t,e){return[{hours:yp(t,e,0),minutes:yp(t,e+1,0),seconds:yp(t,e+2,0),milliseconds:RC(t[e+3])},null,e+4]}function ky(t,e){const n=!t[e]&&!t[e+1],r=Ow(t[e+1],t[e+2]),i=n?null:Ei.instance(r);return[{},i,e+3]}function Oy(t,e){const n=t[e]?tl.create(t[e]):null;return[{},n,e+1]}const kY=RegExp(`^T?${OC.source}$`),OY=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function DY(t){const[e,n,r,i,s,a,c,f,p]=t,g=e[0]==="-",_=f&&f[0]==="-",S=(I,x=!1)=>I!==void 0&&(x||I&&g)?-I:I;return[{years:S(Uf(n)),months:S(Uf(r)),weeks:S(Uf(i)),days:S(Uf(s)),hours:S(Uf(a)),minutes:S(Uf(c)),seconds:S(Uf(f),f==="-0"),milliseconds:S(RC(p),_)}]}const NY={GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function NC(t,e,n,r,i,s,a){const c={year:e.length===2?LE(ic(e)):ic(e),month:CN.indexOf(n)+1,day:ic(r),hour:ic(i),minute:ic(s)};return a&&(c.second=ic(a)),t&&(c.weekday=t.length>3?bN.indexOf(t)+1:AN.indexOf(t)+1),c}const MY=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function LY(t){const[,e,n,r,i,s,a,c,f,p,g,_]=t,S=NC(e,i,r,n,s,a,c);let I;return f?I=NY[f]:p?I=0:I=Ow(g,_),[S,new Ei(I)]}function VY(t){return t.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}const FY=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,UY=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,BY=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function Wx(t){const[,e,n,r,i,s,a,c]=t;return[NC(e,i,r,n,s,a,c),Ei.utcInstance]}function $Y(t){const[,e,n,r,i,s,a,c]=t;return[NC(e,c,n,r,i,s,a),Ei.utcInstance]}const jY=qp(EY,DC),zY=qp(CY,DC),WY=qp(IY,DC),HY=qp(NN),LN=Gp(RY,Yp,ky,Oy),qY=Gp(bY,Yp,ky,Oy),GY=Gp(AY,Yp,ky,Oy),KY=Gp(Yp,ky,Oy);function YY(t){return Kp(t,[jY,LN],[zY,qY],[WY,GY],[HY,KY])}function QY(t){return Kp(VY(t),[MY,LY])}function XY(t){return Kp(t,[FY,Wx],[UY,Wx],[BY,$Y])}function ZY(t){return Kp(t,[OY,DY])}const JY=Gp(Yp);function eQ(t){return Kp(t,[kY,JY])}const tQ=qp(xY,PY),nQ=qp(MN),rQ=Gp(Yp,ky,Oy);function iQ(t){return Kp(t,[tQ,LN],[nQ,rQ])}const Hx="Invalid Duration",VN={weeks:{days:7,hours:7*24,minutes:7*24*60,seconds:7*24*60*60,milliseconds:7*24*60*60*1e3},days:{hours:24,minutes:24*60,seconds:24*60*60,milliseconds:24*60*60*1e3},hours:{minutes:60,seconds:60*60,milliseconds:60*60*1e3},minutes:{seconds:60,milliseconds:60*1e3},seconds:{milliseconds:1e3}},sQ={years:{quarters:4,months:12,weeks:52,days:365,hours:365*24,minutes:365*24*60,seconds:365*24*60*60,milliseconds:365*24*60*60*1e3},quarters:{months:3,weeks:13,days:91,hours:91*24,minutes:91*24*60,seconds:91*24*60*60,milliseconds:91*24*60*60*1e3},months:{weeks:4,days:30,hours:30*24,minutes:30*24*60,seconds:30*24*60*60,milliseconds:30*24*60*60*1e3},...VN},Xs=146097/400,zh=146097/4800,oQ={years:{quarters:4,months:12,weeks:Xs/7,days:Xs,hours:Xs*24,minutes:Xs*24*60,seconds:Xs*24*60*60,milliseconds:Xs*24*60*60*1e3},quarters:{months:3,weeks:Xs/28,days:Xs/4,hours:Xs*24/4,minutes:Xs*24*60/4,seconds:Xs*24*60*60/4,milliseconds:Xs*24*60*60*1e3/4},months:{weeks:zh/7,days:zh,hours:zh*24,minutes:zh*24*60,seconds:zh*24*60*60,milliseconds:zh*24*60*60*1e3},...VN},qf=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],aQ=qf.slice(0).reverse();function tc(t,e,n=!1){const r={values:n?e.values:{...t.values,...e.values||{}},loc:t.loc.clone(e.loc),conversionAccuracy:e.conversionAccuracy||t.conversionAccuracy,matrix:e.matrix||t.matrix};return new Dt(r)}function FN(t,e){let n=e.milliseconds??0;for(const r of aQ.slice(1))e[r]&&(n+=e[r]*t[r].milliseconds);return n}function qx(t,e){const n=FN(t,e)<0?-1:1;qf.reduceRight((r,i)=>{if(at(e[i]))return r;if(r){const s=e[r]*n,a=t[i][r],c=Math.floor(s/a);e[i]+=c*n,e[r]-=c*a*n}return i},null),qf.reduce((r,i)=>{if(at(e[i]))return r;if(r){const s=e[r]%1;e[r]-=s,e[i]+=s*t[r][i]}return i},null)}function uQ(t){const e={};for(const[n,r]of Object.entries(t))r!==0&&(e[n]=r);return e}class Dt{constructor(e){const n=e.conversionAccuracy==="longterm"||!1;let r=n?oQ:sQ;e.matrix&&(r=e.matrix),this.values=e.values,this.loc=e.loc||qt.create(),this.conversionAccuracy=n?"longterm":"casual",this.invalid=e.invalid||null,this.matrix=r,this.isLuxonDuration=!0}static fromMillis(e,n){return Dt.fromObject({milliseconds:e},n)}static fromObject(e,n={}){if(e==null||typeof e!="object")throw new ri(`Duration.fromObject: argument expected to be an object, got ${e===null?"null":typeof e}`);return new Dt({values:I0(e,Dt.normalizeUnit),loc:qt.fromObject(n),conversionAccuracy:n.conversionAccuracy,matrix:n.matrix})}static fromDurationLike(e){if(yc(e))return Dt.fromMillis(e);if(Dt.isDuration(e))return e;if(typeof e=="object")return Dt.fromObject(e);throw new ri(`Unknown duration argument ${e} of type ${typeof e}`)}static fromISO(e,n){const[r]=ZY(e);return r?Dt.fromObject(r,n):Dt.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static fromISOTime(e,n){const[r]=eQ(e);return r?Dt.fromObject(r,n):Dt.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static invalid(e,n=null){if(!e)throw new ri("need to specify a reason the Duration is invalid");const r=e instanceof zo?e:new zo(e,n);if(Dn.throwOnInvalid)throw new OK(r);return new Dt({invalid:r})}static normalizeUnit(e){const n={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[e&&e.toLowerCase()];if(!n)throw new K2(e);return n}static isDuration(e){return e&&e.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(e,n={}){const r={...n,floor:n.round!==!1&&n.floor!==!1};return this.isValid?si.create(this.loc,r).formatDurationFromString(this,e):Hx}toHuman(e={}){if(!this.isValid)return Hx;const n=qf.map(r=>{const i=this.values[r];return at(i)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...e,unit:r.slice(0,-1)}).format(i)}).filter(r=>r);return this.loc.listFormatter({type:"conjunction",style:e.listStyle||"narrow",...e}).format(n)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let e="P";return this.years!==0&&(e+=this.years+"Y"),(this.months!==0||this.quarters!==0)&&(e+=this.months+this.quarters*3+"M"),this.weeks!==0&&(e+=this.weeks+"W"),this.days!==0&&(e+=this.days+"D"),(this.hours!==0||this.minutes!==0||this.seconds!==0||this.milliseconds!==0)&&(e+="T"),this.hours!==0&&(e+=this.hours+"H"),this.minutes!==0&&(e+=this.minutes+"M"),(this.seconds!==0||this.milliseconds!==0)&&(e+=kC(this.seconds+this.milliseconds/1e3,3)+"S"),e==="P"&&(e+="T0S"),e}toISOTime(e={}){if(!this.isValid)return null;const n=this.toMillis();return n<0||n>=864e5?null:(e={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...e,includeOffset:!1},rt.fromMillis(n,{zone:"UTC"}).toISOTime(e))}toJSON(){return this.toISO()}toString(){return this.toISO()}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Duration { values: ${JSON.stringify(this.values)} }`:`Duration { Invalid, reason: ${this.invalidReason} }`}toMillis(){return this.isValid?FN(this.matrix,this.values):NaN}valueOf(){return this.toMillis()}plus(e){if(!this.isValid)return this;const n=Dt.fromDurationLike(e),r={};for(const i of qf)(Op(n.values,i)||Op(this.values,i))&&(r[i]=n.get(i)+this.get(i));return tc(this,{values:r},!0)}minus(e){if(!this.isValid)return this;const n=Dt.fromDurationLike(e);return this.plus(n.negate())}mapUnits(e){if(!this.isValid)return this;const n={};for(const r of Object.keys(this.values))n[r]=EN(e(this.values[r],r));return tc(this,{values:n},!0)}get(e){return this[Dt.normalizeUnit(e)]}set(e){if(!this.isValid)return this;const n={...this.values,...I0(e,Dt.normalizeUnit)};return tc(this,{values:n})}reconfigure({locale:e,numberingSystem:n,conversionAccuracy:r,matrix:i}={}){const a={loc:this.loc.clone({locale:e,numberingSystem:n}),matrix:i,conversionAccuracy:r};return tc(this,a)}as(e){return this.isValid?this.shiftTo(e).get(e):NaN}normalize(){if(!this.isValid)return this;const e=this.toObject();return qx(this.matrix,e),tc(this,{values:e},!0)}rescale(){if(!this.isValid)return this;const e=uQ(this.normalize().shiftToAll().toObject());return tc(this,{values:e},!0)}shiftTo(...e){if(!this.isValid)return this;if(e.length===0)return this;e=e.map(a=>Dt.normalizeUnit(a));const n={},r={},i=this.toObject();let s;for(const a of qf)if(e.indexOf(a)>=0){s=a;let c=0;for(const p in r)c+=this.matrix[p][a]*r[p],r[p]=0;yc(i[a])&&(c+=i[a]);const f=Math.trunc(c);n[a]=f,r[a]=(c*1e3-f*1e3)/1e3}else yc(i[a])&&(r[a]=i[a]);for(const a in r)r[a]!==0&&(n[s]+=a===s?r[a]:r[a]/this.matrix[s][a]);return qx(this.matrix,n),tc(this,{values:n},!0)}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;const e={};for(const n of Object.keys(this.values))e[n]=this.values[n]===0?0:-this.values[n];return tc(this,{values:e},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(e){if(!this.isValid||!e.isValid||!this.loc.equals(e.loc))return!1;function n(r,i){return r===void 0||r===0?i===void 0||i===0:r===i}for(const r of qf)if(!n(this.values[r],e.values[r]))return!1;return!0}}const Wh="Invalid Interval";function lQ(t,e){return!t||!t.isValid?On.invalid("missing or invalid start"):!e||!e.isValid?On.invalid("missing or invalid end"):e<t?On.invalid("end before start",`The end of an interval must be after its start, but you had start=${t.toISO()} and end=${e.toISO()}`):null}class On{constructor(e){this.s=e.start,this.e=e.end,this.invalid=e.invalid||null,this.isLuxonInterval=!0}static invalid(e,n=null){if(!e)throw new ri("need to specify a reason the Interval is invalid");const r=e instanceof zo?e:new zo(e,n);if(Dn.throwOnInvalid)throw new kK(r);return new On({invalid:r})}static fromDateTimes(e,n){const r=cg(e),i=cg(n),s=lQ(r,i);return s??new On({start:r,end:i})}static after(e,n){const r=Dt.fromDurationLike(n),i=cg(e);return On.fromDateTimes(i,i.plus(r))}static before(e,n){const r=Dt.fromDurationLike(n),i=cg(e);return On.fromDateTimes(i.minus(r),i)}static fromISO(e,n){const[r,i]=(e||"").split("/",2);if(r&&i){let s,a;try{s=rt.fromISO(r,n),a=s.isValid}catch{a=!1}let c,f;try{c=rt.fromISO(i,n),f=c.isValid}catch{f=!1}if(a&&f)return On.fromDateTimes(s,c);if(a){const p=Dt.fromISO(i,n);if(p.isValid)return On.after(s,p)}else if(f){const p=Dt.fromISO(r,n);if(p.isValid)return On.before(c,p)}}return On.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static isInterval(e){return e&&e.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get isValid(){return this.invalidReason===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(e="milliseconds"){return this.isValid?this.toDuration(e).get(e):NaN}count(e="milliseconds",n){if(!this.isValid)return NaN;const r=this.start.startOf(e,n);let i;return n!=null&&n.useLocaleWeeks?i=this.end.reconfigure({locale:r.locale}):i=this.end,i=i.startOf(e,n),Math.floor(i.diff(r,e).get(e))+(i.valueOf()!==this.end.valueOf())}hasSame(e){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,e):!1}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(e){return this.isValid?this.s>e:!1}isBefore(e){return this.isValid?this.e<=e:!1}contains(e){return this.isValid?this.s<=e&&this.e>e:!1}set({start:e,end:n}={}){return this.isValid?On.fromDateTimes(e||this.s,n||this.e):this}splitAt(...e){if(!this.isValid)return[];const n=e.map(cg).filter(a=>this.contains(a)).sort((a,c)=>a.toMillis()-c.toMillis()),r=[];let{s:i}=this,s=0;for(;i<this.e;){const a=n[s]||this.e,c=+a>+this.e?this.e:a;r.push(On.fromDateTimes(i,c)),i=c,s+=1}return r}splitBy(e){const n=Dt.fromDurationLike(e);if(!this.isValid||!n.isValid||n.as("milliseconds")===0)return[];let{s:r}=this,i=1,s;const a=[];for(;r<this.e;){const c=this.start.plus(n.mapUnits(f=>f*i));s=+c>+this.e?this.e:c,a.push(On.fromDateTimes(r,s)),r=s,i+=1}return a}divideEqually(e){return this.isValid?this.splitBy(this.length()/e).slice(0,e):[]}overlaps(e){return this.e>e.s&&this.s<e.e}abutsStart(e){return this.isValid?+this.e==+e.s:!1}abutsEnd(e){return this.isValid?+e.e==+this.s:!1}engulfs(e){return this.isValid?this.s<=e.s&&this.e>=e.e:!1}equals(e){return!this.isValid||!e.isValid?!1:this.s.equals(e.s)&&this.e.equals(e.e)}intersection(e){if(!this.isValid)return this;const n=this.s>e.s?this.s:e.s,r=this.e<e.e?this.e:e.e;return n>=r?null:On.fromDateTimes(n,r)}union(e){if(!this.isValid)return this;const n=this.s<e.s?this.s:e.s,r=this.e>e.e?this.e:e.e;return On.fromDateTimes(n,r)}static merge(e){const[n,r]=e.sort((i,s)=>i.s-s.s).reduce(([i,s],a)=>s?s.overlaps(a)||s.abutsStart(a)?[i,s.union(a)]:[i.concat([s]),a]:[i,a],[[],null]);return r&&n.push(r),n}static xor(e){let n=null,r=0;const i=[],s=e.map(f=>[{time:f.s,type:"s"},{time:f.e,type:"e"}]),a=Array.prototype.concat(...s),c=a.sort((f,p)=>f.time-p.time);for(const f of c)r+=f.type==="s"?1:-1,r===1?n=f.time:(n&&+n!=+f.time&&i.push(On.fromDateTimes(n,f.time)),n=null);return On.merge(i)}difference(...e){return On.xor([this].concat(e)).map(n=>this.intersection(n)).filter(n=>n&&!n.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()} – ${this.e.toISO()})`:Wh}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Interval { start: ${this.s.toISO()}, end: ${this.e.toISO()} }`:`Interval { Invalid, reason: ${this.invalidReason} }`}toLocaleString(e=T0,n={}){return this.isValid?si.create(this.s.loc.clone(n),e).formatInterval(this):Wh}toISO(e){return this.isValid?`${this.s.toISO(e)}/${this.e.toISO(e)}`:Wh}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:Wh}toISOTime(e){return this.isValid?`${this.s.toISOTime(e)}/${this.e.toISOTime(e)}`:Wh}toFormat(e,{separator:n=" – "}={}){return this.isValid?`${this.s.toFormat(e)}${n}${this.e.toFormat(e)}`:Wh}toDuration(e,n){return this.isValid?this.e.diff(this.s,e,n):Dt.invalid(this.invalidReason)}mapEndpoints(e){return On.fromDateTimes(e(this.s),e(this.e))}}class s_{static hasDST(e=Dn.defaultZone){const n=rt.now().setZone(e).set({month:12});return!e.isUniversal&&n.offset!==n.set({month:6}).offset}static isValidIANAZone(e){return tl.isValidZone(e)}static normalizeZone(e){return cc(e,Dn.defaultZone)}static getStartOfWeek({locale:e=null,locObj:n=null}={}){return(n||qt.create(e)).getStartOfWeek()}static getMinimumDaysInFirstWeek({locale:e=null,locObj:n=null}={}){return(n||qt.create(e)).getMinDaysInFirstWeek()}static getWeekendWeekdays({locale:e=null,locObj:n=null}={}){return(n||qt.create(e)).getWeekendDays().slice()}static months(e="long",{locale:n=null,numberingSystem:r=null,locObj:i=null,outputCalendar:s="gregory"}={}){return(i||qt.create(n,r,s)).months(e)}static monthsFormat(e="long",{locale:n=null,numberingSystem:r=null,locObj:i=null,outputCalendar:s="gregory"}={}){return(i||qt.create(n,r,s)).months(e,!0)}static weekdays(e="long",{locale:n=null,numberingSystem:r=null,locObj:i=null}={}){return(i||qt.create(n,r,null)).weekdays(e)}static weekdaysFormat(e="long",{locale:n=null,numberingSystem:r=null,locObj:i=null}={}){return(i||qt.create(n,r,null)).weekdays(e,!0)}static meridiems({locale:e=null}={}){return qt.create(e).meridiems()}static eras(e="short",{locale:n=null}={}){return qt.create(n,null,"gregory").eras(e)}static features(){return{relative:wN(),localeWeek:SN()}}}function Gx(t,e){const n=i=>i.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),r=n(e)-n(t);return Math.floor(Dt.fromMillis(r).as("days"))}function cQ(t,e,n){const r=[["years",(f,p)=>p.year-f.year],["quarters",(f,p)=>p.quarter-f.quarter+(p.year-f.year)*4],["months",(f,p)=>p.month-f.month+(p.year-f.year)*12],["weeks",(f,p)=>{const g=Gx(f,p);return(g-g%7)/7}],["days",Gx]],i={},s=t;let a,c;for(const[f,p]of r)n.indexOf(f)>=0&&(a=f,i[f]=p(t,e),c=s.plus(i),c>e?(i[f]--,t=s.plus(i),t>e&&(c=t,i[f]--,t=s.plus(i))):t=c);return[t,i,c,a]}function fQ(t,e,n,r){let[i,s,a,c]=cQ(t,e,n);const f=e-i,p=n.filter(_=>["hours","minutes","seconds","milliseconds"].indexOf(_)>=0);p.length===0&&(a<e&&(a=i.plus({[c]:1})),a!==i&&(s[c]=(s[c]||0)+f/(a-i)));const g=Dt.fromObject(s,r);return p.length>0?Dt.fromMillis(f,r).shiftTo(...p).plus(g):g}const dQ="missing Intl.DateTimeFormat.formatToParts support";function Ft(t,e=n=>n){return{regex:t,deser:([n])=>e(tY(n))}}const hQ=" ",UN=`[ ${hQ}]`,BN=new RegExp(UN,"g");function pQ(t){return t.replace(/\./g,"\\.?").replace(BN,UN)}function Kx(t){return t.replace(/\./g,"").replace(BN," ").toLowerCase()}function Uo(t,e){return t===null?null:{regex:RegExp(t.map(pQ).join("|")),deser:([n])=>t.findIndex(r=>Kx(n)===Kx(r))+e}}function Yx(t,e){return{regex:t,deser:([,n,r])=>Ow(n,r),groups:e}}function o_(t){return{regex:t,deser:([e])=>e}}function mQ(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function gQ(t,e){const n=Fo(e),r=Fo(e,"{2}"),i=Fo(e,"{3}"),s=Fo(e,"{4}"),a=Fo(e,"{6}"),c=Fo(e,"{1,2}"),f=Fo(e,"{1,3}"),p=Fo(e,"{1,6}"),g=Fo(e,"{1,9}"),_=Fo(e,"{2,4}"),S=Fo(e,"{4,6}"),I=R=>({regex:RegExp(mQ(R.val)),deser:([L])=>L,literal:!0}),b=(R=>{if(t.literal)return I(R);switch(R.val){case"G":return Uo(e.eras("short"),0);case"GG":return Uo(e.eras("long"),0);case"y":return Ft(p);case"yy":return Ft(_,LE);case"yyyy":return Ft(s);case"yyyyy":return Ft(S);case"yyyyyy":return Ft(a);case"M":return Ft(c);case"MM":return Ft(r);case"MMM":return Uo(e.months("short",!0),1);case"MMMM":return Uo(e.months("long",!0),1);case"L":return Ft(c);case"LL":return Ft(r);case"LLL":return Uo(e.months("short",!1),1);case"LLLL":return Uo(e.months("long",!1),1);case"d":return Ft(c);case"dd":return Ft(r);case"o":return Ft(f);case"ooo":return Ft(i);case"HH":return Ft(r);case"H":return Ft(c);case"hh":return Ft(r);case"h":return Ft(c);case"mm":return Ft(r);case"m":return Ft(c);case"q":return Ft(c);case"qq":return Ft(r);case"s":return Ft(c);case"ss":return Ft(r);case"S":return Ft(f);case"SSS":return Ft(i);case"u":return o_(g);case"uu":return o_(c);case"uuu":return Ft(n);case"a":return Uo(e.meridiems(),0);case"kkkk":return Ft(s);case"kk":return Ft(_,LE);case"W":return Ft(c);case"WW":return Ft(r);case"E":case"c":return Ft(n);case"EEE":return Uo(e.weekdays("short",!1),1);case"EEEE":return Uo(e.weekdays("long",!1),1);case"ccc":return Uo(e.weekdays("short",!0),1);case"cccc":return Uo(e.weekdays("long",!0),1);case"Z":case"ZZ":return Yx(new RegExp(`([+-]${c.source})(?::(${r.source}))?`),2);case"ZZZ":return Yx(new RegExp(`([+-]${c.source})(${r.source})?`),2);case"z":return o_(/[a-z_+-/]{1,256}?/i);case" ":return o_(/[^\S\n\r]/);default:return I(R)}})(t)||{invalidReason:dQ};return b.token=t,b}const yQ={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour12:{numeric:"h","2-digit":"hh"},hour24:{numeric:"H","2-digit":"HH"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};function vQ(t,e,n){const{type:r,value:i}=t;if(r==="literal"){const f=/^\s+$/.test(i);return{literal:!f,val:f?" ":i}}const s=e[r];let a=r;r==="hour"&&(e.hour12!=null?a=e.hour12?"hour12":"hour24":e.hourCycle!=null?e.hourCycle==="h11"||e.hourCycle==="h12"?a="hour12":a="hour24":a=n.hour12?"hour12":"hour24");let c=yQ[a];if(typeof c=="object"&&(c=c[s]),c)return{literal:!1,val:c}}function _Q(t){return[`^${t.map(n=>n.regex).reduce((n,r)=>`${n}(${r.source})`,"")}$`,t]}function wQ(t,e,n){const r=t.match(e);if(r){const i={};let s=1;for(const a in n)if(Op(n,a)){const c=n[a],f=c.groups?c.groups+1:1;!c.literal&&c.token&&(i[c.token.val[0]]=c.deser(r.slice(s,s+f))),s+=f}return[r,i]}else return[r,{}]}function SQ(t){const e=s=>{switch(s){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}};let n=null,r;return at(t.z)||(n=tl.create(t.z)),at(t.Z)||(n||(n=new Ei(t.Z)),r=t.Z),at(t.q)||(t.M=(t.q-1)*3+1),at(t.h)||(t.h<12&&t.a===1?t.h+=12:t.h===12&&t.a===0&&(t.h=0)),t.G===0&&t.y&&(t.y=-t.y),at(t.u)||(t.S=RC(t.u)),[Object.keys(t).reduce((s,a)=>{const c=e(a);return c&&(s[c]=t[a]),s},{}),n,r]}let aT=null;function TQ(){return aT||(aT=rt.fromMillis(1555555555555)),aT}function EQ(t,e){if(t.literal)return t;const n=si.macroTokenToFormatOpts(t.val),r=WN(n,e);return r==null||r.includes(void 0)?t:r}function $N(t,e){return Array.prototype.concat(...t.map(n=>EQ(n,e)))}class jN{constructor(e,n){if(this.locale=e,this.format=n,this.tokens=$N(si.parseFormat(n),e),this.units=this.tokens.map(r=>gQ(r,e)),this.disqualifyingUnit=this.units.find(r=>r.invalidReason),!this.disqualifyingUnit){const[r,i]=_Q(this.units);this.regex=RegExp(r,"i"),this.handlers=i}}explainFromTokens(e){if(this.isValid){const[n,r]=wQ(e,this.regex,this.handlers),[i,s,a]=r?SQ(r):[null,null,void 0];if(Op(r,"a")&&Op(r,"H"))throw new tp("Can't include meridiem when specifying 24-hour format");return{input:e,tokens:this.tokens,regex:this.regex,rawMatches:n,matches:r,result:i,zone:s,specificOffset:a}}else return{input:e,tokens:this.tokens,invalidReason:this.invalidReason}}get isValid(){return!this.disqualifyingUnit}get invalidReason(){return this.disqualifyingUnit?this.disqualifyingUnit.invalidReason:null}}function zN(t,e,n){return new jN(t,n).explainFromTokens(e)}function CQ(t,e,n){const{result:r,zone:i,specificOffset:s,invalidReason:a}=zN(t,e,n);return[r,i,s,a]}function WN(t,e){if(!t)return null;const r=si.create(e,t).dtFormatter(TQ()),i=r.formatToParts(),s=r.resolvedOptions();return i.map(a=>vQ(a,t,s))}const uT="Invalid DateTime",IQ=864e13;function Cg(t){return new zo("unsupported zone",`the zone "${t.name}" is not supported`)}function lT(t){return t.weekData===null&&(t.weekData=E0(t.c)),t.weekData}function cT(t){return t.localWeekData===null&&(t.localWeekData=E0(t.c,t.loc.getMinDaysInFirstWeek(),t.loc.getStartOfWeek())),t.localWeekData}function Bf(t,e){const n={ts:t.ts,zone:t.zone,c:t.c,o:t.o,loc:t.loc,invalid:t.invalid};return new rt({...n,...e,old:n})}function HN(t,e,n){let r=t-e*60*1e3;const i=n.offset(r);if(e===i)return[r,e];r-=(i-e)*60*1e3;const s=n.offset(r);return i===s?[r,i]:[t-Math.min(i,s)*60*1e3,Math.max(i,s)]}function a_(t,e){t+=e*60*1e3;const n=new Date(t);return{year:n.getUTCFullYear(),month:n.getUTCMonth()+1,day:n.getUTCDate(),hour:n.getUTCHours(),minute:n.getUTCMinutes(),second:n.getUTCSeconds(),millisecond:n.getUTCMilliseconds()}}function M_(t,e,n){return HN(kw(t),e,n)}function Qx(t,e){const n=t.o,r=t.c.year+Math.trunc(e.years),i=t.c.month+Math.trunc(e.months)+Math.trunc(e.quarters)*3,s={...t.c,year:r,month:i,day:Math.min(t.c.day,C0(r,i))+Math.trunc(e.days)+Math.trunc(e.weeks)*7},a=Dt.fromObject({years:e.years-Math.trunc(e.years),quarters:e.quarters-Math.trunc(e.quarters),months:e.months-Math.trunc(e.months),weeks:e.weeks-Math.trunc(e.weeks),days:e.days-Math.trunc(e.days),hours:e.hours,minutes:e.minutes,seconds:e.seconds,milliseconds:e.milliseconds}).as("milliseconds"),c=kw(s);let[f,p]=HN(c,n,t.zone);return a!==0&&(f+=a,p=t.zone.offset(f)),{ts:f,o:p}}function Hh(t,e,n,r,i,s){const{setZone:a,zone:c}=n;if(t&&Object.keys(t).length!==0||e){const f=e||c,p=rt.fromObject(t,{...n,zone:f,specificOffset:s});return a?p:p.setZone(c)}else return rt.invalid(new zo("unparsable",`the input "${i}" can't be parsed as ${r}`))}function u_(t,e,n=!0){return t.isValid?si.create(qt.create("en-US"),{allowZ:n,forceSimple:!0}).formatDateTimeFromString(t,e):null}function fT(t,e){const n=t.c.year>9999||t.c.year<0;let r="";return n&&t.c.year>=0&&(r+="+"),r+=nr(t.c.year,n?6:4),e?(r+="-",r+=nr(t.c.month),r+="-",r+=nr(t.c.day)):(r+=nr(t.c.month),r+=nr(t.c.day)),r}function Xx(t,e,n,r,i,s){let a=nr(t.c.hour);return e?(a+=":",a+=nr(t.c.minute),(t.c.millisecond!==0||t.c.second!==0||!n)&&(a+=":")):a+=nr(t.c.minute),(t.c.millisecond!==0||t.c.second!==0||!n)&&(a+=nr(t.c.second),(t.c.millisecond!==0||!r)&&(a+=".",a+=nr(t.c.millisecond,3))),i&&(t.isOffsetFixed&&t.offset===0&&!s?a+="Z":t.o<0?(a+="-",a+=nr(Math.trunc(-t.o/60)),a+=":",a+=nr(Math.trunc(-t.o%60))):(a+="+",a+=nr(Math.trunc(t.o/60)),a+=":",a+=nr(Math.trunc(t.o%60)))),s&&(a+="["+t.zone.ianaName+"]"),a}const qN={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},bQ={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},AQ={ordinal:1,hour:0,minute:0,second:0,millisecond:0},GN=["year","month","day","hour","minute","second","millisecond"],xQ=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],PQ=["year","ordinal","hour","minute","second","millisecond"];function RQ(t){const e={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[t.toLowerCase()];if(!e)throw new K2(t);return e}function Zx(t){switch(t.toLowerCase()){case"localweekday":case"localweekdays":return"localWeekday";case"localweeknumber":case"localweeknumbers":return"localWeekNumber";case"localweekyear":case"localweekyears":return"localWeekYear";default:return RQ(t)}}function kQ(t){return V_[t]||(L_===void 0&&(L_=Dn.now()),V_[t]=t.offset(L_)),V_[t]}function Jx(t,e){const n=cc(e.zone,Dn.defaultZone);if(!n.isValid)return rt.invalid(Cg(n));const r=qt.fromObject(e);let i,s;if(at(t.year))i=Dn.now();else{for(const f of GN)at(t[f])&&(t[f]=qN[f]);const a=vN(t)||_N(t);if(a)return rt.invalid(a);const c=kQ(n);[i,s]=M_(t,c,n)}return new rt({ts:i,zone:n,loc:r,o:s})}function eP(t,e,n){const r=at(n.round)?!0:n.round,i=(a,c)=>(a=kC(a,r||n.calendary?0:2,!0),e.loc.clone(n).relFormatter(n).format(a,c)),s=a=>n.calendary?e.hasSame(t,a)?0:e.startOf(a).diff(t.startOf(a),a).get(a):e.diff(t,a).get(a);if(n.unit)return i(s(n.unit),n.unit);for(const a of n.units){const c=s(a);if(Math.abs(c)>=1)return i(c,a)}return i(t>e?-0:0,n.units[n.units.length-1])}function tP(t){let e={},n;return t.length>0&&typeof t[t.length-1]=="object"?(e=t[t.length-1],n=Array.from(t).slice(0,t.length-1)):n=Array.from(t),[e,n]}let L_,V_={};class rt{constructor(e){const n=e.zone||Dn.defaultZone;let r=e.invalid||(Number.isNaN(e.ts)?new zo("invalid input"):null)||(n.isValid?null:Cg(n));this.ts=at(e.ts)?Dn.now():e.ts;let i=null,s=null;if(!r)if(e.old&&e.old.ts===this.ts&&e.old.zone.equals(n))[i,s]=[e.old.c,e.old.o];else{const c=yc(e.o)&&!e.old?e.o:n.offset(this.ts);i=a_(this.ts,c),r=Number.isNaN(i.year)?new zo("invalid input"):null,i=r?null:i,s=r?null:c}this._zone=n,this.loc=e.loc||qt.create(),this.invalid=r,this.weekData=null,this.localWeekData=null,this.c=i,this.o=s,this.isLuxonDateTime=!0}static now(){return new rt({})}static local(){const[e,n]=tP(arguments),[r,i,s,a,c,f,p]=n;return Jx({year:r,month:i,day:s,hour:a,minute:c,second:f,millisecond:p},e)}static utc(){const[e,n]=tP(arguments),[r,i,s,a,c,f,p]=n;return e.zone=Ei.utcInstance,Jx({year:r,month:i,day:s,hour:a,minute:c,second:f,millisecond:p},e)}static fromJSDate(e,n={}){const r=oY(e)?e.valueOf():NaN;if(Number.isNaN(r))return rt.invalid("invalid input");const i=cc(n.zone,Dn.defaultZone);return i.isValid?new rt({ts:r,zone:i,loc:qt.fromObject(n)}):rt.invalid(Cg(i))}static fromMillis(e,n={}){if(yc(e))return e<-864e13||e>IQ?rt.invalid("Timestamp out of range"):new rt({ts:e,zone:cc(n.zone,Dn.defaultZone),loc:qt.fromObject(n)});throw new ri(`fromMillis requires a numerical input, but received a ${typeof e} with value ${e}`)}static fromSeconds(e,n={}){if(yc(e))return new rt({ts:e*1e3,zone:cc(n.zone,Dn.defaultZone),loc:qt.fromObject(n)});throw new ri("fromSeconds requires a numerical input")}static fromObject(e,n={}){e=e||{};const r=cc(n.zone,Dn.defaultZone);if(!r.isValid)return rt.invalid(Cg(r));const i=qt.fromObject(n),s=I0(e,Zx),{minDaysInFirstWeek:a,startOfWeek:c}=Bx(s,i),f=Dn.now(),p=at(n.specificOffset)?r.offset(f):n.specificOffset,g=!at(s.ordinal),_=!at(s.year),S=!at(s.month)||!at(s.day),I=_||S,x=s.weekYear||s.weekNumber;if((I||g)&&x)throw new tp("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(S&&g)throw new tp("Can't mix ordinal dates with month/day");const b=x||s.weekday&&!I;let R,L,q=a_(f,p);b?(R=xQ,L=bQ,q=E0(q,a,c)):g?(R=PQ,L=AQ,q=oT(q)):(R=GN,L=qN);let B=!1;for(const A of R){const W=s[A];at(W)?B?s[A]=L[A]:s[A]=q[A]:B=!0}const G=b?rY(s,a,c):g?iY(s):vN(s),V=G||_N(s);if(V)return rt.invalid(V);const Y=b?Fx(s,a,c):g?Ux(s):s,[D,k]=M_(Y,p,r),F=new rt({ts:D,zone:r,o:k,loc:i});return s.weekday&&I&&e.weekday!==F.weekday?rt.invalid("mismatched weekday",`you can't specify both a weekday of ${s.weekday} and a date of ${F.toISO()}`):F.isValid?F:rt.invalid(F.invalid)}static fromISO(e,n={}){const[r,i]=YY(e);return Hh(r,i,n,"ISO 8601",e)}static fromRFC2822(e,n={}){const[r,i]=QY(e);return Hh(r,i,n,"RFC 2822",e)}static fromHTTP(e,n={}){const[r,i]=XY(e);return Hh(r,i,n,"HTTP",n)}static fromFormat(e,n,r={}){if(at(e)||at(n))throw new ri("fromFormat requires an input string and a format");const{locale:i=null,numberingSystem:s=null}=r,a=qt.fromOpts({locale:i,numberingSystem:s,defaultToEN:!0}),[c,f,p,g]=CQ(a,e,n);return g?rt.invalid(g):Hh(c,f,r,`format ${n}`,e,p)}static fromString(e,n,r={}){return rt.fromFormat(e,n,r)}static fromSQL(e,n={}){const[r,i]=iQ(e);return Hh(r,i,n,"SQL",e)}static invalid(e,n=null){if(!e)throw new ri("need to specify a reason the DateTime is invalid");const r=e instanceof zo?e:new zo(e,n);if(Dn.throwOnInvalid)throw new RK(r);return new rt({invalid:r})}static isDateTime(e){return e&&e.isLuxonDateTime||!1}static parseFormatForOpts(e,n={}){const r=WN(e,qt.fromObject(n));return r?r.map(i=>i?i.val:null).join(""):null}static expandFormat(e,n={}){return $N(si.parseFormat(e),qt.fromObject(n)).map(i=>i.val).join("")}static resetCache(){L_=void 0,V_={}}get(e){return this[e]}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?lT(this).weekYear:NaN}get weekNumber(){return this.isValid?lT(this).weekNumber:NaN}get weekday(){return this.isValid?lT(this).weekday:NaN}get isWeekend(){return this.isValid&&this.loc.getWeekendDays().includes(this.weekday)}get localWeekday(){return this.isValid?cT(this).weekday:NaN}get localWeekNumber(){return this.isValid?cT(this).weekNumber:NaN}get localWeekYear(){return this.isValid?cT(this).weekYear:NaN}get ordinal(){return this.isValid?oT(this.c).ordinal:NaN}get monthShort(){return this.isValid?s_.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?s_.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?s_.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?s_.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return this.isOffsetFixed?!1:this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset}getPossibleOffsets(){if(!this.isValid||this.isOffsetFixed)return[this];const e=864e5,n=6e4,r=kw(this.c),i=this.zone.offset(r-e),s=this.zone.offset(r+e),a=this.zone.offset(r-i*n),c=this.zone.offset(r-s*n);if(a===c)return[this];const f=r-a*n,p=r-c*n,g=a_(f,a),_=a_(p,c);return g.hour===_.hour&&g.minute===_.minute&&g.second===_.second&&g.millisecond===_.millisecond?[Bf(this,{ts:f}),Bf(this,{ts:p})]:[this]}get isInLeapYear(){return Ry(this.year)}get daysInMonth(){return C0(this.year,this.month)}get daysInYear(){return this.isValid?gp(this.year):NaN}get weeksInWeekYear(){return this.isValid?iy(this.weekYear):NaN}get weeksInLocalWeekYear(){return this.isValid?iy(this.localWeekYear,this.loc.getMinDaysInFirstWeek(),this.loc.getStartOfWeek()):NaN}resolvedLocaleOptions(e={}){const{locale:n,numberingSystem:r,calendar:i}=si.create(this.loc.clone(e),e).resolvedOptions(this);return{locale:n,numberingSystem:r,outputCalendar:i}}toUTC(e=0,n={}){return this.setZone(Ei.instance(e),n)}toLocal(){return this.setZone(Dn.defaultZone)}setZone(e,{keepLocalTime:n=!1,keepCalendarTime:r=!1}={}){if(e=cc(e,Dn.defaultZone),e.equals(this.zone))return this;if(e.isValid){let i=this.ts;if(n||r){const s=e.offset(this.ts),a=this.toObject();[i]=M_(a,s,e)}return Bf(this,{ts:i,zone:e})}else return rt.invalid(Cg(e))}reconfigure({locale:e,numberingSystem:n,outputCalendar:r}={}){const i=this.loc.clone({locale:e,numberingSystem:n,outputCalendar:r});return Bf(this,{loc:i})}setLocale(e){return this.reconfigure({locale:e})}set(e){if(!this.isValid)return this;const n=I0(e,Zx),{minDaysInFirstWeek:r,startOfWeek:i}=Bx(n,this.loc),s=!at(n.weekYear)||!at(n.weekNumber)||!at(n.weekday),a=!at(n.ordinal),c=!at(n.year),f=!at(n.month)||!at(n.day),p=c||f,g=n.weekYear||n.weekNumber;if((p||a)&&g)throw new tp("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(f&&a)throw new tp("Can't mix ordinal dates with month/day");let _;s?_=Fx({...E0(this.c,r,i),...n},r,i):at(n.ordinal)?(_={...this.toObject(),...n},at(n.day)&&(_.day=Math.min(C0(_.year,_.month),_.day))):_=Ux({...oT(this.c),...n});const[S,I]=M_(_,this.o,this.zone);return Bf(this,{ts:S,o:I})}plus(e){if(!this.isValid)return this;const n=Dt.fromDurationLike(e);return Bf(this,Qx(this,n))}minus(e){if(!this.isValid)return this;const n=Dt.fromDurationLike(e).negate();return Bf(this,Qx(this,n))}startOf(e,{useLocaleWeeks:n=!1}={}){if(!this.isValid)return this;const r={},i=Dt.normalizeUnit(e);switch(i){case"years":r.month=1;case"quarters":case"months":r.day=1;case"weeks":case"days":r.hour=0;case"hours":r.minute=0;case"minutes":r.second=0;case"seconds":r.millisecond=0;break}if(i==="weeks")if(n){const s=this.loc.getStartOfWeek(),{weekday:a}=this;a<s&&(r.weekNumber=this.weekNumber-1),r.weekday=s}else r.weekday=1;if(i==="quarters"){const s=Math.ceil(this.month/3);r.month=(s-1)*3+1}return this.set(r)}endOf(e,n){return this.isValid?this.plus({[e]:1}).startOf(e,n).minus(1):this}toFormat(e,n={}){return this.isValid?si.create(this.loc.redefaultToEN(n)).formatDateTimeFromString(this,e):uT}toLocaleString(e=T0,n={}){return this.isValid?si.create(this.loc.clone(n),e).formatDateTime(this):uT}toLocaleParts(e={}){return this.isValid?si.create(this.loc.clone(e),e).formatDateTimeParts(this):[]}toISO({format:e="extended",suppressSeconds:n=!1,suppressMilliseconds:r=!1,includeOffset:i=!0,extendedZone:s=!1}={}){if(!this.isValid)return null;const a=e==="extended";let c=fT(this,a);return c+="T",c+=Xx(this,a,n,r,i,s),c}toISODate({format:e="extended"}={}){return this.isValid?fT(this,e==="extended"):null}toISOWeekDate(){return u_(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:e=!1,suppressSeconds:n=!1,includeOffset:r=!0,includePrefix:i=!1,extendedZone:s=!1,format:a="extended"}={}){return this.isValid?(i?"T":"")+Xx(this,a==="extended",n,e,r,s):null}toRFC2822(){return u_(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return u_(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?fT(this,!0):null}toSQLTime({includeOffset:e=!0,includeZone:n=!1,includeOffsetSpace:r=!0}={}){let i="HH:mm:ss.SSS";return(n||e)&&(r&&(i+=" "),n?i+="z":e&&(i+="ZZ")),u_(this,i,!0)}toSQL(e={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(e)}`:null}toString(){return this.isValid?this.toISO():uT}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`DateTime { ts: ${this.toISO()}, zone: ${this.zone.name}, locale: ${this.locale} }`:`DateTime { Invalid, reason: ${this.invalidReason} }`}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(e={}){if(!this.isValid)return{};const n={...this.c};return e.includeConfig&&(n.outputCalendar=this.outputCalendar,n.numberingSystem=this.loc.numberingSystem,n.locale=this.loc.locale),n}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(e,n="milliseconds",r={}){if(!this.isValid||!e.isValid)return Dt.invalid("created by diffing an invalid DateTime");const i={locale:this.locale,numberingSystem:this.numberingSystem,...r},s=aY(n).map(Dt.normalizeUnit),a=e.valueOf()>this.valueOf(),c=a?this:e,f=a?e:this,p=fQ(c,f,s,i);return a?p.negate():p}diffNow(e="milliseconds",n={}){return this.diff(rt.now(),e,n)}until(e){return this.isValid?On.fromDateTimes(this,e):this}hasSame(e,n,r){if(!this.isValid)return!1;const i=e.valueOf(),s=this.setZone(e.zone,{keepLocalTime:!0});return s.startOf(n,r)<=i&&i<=s.endOf(n,r)}equals(e){return this.isValid&&e.isValid&&this.valueOf()===e.valueOf()&&this.zone.equals(e.zone)&&this.loc.equals(e.loc)}toRelative(e={}){if(!this.isValid)return null;const n=e.base||rt.fromObject({},{zone:this.zone}),r=e.padding?this<n?-e.padding:e.padding:0;let i=["years","months","days","hours","minutes","seconds"],s=e.unit;return Array.isArray(e.unit)&&(i=e.unit,s=void 0),eP(n,this.plus(r),{...e,numeric:"always",units:i,unit:s})}toRelativeCalendar(e={}){return this.isValid?eP(e.base||rt.fromObject({},{zone:this.zone}),this,{...e,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...e){if(!e.every(rt.isDateTime))throw new ri("min requires all arguments be DateTimes");return $x(e,n=>n.valueOf(),Math.min)}static max(...e){if(!e.every(rt.isDateTime))throw new ri("max requires all arguments be DateTimes");return $x(e,n=>n.valueOf(),Math.max)}static fromFormatExplain(e,n,r={}){const{locale:i=null,numberingSystem:s=null}=r,a=qt.fromOpts({locale:i,numberingSystem:s,defaultToEN:!0});return zN(a,e,n)}static fromStringExplain(e,n,r={}){return rt.fromFormatExplain(e,n,r)}static buildFormatParser(e,n={}){const{locale:r=null,numberingSystem:i=null}=n,s=qt.fromOpts({locale:r,numberingSystem:i,defaultToEN:!0});return new jN(s,e)}static fromFormatParser(e,n,r={}){if(at(e)||at(n))throw new ri("fromFormatParser requires an input string and a format parser");const{locale:i=null,numberingSystem:s=null}=r,a=qt.fromOpts({locale:i,numberingSystem:s,defaultToEN:!0});if(!a.equals(n.locale))throw new ri(`fromFormatParser called with a locale of ${a}, but the format parser was created for ${n.locale}`);const{result:c,zone:f,specificOffset:p,invalidReason:g}=n.explainFromTokens(e);return g?rt.invalid(g):Hh(c,f,r,`format ${n.format}`,e,p)}static get DATE_SHORT(){return T0}static get DATE_MED(){return Y2}static get DATE_MED_WITH_WEEKDAY(){return DK}static get DATE_FULL(){return Q2}static get DATE_HUGE(){return X2}static get TIME_SIMPLE(){return Z2}static get TIME_WITH_SECONDS(){return J2}static get TIME_WITH_SHORT_OFFSET(){return eN}static get TIME_WITH_LONG_OFFSET(){return tN}static get TIME_24_SIMPLE(){return nN}static get TIME_24_WITH_SECONDS(){return rN}static get TIME_24_WITH_SHORT_OFFSET(){return iN}static get TIME_24_WITH_LONG_OFFSET(){return sN}static get DATETIME_SHORT(){return oN}static get DATETIME_SHORT_WITH_SECONDS(){return aN}static get DATETIME_MED(){return uN}static get DATETIME_MED_WITH_SECONDS(){return lN}static get DATETIME_MED_WITH_WEEKDAY(){return NK}static get DATETIME_FULL(){return cN}static get DATETIME_FULL_WITH_SECONDS(){return fN}static get DATETIME_HUGE(){return dN}static get DATETIME_HUGE_WITH_SECONDS(){return hN}}function cg(t){if(rt.isDateTime(t))return t;if(t&&t.valueOf&&yc(t.valueOf()))return rt.fromJSDate(t);if(t&&typeof t=="object")return rt.fromObject(t);throw new ri(`Unknown datetime argument: ${t}, of type ${typeof t}`)}const OQ="_container_1h9c6_1",DQ="_addProductButton_1h9c6_12",NQ="_controls_1h9c6_35",MQ="_searchContainer_1h9c6_43",LQ="_searchLabel_1h9c6_1",VQ="_searchInput_1h9c6_1",FQ="_clearSearchButton_1h9c6_73",UQ="_sortButton_1h9c6_82",BQ="_popoverContent_1h9c6_87",$Q="_activeSortOption_1h9c6_121",jQ="_popoverArrow_1h9c6_130",zQ="_productList_1h9c6_138",WQ="_productCard_1h9c6_148",HQ="_previewImg_1h9c6_157",qQ="_imagePlaceholder_1h9c6_167",GQ="_productInfo_1h9c6_182",KQ="_tags_1h9c6_220",YQ="_tag_1h9c6_220",Ir={container:OQ,addProductButton:DQ,controls:NQ,searchContainer:MQ,searchLabel:LQ,searchInput:VQ,clearSearchButton:FQ,sortButton:UQ,popoverContent:BQ,activeSortOption:$Q,popoverArrow:jQ,productList:zQ,productCard:WQ,previewImg:HQ,imagePlaceholder:qQ,productInfo:GQ,tags:KQ,tag:YQ};function vc(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function nP(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function KN(...t){return e=>{let n=!1;const r=t.map(i=>{const s=nP(i,e);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():nP(t[i],null)}}}}function Vc(...t){return M.useCallback(KN(...t),t)}function YN(t,e=[]){let n=[];function r(s,a){const c=M.createContext(a),f=n.length;n=[...n,a];const p=_=>{var L;const{scope:S,children:I,...x}=_,b=((L=S==null?void 0:S[t])==null?void 0:L[f])||c,R=M.useMemo(()=>x,Object.values(x));return j.jsx(b.Provider,{value:R,children:I})};p.displayName=s+"Provider";function g(_,S){var b;const I=((b=S==null?void 0:S[t])==null?void 0:b[f])||c,x=M.useContext(I);if(x)return x;if(a!==void 0)return a;throw new Error(`\`${_}\` must be used within \`${s}\``)}return[p,g]}const i=()=>{const s=n.map(a=>M.createContext(a));return function(c){const f=(c==null?void 0:c[t])||s;return M.useMemo(()=>({[`__scope${t}`]:{...c,[t]:f}}),[c,f])}};return i.scopeName=t,[r,QQ(i,...e)]}function QQ(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const a=r.reduce((c,{useScope:f,scopeName:p})=>{const _=f(s)[`__scope${p}`];return{...c,..._}},{});return M.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return n.scopeName=e.scopeName,n}var MC=M.forwardRef((t,e)=>{const{children:n,...r}=t,i=M.Children.toArray(n),s=i.find(ZQ);if(s){const a=s.props.children,c=i.map(f=>f===s?M.Children.count(a)>1?M.Children.only(null):M.isValidElement(a)?a.props.children:null:f);return j.jsx(VE,{...r,ref:e,children:M.isValidElement(a)?M.cloneElement(a,void 0,c):null})}return j.jsx(VE,{...r,ref:e,children:n})});MC.displayName="Slot";var VE=M.forwardRef((t,e)=>{const{children:n,...r}=t;if(M.isValidElement(n)){const i=eX(n),s=JQ(r,n.props);return n.type!==M.Fragment&&(s.ref=e?KN(e,i):i),M.cloneElement(n,s)}return M.Children.count(n)>1?M.Children.only(null):null});VE.displayName="SlotClone";var XQ=({children:t})=>j.jsx(j.Fragment,{children:t});function ZQ(t){return M.isValidElement(t)&&t.type===XQ}function JQ(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...c)=>{s(...c),i(...c)}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}function eX(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var tX=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],il=tX.reduce((t,e)=>{const n=M.forwardRef((r,i)=>{const{asChild:s,...a}=r,c=s?MC:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),j.jsx(c,{...a,ref:i})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function nX(t,e){t&&Cw.flushSync(()=>t.dispatchEvent(e))}function Rc(t){const e=M.useRef(t);return M.useEffect(()=>{e.current=t}),M.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function rX(t,e=globalThis==null?void 0:globalThis.document){const n=Rc(t);M.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var iX="DismissableLayer",FE="dismissableLayer.update",sX="dismissableLayer.pointerDownOutside",oX="dismissableLayer.focusOutside",rP,QN=M.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),XN=M.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:a,onDismiss:c,...f}=t,p=M.useContext(QN),[g,_]=M.useState(null),S=(g==null?void 0:g.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,I]=M.useState({}),x=Vc(e,D=>_(D)),b=Array.from(p.layers),[R]=[...p.layersWithOutsidePointerEventsDisabled].slice(-1),L=b.indexOf(R),q=g?b.indexOf(g):-1,B=p.layersWithOutsidePointerEventsDisabled.size>0,G=q>=L,V=lX(D=>{const k=D.target,F=[...p.branches].some(A=>A.contains(k));!G||F||(i==null||i(D),a==null||a(D),D.defaultPrevented||c==null||c())},S),Y=cX(D=>{const k=D.target;[...p.branches].some(A=>A.contains(k))||(s==null||s(D),a==null||a(D),D.defaultPrevented||c==null||c())},S);return rX(D=>{q===p.layers.size-1&&(r==null||r(D),!D.defaultPrevented&&c&&(D.preventDefault(),c()))},S),M.useEffect(()=>{if(g)return n&&(p.layersWithOutsidePointerEventsDisabled.size===0&&(rP=S.body.style.pointerEvents,S.body.style.pointerEvents="none"),p.layersWithOutsidePointerEventsDisabled.add(g)),p.layers.add(g),iP(),()=>{n&&p.layersWithOutsidePointerEventsDisabled.size===1&&(S.body.style.pointerEvents=rP)}},[g,S,n,p]),M.useEffect(()=>()=>{g&&(p.layers.delete(g),p.layersWithOutsidePointerEventsDisabled.delete(g),iP())},[g,p]),M.useEffect(()=>{const D=()=>I({});return document.addEventListener(FE,D),()=>document.removeEventListener(FE,D)},[]),j.jsx(il.div,{...f,ref:x,style:{pointerEvents:B?G?"auto":"none":void 0,...t.style},onFocusCapture:vc(t.onFocusCapture,Y.onFocusCapture),onBlurCapture:vc(t.onBlurCapture,Y.onBlurCapture),onPointerDownCapture:vc(t.onPointerDownCapture,V.onPointerDownCapture)})});XN.displayName=iX;var aX="DismissableLayerBranch",uX=M.forwardRef((t,e)=>{const n=M.useContext(QN),r=M.useRef(null),i=Vc(e,r);return M.useEffect(()=>{const s=r.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),j.jsx(il.div,{...t,ref:i})});uX.displayName=aX;function lX(t,e=globalThis==null?void 0:globalThis.document){const n=Rc(t),r=M.useRef(!1),i=M.useRef(()=>{});return M.useEffect(()=>{const s=c=>{if(c.target&&!r.current){let f=function(){ZN(sX,n,p,{discrete:!0})};const p={originalEvent:c};c.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=f,e.addEventListener("click",i.current,{once:!0})):f()}else e.removeEventListener("click",i.current);r.current=!1},a=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(a),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function cX(t,e=globalThis==null?void 0:globalThis.document){const n=Rc(t),r=M.useRef(!1);return M.useEffect(()=>{const i=s=>{s.target&&!r.current&&ZN(oX,n,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function iP(){const t=new CustomEvent(FE);document.dispatchEvent(t)}function ZN(t,e,n,{discrete:r}){const i=n.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?nX(i,s):i.dispatchEvent(s)}var dT=0;function fX(){M.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??sP()),document.body.insertAdjacentElement("beforeend",t[1]??sP()),dT++,()=>{dT===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),dT--}},[])}function sP(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var hT="focusScope.autoFocusOnMount",pT="focusScope.autoFocusOnUnmount",oP={bubbles:!1,cancelable:!0},dX="FocusScope",JN=M.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...a}=t,[c,f]=M.useState(null),p=Rc(i),g=Rc(s),_=M.useRef(null),S=Vc(e,b=>f(b)),I=M.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;M.useEffect(()=>{if(r){let b=function(B){if(I.paused||!c)return;const G=B.target;c.contains(G)?_.current=G:nc(_.current,{select:!0})},R=function(B){if(I.paused||!c)return;const G=B.relatedTarget;G!==null&&(c.contains(G)||nc(_.current,{select:!0}))},L=function(B){if(document.activeElement===document.body)for(const V of B)V.removedNodes.length>0&&nc(c)};document.addEventListener("focusin",b),document.addEventListener("focusout",R);const q=new MutationObserver(L);return c&&q.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",b),document.removeEventListener("focusout",R),q.disconnect()}}},[r,c,I.paused]),M.useEffect(()=>{if(c){uP.add(I);const b=document.activeElement;if(!c.contains(b)){const L=new CustomEvent(hT,oP);c.addEventListener(hT,p),c.dispatchEvent(L),L.defaultPrevented||(hX(vX(eM(c)),{select:!0}),document.activeElement===b&&nc(c))}return()=>{c.removeEventListener(hT,p),setTimeout(()=>{const L=new CustomEvent(pT,oP);c.addEventListener(pT,g),c.dispatchEvent(L),L.defaultPrevented||nc(b??document.body,{select:!0}),c.removeEventListener(pT,g),uP.remove(I)},0)}}},[c,p,g,I]);const x=M.useCallback(b=>{if(!n&&!r||I.paused)return;const R=b.key==="Tab"&&!b.altKey&&!b.ctrlKey&&!b.metaKey,L=document.activeElement;if(R&&L){const q=b.currentTarget,[B,G]=pX(q);B&&G?!b.shiftKey&&L===G?(b.preventDefault(),n&&nc(B,{select:!0})):b.shiftKey&&L===B&&(b.preventDefault(),n&&nc(G,{select:!0})):L===q&&b.preventDefault()}},[n,r,I.paused]);return j.jsx(il.div,{tabIndex:-1,...a,ref:S,onKeyDown:x})});JN.displayName=dX;function hX(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(nc(r,{select:e}),document.activeElement!==n)return}function pX(t){const e=eM(t),n=aP(e,t),r=aP(e.reverse(),t);return[n,r]}function eM(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function aP(t,e){for(const n of t)if(!mX(n,{upTo:e}))return n}function mX(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function gX(t){return t instanceof HTMLInputElement&&"select"in t}function nc(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&gX(t)&&e&&t.select()}}var uP=yX();function yX(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=lP(t,e),t.unshift(e)},remove(e){var n;t=lP(t,e),(n=t[0])==null||n.resume()}}}function lP(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function vX(t){return t.filter(e=>e.tagName!=="A")}var ad=globalThis!=null&&globalThis.document?M.useLayoutEffect:()=>{},_X=MT.useId||(()=>{}),wX=0;function SX(t){const[e,n]=M.useState(_X());return ad(()=>{t||n(r=>r??String(wX++))},[t]),t||(e?`radix-${e}`:"")}var F_=typeof document<"u"?M.useLayoutEffect:M.useEffect;function b0(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!b0(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&t.$$typeof)&&!b0(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function tM(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function cP(t,e){const n=tM(t);return Math.round(e*n)/n}function mT(t){const e=M.useRef(t);return F_(()=>{e.current=t}),e}function TX(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:a}={},transform:c=!0,whileElementsMounted:f,open:p}=t,[g,_]=M.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[S,I]=M.useState(r);b0(S,r)||I(r);const[x,b]=M.useState(null),[R,L]=M.useState(null),q=M.useCallback(ae=>{ae!==Y.current&&(Y.current=ae,b(ae))},[]),B=M.useCallback(ae=>{ae!==D.current&&(D.current=ae,L(ae))},[]),G=s||x,V=a||R,Y=M.useRef(null),D=M.useRef(null),k=M.useRef(g),F=f!=null,A=mT(f),W=mT(i),K=mT(p),H=M.useCallback(()=>{if(!Y.current||!D.current)return;const ae={placement:e,strategy:n,middleware:S};W.current&&(ae.platform=W.current),hq(Y.current,D.current,ae).then(Ae=>{const Ee={...Ae,isPositioned:K.current!==!1};ce.current&&!b0(k.current,Ee)&&(k.current=Ee,Cw.flushSync(()=>{_(Ee)}))})},[S,e,n,W,K]);F_(()=>{p===!1&&k.current.isPositioned&&(k.current.isPositioned=!1,_(ae=>({...ae,isPositioned:!1})))},[p]);const ce=M.useRef(!1);F_(()=>(ce.current=!0,()=>{ce.current=!1}),[]),F_(()=>{if(G&&(Y.current=G),V&&(D.current=V),G&&V){if(A.current)return A.current(G,V,H);H()}},[G,V,H,A,F]);const oe=M.useMemo(()=>({reference:Y,floating:D,setReference:q,setFloating:B}),[q,B]),_e=M.useMemo(()=>({reference:G,floating:V}),[G,V]),ye=M.useMemo(()=>{const ae={position:n,left:0,top:0};if(!_e.floating)return ae;const Ae=cP(_e.floating,g.x),Ee=cP(_e.floating,g.y);return c?{...ae,transform:"translate("+Ae+"px, "+Ee+"px)",...tM(_e.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:Ae,top:Ee}},[n,c,_e.floating,g.x,g.y]);return M.useMemo(()=>({...g,update:H,refs:oe,elements:_e,floatingStyles:ye}),[g,H,oe,_e,ye])}const EX=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?lx({element:r.current,padding:i}).fn(n):{}:r?lx({element:r,padding:i}).fn(n):{}}}},CX=(t,e)=>({...aq(t),options:[t,e]}),IX=(t,e)=>({...uq(t),options:[t,e]}),bX=(t,e)=>({...dq(t),options:[t,e]}),AX=(t,e)=>({...lq(t),options:[t,e]}),xX=(t,e)=>({...cq(t),options:[t,e]}),PX=(t,e)=>({...fq(t),options:[t,e]}),RX=(t,e)=>({...EX(t),options:[t,e]});var kX="Arrow",nM=M.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...s}=t;return j.jsx(il.svg,{...s,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:j.jsx("polygon",{points:"0,0 30,0 15,10"})})});nM.displayName=kX;var OX=nM;function DX(t){const[e,n]=M.useState(void 0);return ad(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let a,c;if("borderBoxSize"in s){const f=s.borderBoxSize,p=Array.isArray(f)?f[0]:f;a=p.inlineSize,c=p.blockSize}else a=t.offsetWidth,c=t.offsetHeight;n({width:a,height:c})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var LC="Popper",[rM,iM]=YN(LC),[NX,sM]=rM(LC),oM=t=>{const{__scopePopper:e,children:n}=t,[r,i]=M.useState(null);return j.jsx(NX,{scope:e,anchor:r,onAnchorChange:i,children:n})};oM.displayName=LC;var aM="PopperAnchor",uM=M.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,s=sM(aM,n),a=M.useRef(null),c=Vc(e,a);return M.useEffect(()=>{s.onAnchorChange((r==null?void 0:r.current)||a.current)}),r?null:j.jsx(il.div,{...i,ref:c})});uM.displayName=aM;var VC="PopperContent",[MX,LX]=rM(VC),lM=M.forwardRef((t,e)=>{var ut,Je,mt,on,Qn,Ar;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:s="center",alignOffset:a=0,arrowPadding:c=0,avoidCollisions:f=!0,collisionBoundary:p=[],collisionPadding:g=0,sticky:_="partial",hideWhenDetached:S=!1,updatePositionStrategy:I="optimized",onPlaced:x,...b}=t,R=sM(VC,n),[L,q]=M.useState(null),B=Vc(e,sr=>q(sr)),[G,V]=M.useState(null),Y=DX(G),D=(Y==null?void 0:Y.width)??0,k=(Y==null?void 0:Y.height)??0,F=r+(s!=="center"?"-"+s:""),A=typeof g=="number"?g:{top:0,right:0,bottom:0,left:0,...g},W=Array.isArray(p)?p:[p],K=W.length>0,H={padding:A,boundary:W.filter(FX),altBoundary:K},{refs:ce,floatingStyles:oe,placement:_e,isPositioned:ye,middlewareData:ae}=TX({strategy:"fixed",placement:F,whileElementsMounted:(...sr)=>E2(...sr,{animationFrame:I==="always"}),elements:{reference:R.anchor},middleware:[CX({mainAxis:i+k,alignmentAxis:a}),f&&IX({mainAxis:!0,crossAxis:!1,limiter:_==="partial"?bX():void 0,...H}),f&&AX({...H}),xX({...H,apply:({elements:sr,rects:an,availableWidth:jr,availableHeight:qa})=>{const{width:xr,height:Ga}=an.reference,Ki=sr.floating.style;Ki.setProperty("--radix-popper-available-width",`${jr}px`),Ki.setProperty("--radix-popper-available-height",`${qa}px`),Ki.setProperty("--radix-popper-anchor-width",`${xr}px`),Ki.setProperty("--radix-popper-anchor-height",`${Ga}px`)}}),G&&RX({element:G,padding:c}),UX({arrowWidth:D,arrowHeight:k}),S&&PX({strategy:"referenceHidden",...H})]}),[Ae,Ee]=dM(_e),ee=Rc(x);ad(()=>{ye&&(ee==null||ee())},[ye,ee]);const de=(ut=ae.arrow)==null?void 0:ut.x,Oe=(Je=ae.arrow)==null?void 0:Je.y,Ke=((mt=ae.arrow)==null?void 0:mt.centerOffset)!==0,[je,Ye]=M.useState();return ad(()=>{L&&Ye(window.getComputedStyle(L).zIndex)},[L]),j.jsx("div",{ref:ce.setFloating,"data-radix-popper-content-wrapper":"",style:{...oe,transform:ye?oe.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:je,"--radix-popper-transform-origin":[(on=ae.transformOrigin)==null?void 0:on.x,(Qn=ae.transformOrigin)==null?void 0:Qn.y].join(" "),...((Ar=ae.hide)==null?void 0:Ar.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:j.jsx(MX,{scope:n,placedSide:Ae,onArrowChange:V,arrowX:de,arrowY:Oe,shouldHideArrow:Ke,children:j.jsx(il.div,{"data-side":Ae,"data-align":Ee,...b,ref:B,style:{...b.style,animation:ye?void 0:"none"}})})})});lM.displayName=VC;var cM="PopperArrow",VX={top:"bottom",right:"left",bottom:"top",left:"right"},fM=M.forwardRef(function(e,n){const{__scopePopper:r,...i}=e,s=LX(cM,r),a=VX[s.placedSide];return j.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:j.jsx(OX,{...i,ref:n,style:{...i.style,display:"block"}})})});fM.displayName=cM;function FX(t){return t!==null}var UX=t=>({name:"transformOrigin",options:t,fn(e){var R,L,q;const{placement:n,rects:r,middlewareData:i}=e,a=((R=i.arrow)==null?void 0:R.centerOffset)!==0,c=a?0:t.arrowWidth,f=a?0:t.arrowHeight,[p,g]=dM(n),_={start:"0%",center:"50%",end:"100%"}[g],S=(((L=i.arrow)==null?void 0:L.x)??0)+c/2,I=(((q=i.arrow)==null?void 0:q.y)??0)+f/2;let x="",b="";return p==="bottom"?(x=a?_:`${S}px`,b=`${-f}px`):p==="top"?(x=a?_:`${S}px`,b=`${r.floating.height+f}px`):p==="right"?(x=`${-f}px`,b=a?_:`${I}px`):p==="left"&&(x=`${r.floating.width+f}px`,b=a?_:`${I}px`),{data:{x,y:b}}}});function dM(t){const[e,n="center"]=t.split("-");return[e,n]}var BX=oM,hM=uM,$X=lM,jX=fM,zX="Portal",pM=M.forwardRef((t,e)=>{var c;const{container:n,...r}=t,[i,s]=M.useState(!1);ad(()=>s(!0),[]);const a=n||i&&((c=globalThis==null?void 0:globalThis.document)==null?void 0:c.body);return a?b7.createPortal(j.jsx(il.div,{...r,ref:e}),a):null});pM.displayName=zX;function WX(t,e){return M.useReducer((n,r)=>e[n][r]??n,t)}var FC=t=>{const{present:e,children:n}=t,r=HX(e),i=typeof n=="function"?n({present:r.isPresent}):M.Children.only(n),s=Vc(r.ref,qX(i));return typeof n=="function"||r.isPresent?M.cloneElement(i,{ref:s}):null};FC.displayName="Presence";function HX(t){const[e,n]=M.useState(),r=M.useRef({}),i=M.useRef(t),s=M.useRef("none"),a=t?"mounted":"unmounted",[c,f]=WX(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return M.useEffect(()=>{const p=l_(r.current);s.current=c==="mounted"?p:"none"},[c]),ad(()=>{const p=r.current,g=i.current;if(g!==t){const S=s.current,I=l_(p);t?f("MOUNT"):I==="none"||(p==null?void 0:p.display)==="none"?f("UNMOUNT"):f(g&&S!==I?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,f]),ad(()=>{if(e){let p;const g=e.ownerDocument.defaultView??window,_=I=>{const b=l_(r.current).includes(I.animationName);if(I.target===e&&b&&(f("ANIMATION_END"),!i.current)){const R=e.style.animationFillMode;e.style.animationFillMode="forwards",p=g.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=R)})}},S=I=>{I.target===e&&(s.current=l_(r.current))};return e.addEventListener("animationstart",S),e.addEventListener("animationcancel",_),e.addEventListener("animationend",_),()=>{g.clearTimeout(p),e.removeEventListener("animationstart",S),e.removeEventListener("animationcancel",_),e.removeEventListener("animationend",_)}}else f("ANIMATION_END")},[e,f]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:M.useCallback(p=>{p&&(r.current=getComputedStyle(p)),n(p)},[])}}function l_(t){return(t==null?void 0:t.animationName)||"none"}function qX(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function GX({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,i]=KX({defaultProp:e,onChange:n}),s=t!==void 0,a=s?t:r,c=Rc(n),f=M.useCallback(p=>{if(s){const _=typeof p=="function"?p(t):p;_!==t&&c(_)}else i(p)},[s,t,i,c]);return[a,f]}function KX({defaultProp:t,onChange:e}){const n=M.useState(t),[r]=n,i=M.useRef(r),s=Rc(e);return M.useEffect(()=>{i.current!==r&&(s(r),i.current=r)},[r,i,s]),n}var YX=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},qh=new WeakMap,c_=new WeakMap,f_={},gT=0,mM=function(t){return t&&(t.host||mM(t.parentNode))},QX=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=mM(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},XX=function(t,e,n,r){var i=QX(e,Array.isArray(t)?t:[t]);f_[n]||(f_[n]=new WeakMap);var s=f_[n],a=[],c=new Set,f=new Set(i),p=function(_){!_||c.has(_)||(c.add(_),p(_.parentNode))};i.forEach(p);var g=function(_){!_||f.has(_)||Array.prototype.forEach.call(_.children,function(S){if(c.has(S))g(S);else try{var I=S.getAttribute(r),x=I!==null&&I!=="false",b=(qh.get(S)||0)+1,R=(s.get(S)||0)+1;qh.set(S,b),s.set(S,R),a.push(S),b===1&&x&&c_.set(S,!0),R===1&&S.setAttribute(n,"true"),x||S.setAttribute(r,"true")}catch(L){console.error("aria-hidden: cannot operate on ",S,L)}})};return g(e),c.clear(),gT++,function(){a.forEach(function(_){var S=qh.get(_)-1,I=s.get(_)-1;qh.set(_,S),s.set(_,I),S||(c_.has(_)||_.removeAttribute(r),c_.delete(_)),I||_.removeAttribute(n)}),gT--,gT||(qh=new WeakMap,qh=new WeakMap,c_=new WeakMap,f_={})}},ZX=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=YX(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),XX(r,i,n,"aria-hidden")):function(){return null}},U_="right-scroll-bar-position",B_="width-before-scroll-bar",JX="with-scroll-bars-hidden",eZ="--removed-body-scroll-bar-size";function yT(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function tZ(t,e){var n=M.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var nZ=typeof window<"u"?M.useLayoutEffect:M.useEffect,fP=new WeakMap;function rZ(t,e){var n=tZ(null,function(r){return t.forEach(function(i){return yT(i,r)})});return nZ(function(){var r=fP.get(n);if(r){var i=new Set(r),s=new Set(t),a=n.current;i.forEach(function(c){s.has(c)||yT(c,null)}),s.forEach(function(c){i.has(c)||yT(c,a)})}fP.set(n,t)},[t]),n}function iZ(t){return t}function sZ(t,e){e===void 0&&(e=iZ);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(s){var a=e(s,r);return n.push(a),function(){n=n.filter(function(c){return c!==a})}},assignSyncMedium:function(s){for(r=!0;n.length;){var a=n;n=[],a.forEach(s)}n={push:function(c){return s(c)},filter:function(){return n}}},assignMedium:function(s){r=!0;var a=[];if(n.length){var c=n;n=[],c.forEach(s),a=n}var f=function(){var g=a;a=[],g.forEach(s)},p=function(){return Promise.resolve().then(f)};p(),n={push:function(g){a.push(g),p()},filter:function(g){return a=a.filter(g),n}}}};return i}function oZ(t){t===void 0&&(t={});var e=sZ(null);return e.options=Pa({async:!0,ssr:!1},t),e}var gM=function(t){var e=t.sideCar,n=py(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return M.createElement(r,Pa({},n))};gM.isSideCarExport=!0;function aZ(t,e){return t.useMedium(e),gM}var yM=oZ(),vT=function(){},Nw=M.forwardRef(function(t,e){var n=M.useRef(null),r=M.useState({onScrollCapture:vT,onWheelCapture:vT,onTouchMoveCapture:vT}),i=r[0],s=r[1],a=t.forwardProps,c=t.children,f=t.className,p=t.removeScrollBar,g=t.enabled,_=t.shards,S=t.sideCar,I=t.noIsolation,x=t.inert,b=t.allowPinchZoom,R=t.as,L=R===void 0?"div":R,q=t.gapMode,B=py(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),G=S,V=rZ([n,e]),Y=Pa(Pa({},B),i);return M.createElement(M.Fragment,null,g&&M.createElement(G,{sideCar:yM,removeScrollBar:p,shards:_,noIsolation:I,inert:x,setCallbacks:s,allowPinchZoom:!!b,lockRef:n,gapMode:q}),a?M.cloneElement(M.Children.only(c),Pa(Pa({},Y),{ref:V})):M.createElement(L,Pa({},Y,{className:f,ref:V}),c))});Nw.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Nw.classNames={fullWidth:B_,zeroRight:U_};var uZ=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function lZ(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=uZ();return e&&t.setAttribute("nonce",e),t}function cZ(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function fZ(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var dZ=function(){var t=0,e=null;return{add:function(n){t==0&&(e=lZ())&&(cZ(e,n),fZ(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},hZ=function(){var t=dZ();return function(e,n){M.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},vM=function(){var t=hZ(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},pZ={left:0,top:0,right:0,gap:0},_T=function(t){return parseInt(t||"",10)||0},mZ=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[_T(n),_T(r),_T(i)]},gZ=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return pZ;var e=mZ(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},yZ=vM(),vp="data-scroll-locked",vZ=function(t,e,n,r){var i=t.left,s=t.top,a=t.right,c=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(JX,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(c,"px ").concat(r,`;
  }
  body[`).concat(vp,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(c,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(c,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(U_,` {
    right: `).concat(c,"px ").concat(r,`;
  }
  
  .`).concat(B_,` {
    margin-right: `).concat(c,"px ").concat(r,`;
  }
  
  .`).concat(U_," .").concat(U_,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(B_," .").concat(B_,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(vp,`] {
    `).concat(eZ,": ").concat(c,`px;
  }
`)},dP=function(){var t=parseInt(document.body.getAttribute(vp)||"0",10);return isFinite(t)?t:0},_Z=function(){M.useEffect(function(){return document.body.setAttribute(vp,(dP()+1).toString()),function(){var t=dP()-1;t<=0?document.body.removeAttribute(vp):document.body.setAttribute(vp,t.toString())}},[])},wZ=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;_Z();var s=M.useMemo(function(){return gZ(i)},[i]);return M.createElement(yZ,{styles:vZ(s,!e,i,n?"":"!important")})},UE=!1;if(typeof window<"u")try{var d_=Object.defineProperty({},"passive",{get:function(){return UE=!0,!0}});window.addEventListener("test",d_,d_),window.removeEventListener("test",d_,d_)}catch{UE=!1}var Gh=UE?{passive:!1}:!1,SZ=function(t){return t.tagName==="TEXTAREA"},_M=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!SZ(t)&&n[e]==="visible")},TZ=function(t){return _M(t,"overflowY")},EZ=function(t){return _M(t,"overflowX")},hP=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=wM(t,r);if(i){var s=SM(t,r),a=s[1],c=s[2];if(a>c)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},CZ=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},IZ=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},wM=function(t,e){return t==="v"?TZ(e):EZ(e)},SM=function(t,e){return t==="v"?CZ(e):IZ(e)},bZ=function(t,e){return t==="h"&&e==="rtl"?-1:1},AZ=function(t,e,n,r,i){var s=bZ(t,window.getComputedStyle(e).direction),a=s*r,c=n.target,f=e.contains(c),p=!1,g=a>0,_=0,S=0;do{var I=SM(t,c),x=I[0],b=I[1],R=I[2],L=b-R-s*x;(x||L)&&wM(t,c)&&(_+=L,S+=x),c instanceof ShadowRoot?c=c.host:c=c.parentNode}while(!f&&c!==document.body||f&&(e.contains(c)||e===c));return(g&&Math.abs(_)<1||!g&&Math.abs(S)<1)&&(p=!0),p},h_=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},pP=function(t){return[t.deltaX,t.deltaY]},mP=function(t){return t&&"current"in t?t.current:t},xZ=function(t,e){return t[0]===e[0]&&t[1]===e[1]},PZ=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},RZ=0,Kh=[];function kZ(t){var e=M.useRef([]),n=M.useRef([0,0]),r=M.useRef(),i=M.useState(RZ++)[0],s=M.useState(vM)[0],a=M.useRef(t);M.useEffect(function(){a.current=t},[t]),M.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var b=T5([t.lockRef.current],(t.shards||[]).map(mP),!0).filter(Boolean);return b.forEach(function(R){return R.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),b.forEach(function(R){return R.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var c=M.useCallback(function(b,R){if("touches"in b&&b.touches.length===2||b.type==="wheel"&&b.ctrlKey)return!a.current.allowPinchZoom;var L=h_(b),q=n.current,B="deltaX"in b?b.deltaX:q[0]-L[0],G="deltaY"in b?b.deltaY:q[1]-L[1],V,Y=b.target,D=Math.abs(B)>Math.abs(G)?"h":"v";if("touches"in b&&D==="h"&&Y.type==="range")return!1;var k=hP(D,Y);if(!k)return!0;if(k?V=D:(V=D==="v"?"h":"v",k=hP(D,Y)),!k)return!1;if(!r.current&&"changedTouches"in b&&(B||G)&&(r.current=V),!V)return!0;var F=r.current||V;return AZ(F,R,b,F==="h"?B:G)},[]),f=M.useCallback(function(b){var R=b;if(!(!Kh.length||Kh[Kh.length-1]!==s)){var L="deltaY"in R?pP(R):h_(R),q=e.current.filter(function(V){return V.name===R.type&&(V.target===R.target||R.target===V.shadowParent)&&xZ(V.delta,L)})[0];if(q&&q.should){R.cancelable&&R.preventDefault();return}if(!q){var B=(a.current.shards||[]).map(mP).filter(Boolean).filter(function(V){return V.contains(R.target)}),G=B.length>0?c(R,B[0]):!a.current.noIsolation;G&&R.cancelable&&R.preventDefault()}}},[]),p=M.useCallback(function(b,R,L,q){var B={name:b,delta:R,target:L,should:q,shadowParent:OZ(L)};e.current.push(B),setTimeout(function(){e.current=e.current.filter(function(G){return G!==B})},1)},[]),g=M.useCallback(function(b){n.current=h_(b),r.current=void 0},[]),_=M.useCallback(function(b){p(b.type,pP(b),b.target,c(b,t.lockRef.current))},[]),S=M.useCallback(function(b){p(b.type,h_(b),b.target,c(b,t.lockRef.current))},[]);M.useEffect(function(){return Kh.push(s),t.setCallbacks({onScrollCapture:_,onWheelCapture:_,onTouchMoveCapture:S}),document.addEventListener("wheel",f,Gh),document.addEventListener("touchmove",f,Gh),document.addEventListener("touchstart",g,Gh),function(){Kh=Kh.filter(function(b){return b!==s}),document.removeEventListener("wheel",f,Gh),document.removeEventListener("touchmove",f,Gh),document.removeEventListener("touchstart",g,Gh)}},[]);var I=t.removeScrollBar,x=t.inert;return M.createElement(M.Fragment,null,x?M.createElement(s,{styles:PZ(i)}):null,I?M.createElement(wZ,{gapMode:t.gapMode}):null)}function OZ(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const DZ=aZ(yM,kZ);var TM=M.forwardRef(function(t,e){return M.createElement(Nw,Pa({},t,{ref:e,sideCar:DZ}))});TM.classNames=Nw.classNames;var UC="Popover",[EM,Vie]=YN(UC,[iM]),Dy=iM(),[NZ,Fc]=EM(UC),CM=t=>{const{__scopePopover:e,children:n,open:r,defaultOpen:i,onOpenChange:s,modal:a=!1}=t,c=Dy(e),f=M.useRef(null),[p,g]=M.useState(!1),[_=!1,S]=GX({prop:r,defaultProp:i,onChange:s});return j.jsx(BX,{...c,children:j.jsx(NZ,{scope:e,contentId:SX(),triggerRef:f,open:_,onOpenChange:S,onOpenToggle:M.useCallback(()=>S(I=>!I),[S]),hasCustomAnchor:p,onCustomAnchorAdd:M.useCallback(()=>g(!0),[]),onCustomAnchorRemove:M.useCallback(()=>g(!1),[]),modal:a,children:n})})};CM.displayName=UC;var IM="PopoverAnchor",MZ=M.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,i=Fc(IM,n),s=Dy(n),{onCustomAnchorAdd:a,onCustomAnchorRemove:c}=i;return M.useEffect(()=>(a(),()=>c()),[a,c]),j.jsx(hM,{...s,...r,ref:e})});MZ.displayName=IM;var bM="PopoverTrigger",AM=M.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,i=Fc(bM,n),s=Dy(n),a=Vc(e,i.triggerRef),c=j.jsx(il.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":DM(i.open),...r,ref:a,onClick:vc(t.onClick,i.onOpenToggle)});return i.hasCustomAnchor?c:j.jsx(hM,{asChild:!0,...s,children:c})});AM.displayName=bM;var BC="PopoverPortal",[LZ,VZ]=EM(BC,{forceMount:void 0}),xM=t=>{const{__scopePopover:e,forceMount:n,children:r,container:i}=t,s=Fc(BC,e);return j.jsx(LZ,{scope:e,forceMount:n,children:j.jsx(FC,{present:n||s.open,children:j.jsx(pM,{asChild:!0,container:i,children:r})})})};xM.displayName=BC;var Dp="PopoverContent",PM=M.forwardRef((t,e)=>{const n=VZ(Dp,t.__scopePopover),{forceMount:r=n.forceMount,...i}=t,s=Fc(Dp,t.__scopePopover);return j.jsx(FC,{present:r||s.open,children:s.modal?j.jsx(FZ,{...i,ref:e}):j.jsx(UZ,{...i,ref:e})})});PM.displayName=Dp;var FZ=M.forwardRef((t,e)=>{const n=Fc(Dp,t.__scopePopover),r=M.useRef(null),i=Vc(e,r),s=M.useRef(!1);return M.useEffect(()=>{const a=r.current;if(a)return ZX(a)},[]),j.jsx(TM,{as:MC,allowPinchZoom:!0,children:j.jsx(RM,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:vc(t.onCloseAutoFocus,a=>{var c;a.preventDefault(),s.current||(c=n.triggerRef.current)==null||c.focus()}),onPointerDownOutside:vc(t.onPointerDownOutside,a=>{const c=a.detail.originalEvent,f=c.button===0&&c.ctrlKey===!0,p=c.button===2||f;s.current=p},{checkForDefaultPrevented:!1}),onFocusOutside:vc(t.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1})})})}),UZ=M.forwardRef((t,e)=>{const n=Fc(Dp,t.__scopePopover),r=M.useRef(!1),i=M.useRef(!1);return j.jsx(RM,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var a,c;(a=t.onCloseAutoFocus)==null||a.call(t,s),s.defaultPrevented||(r.current||(c=n.triggerRef.current)==null||c.focus(),s.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:s=>{var f,p;(f=t.onInteractOutside)==null||f.call(t,s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const a=s.target;((p=n.triggerRef.current)==null?void 0:p.contains(a))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),RM=M.forwardRef((t,e)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:s,disableOutsidePointerEvents:a,onEscapeKeyDown:c,onPointerDownOutside:f,onFocusOutside:p,onInteractOutside:g,..._}=t,S=Fc(Dp,n),I=Dy(n);return fX(),j.jsx(JN,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:s,children:j.jsx(XN,{asChild:!0,disableOutsidePointerEvents:a,onInteractOutside:g,onEscapeKeyDown:c,onPointerDownOutside:f,onFocusOutside:p,onDismiss:()=>S.onOpenChange(!1),children:j.jsx($X,{"data-state":DM(S.open),role:"dialog",id:S.contentId,...I,..._,ref:e,style:{..._.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),kM="PopoverClose",BZ=M.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,i=Fc(kM,n);return j.jsx(il.button,{type:"button",...r,ref:e,onClick:vc(t.onClick,()=>i.onOpenChange(!1))})});BZ.displayName=kM;var $Z="PopoverArrow",OM=M.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,i=Dy(n);return j.jsx(jX,{...i,...r,ref:e})});OM.displayName=$Z;function DM(t){return t?"open":"closed"}var $C=CM,jC=AM,jZ=xM,zC=PM,zZ=OM;const WZ=()=>{const{db:t,storage:e}=M.useContext(rl),n=oi(V=>V.setDrawerOpen),r=oi(V=>V.setDrawerContent),i=qi(V=>V.products),s=qi(V=>V.setProducts),a=qi(V=>V.user),[c,f]=M.useState([]),[p,g]=M.useState([]),[_,S]=M.useState(!1),[I,x]=M.useState(""),[b,R]=M.useState("createdAtDesc"),L=[{value:"createdAtDesc",label:"Newest First"},{value:"createdAtAsc",label:"Oldest First"},{value:"nameAsc",label:"Name A-Z"},{value:"nameDesc",label:"Name Z-A"}];M.useEffect(()=>{const V=fj(tj(JO(t,`users/${a.uid}/products`),nj("createdAt","desc")),async Y=>{if(i.length===Y.docs.length&&i.every(F=>{const A=Y.docs.find(W=>W.id===F.id);return A?PK.isEqual(F,{id:A.id,...A.data()}):!1})){g(i),f(i.reduce((F,A)=>{var W;return(W=A.tags)==null||W.forEach(K=>{F.includes(K)||F.push(K)}),F},[]));return}const D=await Promise.all(Y.docs.map(async F=>{let A=null;if(F.data().previewImg){console.log("Getting image URL");const W=jo(e,`${a.uid}/${F.data().previewImg}`);A=await Xg(W)}return console.log("Image URL:",A),{...F.data(),id:F.id,previewImgUrl:A}}));switch(console.log(D),b){case"createdAtDesc":g(D.sort((F,A)=>A.createdAt.toMillis()-F.createdAt.toMillis()));break;case"createdAtAsc":g(D.sort((F,A)=>F.createdAt.toMillis()-A.createdAt.toMillis()));break;case"nameAsc":g(D.sort((F,A)=>F.name.localeCompare(A.name)));break;case"nameDesc":g(D.sort((F,A)=>A.name.localeCompare(F.name)));break;default:g(D)}s(D);const k=D.reduce((F,A)=>{var W;return(W=A.tags)==null||W.forEach(K=>{F.includes(K)||F.push(K)}),F},[]);f(k)});return()=>{V()}},[]);const q=V=>{x(V);const Y=[...i].filter(D=>D.name.toLowerCase().includes(V.toLowerCase()));switch(b){case"createdAtDesc":g(Y.sort((D,k)=>k.createdAt.toMillis()-D.createdAt.toMillis()));break;case"createdAtAsc":g(Y.sort((D,k)=>D.createdAt.toMillis()-k.createdAt.toMillis()));break;case"nameAsc":g(Y.sort((D,k)=>D.name.localeCompare(k.name)));break;case"nameDesc":g(Y.sort((D,k)=>k.name.localeCompare(D.name)));break;default:g([...Y])}},B=V=>{switch(R(V.value),V.value){case"createdAtDesc":g([...i].sort((Y,D)=>D.createdAt.toMillis()-Y.createdAt.toMillis()));break;case"createdAtAsc":g([...i].sort((Y,D)=>Y.createdAt.toMillis()-D.createdAt.toMillis()));break;case"nameAsc":g([...i].sort((Y,D)=>Y.name.localeCompare(D.name)));break;case"nameDesc":g([...i].sort((Y,D)=>D.name.localeCompare(Y.name)));break;default:g([...i])}},G=V=>{const Y=i.find(ye=>ye.id===V),D=Intl.DateTimeFormat().resolvedOptions().timeZone,k=Y.purchaseDate,F=Y.warrantyLength,A=Y.warrantyLengthUnit;if(!k||!F||!A)return null;const W=rt.fromISO(`${k}T00:00:00`,{zone:D}),K=W.plus({[A]:F}),ce=rt.now().diff(W,["days"]).days,oe=K.diff(W,["days"]).days,_e=Math.max(ce/oe,0);return _e>=1?{percentComplete:0,expirationDate:K.toFormat("yyyy-MM-dd")}:{percentComplete:1-_e,expirationDate:K.toFormat("yyyy-MM-dd")}};return j.jsxs("div",{className:Ir.container,children:[j.jsx("button",{onClick:()=>{n(!0),r({component:"ADD_PRODUCT",params:{availableTags:c}})},className:Ir.addProductButton,children:j.jsx(zu,{})}),j.jsxs("div",{className:Ir.controls,children:[j.jsxs("div",{className:Ir.searchContainer,children:[j.jsx(Z8,{}),!I&&j.jsx("label",{htmlFor:"search",id:Ir.searchLabel,children:"Search"}),j.jsx("input",{type:"text",onChange:V=>{q(V.target.value)},value:I,id:Ir.searchInput}),j.jsx("button",{disabled:!I,onClick:()=>{x(""),q("")},className:Ir.clearSearchButton,style:{visibility:I?"visible":"hidden"},children:j.jsx(l2,{})})]}),j.jsxs($C,{open:_,onOpenChange:S,children:[j.jsx(jC,{asChild:!0,children:j.jsx("button",{className:Ir.sortButton,children:j.jsx(J8,{fontSize:"large"})})}),j.jsx(jZ,{children:j.jsxs(zC,{className:Ir.popoverContent,align:"start",side:"left",children:[L.map(V=>j.jsxs("button",{onClick:()=>{B(V),S(!1)},className:rC(V.value===b&&Ir.activeSortOption),children:[j.jsx(Q8,{}),V.label]},V.value)),j.jsx(zZ,{className:Ir.popoverArrow,"data-activeIndex":L.findIndex(V=>V.value===b)})]})})]})]}),j.jsx("div",{className:Ir.productList,children:p.map(V=>{var k;const{percentComplete:Y,expirationDate:D}=G(V.id);return j.jsxs("div",{className:Ir.productCard,onClick:()=>{n(!0),r({component:"PRODUCT_DETAILS",params:{productId:V.id,availableTags:c}})},children:[V.previewImg?j.jsx("img",{className:Ir.previewImg,src:V.previewImgUrl}):j.jsx("div",{className:Ir.imagePlaceholder,children:j.jsx(Ew,{fontSize:"large"})}),j.jsxs("div",{className:Ir.productInfo,children:[j.jsx("h3",{style:{width:"fit-content"},children:V.name}),j.jsxs("div",{children:[j.jsxs("p",{children:["Warranty ",Y===0?"expired":"expires"," ",D]}),j.jsx("progress",{value:Y})]}),((k=V==null?void 0:V.tags)==null?void 0:k.length)>0&&j.jsx("div",{className:Ir.tags,children:V.tags.map(F=>j.jsx("span",{className:Ir.tag,children:F},F))})]})]},V.id)})})]})},WC=M.createContext({});function HC(t){const e=M.useRef(null);return e.current===null&&(e.current=t()),e.current}const Mw=M.createContext(null),qC=M.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class HZ extends M.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,i=r instanceof HTMLElement&&r.offsetWidth||0,s=this.props.sizeRef.current;s.height=n.offsetHeight||0,s.width=n.offsetWidth||0,s.top=n.offsetTop,s.left=n.offsetLeft,s.right=i-s.width-s.left}return null}componentDidUpdate(){}render(){return this.props.children}}function qZ({children:t,isPresent:e,anchorX:n}){const r=M.useId(),i=M.useRef(null),s=M.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:a}=M.useContext(qC);return M.useInsertionEffect(()=>{const{width:c,height:f,top:p,left:g,right:_}=s.current;if(e||!i.current||!c||!f)return;const S=n==="left"?`left: ${g}`:`right: ${_}`;i.current.dataset.motionPopId=r;const I=document.createElement("style");return a&&(I.nonce=a),document.head.appendChild(I),I.sheet&&I.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${c}px !important;
            height: ${f}px !important;
            ${S}px !important;
            top: ${p}px !important;
          }
        `),()=>{document.head.removeChild(I)}},[e]),j.jsx(HZ,{isPresent:e,childRef:i,sizeRef:s,children:M.cloneElement(t,{ref:i})})}const GZ=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:a,anchorX:c})=>{const f=HC(KZ),p=M.useId(),g=M.useCallback(S=>{f.set(S,!0);for(const I of f.values())if(!I)return;r&&r()},[f,r]),_=M.useMemo(()=>({id:p,initial:e,isPresent:n,custom:i,onExitComplete:g,register:S=>(f.set(S,!1),()=>f.delete(S))}),s?[Math.random(),g]:[n,g]);return M.useMemo(()=>{f.forEach((S,I)=>f.set(I,!1))},[n]),M.useEffect(()=>{!n&&!f.size&&r&&r()},[n]),a==="popLayout"&&(t=j.jsx(qZ,{isPresent:n,anchorX:c,children:t})),j.jsx(Mw.Provider,{value:_,children:t})};function KZ(){return new Map}function NM(t=!0){const e=M.useContext(Mw);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,s=M.useId();M.useEffect(()=>{if(t)return i(s)},[t]);const a=M.useCallback(()=>t&&r&&r(s),[s,r,t]);return!n&&r?[!1,a]:[!0]}const p_=t=>t.key||"";function gP(t){const e=[];return M.Children.forEach(t,n=>{M.isValidElement(n)&&e.push(n)}),e}const GC=typeof window<"u",MM=GC?M.useLayoutEffect:M.useEffect,LM=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:s="sync",propagate:a=!1,anchorX:c="left"})=>{const[f,p]=NM(a),g=M.useMemo(()=>gP(t),[t]),_=a&&!f?[]:g.map(p_),S=M.useRef(!0),I=M.useRef(g),x=HC(()=>new Map),[b,R]=M.useState(g),[L,q]=M.useState(g);MM(()=>{S.current=!1,I.current=g;for(let V=0;V<L.length;V++){const Y=p_(L[V]);_.includes(Y)?x.delete(Y):x.get(Y)!==!0&&x.set(Y,!1)}},[L,_.length,_.join("-")]);const B=[];if(g!==b){let V=[...g];for(let Y=0;Y<L.length;Y++){const D=L[Y],k=p_(D);_.includes(k)||(V.splice(Y,0,D),B.push(D))}return s==="wait"&&B.length&&(V=B),q(gP(V)),R(g),null}const{forceRender:G}=M.useContext(WC);return j.jsx(j.Fragment,{children:L.map(V=>{const Y=p_(V),D=a&&!f?!1:g===L||_.includes(Y),k=()=>{if(x.has(Y))x.set(Y,!0);else return;let F=!0;x.forEach(A=>{A||(F=!1)}),F&&(G==null||G(),q(I.current),a&&(p==null||p()),r&&r())};return j.jsx(GZ,{isPresent:D,initial:!S.current||n?void 0:!1,custom:e,presenceAffectsLayout:i,mode:s,onExitComplete:D?void 0:k,anchorX:c,children:V},Y)})})},bs=t=>t;let BE=bs;const YZ={skipAnimations:!1,useManualTiming:!1},m_=["read","resolveKeyframes","update","preRender","render","postRender"];function QZ(t,e){let n=new Set,r=new Set,i=!1,s=!1;const a=new WeakSet;let c={delta:0,timestamp:0,isProcessing:!1};function f(g){a.has(g)&&(p.schedule(g),t()),g(c)}const p={schedule:(g,_=!1,S=!1)=>{const x=S&&i?n:r;return _&&a.add(g),x.has(g)||x.add(g),g},cancel:g=>{r.delete(g),a.delete(g)},process:g=>{if(c=g,i){s=!0;return}i=!0,[n,r]=[r,n],n.forEach(f),n.clear(),i=!1,s&&(s=!1,p.process(g))}};return p}const XZ=40;function VM(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,a=m_.reduce((L,q)=>(L[q]=QZ(s),L),{}),{read:c,resolveKeyframes:f,update:p,preRender:g,render:_,postRender:S}=a,I=()=>{const L=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(L-i.timestamp,XZ),1),i.timestamp=L,i.isProcessing=!0,c.process(i),f.process(i),p.process(i),g.process(i),_.process(i),S.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(I))},x=()=>{n=!0,r=!0,i.isProcessing||t(I)};return{schedule:m_.reduce((L,q)=>{const B=a[q];return L[q]=(G,V=!1,Y=!1)=>(n||x(),B.schedule(G,V,Y)),L},{}),cancel:L=>{for(let q=0;q<m_.length;q++)a[m_[q]].cancel(L)},state:i,steps:a}}const{schedule:sn,cancel:kc,state:Vr,steps:wT}=VM(typeof requestAnimationFrame<"u"?requestAnimationFrame:bs,!0),FM=M.createContext({strict:!1}),yP={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Np={};for(const t in yP)Np[t]={isEnabled:e=>yP[t].some(n=>!!e[n])};function ZZ(t){for(const e in t)Np[e]={...Np[e],...t[e]}}const JZ=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function A0(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||JZ.has(t)}let UM=t=>!A0(t);function eJ(t){t&&(UM=e=>e.startsWith("on")?!A0(e):t(e))}try{eJ(require("@emotion/is-prop-valid").default)}catch{}function tJ(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(UM(i)||n===!0&&A0(i)||!e&&!A0(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function nJ(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,i)=>i==="create"?t:(e.has(i)||e.set(i,t(i)),e.get(i))})}const Lw=M.createContext({});function Vw(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function sy(t){return typeof t=="string"||Array.isArray(t)}const KC=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],YC=["initial",...KC];function Fw(t){return Vw(t.animate)||YC.some(e=>sy(t[e]))}function BM(t){return!!(Fw(t)||t.variants)}function rJ(t,e){if(Fw(t)){const{initial:n,animate:r}=t;return{initial:n===!1||sy(n)?n:void 0,animate:sy(r)?r:void 0}}return t.inherit!==!1?e:{}}function iJ(t){const{initial:e,animate:n}=rJ(t,M.useContext(Lw));return M.useMemo(()=>({initial:e,animate:n}),[vP(e),vP(n)])}function vP(t){return Array.isArray(t)?t.join(" "):t}const sJ=Symbol.for("motionComponentSymbol");function np(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function oJ(t,e,n){return M.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):np(n)&&(n.current=r))},[e])}const QC=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),aJ="framerAppearId",$M="data-"+QC(aJ),{schedule:XC,cancel:Fie}=VM(queueMicrotask,!1),jM=M.createContext({});function uJ(t,e,n,r,i){var s,a;const{visualElement:c}=M.useContext(Lw),f=M.useContext(FM),p=M.useContext(Mw),g=M.useContext(qC).reducedMotion,_=M.useRef(null);r=r||f.renderer,!_.current&&r&&(_.current=r(t,{visualState:e,parent:c,props:n,presenceContext:p,blockInitialAnimation:p?p.initial===!1:!1,reducedMotionConfig:g}));const S=_.current,I=M.useContext(jM);S&&!S.projection&&i&&(S.type==="html"||S.type==="svg")&&lJ(_.current,n,i,I);const x=M.useRef(!1);M.useInsertionEffect(()=>{S&&x.current&&S.update(n,p)});const b=n[$M],R=M.useRef(!!b&&!(!((s=window.MotionHandoffIsComplete)===null||s===void 0)&&s.call(window,b))&&((a=window.MotionHasOptimisedAnimation)===null||a===void 0?void 0:a.call(window,b)));return MM(()=>{S&&(x.current=!0,window.MotionIsMounted=!0,S.updateFeatures(),XC.render(S.render),R.current&&S.animationState&&S.animationState.animateChanges())}),M.useEffect(()=>{S&&(!R.current&&S.animationState&&S.animationState.animateChanges(),R.current&&(queueMicrotask(()=>{var L;(L=window.MotionHandoffMarkAsComplete)===null||L===void 0||L.call(window,b)}),R.current=!1))}),S}function lJ(t,e,n,r){const{layoutId:i,layout:s,drag:a,dragConstraints:c,layoutScroll:f,layoutRoot:p}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:zM(t.parent)),t.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!a||c&&np(c),visualElement:t,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,layoutScroll:f,layoutRoot:p})}function zM(t){if(t)return t.options.allowProjection!==!1?t.projection:zM(t.parent)}function cJ({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){var s,a;t&&ZZ(t);function c(p,g){let _;const S={...M.useContext(qC),...p,layoutId:fJ(p)},{isStatic:I}=S,x=iJ(p),b=r(p,I);if(!I&&GC){dJ();const R=hJ(S);_=R.MeasureLayout,x.visualElement=uJ(i,b,S,e,R.ProjectionNode)}return j.jsxs(Lw.Provider,{value:x,children:[_&&x.visualElement?j.jsx(_,{visualElement:x.visualElement,...S}):null,n(i,p,oJ(b,x.visualElement,g),b,I,x.visualElement)]})}c.displayName=`motion.${typeof i=="string"?i:`create(${(a=(s=i.displayName)!==null&&s!==void 0?s:i.name)!==null&&a!==void 0?a:""})`}`;const f=M.forwardRef(c);return f[sJ]=i,f}function fJ({layoutId:t}){const e=M.useContext(WC).id;return e&&t!==void 0?e+"-"+t:t}function dJ(t,e){M.useContext(FM).strict}function hJ(t){const{drag:e,layout:n}=Np;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const WM=t=>e=>typeof e=="string"&&e.startsWith(t),ZC=WM("--"),pJ=WM("var(--"),JC=t=>pJ(t)?mJ.test(t.split("/*")[0].trim()):!1,mJ=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,oy={};function gJ(t){for(const e in t)oy[e]=t[e],ZC(e)&&(oy[e].isCSSVariable=!0)}const Qp=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],pd=new Set(Qp);function HM(t,{layout:e,layoutId:n}){return pd.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!oy[t]||t==="opacity")}const ai=t=>!!(t&&t.getVelocity),qM=(t,e)=>e&&typeof t=="number"?e.transform(t):t,nl=(t,e,n)=>n>e?e:n<t?t:n,Xp={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},ay={...Xp,transform:t=>nl(0,1,t)},g_={...Xp,default:1},Ny=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),rc=Ny("deg"),Ua=Ny("%"),nt=Ny("px"),yJ=Ny("vh"),vJ=Ny("vw"),_P={...Ua,parse:t=>Ua.parse(t)/100,transform:t=>Ua.transform(t*100)},_J={borderWidth:nt,borderTopWidth:nt,borderRightWidth:nt,borderBottomWidth:nt,borderLeftWidth:nt,borderRadius:nt,radius:nt,borderTopLeftRadius:nt,borderTopRightRadius:nt,borderBottomRightRadius:nt,borderBottomLeftRadius:nt,width:nt,maxWidth:nt,height:nt,maxHeight:nt,top:nt,right:nt,bottom:nt,left:nt,padding:nt,paddingTop:nt,paddingRight:nt,paddingBottom:nt,paddingLeft:nt,margin:nt,marginTop:nt,marginRight:nt,marginBottom:nt,marginLeft:nt,backgroundPositionX:nt,backgroundPositionY:nt},wJ={rotate:rc,rotateX:rc,rotateY:rc,rotateZ:rc,scale:g_,scaleX:g_,scaleY:g_,scaleZ:g_,skew:rc,skewX:rc,skewY:rc,distance:nt,translateX:nt,translateY:nt,translateZ:nt,x:nt,y:nt,z:nt,perspective:nt,transformPerspective:nt,opacity:ay,originX:_P,originY:_P,originZ:nt},wP={...Xp,transform:Math.round},eI={..._J,...wJ,zIndex:wP,size:nt,fillOpacity:ay,strokeOpacity:ay,numOctaves:wP},SJ={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},TJ=Qp.length;function EJ(t,e,n){let r="",i=!0;for(let s=0;s<TJ;s++){const a=Qp[s],c=t[a];if(c===void 0)continue;let f=!0;if(typeof c=="number"?f=c===(a.startsWith("scale")?1:0):f=parseFloat(c)===0,!f||n){const p=qM(c,eI[a]);if(!f){i=!1;const g=SJ[a]||a;r+=`${g}(${p}) `}n&&(e[a]=p)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function tI(t,e,n){const{style:r,vars:i,transformOrigin:s}=t;let a=!1,c=!1;for(const f in e){const p=e[f];if(pd.has(f)){a=!0;continue}else if(ZC(f)){i[f]=p;continue}else{const g=qM(p,eI[f]);f.startsWith("origin")?(c=!0,s[f]=g):r[f]=g}}if(e.transform||(a||n?r.transform=EJ(e,t.transform,n):r.transform&&(r.transform="none")),c){const{originX:f="50%",originY:p="50%",originZ:g=0}=s;r.transformOrigin=`${f} ${p} ${g}`}}const nI=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function GM(t,e,n){for(const r in e)!ai(e[r])&&!HM(r,n)&&(t[r]=e[r])}function CJ({transformTemplate:t},e){return M.useMemo(()=>{const n=nI();return tI(n,e,t),Object.assign({},n.vars,n.style)},[e])}function IJ(t,e){const n=t.style||{},r={};return GM(r,n,t),Object.assign(r,CJ(t,e)),r}function bJ(t,e){const n={},r=IJ(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const AJ=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function rI(t){return typeof t!="string"||t.includes("-")?!1:!!(AJ.indexOf(t)>-1||/[A-Z]/u.test(t))}const xJ={offset:"stroke-dashoffset",array:"stroke-dasharray"},PJ={offset:"strokeDashoffset",array:"strokeDasharray"};function RJ(t,e,n=1,r=0,i=!0){t.pathLength=1;const s=i?xJ:PJ;t[s.offset]=nt.transform(-r);const a=nt.transform(e),c=nt.transform(n);t[s.array]=`${a} ${c}`}function SP(t,e,n){return typeof t=="string"?t:nt.transform(e+n*t)}function kJ(t,e,n){const r=SP(e,t.x,t.width),i=SP(n,t.y,t.height);return`${r} ${i}`}function iI(t,{attrX:e,attrY:n,attrScale:r,originX:i,originY:s,pathLength:a,pathSpacing:c=1,pathOffset:f=0,...p},g,_){if(tI(t,p,_),g){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:S,style:I,dimensions:x}=t;S.transform&&(x&&(I.transform=S.transform),delete S.transform),x&&(i!==void 0||s!==void 0||I.transform)&&(I.transformOrigin=kJ(x,i!==void 0?i:.5,s!==void 0?s:.5)),e!==void 0&&(S.x=e),n!==void 0&&(S.y=n),r!==void 0&&(S.scale=r),a!==void 0&&RJ(S,a,c,f,!1)}const KM=()=>({...nI(),attrs:{}}),sI=t=>typeof t=="string"&&t.toLowerCase()==="svg";function OJ(t,e,n,r){const i=M.useMemo(()=>{const s=KM();return iI(s,e,sI(r),t.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};GM(s,t.style,t),i.style={...s,...i.style}}return i}function DJ(t=!1){return(n,r,i,{latestValues:s},a)=>{const f=(rI(n)?OJ:bJ)(r,s,a,n),p=tJ(r,typeof n=="string",t),g=n!==M.Fragment?{...p,...f,ref:i}:{},{children:_}=r,S=M.useMemo(()=>ai(_)?_.get():_,[_]);return M.createElement(n,{...g,children:S})}}function TP(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function oI(t,e,n,r){if(typeof e=="function"){const[i,s]=TP(r);e=e(n!==void 0?n:t.custom,i,s)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,s]=TP(r);e=e(n!==void 0?n:t.custom,i,s)}return e}const $E=t=>Array.isArray(t),NJ=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),MJ=t=>$E(t)?t[t.length-1]||0:t;function $_(t){const e=ai(t)?t.get():t;return NJ(e)?e.toValue():e}function LJ({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:n},r,i,s){const a={latestValues:VJ(r,i,s,t),renderState:e()};return n&&(a.onMount=c=>n({props:r,current:c,...a}),a.onUpdate=c=>n(c)),a}const YM=t=>(e,n)=>{const r=M.useContext(Lw),i=M.useContext(Mw),s=()=>LJ(t,e,r,i);return n?s():HC(s)};function VJ(t,e,n,r){const i={},s=r(t,{});for(const S in s)i[S]=$_(s[S]);let{initial:a,animate:c}=t;const f=Fw(t),p=BM(t);e&&p&&!f&&t.inherit!==!1&&(a===void 0&&(a=e.initial),c===void 0&&(c=e.animate));let g=n?n.initial===!1:!1;g=g||a===!1;const _=g?c:a;if(_&&typeof _!="boolean"&&!Vw(_)){const S=Array.isArray(_)?_:[_];for(let I=0;I<S.length;I++){const x=oI(t,S[I]);if(x){const{transitionEnd:b,transition:R,...L}=x;for(const q in L){let B=L[q];if(Array.isArray(B)){const G=g?B.length-1:0;B=B[G]}B!==null&&(i[q]=B)}for(const q in b)i[q]=b[q]}}}return i}function aI(t,e,n){var r;const{style:i}=t,s={};for(const a in i)(ai(i[a])||e.style&&ai(e.style[a])||HM(a,t)||((r=n==null?void 0:n.getValue(a))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(s[a]=i[a]);return s}const FJ={useVisualState:YM({scrapeMotionValuesFromProps:aI,createRenderState:nI})};function QM(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}function XM(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const s in n)t.style.setProperty(s,n[s])}const ZM=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function JM(t,e,n,r){XM(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(ZM.has(i)?i:QC(i),e.attrs[i])}function eL(t,e,n){const r=aI(t,e,n);for(const i in t)if(ai(t[i])||ai(e[i])){const s=Qp.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=t[i]}return r}const EP=["x","y","width","height","cx","cy","r"],UJ={useVisualState:YM({scrapeMotionValuesFromProps:eL,createRenderState:KM,onUpdate:({props:t,prevProps:e,current:n,renderState:r,latestValues:i})=>{if(!n)return;let s=!!t.drag;if(!s){for(const c in i)if(pd.has(c)){s=!0;break}}if(!s)return;let a=!e;if(e)for(let c=0;c<EP.length;c++){const f=EP[c];t[f]!==e[f]&&(a=!0)}a&&sn.read(()=>{QM(n,r),sn.render(()=>{iI(r,i,sI(n.tagName),t.transformTemplate),JM(n,r)})})}})};function BJ(t,e){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const a={...rI(r)?UJ:FJ,preloadedFeatures:t,useRender:DJ(i),createVisualElement:e,Component:r};return cJ(a)}}function uy(t,e,n){const r=t.getProps();return oI(r,e,n!==void 0?n:r.custom,t)}function uI(t,e){return t?t[e]||t.default||t:void 0}const tL=new Set(["width","height","top","left","right","bottom",...Qp]);let j_;function $J(){j_=void 0}const Ba={now:()=>(j_===void 0&&Ba.set(Vr.isProcessing||YZ.useManualTiming?Vr.timestamp:performance.now()),j_),set:t=>{j_=t,queueMicrotask($J)}};function lI(t,e){t.indexOf(e)===-1&&t.push(e)}function cI(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class fI{constructor(){this.subscriptions=[]}add(e){return lI(this.subscriptions,e),()=>cI(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let s=0;s<i;s++){const a=this.subscriptions[s];a&&a(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function nL(t,e){return e?t*(1e3/e):0}const CP=30,jJ=t=>!isNaN(parseFloat(t));class zJ{constructor(e,n={}){this.version="12.4.10",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{const s=Ba.now();this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Ba.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=jJ(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new fI);const r=this.events[e].add(n);return e==="change"?()=>{r(),sn.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Ba.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>CP)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,CP);return nL(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ly(t,e){return new zJ(t,e)}function WJ(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,ly(n))}function HJ(t,e){const n=uy(t,e);let{transitionEnd:r={},transition:i={},...s}=n||{};s={...s,...r};for(const a in s){const c=MJ(s[a]);WJ(t,a,c)}}function qJ(t){return!!(ai(t)&&t.add)}function jE(t,e){const n=t.getValue("willChange");if(qJ(n))return n.add(e)}function rL(t){return t.props[$M]}function dI(t){let e;return()=>(e===void 0&&(e=t()),e)}const GJ=dI(()=>window.ScrollTimeline!==void 0);class KJ{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=n}attachTimeline(e,n){const r=this.animations.map(i=>{if(GJ()&&i.attachTimeline)return i.attachTimeline(e);if(typeof n=="function")return n(i)});return()=>{r.forEach((i,s)=>{i&&i(),this.animations[s].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class YJ extends KJ{then(e,n){return Promise.all(this.animations).then(e).catch(n)}}const qu=t=>t*1e3,Gu=t=>t/1e3;function hI(t){return typeof t=="function"}function IP(t,e){t.timeline=e,t.onfinish=null}const pI=t=>Array.isArray(t)&&typeof t[0]=="number",QJ={linearEasing:void 0};function XJ(t,e){const n=dI(t);return()=>{var r;return(r=QJ[e])!==null&&r!==void 0?r:n()}}const x0=XJ(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Mp=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},iL=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let s=0;s<i;s++)r+=t(Mp(0,i-1,s))+", ";return`linear(${r.substring(0,r.length-2)})`};function sL(t){return!!(typeof t=="function"&&x0()||!t||typeof t=="string"&&(t in zE||x0())||pI(t)||Array.isArray(t)&&t.every(sL))}const Ig=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,zE={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ig([0,.65,.55,1]),circOut:Ig([.55,0,1,.45]),backIn:Ig([.31,.01,.66,-.59]),backOut:Ig([.33,1.53,.69,.99])};function oL(t,e){if(t)return typeof t=="function"&&x0()?iL(t,e):pI(t)?Ig(t):Array.isArray(t)?t.map(n=>oL(n,e)||zE.easeOut):zE[t]}const aL=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,ZJ=1e-7,JJ=12;function eee(t,e,n,r,i){let s,a,c=0;do a=e+(n-e)/2,s=aL(a,r,i)-t,s>0?n=a:e=a;while(Math.abs(s)>ZJ&&++c<JJ);return a}function My(t,e,n,r){if(t===e&&n===r)return bs;const i=s=>eee(s,0,1,t,n);return s=>s===0||s===1?s:aL(i(s),e,r)}const uL=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,lL=t=>e=>1-t(1-e),cL=My(.33,1.53,.69,.99),mI=lL(cL),fL=uL(mI),dL=t=>(t*=2)<1?.5*mI(t):.5*(2-Math.pow(2,-10*(t-1))),gI=t=>1-Math.sin(Math.acos(t)),hL=lL(gI),pL=uL(gI),mL=t=>/^0[^.\s]+$/u.test(t);function tee(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||mL(t):!0}const Mg=t=>Math.round(t*1e5)/1e5,yI=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function nee(t){return t==null}const ree=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,vI=(t,e)=>n=>!!(typeof n=="string"&&ree.test(n)&&n.startsWith(t)||e&&!nee(n)&&Object.prototype.hasOwnProperty.call(n,e)),gL=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,s,a,c]=r.match(yI);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(a),alpha:c!==void 0?parseFloat(c):1}},iee=t=>nl(0,255,t),ST={...Xp,transform:t=>Math.round(iee(t))},Gf={test:vI("rgb","red"),parse:gL("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+ST.transform(t)+", "+ST.transform(e)+", "+ST.transform(n)+", "+Mg(ay.transform(r))+")"};function see(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const WE={test:vI("#"),parse:see,transform:Gf.transform},rp={test:vI("hsl","hue"),parse:gL("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Ua.transform(Mg(e))+", "+Ua.transform(Mg(n))+", "+Mg(ay.transform(r))+")"},ti={test:t=>Gf.test(t)||WE.test(t)||rp.test(t),parse:t=>Gf.test(t)?Gf.parse(t):rp.test(t)?rp.parse(t):WE.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Gf.transform(t):rp.transform(t)},oee=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function aee(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(yI))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(oee))===null||n===void 0?void 0:n.length)||0)>0}const yL="number",vL="color",uee="var",lee="var(",bP="${}",cee=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function cy(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const c=e.replace(cee,f=>(ti.test(f)?(r.color.push(s),i.push(vL),n.push(ti.parse(f))):f.startsWith(lee)?(r.var.push(s),i.push(uee),n.push(f)):(r.number.push(s),i.push(yL),n.push(parseFloat(f))),++s,bP)).split(bP);return{values:n,split:c,indexes:r,types:i}}function _L(t){return cy(t).values}function wL(t){const{split:e,types:n}=cy(t),r=e.length;return i=>{let s="";for(let a=0;a<r;a++)if(s+=e[a],i[a]!==void 0){const c=n[a];c===yL?s+=Mg(i[a]):c===vL?s+=ti.transform(i[a]):s+=i[a]}return s}}const fee=t=>typeof t=="number"?0:t;function dee(t){const e=_L(t);return wL(t)(e.map(fee))}const Oc={test:aee,parse:_L,createTransformer:wL,getAnimatableNone:dee},hee=new Set(["brightness","contrast","saturate","opacity"]);function pee(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(yI)||[];if(!r)return t;const i=n.replace(r,"");let s=hee.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const mee=/\b([a-z-]*)\(.*?\)/gu,HE={...Oc,getAnimatableNone:t=>{const e=t.match(mee);return e?e.map(pee).join(" "):t}},gee={...eI,color:ti,backgroundColor:ti,outlineColor:ti,fill:ti,stroke:ti,borderColor:ti,borderTopColor:ti,borderRightColor:ti,borderBottomColor:ti,borderLeftColor:ti,filter:HE,WebkitFilter:HE},_I=t=>gee[t];function SL(t,e){let n=_I(t);return n!==HE&&(n=Oc),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const yee=new Set(["auto","none","0"]);function vee(t,e,n){let r=0,i;for(;r<t.length&&!i;){const s=t[r];typeof s=="string"&&!yee.has(s)&&cy(s).values.length&&(i=t[r]),r++}if(i&&n)for(const s of e)t[s]=SL(n,i)}const AP=t=>t===Xp||t===nt,xP=(t,e)=>parseFloat(t.split(", ")[e]),PP=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/u);if(i)return xP(i[1],e);{const s=r.match(/^matrix\((.+)\)$/u);return s?xP(s[1],t):0}},_ee=new Set(["x","y","z"]),wee=Qp.filter(t=>!_ee.has(t));function See(t){const e=[];return wee.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Lp={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:PP(4,13),y:PP(5,14)};Lp.translateX=Lp.x;Lp.translateY=Lp.y;const Yf=new Set;let qE=!1,GE=!1;function TL(){if(GE){const t=Array.from(Yf).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=See(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([s,a])=>{var c;(c=r.getValue(s))===null||c===void 0||c.set(a)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}GE=!1,qE=!1,Yf.forEach(t=>t.complete()),Yf.clear()}function EL(){Yf.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(GE=!0)})}function Tee(){EL(),TL()}class wI{constructor(e,n,r,i,s,a=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=s,this.isAsync=a}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Yf.add(this),qE||(qE=!0,sn.read(EL),sn.resolveKeyframes(TL))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;for(let s=0;s<e.length;s++)if(e[s]===null)if(s===0){const a=i==null?void 0:i.get(),c=e[e.length-1];if(a!==void 0)e[0]=a;else if(r&&n){const f=r.readValue(n,c);f!=null&&(e[0]=f)}e[0]===void 0&&(e[0]=c),i&&a===void 0&&i.set(e[0])}else e[s]=e[s-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Yf.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Yf.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const CL=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),Eee=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Cee(t){const e=Eee.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function IL(t,e,n=1){const[r,i]=Cee(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const a=s.trim();return CL(a)?parseFloat(a):a}return JC(i)?IL(i,e,n+1):i}const bL=t=>e=>e.test(t),Iee={test:t=>t==="auto",parse:t=>t},AL=[Xp,nt,Ua,rc,vJ,yJ,Iee],RP=t=>AL.find(bL(t));class xL extends wI{constructor(e,n,r,i,s){super(e,n,r,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let f=0;f<e.length;f++){let p=e[f];if(typeof p=="string"&&(p=p.trim(),JC(p))){const g=IL(p,n.current);g!==void 0&&(e[f]=g),f===e.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!tL.has(r)||e.length!==2)return;const[i,s]=e,a=RP(i),c=RP(s);if(a!==c)if(AP(a)&&AP(c))for(let f=0;f<e.length;f++){const p=e[f];typeof p=="string"&&(e[f]=parseFloat(p))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)tee(e[i])&&r.push(i);r.length&&vee(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Lp[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var e;const{element:n,name:r,unresolvedKeyframes:i}=this;if(!n||!n.current)return;const s=n.getValue(r);s&&s.jump(this.measuredOrigin,!1);const a=i.length-1,c=i[a];i[a]=Lp[r](n.measureViewportBox(),window.getComputedStyle(n.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([f,p])=>{n.getValue(f).set(p)}),this.resolveNoneKeyframes()}}const kP=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Oc.test(t)||t==="0")&&!t.startsWith("url("));function bee(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function Aee(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const s=t[t.length-1],a=kP(i,e),c=kP(s,e);return!a||!c?!1:bee(t)||(n==="spring"||hI(n))&&r}const xee=t=>t!==null;function Uw(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(xee),s=e&&n!=="loop"&&e%2===1?0:i.length-1;return!s||r===void 0?i[s]:r}const Pee=40;class PL{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:a="loop",...c}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Ba.now(),this.options={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:s,repeatType:a,...c},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>Pee?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&Tee(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=Ba.now(),this.hasAttemptedResolve=!0;const{name:r,type:i,velocity:s,delay:a,onComplete:c,onUpdate:f,isGenerator:p}=this.options;if(!p&&!Aee(e,r,i,s))if(a)this.options.duration=0;else{f&&f(Uw(e,this.options,n)),c&&c(),this.resolveFinishedPromise();return}const g=this.initPlayback(e,n);g!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...g},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const KE=2e4;function RL(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<KE;)e+=n,r=t.next(e);return e>=KE?1/0:e}const Tn=(t,e,n)=>t+(e-t)*n;function TT(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function Ree({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,s=0,a=0;if(!e)i=s=a=n;else{const c=n<.5?n*(1+e):n+e-n*e,f=2*n-c;i=TT(f,c,t+1/3),s=TT(f,c,t),a=TT(f,c,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(a*255),alpha:r}}function P0(t,e){return n=>n>0?e:t}const ET=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},kee=[WE,Gf,rp],Oee=t=>kee.find(e=>e.test(t));function OP(t){const e=Oee(t);if(!e)return!1;let n=e.parse(t);return e===rp&&(n=Ree(n)),n}const DP=(t,e)=>{const n=OP(t),r=OP(e);if(!n||!r)return P0(t,e);const i={...n};return s=>(i.red=ET(n.red,r.red,s),i.green=ET(n.green,r.green,s),i.blue=ET(n.blue,r.blue,s),i.alpha=Tn(n.alpha,r.alpha,s),Gf.transform(i))},Dee=(t,e)=>n=>e(t(n)),Ly=(...t)=>t.reduce(Dee),YE=new Set(["none","hidden"]);function Nee(t,e){return YE.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function Mee(t,e){return n=>Tn(t,e,n)}function SI(t){return typeof t=="number"?Mee:typeof t=="string"?JC(t)?P0:ti.test(t)?DP:Fee:Array.isArray(t)?kL:typeof t=="object"?ti.test(t)?DP:Lee:P0}function kL(t,e){const n=[...t],r=n.length,i=t.map((s,a)=>SI(s)(s,e[a]));return s=>{for(let a=0;a<r;a++)n[a]=i[a](s);return n}}function Lee(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=SI(t[i])(t[i],e[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}}function Vee(t,e){var n;const r=[],i={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const a=e.types[s],c=t.indexes[a][i[a]],f=(n=t.values[c])!==null&&n!==void 0?n:0;r[s]=f,i[a]++}return r}const Fee=(t,e)=>{const n=Oc.createTransformer(e),r=cy(t),i=cy(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?YE.has(t)&&!i.values.length||YE.has(e)&&!r.values.length?Nee(t,e):Ly(kL(Vee(r,i),i.values),n):P0(t,e)};function OL(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Tn(t,e,n):SI(t)(t,e)}const Uee=5;function DL(t,e,n){const r=Math.max(e-Uee,0);return nL(n-t(r),e-r)}const Nn={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},NP=.001;function Bee({duration:t=Nn.duration,bounce:e=Nn.bounce,velocity:n=Nn.velocity,mass:r=Nn.mass}){let i,s,a=1-e;a=nl(Nn.minDamping,Nn.maxDamping,a),t=nl(Nn.minDuration,Nn.maxDuration,Gu(t)),a<1?(i=p=>{const g=p*a,_=g*t,S=g-n,I=QE(p,a),x=Math.exp(-_);return NP-S/I*x},s=p=>{const _=p*a*t,S=_*n+n,I=Math.pow(a,2)*Math.pow(p,2)*t,x=Math.exp(-_),b=QE(Math.pow(p,2),a);return(-i(p)+NP>0?-1:1)*((S-I)*x)/b}):(i=p=>{const g=Math.exp(-p*t),_=(p-n)*t+1;return-.001+g*_},s=p=>{const g=Math.exp(-p*t),_=(n-p)*(t*t);return g*_});const c=5/t,f=jee(i,s,c);if(t=qu(t),isNaN(f))return{stiffness:Nn.stiffness,damping:Nn.damping,duration:t};{const p=Math.pow(f,2)*r;return{stiffness:p,damping:a*2*Math.sqrt(r*p),duration:t}}}const $ee=12;function jee(t,e,n){let r=n;for(let i=1;i<$ee;i++)r=r-t(r)/e(r);return r}function QE(t,e){return t*Math.sqrt(1-e*e)}const zee=["duration","bounce"],Wee=["stiffness","damping","mass"];function MP(t,e){return e.some(n=>t[n]!==void 0)}function Hee(t){let e={velocity:Nn.velocity,stiffness:Nn.stiffness,damping:Nn.damping,mass:Nn.mass,isResolvedFromDuration:!1,...t};if(!MP(t,Wee)&&MP(t,zee))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,s=2*nl(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:Nn.mass,stiffness:i,damping:s}}else{const n=Bee(t);e={...e,...n,mass:Nn.mass},e.isResolvedFromDuration=!0}return e}function NL(t=Nn.visualDuration,e=Nn.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const s=n.keyframes[0],a=n.keyframes[n.keyframes.length-1],c={done:!1,value:s},{stiffness:f,damping:p,mass:g,duration:_,velocity:S,isResolvedFromDuration:I}=Hee({...n,velocity:-Gu(n.velocity||0)}),x=S||0,b=p/(2*Math.sqrt(f*g)),R=a-s,L=Gu(Math.sqrt(f/g)),q=Math.abs(R)<5;r||(r=q?Nn.restSpeed.granular:Nn.restSpeed.default),i||(i=q?Nn.restDelta.granular:Nn.restDelta.default);let B;if(b<1){const V=QE(L,b);B=Y=>{const D=Math.exp(-b*L*Y);return a-D*((x+b*L*R)/V*Math.sin(V*Y)+R*Math.cos(V*Y))}}else if(b===1)B=V=>a-Math.exp(-L*V)*(R+(x+L*R)*V);else{const V=L*Math.sqrt(b*b-1);B=Y=>{const D=Math.exp(-b*L*Y),k=Math.min(V*Y,300);return a-D*((x+b*L*R)*Math.sinh(k)+V*R*Math.cosh(k))/V}}const G={calculatedDuration:I&&_||null,next:V=>{const Y=B(V);if(I)c.done=V>=_;else{let D=0;b<1&&(D=V===0?qu(x):DL(B,V,Y));const k=Math.abs(D)<=r,F=Math.abs(a-Y)<=i;c.done=k&&F}return c.value=c.done?a:Y,c},toString:()=>{const V=Math.min(RL(G),KE),Y=iL(D=>G.next(V*D).value,V,30);return V+"ms "+Y}};return G}function LP({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:a,min:c,max:f,restDelta:p=.5,restSpeed:g}){const _=t[0],S={done:!1,value:_},I=k=>c!==void 0&&k<c||f!==void 0&&k>f,x=k=>c===void 0?f:f===void 0||Math.abs(c-k)<Math.abs(f-k)?c:f;let b=n*e;const R=_+b,L=a===void 0?R:a(R);L!==R&&(b=L-_);const q=k=>-b*Math.exp(-k/r),B=k=>L+q(k),G=k=>{const F=q(k),A=B(k);S.done=Math.abs(F)<=p,S.value=S.done?L:A};let V,Y;const D=k=>{I(S.value)&&(V=k,Y=NL({keyframes:[S.value,x(S.value)],velocity:DL(B,k,S.value),damping:i,stiffness:s,restDelta:p,restSpeed:g}))};return D(0),{calculatedDuration:null,next:k=>{let F=!1;return!Y&&V===void 0&&(F=!0,G(k),D(k)),V!==void 0&&k>=V?Y.next(k-V):(!F&&G(k),S)}}}const qee=My(.42,0,1,1),Gee=My(0,0,.58,1),ML=My(.42,0,.58,1),Kee=t=>Array.isArray(t)&&typeof t[0]!="number",VP={linear:bs,easeIn:qee,easeInOut:ML,easeOut:Gee,circIn:gI,circInOut:pL,circOut:hL,backIn:mI,backInOut:fL,backOut:cL,anticipate:dL},FP=t=>{if(pI(t)){BE(t.length===4);const[e,n,r,i]=t;return My(e,n,r,i)}else if(typeof t=="string")return BE(VP[t]!==void 0),VP[t];return t};function Yee(t,e,n){const r=[],i=n||OL,s=t.length-1;for(let a=0;a<s;a++){let c=i(t[a],t[a+1]);if(e){const f=Array.isArray(e)?e[a]||bs:e;c=Ly(f,c)}r.push(c)}return r}function Qee(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;if(BE(s===e.length),s===1)return()=>e[0];if(s===2&&e[0]===e[1])return()=>e[1];const a=t[0]===t[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const c=Yee(e,r,i),f=c.length,p=g=>{if(a&&g<t[0])return e[0];let _=0;if(f>1)for(;_<t.length-2&&!(g<t[_+1]);_++);const S=Mp(t[_],t[_+1],g);return c[_](S)};return n?g=>p(nl(t[0],t[s-1],g)):p}function Xee(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=Mp(0,e,r);t.push(Tn(n,1,i))}}function Zee(t){const e=[0];return Xee(e,t.length-1),e}function Jee(t,e){return t.map(n=>n*e)}function ete(t,e){return t.map(()=>e||ML).splice(0,t.length-1)}function R0({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=Kee(r)?r.map(FP):FP(r),s={done:!1,value:e[0]},a=Jee(n&&n.length===e.length?n:Zee(e),t),c=Qee(a,e,{ease:Array.isArray(i)?i:ete(e,i)});return{calculatedDuration:t,next:f=>(s.value=c(f),s.done=f>=t,s)}}const tte=t=>{const e=({timestamp:n})=>t(n);return{start:()=>sn.update(e,!0),stop:()=>kc(e),now:()=>Vr.isProcessing?Vr.timestamp:Ba.now()}},nte={decay:LP,inertia:LP,tween:R0,keyframes:R0,spring:NL},rte=t=>t/100;class TI extends PL{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:f}=this.options;f&&f()};const{name:n,motionValue:r,element:i,keyframes:s}=this.options,a=(i==null?void 0:i.KeyframeResolver)||wI,c=(f,p)=>this.onKeyframesResolved(f,p);this.resolver=new a(s,c,n,r,i),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:a=0}=this.options,c=hI(n)?n:nte[n]||R0;let f,p;c!==R0&&typeof e[0]!="number"&&(f=Ly(rte,OL(e[0],e[1])),e=[0,100]);const g=c({...this.options,keyframes:e});s==="mirror"&&(p=c({...this.options,keyframes:[...e].reverse(),velocity:-a})),g.calculatedDuration===null&&(g.calculatedDuration=RL(g));const{calculatedDuration:_}=g,S=_+i,I=S*(r+1)-i;return{generator:g,mirroredGenerator:p,mapPercentToKeyframes:f,calculatedDuration:_,resolvedDuration:S,totalDuration:I}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:r}=this;if(!r){const{keyframes:k}=this.options;return{done:!0,value:k[k.length-1]}}const{finalKeyframe:i,generator:s,mirroredGenerator:a,mapPercentToKeyframes:c,keyframes:f,calculatedDuration:p,totalDuration:g,resolvedDuration:_}=r;if(this.startTime===null)return s.next(0);const{delay:S,repeat:I,repeatType:x,repeatDelay:b,onUpdate:R}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-g/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const L=this.currentTime-S*(this.speed>=0?1:-1),q=this.speed>=0?L<0:L>g;this.currentTime=Math.max(L,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=g);let B=this.currentTime,G=s;if(I){const k=Math.min(this.currentTime,g)/_;let F=Math.floor(k),A=k%1;!A&&k>=1&&(A=1),A===1&&F--,F=Math.min(F,I+1),!!(F%2)&&(x==="reverse"?(A=1-A,b&&(A-=b/_)):x==="mirror"&&(G=a)),B=nl(0,1,A)*_}const V=q?{done:!1,value:f[0]}:G.next(B);c&&(V.value=c(V.value));let{done:Y}=V;!q&&p!==null&&(Y=this.speed>=0?this.currentTime>=g:this.currentTime<=0);const D=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&Y);return D&&i!==void 0&&(V.value=Uw(f,this.options,i)),R&&R(V.value),D&&this.finish(),V}get duration(){const{resolved:e}=this;return e?Gu(e.calculatedDuration):0}get time(){return Gu(this.currentTime)}set time(e){e=qu(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Gu(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=tte,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=e(s=>this.tick(s))),n&&n();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const ite=new Set(["opacity","clipPath","filter","transform"]);function ste(t,e,n,{delay:r=0,duration:i=300,repeat:s=0,repeatType:a="loop",ease:c="easeInOut",times:f}={}){const p={[e]:n};f&&(p.offset=f);const g=oL(c,i);return Array.isArray(g)&&(p.easing=g),t.animate(p,{delay:r,duration:i,easing:Array.isArray(g)?"linear":g,fill:"both",iterations:s+1,direction:a==="reverse"?"alternate":"normal"})}const ote=dI(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),k0=10,ate=2e4;function ute(t){return hI(t.type)||t.type==="spring"||!sL(t.ease)}function lte(t,e){const n=new TI({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const i=[];let s=0;for(;!r.done&&s<ate;)r=n.sample(s),i.push(r.value),s+=k0;return{times:void 0,keyframes:i,duration:s-k0,ease:"linear"}}const LL={anticipate:dL,backInOut:fL,circInOut:pL};function cte(t){return t in LL}class UP extends PL{constructor(e){super(e);const{name:n,motionValue:r,element:i,keyframes:s}=this.options;this.resolver=new xL(s,(a,c)=>this.onKeyframesResolved(a,c),n,r,i),this.resolver.scheduleResolve()}initPlayback(e,n){let{duration:r=300,times:i,ease:s,type:a,motionValue:c,name:f,startTime:p}=this.options;if(!c.owner||!c.owner.current)return!1;if(typeof s=="string"&&x0()&&cte(s)&&(s=LL[s]),ute(this.options)){const{onComplete:_,onUpdate:S,motionValue:I,element:x,...b}=this.options,R=lte(e,b);e=R.keyframes,e.length===1&&(e[1]=e[0]),r=R.duration,i=R.times,s=R.ease,a="keyframes"}const g=ste(c.owner.current,f,e,{...this.options,duration:r,times:i,ease:s});return g.startTime=p??this.calcStartTime(),this.pendingTimeline?(IP(g,this.pendingTimeline),this.pendingTimeline=void 0):g.onfinish=()=>{const{onComplete:_}=this.options;c.set(Uw(e,this.options,n)),_&&_(),this.cancel(),this.resolveFinishedPromise()},{animation:g,duration:r,times:i,type:a,ease:s,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return Gu(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return Gu(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=qu(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return bs;const{animation:r}=n;IP(r,e)}return bs}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:r,duration:i,type:s,ease:a,times:c}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:p,onUpdate:g,onComplete:_,element:S,...I}=this.options,x=new TI({...I,keyframes:r,duration:i,type:s,ease:a,times:c,isGenerator:!0}),b=qu(this.time);p.setWithVelocity(x.sample(b-k0).value,x.sample(b).value,k0)}const{onStop:f}=this.options;f&&f(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:r,repeatDelay:i,repeatType:s,damping:a,type:c}=e;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:f,transformTemplate:p}=n.owner.getProps();return ote()&&r&&ite.has(r)&&!f&&!p&&!i&&s!=="mirror"&&a!==0&&c!=="inertia"}}const fte={type:"spring",stiffness:500,damping:25,restSpeed:10},dte=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),hte={type:"keyframes",duration:.8},pte={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},mte=(t,{keyframes:e})=>e.length>2?hte:pd.has(t)?t.startsWith("scale")?dte(e[1]):fte:pte;function gte({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:a,repeatDelay:c,from:f,elapsed:p,...g}){return!!Object.keys(g).length}const EI=(t,e,n,r={},i,s)=>a=>{const c=uI(r,t)||{},f=c.delay||r.delay||0;let{elapsed:p=0}=r;p=p-qu(f);let g={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...c,delay:-p,onUpdate:S=>{e.set(S),c.onUpdate&&c.onUpdate(S)},onComplete:()=>{a(),c.onComplete&&c.onComplete()},name:t,motionValue:e,element:s?void 0:i};gte(c)||(g={...g,...mte(t,g)}),g.duration&&(g.duration=qu(g.duration)),g.repeatDelay&&(g.repeatDelay=qu(g.repeatDelay)),g.from!==void 0&&(g.keyframes[0]=g.from);let _=!1;if((g.type===!1||g.duration===0&&!g.repeatDelay)&&(g.duration=0,g.delay===0&&(_=!0)),_&&!s&&e.get()!==void 0){const S=Uw(g.keyframes,c);if(S!==void 0)return sn.update(()=>{g.onUpdate(S),g.onComplete()}),new YJ([])}return!s&&UP.supports(g)?new UP(g):new TI(g)};function yte({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function VL(t,e,{delay:n=0,transitionOverride:r,type:i}={}){var s;let{transition:a=t.getDefaultTransition(),transitionEnd:c,...f}=e;r&&(a=r);const p=[],g=i&&t.animationState&&t.animationState.getState()[i];for(const _ in f){const S=t.getValue(_,(s=t.latestValues[_])!==null&&s!==void 0?s:null),I=f[_];if(I===void 0||g&&yte(g,_))continue;const x={delay:n,...uI(a||{},_)};let b=!1;if(window.MotionHandoffAnimation){const L=rL(t);if(L){const q=window.MotionHandoffAnimation(L,_,sn);q!==null&&(x.startTime=q,b=!0)}}jE(t,_),S.start(EI(_,S,I,t.shouldReduceMotion&&tL.has(_)?{type:!1}:x,t,b));const R=S.animation;R&&p.push(R)}return c&&Promise.all(p).then(()=>{sn.update(()=>{c&&HJ(t,c)})}),p}function XE(t,e,n={}){var r;const i=uy(t,e,n.type==="exit"?(r=t.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(s=n.transitionOverride);const a=i?()=>Promise.all(VL(t,i,n)):()=>Promise.resolve(),c=t.variantChildren&&t.variantChildren.size?(p=0)=>{const{delayChildren:g=0,staggerChildren:_,staggerDirection:S}=s;return vte(t,e,g+p,_,S,n)}:()=>Promise.resolve(),{when:f}=s;if(f){const[p,g]=f==="beforeChildren"?[a,c]:[c,a];return p().then(()=>g())}else return Promise.all([a(),c(n.delay)])}function vte(t,e,n=0,r=0,i=1,s){const a=[],c=(t.variantChildren.size-1)*r,f=i===1?(p=0)=>p*r:(p=0)=>c-p*r;return Array.from(t.variantChildren).sort(_te).forEach((p,g)=>{p.notify("AnimationStart",e),a.push(XE(p,e,{...s,delay:n+f(g)}).then(()=>p.notify("AnimationComplete",e)))}),Promise.all(a)}function _te(t,e){return t.sortNodePosition(e)}function wte(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>XE(t,s,n));r=Promise.all(i)}else if(typeof e=="string")r=XE(t,e,n);else{const i=typeof e=="function"?uy(t,e,n.custom):e;r=Promise.all(VL(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function FL(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const Ste=YC.length;function UL(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?UL(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<Ste;n++){const r=YC[n],i=t.props[r];(sy(i)||i===!1)&&(e[r]=i)}return e}const Tte=[...KC].reverse(),Ete=KC.length;function Cte(t){return e=>Promise.all(e.map(({animation:n,options:r})=>wte(t,n,r)))}function Ite(t){let e=Cte(t),n=BP(),r=!0;const i=f=>(p,g)=>{var _;const S=uy(t,g,f==="exit"?(_=t.presenceContext)===null||_===void 0?void 0:_.custom:void 0);if(S){const{transition:I,transitionEnd:x,...b}=S;p={...p,...b,...x}}return p};function s(f){e=f(t)}function a(f){const{props:p}=t,g=UL(t.parent)||{},_=[],S=new Set;let I={},x=1/0;for(let R=0;R<Ete;R++){const L=Tte[R],q=n[L],B=p[L]!==void 0?p[L]:g[L],G=sy(B),V=L===f?q.isActive:null;V===!1&&(x=R);let Y=B===g[L]&&B!==p[L]&&G;if(Y&&r&&t.manuallyAnimateOnMount&&(Y=!1),q.protectedKeys={...I},!q.isActive&&V===null||!B&&!q.prevProp||Vw(B)||typeof B=="boolean")continue;const D=bte(q.prevProp,B);let k=D||L===f&&q.isActive&&!Y&&G||R>x&&G,F=!1;const A=Array.isArray(B)?B:[B];let W=A.reduce(i(L),{});V===!1&&(W={});const{prevResolvedValues:K={}}=q,H={...K,...W},ce=ye=>{k=!0,S.has(ye)&&(F=!0,S.delete(ye)),q.needsAnimating[ye]=!0;const ae=t.getValue(ye);ae&&(ae.liveStyle=!1)};for(const ye in H){const ae=W[ye],Ae=K[ye];if(I.hasOwnProperty(ye))continue;let Ee=!1;$E(ae)&&$E(Ae)?Ee=!FL(ae,Ae):Ee=ae!==Ae,Ee?ae!=null?ce(ye):S.add(ye):ae!==void 0&&S.has(ye)?ce(ye):q.protectedKeys[ye]=!0}q.prevProp=B,q.prevResolvedValues=W,q.isActive&&(I={...I,...W}),r&&t.blockInitialAnimation&&(k=!1),k&&(!(Y&&D)||F)&&_.push(...A.map(ye=>({animation:ye,options:{type:L}})))}if(S.size){const R={};if(typeof p.initial!="boolean"){const L=uy(t,Array.isArray(p.initial)?p.initial[0]:p.initial);L&&L.transition&&(R.transition=L.transition)}S.forEach(L=>{const q=t.getBaseTarget(L),B=t.getValue(L);B&&(B.liveStyle=!0),R[L]=q??null}),_.push({animation:R})}let b=!!_.length;return r&&(p.initial===!1||p.initial===p.animate)&&!t.manuallyAnimateOnMount&&(b=!1),r=!1,b?e(_):Promise.resolve()}function c(f,p){var g;if(n[f].isActive===p)return Promise.resolve();(g=t.variantChildren)===null||g===void 0||g.forEach(S=>{var I;return(I=S.animationState)===null||I===void 0?void 0:I.setActive(f,p)}),n[f].isActive=p;const _=a(f);for(const S in n)n[S].protectedKeys={};return _}return{animateChanges:a,setActive:c,setAnimateFunction:s,getState:()=>n,reset:()=>{n=BP(),r=!0}}}function bte(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!FL(e,t):!1}function $f(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function BP(){return{animate:$f(!0),whileInView:$f(),whileHover:$f(),whileTap:$f(),whileDrag:$f(),whileFocus:$f(),exit:$f()}}class Uc{constructor(e){this.isMounted=!1,this.node=e}update(){}}class Ate extends Uc{constructor(e){super(e),e.animationState||(e.animationState=Ite(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Vw(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let xte=0;class Pte extends Uc{constructor(){super(...arguments),this.id=xte++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const Rte={animation:{Feature:Ate},exit:{Feature:Pte}},Bo={x:!1,y:!1};function BL(){return Bo.x||Bo.y}function kte(t){return t==="x"||t==="y"?Bo[t]?null:(Bo[t]=!0,()=>{Bo[t]=!1}):Bo.x||Bo.y?null:(Bo.x=Bo.y=!0,()=>{Bo.x=Bo.y=!1})}function fy(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}const CI=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function Vy(t){return{point:{x:t.pageX,y:t.pageY}}}const Ote=t=>e=>CI(e)&&t(e,Vy(e));function ip(t,e,n,r){return fy(t,e,Ote(n),r)}function $L({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function Dte({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function Nte(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}const jL=1e-4,Mte=1-jL,Lte=1+jL,zL=.01,Vte=0-zL,Fte=0+zL;function Ci(t){return t.max-t.min}function Ute(t,e,n){return Math.abs(t-e)<=n}function $P(t,e,n,r=.5){t.origin=r,t.originPoint=Tn(e.min,e.max,t.origin),t.scale=Ci(n)/Ci(e),t.translate=Tn(n.min,n.max,t.origin)-t.originPoint,(t.scale>=Mte&&t.scale<=Lte||isNaN(t.scale))&&(t.scale=1),(t.translate>=Vte&&t.translate<=Fte||isNaN(t.translate))&&(t.translate=0)}function Lg(t,e,n,r){$P(t.x,e.x,n.x,r?r.originX:void 0),$P(t.y,e.y,n.y,r?r.originY:void 0)}function jP(t,e,n){t.min=n.min+e.min,t.max=t.min+Ci(e)}function Bte(t,e,n){jP(t.x,e.x,n.x),jP(t.y,e.y,n.y)}function zP(t,e,n){t.min=e.min-n.min,t.max=t.min+Ci(e)}function Vg(t,e,n){zP(t.x,e.x,n.x),zP(t.y,e.y,n.y)}const WP=()=>({translate:0,scale:1,origin:0,originPoint:0}),sp=()=>({x:WP(),y:WP()}),HP=()=>({min:0,max:0}),Gn=()=>({x:HP(),y:HP()});function Js(t){return[t("x"),t("y")]}function CT(t){return t===void 0||t===1}function ZE({scale:t,scaleX:e,scaleY:n}){return!CT(t)||!CT(e)||!CT(n)}function Wf(t){return ZE(t)||WL(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function WL(t){return qP(t.x)||qP(t.y)}function qP(t){return t&&t!=="0%"}function O0(t,e,n){const r=t-n,i=e*r;return n+i}function GP(t,e,n,r,i){return i!==void 0&&(t=O0(t,i,r)),O0(t,n,r)+e}function JE(t,e=0,n=1,r,i){t.min=GP(t.min,e,n,r,i),t.max=GP(t.max,e,n,r,i)}function HL(t,{x:e,y:n}){JE(t.x,e.translate,e.scale,e.originPoint),JE(t.y,n.translate,n.scale,n.originPoint)}const KP=.999999999999,YP=1.0000000000001;function $te(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let s,a;for(let c=0;c<i;c++){s=n[c],a=s.projectionDelta;const{visualElement:f}=s.options;f&&f.props.style&&f.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&ap(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),a&&(e.x*=a.x.scale,e.y*=a.y.scale,HL(t,a)),r&&Wf(s.latestValues)&&ap(t,s.latestValues))}e.x<YP&&e.x>KP&&(e.x=1),e.y<YP&&e.y>KP&&(e.y=1)}function op(t,e){t.min=t.min+e,t.max=t.max+e}function QP(t,e,n,r,i=.5){const s=Tn(t.min,t.max,i);JE(t,e,n,s,r)}function ap(t,e){QP(t.x,e.x,e.scaleX,e.scale,e.originX),QP(t.y,e.y,e.scaleY,e.scale,e.originY)}function qL(t,e){return $L(Nte(t.getBoundingClientRect(),e))}function jte(t,e,n){const r=qL(t,n),{scroll:i}=e;return i&&(op(r.x,i.offset.x),op(r.y,i.offset.y)),r}function Fg(t,e){const n=`${e}PointerCapture`;if(t.target instanceof Element&&n in t.target&&t.pointerId!==void 0)try{t.target[n](t.pointerId)}catch{}}const XP=(t,e)=>Math.abs(t-e);function zte(t,e){const n=XP(t.x,e.x),r=XP(t.y,e.y);return Math.sqrt(n**2+r**2)}class GL{constructor(e,n,{transformPagePoint:r,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=bT(this.lastMoveEventInfo,this.history),_=this.startEvent!==null,S=zte(g.offset,{x:0,y:0})>=3;if(!_&&!S)return;const{point:I}=g,{timestamp:x}=Vr;this.history.push({...I,timestamp:x});const{onStart:b,onMove:R}=this.handlers;_||(b&&b(this.lastMoveEvent,g),this.startEvent=this.lastMoveEvent),R&&R(this.lastMoveEvent,g)},this.handlePointerMove=(g,_)=>{if(this.index=JP(g.currentTarget),g.target instanceof Element&&g.target.hasPointerCapture&&g.pointerId!==void 0)try{if(!g.target.hasPointerCapture(g.pointerId))return}catch{}this.lastMoveEvent=g,this.lastMoveEventInfo=IT(_,this.transformPagePoint),sn.update(this.updatePoint,!0)},this.handlePointerUp=(g,_)=>{Fg(g,"release"),this.end();const{onEnd:S,onSessionEnd:I,resumeAnimation:x}=this.handlers;if(this.dragSnapToOrigin&&x&&x(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=bT(g.type==="pointercancel"||g.type==="lostpointercapture"?this.lastMoveEventInfo:IT(_,this.transformPagePoint),this.history);this.startEvent&&S&&S(g,b),I&&I(g,b)},!CI(e))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r;const s=Vy(e),a=IT(s,this.transformPagePoint),{point:c}=a,{timestamp:f}=Vr;this.history=[{...c,timestamp:f}];const{onSessionStart:p}=n;p&&p(e,bT(a,this.history)),Fg(e,"set"),this.removeListeners=Ly(ip(e.currentTarget,"pointermove",this.handlePointerMove),ip(e.currentTarget,"pointerup",this.handlePointerUp),ip(e.currentTarget,"pointercancel",this.handlePointerUp),ip(e.currentTarget,"lostpointercapture",(g,_)=>{JP(g.currentTarget)!==this.index?Fg(g,"set"):this.handlePointerUp(g,_)}))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),kc(this.updatePoint)}}function IT(t,e){return e?{point:e(t.point)}:t}function ZP(t,e){return{x:t.x-e.x,y:t.y-e.y}}function bT({point:t},e){return{point:t,delta:ZP(t,KL(e)),offset:ZP(t,Wte(e)),velocity:Hte(e,.1)}}function Wte(t){return t[0]}function KL(t){return t[t.length-1]}function Hte(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=KL(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>qu(e)));)n--;if(!r)return{x:0,y:0};const s=Gu(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const a={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function JP(t){return t.parentNode?Array.from(t.parentNode.children).indexOf(t):-1}function qte(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Tn(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Tn(n,t,r.max):Math.min(t,n)),t}function eR(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function Gte(t,{top:e,left:n,bottom:r,right:i}){return{x:eR(t.x,n,i),y:eR(t.y,e,r)}}function tR(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function Kte(t,e){return{x:tR(t.x,e.x),y:tR(t.y,e.y)}}function Yte(t,e){let n=.5;const r=Ci(t),i=Ci(e);return i>r?n=Mp(e.min,e.max-r,t.min):r>i&&(n=Mp(t.min,t.max-i,e.min)),nl(0,1,n)}function Qte(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const e1=.35;function Xte(t=e1){return t===!1?t=0:t===!0&&(t=e1),{x:nR(t,"left","right"),y:nR(t,"top","bottom")}}function nR(t,e,n){return{min:rR(t,e),max:rR(t,n)}}function rR(t,e){return typeof t=="number"?t:t[e]||0}const Zte=new WeakMap;class Jte{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Gn(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=g=>{const{dragSnapToOrigin:_}=this.getProps();_?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Vy(g).point)},s=(g,_)=>{const{drag:S,dragPropagation:I,onDragStart:x}=this.getProps();if(S&&!I&&(this.openDragLock&&this.openDragLock(),this.openDragLock=kte(S),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Js(R=>{let L=this.getAxisMotionValue(R).get()||0;if(Ua.test(L)){const{projection:q}=this.visualElement;if(q&&q.layout){const B=q.layout.layoutBox[R];B&&(L=Ci(B)*(parseFloat(L)/100))}}this.originPoint[R]=L}),x&&sn.postRender(()=>x(g,_)),jE(this.visualElement,"transform");const{animationState:b}=this.visualElement;b&&b.setActive("whileDrag",!0)},a=(g,_)=>{const{dragPropagation:S,dragDirectionLock:I,onDirectionLock:x,onDrag:b}=this.getProps();if(!S&&!this.openDragLock)return;const{offset:R}=_;if(I&&this.currentDirection===null){this.currentDirection=ene(R),this.currentDirection!==null&&x&&x(this.currentDirection);return}this.updateAxis("x",_.point,R),this.updateAxis("y",_.point,R),this.visualElement.render(),b&&b(g,_)},c=(g,_)=>this.stop(g,_),f=()=>Js(g=>{var _;return this.getAnimationState(g)==="paused"&&((_=this.getAxisMotionValue(g).animation)===null||_===void 0?void 0:_.play())}),{dragSnapToOrigin:p}=this.getProps();this.panSession=new GL(e,{onSessionStart:i,onStart:s,onMove:a,onSessionEnd:c,resumeAnimation:f},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:p})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&sn.postRender(()=>s(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!y_(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let a=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(a=qte(a,this.constraints[e],this.elastic[e])),s.set(a)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,s=this.constraints;n&&np(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=Gte(i.layoutBox,n):this.constraints=!1,this.elastic=Xte(r),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Js(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=Qte(i.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!np(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=jte(r,i.root,this.visualElement.getTransformPagePoint());let a=Kte(i.layout.layoutBox,s);if(n){const c=n(Dte(a));this.hasMutatedConstraints=!!c,c&&(a=$L(c))}return a}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:a,onDragTransitionEnd:c}=this.getProps(),f=this.constraints||{},p=Js(g=>{if(!y_(g,n,this.currentDirection))return;let _=f[g]||{};a&&(_={min:0,max:0});const S=i?200:1e6,I=i?40:1e7,x={type:"inertia",velocity:r?e[g]:0,bounceStiffness:S,bounceDamping:I,timeConstant:750,restDelta:1,restSpeed:10,...s,..._};return this.startAxisValueAnimation(g,x)});return Promise.all(p).then(c)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return jE(this.visualElement,e),r.start(EI(e,r,0,n,this.visualElement,!1))}stopAnimation(){Js(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Js(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Js(n=>{const{drag:r}=this.getProps();if(!y_(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:a,max:c}=i.layout.layoutBox[n];s.set(e[n]-Tn(a,c,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!np(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Js(a=>{const c=this.getAxisMotionValue(a);if(c&&this.constraints!==!1){const f=c.get();i[a]=Yte({min:f,max:f},this.constraints[a])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Js(a=>{if(!y_(a,e,null))return;const c=this.getAxisMotionValue(a),{min:f,max:p}=this.constraints[a];c.set(Tn(f,p,i[a]))})}addListeners(){if(!this.visualElement.current)return;Zte.set(this.visualElement,this);const e=this.visualElement.current,n=ip(e,"pointerdown",f=>{const{drag:p,dragListener:g=!0}=this.getProps();p&&g&&this.start(f)}),r=()=>{const{dragConstraints:f}=this.getProps();np(f)&&f.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),sn.read(r);const a=fy(window,"resize",()=>this.scalePositionWithinConstraints()),c=i.addEventListener("didUpdate",({delta:f,hasLayoutChanged:p})=>{this.isDragging&&p&&(Js(g=>{const _=this.getAxisMotionValue(g);_&&(this.originPoint[g]+=f[g].translate,_.set(_.get()+f[g].translate))}),this.visualElement.render())});return()=>{a(),n(),s(),c&&c()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:a=e1,dragMomentum:c=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:a,dragMomentum:c}}}function y_(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function ene(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class tne extends Uc{constructor(e){super(e),this.removeGroupControls=bs,this.removeListeners=bs,this.controls=new Jte(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||bs}unmount(){this.removeGroupControls(),this.removeListeners()}}const iR=t=>(e,n)=>{t&&sn.postRender(()=>t(e,n))};class nne extends Uc{constructor(){super(...arguments),this.removePointerDownListener=bs}onPointerDown(e){this.session=new GL(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint()})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:iR(e),onStart:iR(n),onMove:r,onEnd:(s,a)=>{delete this.session,i&&sn.postRender(()=>i(s,a))}}}mount(){this.removePointerDownListener=ip(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const z_={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function sR(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const fg={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(nt.test(t))t=parseFloat(t);else return t;const n=sR(t,e.target.x),r=sR(t,e.target.y);return`${n}% ${r}%`}},rne={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=Oc.parse(t);if(i.length>5)return r;const s=Oc.createTransformer(t),a=typeof i[0]!="number"?1:0,c=n.x.scale*e.x,f=n.y.scale*e.y;i[0+a]/=c,i[1+a]/=f;const p=Tn(c,f,.5);return typeof i[2+a]=="number"&&(i[2+a]/=p),typeof i[3+a]=="number"&&(i[3+a]/=p),s(i)}};class ine extends M.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;gJ(sne),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),z_.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,a=r.projection;return a&&(a.isPresent=s,i||e.layoutDependency!==n||n===void 0||e.isPresent!==s?a.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?a.promote():a.relegate()||sn.postRender(()=>{const c=a.getStack();(!c||!c.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),XC.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function YL(t){const[e,n]=NM(),r=M.useContext(WC);return j.jsx(ine,{...t,layoutGroup:r,switchLayoutGroup:M.useContext(jM),isPresent:e,safeToRemove:n})}const sne={borderRadius:{...fg,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:fg,borderTopRightRadius:fg,borderBottomLeftRadius:fg,borderBottomRightRadius:fg,boxShadow:rne};function one(t,e,n){const r=ai(t)?t:ly(t);return r.start(EI("",r,e,n)),r.animation}function ane(t){return t instanceof SVGElement&&t.tagName!=="svg"}const une=(t,e)=>t.depth-e.depth;class lne{constructor(){this.children=[],this.isDirty=!1}add(e){lI(this.children,e),this.isDirty=!0}remove(e){cI(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(une),this.isDirty=!1,this.children.forEach(e)}}function cne(t,e){const n=Ba.now(),r=({timestamp:i})=>{const s=i-n;s>=e&&(kc(r),t(s-e))};return sn.read(r,!0),()=>kc(r)}const QL=["TopLeft","TopRight","BottomLeft","BottomRight"],fne=QL.length,oR=t=>typeof t=="string"?parseFloat(t):t,aR=t=>typeof t=="number"||nt.test(t);function dne(t,e,n,r,i,s){i?(t.opacity=Tn(0,n.opacity!==void 0?n.opacity:1,hne(r)),t.opacityExit=Tn(e.opacity!==void 0?e.opacity:1,0,pne(r))):s&&(t.opacity=Tn(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let a=0;a<fne;a++){const c=`border${QL[a]}Radius`;let f=uR(e,c),p=uR(n,c);if(f===void 0&&p===void 0)continue;f||(f=0),p||(p=0),f===0||p===0||aR(f)===aR(p)?(t[c]=Math.max(Tn(oR(f),oR(p),r),0),(Ua.test(p)||Ua.test(f))&&(t[c]+="%")):t[c]=p}(e.rotate||n.rotate)&&(t.rotate=Tn(e.rotate||0,n.rotate||0,r))}function uR(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const hne=XL(0,.5,hL),pne=XL(.5,.95,bs);function XL(t,e,n){return r=>r<t?0:r>e?1:n(Mp(t,e,r))}function lR(t,e){t.min=e.min,t.max=e.max}function Zs(t,e){lR(t.x,e.x),lR(t.y,e.y)}function cR(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function fR(t,e,n,r,i){return t-=e,t=O0(t,1/n,r),i!==void 0&&(t=O0(t,1/i,r)),t}function mne(t,e=0,n=1,r=.5,i,s=t,a=t){if(Ua.test(e)&&(e=parseFloat(e),e=Tn(a.min,a.max,e/100)-a.min),typeof e!="number")return;let c=Tn(s.min,s.max,r);t===s&&(c-=e),t.min=fR(t.min,e,n,c,i),t.max=fR(t.max,e,n,c,i)}function dR(t,e,[n,r,i],s,a){mne(t,e[n],e[r],e[i],e.scale,s,a)}const gne=["x","scaleX","originX"],yne=["y","scaleY","originY"];function hR(t,e,n,r){dR(t.x,e,gne,n?n.x:void 0,r?r.x:void 0),dR(t.y,e,yne,n?n.y:void 0,r?r.y:void 0)}function pR(t){return t.translate===0&&t.scale===1}function ZL(t){return pR(t.x)&&pR(t.y)}function mR(t,e){return t.min===e.min&&t.max===e.max}function vne(t,e){return mR(t.x,e.x)&&mR(t.y,e.y)}function gR(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function JL(t,e){return gR(t.x,e.x)&&gR(t.y,e.y)}function yR(t){return Ci(t.x)/Ci(t.y)}function vR(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class _ne{constructor(){this.members=[]}add(e){lI(this.members,e),e.scheduleRender()}remove(e){if(cI(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function wne(t,e,n){let r="";const i=t.x.translate/e.x,s=t.y.translate/e.y,a=(n==null?void 0:n.z)||0;if((i||s||a)&&(r=`translate3d(${i}px, ${s}px, ${a}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:p,rotate:g,rotateX:_,rotateY:S,skewX:I,skewY:x}=n;p&&(r=`perspective(${p}px) ${r}`),g&&(r+=`rotate(${g}deg) `),_&&(r+=`rotateX(${_}deg) `),S&&(r+=`rotateY(${S}deg) `),I&&(r+=`skewX(${I}deg) `),x&&(r+=`skewY(${x}deg) `)}const c=t.x.scale*e.x,f=t.y.scale*e.y;return(c!==1||f!==1)&&(r+=`scale(${c}, ${f})`),r||"none"}const AT=["","X","Y","Z"],Sne={visibility:"hidden"},_R=1e3;let Tne=0;function xT(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function eV(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=rL(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:s}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",sn,!(i||s))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&eV(r)}function tV({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(a={},c=e==null?void 0:e()){this.id=Tne++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Ine),this.nodes.forEach(Rne),this.nodes.forEach(kne),this.nodes.forEach(bne)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=c?c.root||c:this,this.path=c?[...c.path,c]:[],this.parent=c,this.depth=c?c.depth+1:0;for(let f=0;f<this.path.length;f++)this.path[f].shouldResetTransform=!0;this.root===this&&(this.nodes=new lne)}addEventListener(a,c){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new fI),this.eventHandlers.get(a).add(c)}notifyListeners(a,...c){const f=this.eventHandlers.get(a);f&&f.notify(...c)}hasListeners(a){return this.eventHandlers.has(a)}mount(a,c=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=ane(a),this.instance=a;const{layoutId:f,layout:p,visualElement:g}=this.options;if(g&&!g.current&&g.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),c&&(p||f)&&(this.isLayoutDirty=!0),t){let _;const S=()=>this.root.updateBlockedByResize=!1;t(a,()=>{this.root.updateBlockedByResize=!0,_&&_(),_=cne(S,250),z_.hasAnimatedSinceResize&&(z_.hasAnimatedSinceResize=!1,this.nodes.forEach(SR))})}f&&this.root.registerSharedNode(f,this),this.options.animate!==!1&&g&&(f||p)&&this.addEventListener("didUpdate",({delta:_,hasLayoutChanged:S,hasRelativeLayoutChanged:I,layout:x})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const b=this.options.transition||g.getDefaultTransition()||Lne,{onLayoutAnimationStart:R,onLayoutAnimationComplete:L}=g.getProps(),q=!this.targetLayout||!JL(this.targetLayout,x),B=!S&&I;if(this.options.layoutRoot||this.resumeFrom||B||S&&(q||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(_,B);const G={...uI(b,"layout"),onPlay:R,onComplete:L};(g.shouldReduceMotion||this.options.layoutRoot)&&(G.delay=0,G.type=!1),this.startAnimation(G)}else S||SR(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=x})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,kc(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(One),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&eV(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const _=this.path[g];_.shouldResetTransform=!0,_.updateScroll("snapshot"),_.options.layoutRoot&&_.willUpdate(!1)}const{layoutId:c,layout:f}=this.options;if(c===void 0&&!f)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(wR);return}this.isUpdating||this.nodes.forEach(xne),this.isUpdating=!1,this.nodes.forEach(Pne),this.nodes.forEach(Ene),this.nodes.forEach(Cne),this.clearAllSnapshots();const c=Ba.now();Vr.delta=nl(0,1e3/60,c-Vr.timestamp),Vr.timestamp=c,Vr.isProcessing=!0,wT.update.process(Vr),wT.preRender.process(Vr),wT.render.process(Vr),Vr.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,XC.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Ane),this.sharedNodes.forEach(Dne)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,sn.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){sn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Ci(this.snapshot.measuredBox.x)&&!Ci(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let f=0;f<this.path.length;f++)this.path[f].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Gn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:c}=this.options;c&&c.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let c=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(c=!1),c){const f=r(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:f,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:f}}}resetTransform(){if(!i)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,c=this.projectionDelta&&!ZL(this.projectionDelta),f=this.getTransformTemplate(),p=f?f(this.latestValues,""):void 0,g=p!==this.prevTransformTemplateValue;a&&(c||Wf(this.latestValues)||g)&&(i(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const c=this.measurePageBox();let f=this.removeElementScroll(c);return a&&(f=this.removeTransform(f)),Vne(f),{animationId:this.root.animationId,measuredBox:c,layoutBox:f,latestValues:{},source:this.id}}measurePageBox(){var a;const{visualElement:c}=this.options;if(!c)return Gn();const f=c.measureViewportBox();if(!(((a=this.scroll)===null||a===void 0?void 0:a.wasRoot)||this.path.some(Fne))){const{scroll:g}=this.root;g&&(op(f.x,g.offset.x),op(f.y,g.offset.y))}return f}removeElementScroll(a){var c;const f=Gn();if(Zs(f,a),!((c=this.scroll)===null||c===void 0)&&c.wasRoot)return f;for(let p=0;p<this.path.length;p++){const g=this.path[p],{scroll:_,options:S}=g;g!==this.root&&_&&S.layoutScroll&&(_.wasRoot&&Zs(f,a),op(f.x,_.offset.x),op(f.y,_.offset.y))}return f}applyTransform(a,c=!1){const f=Gn();Zs(f,a);for(let p=0;p<this.path.length;p++){const g=this.path[p];!c&&g.options.layoutScroll&&g.scroll&&g!==g.root&&ap(f,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),Wf(g.latestValues)&&ap(f,g.latestValues)}return Wf(this.latestValues)&&ap(f,this.latestValues),f}removeTransform(a){const c=Gn();Zs(c,a);for(let f=0;f<this.path.length;f++){const p=this.path[f];if(!p.instance||!Wf(p.latestValues))continue;ZE(p.latestValues)&&p.updateSnapshot();const g=Gn(),_=p.measurePageBox();Zs(g,_),hR(c,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,g)}return Wf(this.latestValues)&&hR(c,this.latestValues),c}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Vr.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var c;const f=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=f.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=f.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=f.isSharedProjectionDirty);const p=!!this.resumingFrom||this!==f;if(!(a||p&&this.isSharedProjectionDirty||this.isProjectionDirty||!((c=this.parent)===null||c===void 0)&&c.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:_,layoutId:S}=this.options;if(!(!this.layout||!(_||S))){if(this.resolvedRelativeTargetAt=Vr.timestamp,!this.targetDelta&&!this.relativeTarget){const I=this.getClosestProjectingParent();I&&I.layout&&this.animationProgress!==1?(this.relativeParent=I,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Gn(),this.relativeTargetOrigin=Gn(),Vg(this.relativeTargetOrigin,this.layout.layoutBox,I.layout.layoutBox),Zs(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Gn(),this.targetWithTransforms=Gn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Bte(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Zs(this.target,this.layout.layoutBox),HL(this.target,this.targetDelta)):Zs(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const I=this.getClosestProjectingParent();I&&!!I.resumingFrom==!!this.resumingFrom&&!I.options.layoutScroll&&I.target&&this.animationProgress!==1?(this.relativeParent=I,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Gn(),this.relativeTargetOrigin=Gn(),Vg(this.relativeTargetOrigin,this.target,I.target),Zs(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||ZE(this.parent.latestValues)||WL(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var a;const c=this.getLead(),f=!!this.resumingFrom||this!==c;let p=!0;if((this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty)&&(p=!1),f&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(p=!1),this.resolvedRelativeTargetAt===Vr.timestamp&&(p=!1),p)return;const{layout:g,layoutId:_}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(g||_))return;Zs(this.layoutCorrected,this.layout.layoutBox);const S=this.treeScale.x,I=this.treeScale.y;$te(this.layoutCorrected,this.treeScale,this.path,f),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=Gn());const{target:x}=c;if(!x){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(cR(this.prevProjectionDelta.x,this.projectionDelta.x),cR(this.prevProjectionDelta.y,this.projectionDelta.y)),Lg(this.projectionDelta,this.layoutCorrected,x,this.latestValues),(this.treeScale.x!==S||this.treeScale.y!==I||!vR(this.projectionDelta.x,this.prevProjectionDelta.x)||!vR(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",x))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){var c;if((c=this.options.visualElement)===null||c===void 0||c.scheduleRender(),a){const f=this.getStack();f&&f.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=sp(),this.projectionDelta=sp(),this.projectionDeltaWithTransform=sp()}setAnimationOrigin(a,c=!1){const f=this.snapshot,p=f?f.latestValues:{},g={...this.latestValues},_=sp();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!c;const S=Gn(),I=f?f.source:void 0,x=this.layout?this.layout.source:void 0,b=I!==x,R=this.getStack(),L=!R||R.members.length<=1,q=!!(b&&!L&&this.options.crossfade===!0&&!this.path.some(Mne));this.animationProgress=0;let B;this.mixTargetDelta=G=>{const V=G/1e3;TR(_.x,a.x,V),TR(_.y,a.y,V),this.setTargetDelta(_),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Vg(S,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Nne(this.relativeTarget,this.relativeTargetOrigin,S,V),B&&vne(this.relativeTarget,B)&&(this.isProjectionDirty=!1),B||(B=Gn()),Zs(B,this.relativeTarget)),b&&(this.animationValues=g,dne(g,p,this.latestValues,V,q,L)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=V},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(kc(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=sn.update(()=>{z_.hasAnimatedSinceResize=!0,this.currentAnimation=one(0,_R,{...a,onUpdate:c=>{this.mixTargetDelta(c),a.onUpdate&&a.onUpdate(c)},onStop:()=>{},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(_R),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:c,target:f,layout:p,latestValues:g}=a;if(!(!c||!f||!p)){if(this!==a&&this.layout&&p&&nV(this.options.animationType,this.layout.layoutBox,p.layoutBox)){f=this.target||Gn();const _=Ci(this.layout.layoutBox.x);f.x.min=a.target.x.min,f.x.max=f.x.min+_;const S=Ci(this.layout.layoutBox.y);f.y.min=a.target.y.min,f.y.max=f.y.min+S}Zs(c,f),ap(c,g),Lg(this.projectionDeltaWithTransform,this.layoutCorrected,c,g)}}registerSharedNode(a,c){this.sharedNodes.has(a)||this.sharedNodes.set(a,new _ne),this.sharedNodes.get(a).add(c);const p=c.options.initialPromotionConfig;c.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(c):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var a;const{layoutId:c}=this.options;return c?((a=this.getStack())===null||a===void 0?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:c}=this.options;return c?(a=this.getStack())===null||a===void 0?void 0:a.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:c,preserveFollowOpacity:f}={}){const p=this.getStack();p&&p.promote(this,f),a&&(this.projectionDelta=void 0,this.needsReset=!0),c&&this.setOptions({transition:c})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let c=!1;const{latestValues:f}=a;if((f.z||f.rotate||f.rotateX||f.rotateY||f.rotateZ||f.skewX||f.skewY)&&(c=!0),!c)return;const p={};f.z&&xT("z",a,p,this.animationValues);for(let g=0;g<AT.length;g++)xT(`rotate${AT[g]}`,a,p,this.animationValues),xT(`skew${AT[g]}`,a,p,this.animationValues);a.render();for(const g in p)a.setStaticValue(g,p[g]),this.animationValues&&(this.animationValues[g]=p[g]);a.scheduleRender()}getProjectionStyles(a){var c,f;if(!this.instance||this.isSVG)return;if(!this.isVisible)return Sne;const p={visibility:""},g=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,p.opacity="",p.pointerEvents=$_(a==null?void 0:a.pointerEvents)||"",p.transform=g?g(this.latestValues,""):"none",p;const _=this.getLead();if(!this.projectionDelta||!this.layout||!_.target){const b={};return this.options.layoutId&&(b.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,b.pointerEvents=$_(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!Wf(this.latestValues)&&(b.transform=g?g({},""):"none",this.hasProjected=!1),b}const S=_.animationValues||_.latestValues;this.applyTransformsToTarget(),p.transform=wne(this.projectionDeltaWithTransform,this.treeScale,S),g&&(p.transform=g(S,p.transform));const{x:I,y:x}=this.projectionDelta;p.transformOrigin=`${I.origin*100}% ${x.origin*100}% 0`,_.animationValues?p.opacity=_===this?(f=(c=S.opacity)!==null&&c!==void 0?c:this.latestValues.opacity)!==null&&f!==void 0?f:1:this.preserveOpacity?this.latestValues.opacity:S.opacityExit:p.opacity=_===this?S.opacity!==void 0?S.opacity:"":S.opacityExit!==void 0?S.opacityExit:0;for(const b in oy){if(S[b]===void 0)continue;const{correct:R,applyTo:L,isCSSVariable:q}=oy[b],B=p.transform==="none"?S[b]:R(S[b],_);if(L){const G=L.length;for(let V=0;V<G;V++)p[L[V]]=B}else q?this.options.visualElement.renderState.vars[b]=B:p[b]=B}return this.options.layoutId&&(p.pointerEvents=_===this?$_(a==null?void 0:a.pointerEvents)||"":"none"),p}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var c;return(c=a.currentAnimation)===null||c===void 0?void 0:c.stop()}),this.root.nodes.forEach(wR),this.root.sharedNodes.clear()}}}function Ene(t){t.updateLayout()}function Cne(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:s}=t.options,a=n.source!==t.layout.source;s==="size"?Js(_=>{const S=a?n.measuredBox[_]:n.layoutBox[_],I=Ci(S);S.min=r[_].min,S.max=S.min+I}):nV(s,n.layoutBox,r)&&Js(_=>{const S=a?n.measuredBox[_]:n.layoutBox[_],I=Ci(r[_]);S.max=S.min+I,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[_].max=t.relativeTarget[_].min+I)});const c=sp();Lg(c,r,n.layoutBox);const f=sp();a?Lg(f,t.applyTransform(i,!0),n.measuredBox):Lg(f,r,n.layoutBox);const p=!ZL(c);let g=!1;if(!t.resumeFrom){const _=t.getClosestProjectingParent();if(_&&!_.resumeFrom){const{snapshot:S,layout:I}=_;if(S&&I){const x=Gn();Vg(x,n.layoutBox,S.layoutBox);const b=Gn();Vg(b,r,I.layoutBox),JL(x,b)||(g=!0),_.options.layoutRoot&&(t.relativeTarget=b,t.relativeTargetOrigin=x,t.relativeParent=_)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:f,layoutDelta:c,hasLayoutChanged:p,hasRelativeLayoutChanged:g})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function Ine(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function bne(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function Ane(t){t.clearSnapshot()}function wR(t){t.clearMeasurements()}function xne(t){t.isLayoutDirty=!1}function Pne(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function SR(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function Rne(t){t.resolveTargetDelta()}function kne(t){t.calcProjection()}function One(t){t.resetSkewAndRotation()}function Dne(t){t.removeLeadSnapshot()}function TR(t,e,n){t.translate=Tn(e.translate,0,n),t.scale=Tn(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function ER(t,e,n,r){t.min=Tn(e.min,n.min,r),t.max=Tn(e.max,n.max,r)}function Nne(t,e,n,r){ER(t.x,e.x,n.x,r),ER(t.y,e.y,n.y,r)}function Mne(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const Lne={duration:.45,ease:[.4,0,.1,1]},CR=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),IR=CR("applewebkit/")&&!CR("chrome/")?Math.round:bs;function bR(t){t.min=IR(t.min),t.max=IR(t.max)}function Vne(t){bR(t.x),bR(t.y)}function nV(t,e,n){return t==="position"||t==="preserve-aspect"&&!Ute(yR(e),yR(n),.2)}function Fne(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const Une=tV({attachResizeListener:(t,e)=>fy(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),PT={current:void 0},rV=tV({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!PT.current){const t=new Une({});t.mount(window),t.setOptions({layoutScroll:!0}),PT.current=t}return PT.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),Bne={pan:{Feature:nne},drag:{Feature:tne,ProjectionNode:rV,MeasureLayout:YL}};function $ne(t,e,n){var r;if(t instanceof EventTarget)return[t];if(typeof t=="string"){let i=document;const s=(r=void 0)!==null&&r!==void 0?r:i.querySelectorAll(t);return s?Array.from(s):[]}return Array.from(t)}function iV(t,e){const n=$ne(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function AR(t){return!(t.pointerType==="touch"||BL())}function jne(t,e,n={}){const[r,i,s]=iV(t,n),a=c=>{if(!AR(c))return;const{target:f}=c,p=e(f,c);if(typeof p!="function"||!f)return;const g=_=>{AR(_)&&(p(_),f.removeEventListener("pointerleave",g))};f.addEventListener("pointerleave",g,i)};return r.forEach(c=>{c.addEventListener("pointerenter",a,i)}),s}function xR(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,s=r[i];s&&sn.postRender(()=>s(e,Vy(e)))}class zne extends Uc{mount(){const{current:e}=this.node;e&&(this.unmount=jne(e,(n,r)=>(xR(this.node,r,"Start"),i=>xR(this.node,i,"End"))))}unmount(){}}class Wne extends Uc{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Ly(fy(this.node.current,"focus",()=>this.onFocus()),fy(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const sV=(t,e)=>e?t===e?!0:sV(t,e.parentElement):!1,Hne=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function qne(t){return Hne.has(t.tagName)||t.tabIndex!==-1}const bg=new WeakSet;function PR(t){return e=>{e.key==="Enter"&&t(e)}}function RT(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const Gne=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=PR(()=>{if(bg.has(n))return;RT(n,"down");const i=PR(()=>{RT(n,"up")}),s=()=>RT(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",s,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function RR(t){return CI(t)&&!BL()}function Kne(t,e,n={}){const[r,i,s]=iV(t,n),a=c=>{const f=c.currentTarget;if(!f||!RR(c)||bg.has(f))return;bg.add(f),Fg(c,"set");const p=e(f,c),g=(I,x)=>{f.removeEventListener("pointerup",_),f.removeEventListener("pointercancel",S),Fg(I,"release"),!(!RR(I)||!bg.has(f))&&(bg.delete(f),typeof p=="function"&&p(I,{success:x}))},_=I=>{(I.isTrusted?Yne(I,f instanceof Element?f.getBoundingClientRect():{left:0,top:0,right:window.innerWidth,bottom:window.innerHeight}):!1)?g(I,!1):g(I,!(f instanceof Element)||sV(f,I.target))},S=I=>{g(I,!1)};f.addEventListener("pointerup",_,i),f.addEventListener("pointercancel",S,i),f.addEventListener("lostpointercapture",S,i)};return r.forEach(c=>{c=n.useGlobalTarget?window:c;let f=!1;c instanceof HTMLElement&&(f=!0,!qne(c)&&c.getAttribute("tabindex")===null&&(c.tabIndex=0)),c.addEventListener("pointerdown",a,i),f&&c.addEventListener("focus",p=>Gne(p,i),i)}),s}function Yne(t,e){return t.clientX<e.left||t.clientX>e.right||t.clientY<e.top||t.clientY>e.bottom}function kR(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),s=r[i];s&&sn.postRender(()=>s(e,Vy(e)))}class Qne extends Uc{mount(){const{current:e}=this.node;e&&(this.unmount=Kne(e,(n,r)=>(kR(this.node,r,"Start"),(i,{success:s})=>kR(this.node,i,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const t1=new WeakMap,kT=new WeakMap,Xne=t=>{const e=t1.get(t.target);e&&e(t)},Zne=t=>{t.forEach(Xne)};function Jne({root:t,...e}){const n=t||document;kT.has(n)||kT.set(n,{});const r=kT.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(Zne,{root:t,...e})),r[i]}function ere(t,e,n){const r=Jne(e);return t1.set(t,n),r.observe(t),()=>{t1.delete(t),r.unobserve(t)}}const tre={some:0,all:1};class nre extends Uc{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=e,a={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:tre[i]},c=f=>{const{isIntersecting:p}=f;if(this.isInView===p||(this.isInView=p,s&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:g,onViewportLeave:_}=this.node.getProps(),S=p?g:_;S&&S(f)};return ere(this.node.current,a,c)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(rre(e,n))&&this.startObserver()}unmount(){}}function rre({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const ire={inView:{Feature:nre},tap:{Feature:Qne},focus:{Feature:Wne},hover:{Feature:zne}},sre={layout:{ProjectionNode:rV,MeasureLayout:YL}},n1={current:null},oV={current:!1};function ore(){if(oV.current=!0,!!GC)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>n1.current=t.matches;t.addListener(e),e()}else n1.current=!1}const are=[...AL,ti,Oc],ure=t=>are.find(bL(t)),lre=new WeakMap;function cre(t,e,n){for(const r in e){const i=e[r],s=n[r];if(ai(i))t.addValue(r,i);else if(ai(s))t.addValue(r,ly(i,{owner:t}));else if(s!==i)if(t.hasValue(r)){const a=t.getValue(r);a.liveStyle===!0?a.jump(i):a.hasAnimated||a.set(i)}else{const a=t.getStaticValue(r);t.addValue(r,ly(a!==void 0?a:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const OR=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class fre{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:a},c={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=wI,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const I=Ba.now();this.renderScheduledAt<I&&(this.renderScheduledAt=I,sn.render(this.render,!1,!0))};const{latestValues:f,renderState:p,onUpdate:g}=a;this.onUpdate=g,this.latestValues=f,this.baseTarget={...f},this.initialValues=n.initial?{...f}:{},this.renderState=p,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=c,this.blockInitialAnimation=!!s,this.isControllingVariants=Fw(n),this.isVariantNode=BM(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:_,...S}=this.scrapeMotionValuesFromProps(n,{},this);for(const I in S){const x=S[I];f[I]!==void 0&&ai(x)&&x.set(f[I],!1)}}mount(e){this.current=e,lre.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),oV.current||ore(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:n1.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),kc(this.notifyUpdate),kc(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=pd.has(e);r&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",c=>{this.latestValues[e]=c,this.props.onUpdate&&sn.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),s(),a&&a(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Np){const n=Np[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Gn()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<OR.length;r++){const i=OR[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,a=e[s];a&&(this.propEventSubscriptions[i]=this.on(i,a))}this.prevMotionValues=cre(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=ly(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){var r;let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(CL(i)||mL(i))?i=parseFloat(i):!ure(i)&&Oc.test(n)&&(i=SL(e,n)),this.setBaseTarget(e,ai(i)?i.get():i)),ai(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props;let i;if(typeof r=="string"||typeof r=="object"){const a=oI(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);a&&(i=a[e])}if(r&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!ai(s)?s:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new fI),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class aV extends fre{constructor(){super(...arguments),this.KeyframeResolver=xL}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;ai(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function dre(t){return window.getComputedStyle(t)}class hre extends aV{constructor(){super(...arguments),this.type="html",this.renderInstance=XM}readValueFromInstance(e,n){if(pd.has(n)){const r=_I(n);return r&&r.default||0}else{const r=dre(e),i=(ZC(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return qL(e,n)}build(e,n,r){tI(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return aI(e,n,r)}}class pre extends aV{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Gn,this.updateDimensions=()=>{this.current&&!this.renderState.dimensions&&QM(this.current,this.renderState)}}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(pd.has(n)){const r=_I(n);return r&&r.default||0}return n=ZM.has(n)?n:QC(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return eL(e,n,r)}onBindTransform(){this.current&&!this.renderState.dimensions&&sn.postRender(this.updateDimensions)}build(e,n,r){iI(e,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,r,i){JM(e,n,r,i)}mount(e){this.isSVGTag=sI(e.tagName),super.mount(e)}}const mre=(t,e)=>rI(t)?new pre(e):new hre(e,{allowProjection:t!==M.Fragment}),gre=BJ({...Rte,...ire,...Bne,...sre},mre),D0=nJ(gre),yre="_backdrop_1k0h1_1",vre="_modal_1k0h1_15",DR={backdrop:yre,modal:vre};var _re=["allowCreateWhileLoading","createOptionPosition","formatCreateLabel","isValidNewOption","getNewOptionData","onCreateOption","options","onChange"],NR=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0,i=String(e).toLowerCase(),s=String(r.getOptionValue(n)).toLowerCase(),a=String(r.getOptionLabel(n)).toLowerCase();return s===i||a===i},OT={formatCreateLabel:function(e){return'Create "'.concat(e,'"')},isValidNewOption:function(e,n,r,i){return!(!e||n.some(function(s){return NR(e,s,i)})||r.some(function(s){return NR(e,s,i)}))},getNewOptionData:function(e,n){return{label:n,value:e,__isNew__:!0}}};function wre(t){var e=t.allowCreateWhileLoading,n=e===void 0?!1:e,r=t.createOptionPosition,i=r===void 0?"last":r,s=t.formatCreateLabel,a=s===void 0?OT.formatCreateLabel:s,c=t.isValidNewOption,f=c===void 0?OT.isValidNewOption:c,p=t.getNewOptionData,g=p===void 0?OT.getNewOptionData:p,_=t.onCreateOption,S=t.options,I=S===void 0?[]:S,x=t.onChange,b=Wa(t,_re),R=b.getOptionValue,L=R===void 0?U2:R,q=b.getOptionLabel,B=q===void 0?F2:q,G=b.inputValue,V=b.isLoading,Y=b.isMulti,D=b.value,k=b.name,F=M.useMemo(function(){return f(G,_0(D),I,{getOptionValue:L,getOptionLabel:B})?g(G,a(G)):void 0},[a,g,B,L,G,f,I,D]),A=M.useMemo(function(){return(n||!V)&&F?i==="first"?[F].concat(pp(I)):[].concat(pp(I),[F]):I},[n,i,V,F,I]),W=M.useCallback(function(K,H){if(H.action!=="select-option")return x(K,H);var ce=Array.isArray(K)?K:[K];if(ce[ce.length-1]===F){if(_)_(G);else{var oe=g(G,G),_e={action:"create-option",name:k,option:oe};x(Sg(Y,[].concat(pp(_0(D)),[oe]),oe),_e)}return}x(K,H)},[g,G,Y,k,F,_,x,D]);return He(He({},b),{},{options:A,onChange:W})}var Sre=M.forwardRef(function(t,e){var n=m7(t),r=wre(n);return M.createElement(G2,Ze({ref:e},r))}),uV=Sre;const Lr=[];for(let t=0;t<256;++t)Lr.push((t+256).toString(16).slice(1));function Tre(t,e=0){return(Lr[t[e+0]]+Lr[t[e+1]]+Lr[t[e+2]]+Lr[t[e+3]]+"-"+Lr[t[e+4]]+Lr[t[e+5]]+"-"+Lr[t[e+6]]+Lr[t[e+7]]+"-"+Lr[t[e+8]]+Lr[t[e+9]]+"-"+Lr[t[e+10]]+Lr[t[e+11]]+Lr[t[e+12]]+Lr[t[e+13]]+Lr[t[e+14]]+Lr[t[e+15]]).toLowerCase()}let DT;const Ere=new Uint8Array(16);function Cre(){if(!DT){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");DT=crypto.getRandomValues.bind(crypto)}return DT(Ere)}const Ire=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),MR={randomUUID:Ire};function lV(t,e,n){var i;if(MR.randomUUID&&!t)return MR.randomUUID();t=t||{};const r=t.random??((i=t.rng)==null?void 0:i.call(t))??Cre();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,Tre(r)}const bre="_container_1mgw5_1",Are="_content_1mgw5_13",xre="_form_1mgw5_19",Pre="_previewImgWrapper_1mgw5_1",Rre="_previewImg_1mgw5_1",kre="_previewPlaceholder_1mgw5_1",Ore="_addPreview_1mgw5_59",Dre="_inputWrapper_1mgw5_73",Nre="_fieldLabelInput_1mgw5_84",Mre="_warrantyInputs_1mgw5_101",Lre="_fileInputLabel_1mgw5_1",Vre="_fileInput_1mgw5_1",Fre="_fileInputLabelContent_1mgw5_1",Ure="_popoverTrigger_1mgw5_155",Bre="_popoverContent_1mgw5_169",$re="_fileButton_1mgw5_190",jre="_fileItem_1mgw5_204",zre="_submitButton_1mgw5_1",Pn={container:bre,content:Are,form:xre,previewImgWrapper:Pre,previewImg:Rre,previewPlaceholder:kre,addPreview:Ore,inputWrapper:Dre,fieldLabelInput:Nre,warrantyInputs:Mre,fileInputLabel:Lre,fileInput:Vre,fileInputLabelContent:Fre,popoverTrigger:Ure,popoverContent:Bre,fileButton:$re,fileItem:jre,submitButton:zre},cV=({availableTags:t})=>{const{db:e,storage:n}=M.useContext(rl),r=oi(ce=>ce.setDrawerOpen),i=oi(ce=>ce.setDrawerContent),s=qi(ce=>ce.user),[a,c]=M.useState([]),[f,p]=M.useState([]),[g,_]=M.useState(""),[S,I]=M.useState(""),[x,b]=M.useState(!1),[R,L]=M.useState(null),[q,B]=M.useState(""),[G,V]=M.useState([]),[Y,D]=M.useState(""),[k,F]=M.useState("days"),A=M.useRef(null),W=M.useRef(null),K=async ce=>{ce.preventDefault(),console.log("submitting");let oe=null;if(R){const Ae=jo(n,`${s.uid}/${R.file.name}`);await l0(Ae,R.file),oe=R.file.name}const _e=await Promise.all(f.map(async Ae=>{const Ee=jo(n,`${s.uid}/${Ae.name}`);return await l0(Ee,Ae),Ae.name})),ye={createdAt:hD(),files:_e,name:g,notes:S,previewImg:oe,purchaseDate:q,tags:G,warrantyLength:Y,warrantyLengthUnit:k};a.length&&(ye.extraFields=a.filter(Ae=>Ae.value));const ae=await cj(JO(e,`users/${s.uid}/products`),ye);console.log("Document written with ID: ",ae.id),r(!1),i({component:"",params:null})},H=ce=>{const oe={id:lV(),type:ce,value:"",label:ce.charAt(0).toUpperCase()+ce.slice(1)};c([...a,oe]),b(!1)};return j.jsxs("div",{className:Pn.container,children:[j.jsx("h2",{children:"Add Product"}),j.jsxs("div",{className:Pn.content,children:[j.jsx("input",{ref:W,type:"file",id:"preview-img",accept:"image/*",onChange:ce=>{const oe=ce.target.files[0];if(oe){const _e=new FileReader;_e.onloadend=()=>{console.log(_e,_e.result),L({file:oe,url:_e.result})},_e.readAsDataURL(oe)}},style:{display:"none"}}),R?j.jsxs("div",{id:Pn.previewImgWrapper,onClick:()=>W.current.click(),children:[j.jsx("img",{id:Pn.previewImg,src:R.url,width:100,height:100}),j.jsx("span",{className:Pn.addPreview,children:j.jsx(zu,{})})]}):j.jsxs("div",{id:Pn.previewPlaceholder,onClick:()=>W.current.click(),children:[j.jsx(Ew,{fontSize:"large"}),j.jsx("span",{className:Pn.addPreview,children:j.jsx(zu,{})})]}),j.jsxs("form",{onSubmit:K,className:Pn.form,children:[j.jsxs("div",{className:Pn.inputWrapper,children:[j.jsxs("label",{htmlFor:"name",children:["Name",j.jsx("sup",{children:"*"})]}),j.jsx("input",{type:"text",name:"name",required:!0,value:g,onChange:ce=>_(ce.target.value)})]}),j.jsxs("div",{className:Pn.inputWrapper,children:[j.jsxs("label",{htmlFor:"purchaseDate",children:["Purchase Date",j.jsx("sup",{children:"*"})]}),j.jsx("input",{type:"date",name:"purchaseDate",required:!0,value:q,onChange:ce=>B(ce.target.value)})]}),j.jsxs("div",{className:Pn.inputWrapper,children:[j.jsxs("label",{htmlFor:"warrantyLength",children:["Warranty Length",j.jsx("sup",{children:"*"})]}),j.jsxs("div",{className:Pn.warrantyInputs,children:[j.jsx("input",{type:"text",name:"warrantyLength",required:!0,value:Y,onChange:ce=>D(ce.target.value)}),j.jsxs("select",{name:"warrantyLengthUnit",required:!0,value:k,onChange:ce=>F(ce.target.value),children:[j.jsx("option",{value:"days",children:"Days"}),j.jsx("option",{value:"months",children:"Months"}),j.jsx("option",{value:"years",children:"Years"})]})]})]}),j.jsxs("div",{className:Pn.inputWrapper,children:[j.jsx("label",{htmlFor:"notes",children:"Notes"}),j.jsx("textarea",{name:"notes",value:S,onChange:ce=>I(ce.target.value),rows:6})]}),a.map((ce,oe)=>j.jsxs("div",{className:Pn.inputWrapper,children:[j.jsx("input",{type:"text",name:`extraField-${ce.type}-${ce.title}`,value:ce.label,onChange:_e=>{const ye=[...a];ye[oe].label=_e.target.value,c(ye)},className:Pn.fieldLabelInput}),j.jsx("input",{type:ce.type,name:`extraField-${ce.type}-${ce.title}`,value:ce.value,onChange:_e=>{const ye=[...a];ye[oe].value=_e.target.value,c(ye)},className:Pn.fieldInput})]},`extraField-${ce.type}-${ce.title}`)),j.jsxs($C,{open:x,onOpenChange:b,children:[j.jsx(jC,{asChild:!0,children:j.jsxs("button",{type:"button",className:Pn.popoverTrigger,onClick:()=>b(!0),children:[j.jsx(zu,{}),"Add Extra Field"]})}),j.jsxs(zC,{side:"top",className:Pn.popoverContent,children:[j.jsx("button",{onClick:()=>H("text"),children:"Text"}),j.jsx("button",{onClick:()=>H("date"),children:"Date"})]})]}),j.jsxs("div",{children:[j.jsx("label",{htmlFor:"tags",children:"Tags"}),j.jsx(uV,{isMulti:!0,options:t.map(ce=>({value:ce,label:ce})),onChange:ce=>{V(ce.map(oe=>oe.value))},name:"tags",styles:{container:ce=>({...ce,padding:"0.5rem",borderRadius:"12px",border:"1px solid #c7ccd1"}),control:ce=>({...ce,border:"none",":hover":{borderColor:"none"}}),group:ce=>({...ce,padding:0}),groupHeading:()=>({borderBottom:"1px solid #606265",color:"#606265",marginBottom:"0.25rem",padding:"1rem 0 0 0.5rem"}),option:(ce,{isSelected:oe})=>({...ce,color:"#232b2b",display:"flex",alignItems:"center",":hover":{backgroundColor:"#d1cbc9"},"> svg":{marginRight:"0.5rem"}}),valueContainer:ce=>({...ce,border:"none"}),singleValue:(ce,{data:oe})=>({...ce,border:"none"}),dropdownIndicator:ce=>({...ce,color:"#606265"}),placeholder:ce=>({...ce,color:"black",fontSize:"0.8rem"}),indicatorSeparator:ce=>({...ce,display:"none"}),indicatorsContainer:ce=>({...ce,padding:"0 0.5rem"})}})]}),j.jsxs("div",{className:Pn.inputWrapper,children:[j.jsx("input",{ref:A,type:"file",name:"files",multiple:!0,onChange:ce=>{console.log(ce.target.files),!(!ce.target.files||!ce.target.files.length)&&p(...f,Array.from(ce.target.files))},style:{display:"none"}}),j.jsxs("button",{type:"button",onClick:()=>A.current.click(),className:Pn.fileButton,children:[j.jsx(zu,{}),"Add Images or Files"]})]}),f.map(ce=>j.jsxs("div",{className:Pn.fileItem,children:[j.jsx("p",{children:ce.name}),j.jsx("button",{onClick:()=>p(f.filter(oe=>oe!==ce)),children:j.jsx(h0,{})})]},ce.name))]})]}),j.jsxs("button",{onClick:K,disabled:!g||!q||!Y,id:Pn.submitButton,children:[j.jsx(c2,{}),"Save"]})]})},Wre="_container_dpani_1",Hre="_content_dpani_13",qre="_form_dpani_19",Gre="_previewImgWrapper_dpani_1",Kre="_previewImg_dpani_1",Yre="_previewPlaceholder_dpani_1",Qre="_addPreview_dpani_59",Xre="_inputWrapper_dpani_73",Zre="_fieldLabelInput_dpani_83",Jre="_warrantyInputs_dpani_100",eie="_fileInputLabel_dpani_1",tie="_fileInput_dpani_1",nie="_fileInputLabelContent_dpani_1",rie="_popoverTrigger_dpani_154",iie="_popoverContent_dpani_168",sie="_fileButton_dpani_189",oie="_fileItem_dpani_203",aie="_submitButton_dpani_1",Sn={container:Wre,content:Hre,form:qre,previewImgWrapper:Gre,previewImg:Kre,previewPlaceholder:Yre,addPreview:Qre,inputWrapper:Xre,fieldLabelInput:Zre,warrantyInputs:Jre,fileInputLabel:eie,fileInput:tie,fileInputLabelContent:nie,popoverTrigger:rie,popoverContent:iie,fileButton:sie,fileItem:oie,submitButton:aie},fV=({availableTags:t,product:e})=>{const{db:n,storage:r}=M.useContext(rl),i=oi(oe=>oe.setModalOpen),s=oi(oe=>oe.setModalContent),a=qi(oe=>oe.user),[c,f]=M.useState([]),[p,g]=M.useState([]),[_,S]=M.useState(""),[I,x]=M.useState(""),[b,R]=M.useState(!1),[L,q]=M.useState(null),[B,G]=M.useState(""),[V,Y]=M.useState([]),[D,k]=M.useState(""),[F,A]=M.useState(""),W=M.useRef(null),K=M.useRef(null);M.useEffect(()=>{(async()=>{var _e;if(S(e.name),x(e.notes),G(e.purchaseDate),Y(e.tags),k(e.warrantyLength),A(e.warrantyLengthUnit),(_e=e.files)!=null&&_e.length){const ye=await Promise.all(e.files.map(async ae=>{const Ae=jo(r,`${a.uid}/${ae}`),Ee=await Xg(Ae);return{name:ae,url:Ee}}));g(ye)}if(e.previewImg){if(e.previewImgUrl){q({name:e.previewImg,url:e.previewImgUrl});return}const ye=jo(r,`${a.uid}/${e.previewImg}`),ae=await Xg(ye);q({name:e.previewImg,url:ae})}})()},[e]),M.useEffect(()=>{const oe=c.reduce((_e,ye)=>(_e[ye.label]?_e[ye.label]++:_e[ye.label]=1,_e),{});for(const _e in oe)oe[_e]>1&&setErrors([...errors,_e])},[c]);const H=async oe=>{oe.preventDefault(),console.log("submitting");const _e=e.files.filter(ee=>!p.map(de=>de.name).includes(ee)),ye=p.filter(ee=>!e.files.includes(ee.name));console.log(_e),console.log(ye),await Promise.all(_e.map(async ee=>{const de=jo(r,`${a.uid}/${ee}`);await RD(de)}));const ae=await Promise.all(ye.map(async ee=>{const de=jo(r,`${a.uid}/${ee.name}`);return await l0(de,ee),ee.name})),Ae=[...e.files.filter(ee=>!_e.includes(ee)),...ae];if(L.file){const ee=jo(r,`${a.uid}/${L.file.name}`);await l0(ee,L.file),L.file.name}const Ee={createdAt:serverTimestamp(),files:Ae,name:_,notes:I,purchaseDate:B,tags:V,warrantyLength:D,warrantyLengthUnit:F};c.length&&(Ee.extraFields=c),await uj(Ey(n,`users/${a.uid}/products/${e.id}`),Ee),i(!1),s({component:"",params:null})},ce=oe=>{const _e={id:lV(),type:oe,value:"",label:oe.charAt(0).toUpperCase()+oe.slice(1)};f([...c,_e]),R(!1)};return j.jsxs("div",{className:Sn.container,children:[j.jsx("h2",{children:"Edit Product"}),j.jsxs("div",{className:Sn.content,children:[j.jsx("input",{ref:K,type:"file",id:"preview-img",accept:"image/*",onChange:oe=>{const _e=oe.target.files[0];if(_e){const ye=new FileReader;ye.onloadend=()=>{console.log(ye,ye.result),q({file:_e,url:ye.result})},ye.readAsDataURL(_e)}},style:{display:"none"}}),L?j.jsxs("div",{id:Sn.previewImgWrapper,onClick:()=>K.current.click(),children:[j.jsx("img",{id:Sn.previewImg,src:L.url,width:100,height:100}),j.jsx("span",{className:Sn.addPreview,children:j.jsx(zu,{})})]}):j.jsxs("div",{id:Sn.previewPlaceholder,onClick:()=>K.current.click(),children:[j.jsx(Ew,{fontSize:"large"}),j.jsx("span",{className:Sn.addPreview,children:j.jsx(zu,{})})]}),j.jsxs("form",{onSubmit:H,className:Sn.form,children:[j.jsxs("div",{className:Sn.inputWrapper,children:[j.jsxs("label",{htmlFor:"name",children:["Name",j.jsx("sup",{children:"*"})]}),j.jsx("input",{type:"text",name:"name",required:!0,value:_,onChange:oe=>S(oe.target.value),placeholder:"Product Name"})]}),j.jsxs("div",{className:Sn.inputWrapper,children:[j.jsxs("label",{htmlFor:"purchaseDate",children:["Purchase Date",j.jsx("sup",{children:"*"})]}),j.jsx("input",{type:"date",name:"purchaseDate",required:!0,value:B,onChange:oe=>G(oe.target.value)})]}),j.jsxs("div",{className:Sn.inputWrapper,children:[j.jsxs("label",{htmlFor:"warrantyLength",children:["Warranty Length",j.jsx("sup",{children:"*"})]}),j.jsxs("div",{className:Sn.warrantyInputs,children:[j.jsx("input",{type:"text",name:"warrantyLength",required:!0,value:D,onChange:oe=>k(oe.target.value),placeholder:"Warranty Length"}),j.jsxs("select",{name:"warrantyLengthUnit",required:!0,value:F,onChange:oe=>A(oe.target.value),children:[j.jsx("option",{value:"days",children:"Days"}),j.jsx("option",{value:"months",children:"Months"}),j.jsx("option",{value:"years",children:"Years"})]})]})]}),j.jsxs("div",{className:Sn.inputWrapper,children:[j.jsx("label",{htmlFor:"notes",children:"Notes"}),j.jsx("textarea",{name:"notes",value:I,onChange:oe=>x(oe.target.value),rows:6})]}),c.map((oe,_e)=>j.jsxs("div",{className:Sn.inputWrapper,children:[j.jsx("input",{type:"text",name:`extraField-${oe.type}-${oe.title}`,value:oe.label,onChange:ye=>{const ae=[...c];ae[_e].label=ye.target.value,f(ae)},className:Sn.fieldLabelInput}),j.jsx("input",{type:oe.type,name:`extraField-${oe.type}-${oe.title}`,value:oe.value,onChange:ye=>{const ae=[...c];ae[_e].value=ye.target.value,f(ae)},className:Sn.fieldInput})]},`extraField-${oe.type}-${oe.title}`)),j.jsxs($C,{open:b,onOpenChange:R,children:[j.jsx(jC,{asChild:!0,children:j.jsxs("button",{type:"button",className:Sn.popoverTrigger,onClick:()=>R(!0),children:[j.jsx(zu,{}),"Add Extra Field"]})}),j.jsxs(zC,{side:"top",className:Sn.popoverContent,children:[j.jsx("button",{onClick:()=>ce("text"),children:"Text"}),j.jsx("button",{onClick:()=>ce("date"),children:"Date"})]})]}),j.jsxs("div",{children:[j.jsx("label",{htmlFor:"tags",children:"Tags"}),j.jsx(uV,{isMulti:!0,options:t.map(oe=>({value:oe,label:oe})),onChange:oe=>{Y(oe.map(_e=>_e.value))},name:"tags",styles:{container:oe=>({...oe,padding:"0.5rem",borderRadius:"12px",border:"1px solid #c7ccd1"}),control:oe=>({...oe,border:"none",":hover":{borderColor:"none"}}),group:oe=>({...oe,padding:0}),groupHeading:()=>({borderBottom:"1px solid #606265",color:"#606265",marginBottom:"0.25rem",padding:"1rem 0 0 0.5rem"}),option:(oe,{isSelected:_e})=>({...oe,color:"#232b2b",display:"flex",alignItems:"center",":hover":{backgroundColor:"#d1cbc9"},"> svg":{marginRight:"0.5rem"}}),valueContainer:oe=>({...oe,border:"none"}),singleValue:(oe,{data:_e})=>({...oe,border:"none"}),dropdownIndicator:oe=>({...oe,color:"#606265"}),placeholder:oe=>({...oe,color:"black",fontSize:"0.8rem"}),indicatorSeparator:oe=>({...oe,display:"none"}),indicatorsContainer:oe=>({...oe,padding:"0 0.5rem"})},value:V.map(oe=>({value:oe,label:oe}))})]}),j.jsxs("div",{className:Sn.inputWrapper,children:[j.jsx("input",{ref:W,type:"file",name:"files",multiple:!0,onChange:oe=>{console.log(oe.target.files),!(!oe.target.files||!oe.target.files.length)&&g(...p,Array.from(oe.target.files))},style:{display:"none"}}),j.jsxs("button",{type:"button",onClick:()=>W.current.click(),className:Sn.fileButton,children:[j.jsx(zu,{}),"Add Images or Files"]})]}),p.map(oe=>j.jsxs("div",{className:Sn.fileItem,children:[oe.url?j.jsx("a",{href:oe.url,target:"_blank",rel:"noopener noreferrer",className:Sn.fileLink,children:oe.name}):j.jsx("p",{children:oe.name}),j.jsx("button",{onClick:()=>g(p.filter(_e=>_e!==oe)),children:j.jsx(h0,{})})]},oe.name))]})]}),j.jsxs("button",{onClick:H,disabled:!_||!B||!D,id:Sn.submitButton,children:[j.jsx(c2,{}),"Save"]})]})},uie=()=>{const t=oi(a=>a.modalOpen),e=oi(a=>a.modalContent),n=oi(a=>a.setModalOpen),r=oi(a=>a.setModalContent),s={ADD_PRODUCT:cV,EDIT_PRODUCT:fV}[e.component];return j.jsx(LM,{children:t&&j.jsxs(j.Fragment,{children:[j.jsx(D0.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:DR.modal,children:!!s&&j.jsx(s,{...e.params})}),j.jsx(D0.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>{n(!1),r({component:"",params:null})},className:DR.backdrop})]})})},lie="_backdrop_8zkh2_1",cie="_drawer_8zkh2_15",fie="_drawerHeader_8zkh2_29",die="_closeButton_8zkh2_35",v_={backdrop:lie,drawer:cie,drawerHeader:fie,closeButton:die},hie="_container_fkbc3_1",pie="_productName_fkbc3_1",mie="_previewImgWrapper_fkbc3_1",gie="_previewImg_fkbc3_1",yie="_previewPlaceholder_fkbc3_1",vie="_progressContainer_fkbc3_1",_ie="_progress_fkbc3_1",wie="_tags_fkbc3_73",Sie="_tag_fkbc3_73",Tie="_content_fkbc3_87",Eie="_field_fkbc3_96",Cie="_fieldLabel_fkbc3_107",Iie="_fieldValue_fkbc3_111",bie="_filesContainer_fkbc3_115",Aie="_file_fkbc3_115",xie="_controls_fkbc3_140",Pie="_editButton_fkbc3_1",Rie="_deleteButton_fkbc3_1",Ht={container:hie,productName:pie,previewImgWrapper:mie,previewImg:gie,previewPlaceholder:yie,progressContainer:vie,progress:_ie,tags:wie,tag:Sie,content:Tie,field:Eie,fieldLabel:Cie,fieldValue:Iie,filesContainer:bie,file:Aie,controls:xie,editButton:Pie,deleteButton:Rie},kie=({availableTags:t,productId:e})=>{var q;const{db:n,storage:r}=M.useContext(rl),i=qi(B=>B.products),s=i.find(B=>B.id===e);console.log(s);const a=qi(B=>B.user),c=oi(B=>B.setDrawerOpen),f=oi(B=>B.setDrawerContent),[p,g]=M.useState([]),[_,S]=M.useState(null);M.useEffect(()=>{const B=async()=>{var D;if(!((D=s.files)!=null&&D.length))return;const V=s.files.map(async k=>{const F=jo(r,`${a.uid}/${k}`),A=await Xg(F);return{name:k,url:A}}),Y=await Promise.all(V);g(Y)},G=async()=>{if(console.log(s),!s.previewImg)return;if(s.previewImgUrl){S({name:s.previewImg,url:s.previewImgUrl});return}const V=jo(r,`${a.uid}/${s.previewImg}`),Y=await Xg(V);S({name:s.previewImg,url:Y})};B(),G()},[e]);const I=B=>{const G=Intl.DateTimeFormat().resolvedOptions().timeZone,V=s.purchaseDate,Y=s.warrantyLength,D=s.warrantyLengthUnit;if(!V||!Y||!D)return null;console.log(V,Y,D);const k=rt.fromISO(`${V}T00:00:00`,{zone:G}),F=k.plus({[D]:Y}),W=rt.now().diff(k,["days"]).days,K=F.diff(k,["days"]).days,H=Math.max(W/K,0);return console.log(`Warranty percent complete: ${H}%`),console.log(`Days since purchase: ${W}, Warranty length in days: ${K}`),H>=1?{percentComplete:0,expirationDate:F.toFormat("yyyy-MM-dd")}:{percentComplete:1-H,expirationDate:F.toFormat("yyyy-MM-dd")}},x=async()=>{const B=i.find(G=>G.id===id).files;await Promise.all(B.map(async G=>{const V=jo(r,`${a.uid}/${G}`);await RD(V)})),await lj(Ey(n,`users/${a.uid}/products/${id}`)),c(!1),f({component:"",params:null})},b=()=>{switch(console.log(s.warrantyLength,s.warrantyLength===1),s.warrantyLengthUnit){case"days":return s.warrantyLength==="1"?"day":"days";case"months":return s.warrantyLength==="1"?"month":"months";case"years":return s.warrantyLength==="1"?"year":"years";default:return""}},{percentComplete:R,expirationDate:L}=I();return j.jsxs("div",{className:Ht.container,children:[j.jsx("h2",{id:Ht.productName,children:s.name}),_?j.jsx("div",{id:Ht.previewImgWrapper,children:j.jsx("img",{id:Ht.previewImg,src:_.url,width:100,height:100})}):j.jsx("div",{id:Ht.previewPlaceholder,children:j.jsx(Ew,{fontSize:"large"})}),j.jsxs("div",{id:Ht.progressContainer,children:[j.jsxs("p",{children:["Warranty ",R===0?"expired":"expires"," ",L]}),j.jsx("progress",{value:R,id:Ht.progress})]}),j.jsx("div",{className:Ht.tags,children:s.tags.map(B=>j.jsx("span",{className:Ht.tag,children:B},B))}),j.jsxs("div",{className:Ht.content,children:[j.jsxs("div",{className:Ht.field,children:[j.jsx("p",{className:Ht.fieldLabel,children:"Purchase Date"}),j.jsx("p",{className:Ht.fieldValue,children:s.purchaseDate})]}),j.jsxs("div",{className:Ht.field,children:[j.jsx("p",{className:Ht.fieldLabel,children:"Warranty Length"}),j.jsxs("p",{className:Ht.fieldValue,children:[s.warrantyLength," ",b()]})]}),j.jsxs("div",{className:Ht.field,children:[j.jsx("p",{className:Ht.fieldLabel,children:"Notes"}),j.jsx("p",{className:Ht.fieldValue,children:s.notes||j.jsx(ex,{})})]}),((q=s==null?void 0:s.extraFields)==null?void 0:q.length)>0&&s.extraFields.map(B=>j.jsxs("div",{className:Ht.field,children:[j.jsx("p",{className:Ht.fieldLabel,children:B.label}),j.jsx("p",{className:Ht.fieldValue,children:B.value})]},B.id)),j.jsxs("div",{className:Ht.files,children:[j.jsx("p",{className:Ht.fieldLabel,children:"Files"}),j.jsx("div",{className:Ht.filesContainer,children:p.length>0?p.map(B=>j.jsxs("div",{className:Ht.file,children:[j.jsx("a",{href:B.url,target:"_blank",rel:"noopener noreferrer",className:Ht.fileLink,children:B.name},B.name),j.jsx("button",{children:j.jsx(h0,{})})]},B.name)):j.jsx(ex,{})})]})]}),j.jsxs("div",{className:Ht.controls,children:[j.jsxs("button",{onClick:()=>f({component:"EDIT_PRODUCT",params:{availableTags:t,product:s}}),id:Ht.editButton,children:[j.jsx(X8,{}),"Edit"]}),j.jsxs("button",{onClick:x,id:Ht.deleteButton,children:[j.jsx(h0,{}),"Delete"]})]})]})},Oie=()=>{console.log("rendering drawer");const t=oi(a=>a.drawerOpen),e=oi(a=>a.drawerContent),n=oi(a=>a.setDrawerOpen),r=oi(a=>a.setDrawerContent);M.useEffect(()=>{console.log("drawerOpen",t),console.log("drawerContent",e)},[t,e]);const s={ADD_PRODUCT:cV,EDIT_PRODUCT:fV,PRODUCT_DETAILS:kie}[(e==null?void 0:e.component)||""];return j.jsx(LM,{children:t&&j.jsxs(j.Fragment,{children:[j.jsxs(D0.div,{initial:{x:"80%"},animate:{x:0},exit:{x:"80%"},transition:{type:"spring",stiffness:200,damping:30},className:v_.drawer,children:[j.jsx("div",{className:v_.drawerHeader,children:j.jsx("button",{onClick:()=>{n(!1),r({component:"",params:null})},className:v_.closeButton,children:j.jsx(l2,{fontSize:"large"})})}),!!s&&j.jsx(s,{...e==null?void 0:e.params})]}),j.jsx(D0.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>{n(!1),r({component:"",params:null})},className:v_.backdrop})]})})};function Die(){const{auth:t}=M.useContext(rl),e=qi(r=>r.user),n=qi(r=>r.setUser);return C3(t,r=>{n(r)}),j.jsxs(j.Fragment,{children:[!e&&j.jsx(u7,{}),!!e&&j.jsxs(j.Fragment,{children:[j.jsx(G8,{}),j.jsx(WZ,{})]}),j.jsx(uie,{}),j.jsx(Oie,{})]})}W4.createRoot(document.getElementById("root")).render(j.jsx(M.StrictMode,{children:j.jsx(Az,{children:j.jsx(Die,{})})}));
